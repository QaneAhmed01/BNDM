(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{9435:function(e,s,t){Promise.resolve().then(t.bind(t,4229))},4229:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var n=t(3827),a=t(4090),r=t(7907),i=t(8371);function c(){let e=(0,r.useParams)(),[s,t]=(0,a.useState)(null);if((0,a.useEffect)(()=>{fetch("/api/poll/".concat(e.id)).then(e=>e.json()).then(e=>t(e))},[e.id]),!s)return(0,n.jsx)("div",{className:"p-10 text-center",children:"Loading results..."});let c=s.candidates.reduce((e,s)=>e+s.voteCount,0);return(0,n.jsx)("main",{className:"min-h-screen p-6 md:p-10",children:(0,n.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,n.jsxs)("header",{className:"text-center space-y-2",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-preg-ink",children:s.title}),(0,n.jsxs)("p",{className:"text-preg-ink/60",children:["Live Results \xb7 ",c," votes total"]})]}),(0,n.jsx)("div",{className:"space-y-4",children:s.candidates.map((e,s)=>{let t=0===c?0:Math.round(e.voteCount/c*100);return(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm font-medium text-preg-ink",children:[(0,n.jsxs)("span",{children:[s+1,". ",e.name]}),(0,n.jsxs)("span",{children:[t,"% (",e.voteCount,")"]})]}),(0,n.jsx)("div",{className:"h-3 w-full rounded-full bg-white/50 overflow-hidden",children:(0,n.jsx)(i.E.div,{initial:{width:0},animate:{width:"".concat(t,"%")},className:"h-full bg-gradient-to-r from-preg-pink to-preg-mint"})})]},e.id)})}),(0,n.jsxs)("div",{className:"rounded-2xl bg-white/60 p-6 text-center border border-preg-peach/30",children:[(0,n.jsx)("p",{className:"text-sm text-preg-ink/60 mb-2",children:"Share this link to get more votes:"}),(0,n.jsxs)("code",{className:"block rounded bg-white p-2 text-xs text-preg-ink/80 select-all",children:[window.location.origin,"/poll/",s.id]})]})]})})}},7907:function(e,s,t){"use strict";var n=t(5313);t.o(n,"useParams")&&t.d(s,{useParams:function(){return n.useParams}}),t.o(n,"useRouter")&&t.d(s,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(s,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[371,971,69,744],function(){return e(e.s=9435)}),_N_E=e.O()}]);