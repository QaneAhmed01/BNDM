(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[742],{9807:function(e,t,n){Promise.resolve().then(n.bind(n,3916))},3916:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(3827),s=n(4090),a=n(7907),i=n(6194);function o(){let e=(0,a.useRouter)(),[t,n]=(0,s.useState)(!1);async function o(t){n(!0);try{let n=await fetch("/api/live/host",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({names:t})});if(n.ok){let t=await n.json();e.push("/live/host/".concat(t.code))}else alert("Failed to create room")}catch(e){console.error(e),alert("Error creating room")}finally{n(!1)}}return(0,r.jsx)("main",{className:"min-h-screen p-6 md:p-10 flex flex-col items-center justify-center",children:(0,r.jsxs)("div",{className:"max-w-4xl w-full space-y-8",children:[(0,r.jsxs)("header",{className:"text-center space-y-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-preg-ink",children:"Host a Live Tournament"}),(0,r.jsx)("p",{className:"text-preg-ink/60",children:"Enter names below. Your phone will be the controller. This screen is the main display."})]}),(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-md rounded-3xl p-6 shadow-soft border border-preg-peach/50",children:(0,r.jsx)(i.M,{onStart:o})})]})})}},6194:function(e,t,n){"use strict";n.d(t,{M:function(){return l}});var r=n(3827),s=n(4090),a=n(8745),i=n(8371);let o=["Luna","Mika","Isla","Nilo","Ari","Sana","Oliver","Emma","Noah","Ava","Liam","Sophia","Elijah","Charlotte","James","Amelia"];function l(e){let{onStart:t}=e,[n,l]=(0,s.useState)([]),[h,x]=(0,s.useState)(""),[m,f]=(0,s.useState)(null),g=n.length>=16,j=(0,s.useMemo)(()=>o.filter(e=>!n.some(t=>t.toLowerCase()===e.toLowerCase())),[n]);function v(e){let t=e.trim();if(!(!t||n.some(e=>e.toLowerCase()===t.toLowerCase()))){if(n.length>=16){f("You can add up to ".concat(16," names."));return}l(e=>[...e,t]),x(""),f(null)}}return(0,r.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,r.jsxs)("div",{className:"rounded-3xl border border-preg-peach/70 bg-preg-peach/30 p-3 flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute left-3 top-2.5 text-preg-ink/30",children:(0,r.jsx)(c,{})}),(0,r.jsx)("input",{value:h,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),v(h))},placeholder:"Type a nameâ€¦",className:"w-full bg-transparent pl-8 text-[16px] text-preg-ink placeholder:text-preg-ink/30 focus:outline-none disabled:opacity-50",disabled:g})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>v(h),disabled:g||0===h.trim().length,className:"touch-target inline-flex items-center justify-center gap-1 rounded-2xl px-5 py-2 text-sm font-semibold shadow-soft ".concat(g||0===h.trim().length?"bg-white/60 text-preg-ink/40 cursor-not-allowed":"bg-white/90 text-preg-ink hover:brightness-105"),children:[(0,r.jsx)(u,{}),"Add"]})]}),g&&(0,r.jsx)("p",{className:"text-[10px] text-preg-rose/70 text-right -mt-2",children:"Limit reached \xb7 remove a name to add another."}),(0,r.jsx)("div",{className:"min-h-[60px]",children:(0,r.jsx)(a.M,{initial:!1,children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[n.map(e=>(0,r.jsxs)(i.E.button,{layout:!0,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:()=>{l(t=>t.filter(t=>t!==e)),f(null)},className:"group inline-flex items-center gap-2 rounded-full border border-preg-peach/60 bg-white/90 px-4 py-2 text-sm text-preg-ink shadow-sm hover:border-preg-rose touch-target",children:[(0,r.jsx)("span",{className:"text-preg-ink/50",children:(0,r.jsx)(d,{})}),(0,r.jsx)("span",{children:e}),(0,r.jsx)("span",{className:"text-preg-ink/30 group-hover:text-preg-rose p-1",children:"\xd7"})]},e)),0===n.length&&(0,r.jsx)("span",{className:"text-[11px] text-preg-ink/40",children:"Drop names here to build the bracket."})]})})}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-[11px] text-preg-ink/50",children:[j.map(e=>(0,r.jsxs)("button",{type:"button",onClick:()=>v(e),className:"inline-flex items-center gap-1 rounded-full border border-preg-ink/10 bg-white/80 px-3 py-1 shadow-sm hover:border-preg-rose/60 transition-colors",children:[(0,r.jsx)(p,{}),e]},e)),0===j.length&&(0,r.jsx)("span",{className:"text-[11px] text-preg-ink/30 italic",children:"All preset names added"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-1 text-[11px]",children:[(0,r.jsxs)("span",{className:"text-preg-ink/50",children:[n.length,"/",16," names added"]}),(0,r.jsxs)("span",{className:"text-preg-ink/40",children:["Minimum ",2," \xb7 Maximum ",16]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-1",children:[(0,r.jsxs)("span",{className:"text-[11px] text-preg-ink/40",children:[n.length," ",1===n.length?"name":"names"]}),(0,r.jsx)("button",{type:"button",onClick:function(){if(n.length<2){f("Please add at least ".concat(2," names to start."));return}if(n.length>16){f("Please enter no more than ".concat(16," names."));return}f(null),t(n)},className:"inline-flex items-center rounded-full bg-gradient-to-r from-preg-pink via-preg-peach to-preg-mint px-5 py-2 text-[11px] font-semibold text-preg-ink shadow-soft hover:brightness-105",children:"Launch bracket"})]}),m&&(0,r.jsx)("p",{className:"text-[11px] text-preg-rose mt-1",children:m})]})}function c(){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.6",children:[(0,r.jsx)("path",{d:"M4 20 17.5 6.5a4.95 4.95 0 0 0-7-7L4 6v14Z",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M2 22h6",strokeLinecap:"round"})]})}function u(){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:(0,r.jsx)("path",{d:"M12 5v14M5 12h14",strokeLinecap:"round"})})}function d(){return(0,r.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-3 w-3",fill:"currentColor","aria-hidden":"true",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10",opacity:"0.2"}),(0,r.jsx)("path",{d:"M12 7v5l3 2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function p(){return(0,r.jsx)("svg",{viewBox:"0 0 24 24",className:"h-3 w-3",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:(0,r.jsx)("path",{d:"M13 2 3 14h7l-1 8 10-12h-7l1-8Z",strokeLinecap:"round",strokeLinejoin:"round"})})}},7907:function(e,t,n){"use strict";var r=n(5313);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},8745:function(e,t,n){"use strict";n.d(t,{M:function(){return g}});var r=n(3827),s=n(4090),a=n(3856),i=n(2435),o=n(4561),l=n(3449);class c extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:n}=e,a=(0,s.useId)(),i=(0,s.useRef)(null),o=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:u}=(0,s.useContext)(l._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:s}=o.current;if(n||!i.current||!e||!t)return;i.current.dataset.motionPopId=a;let l=document.createElement("style");return u&&(l.nonce=u),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),(0,r.jsx)(c,{isPresent:n,childRef:i,sizeRef:o,children:s.cloneElement(t,{ref:i})})}let d=e=>{let{children:t,initial:n,isPresent:a,onExitComplete:l,custom:c,presenceAffectsLayout:d,mode:h}=e,x=(0,i.h)(p),m=(0,s.useId)(),f=(0,s.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;l&&l()},[x,l]),g=(0,s.useMemo)(()=>({id:m,initial:n,isPresent:a,custom:c,onExitComplete:f,register:e=>(x.set(e,!1),()=>x.delete(e))}),d?[Math.random(),f]:[a,f]);return(0,s.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[a]),s.useEffect(()=>{a||x.size||!l||l()},[a]),"popLayout"===h&&(t=(0,r.jsx)(u,{isPresent:a,children:t})),(0,r.jsx)(o.O.Provider,{value:g,children:t})};function p(){return new Map}var h=n(3177);let x=e=>e.key||"";function m(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var f=n(5526);let g=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:u="sync",propagate:p=!1}=e,[g,j]=(0,h.oO)(p),v=(0,s.useMemo)(()=>m(t),[t]),k=p&&!g?[]:v.map(x),b=(0,s.useRef)(!0),w=(0,s.useRef)(v),N=(0,i.h)(()=>new Map),[y,C]=(0,s.useState)(v),[L,M]=(0,s.useState)(v);(0,f.L)(()=>{b.current=!1,w.current=v;for(let e=0;e<L.length;e++){let t=x(L[e]);k.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[L,k.length,k.join("-")]);let E=[];if(v!==y){let e=[...v];for(let t=0;t<L.length;t++){let n=L[t],r=x(n);k.includes(r)||(e.splice(t,0,n),E.push(n))}"wait"===u&&E.length&&(e=E),M(m(e)),C(v);return}let{forceRender:P}=(0,s.useContext)(a.p);return(0,r.jsx)(r.Fragment,{children:L.map(e=>{let t=x(e),s=(!p||!!g)&&(v===L||k.includes(t));return(0,r.jsx)(d,{isPresent:s,initial:(!b.current||!!o)&&void 0,custom:s?void 0:n,presenceAffectsLayout:c,mode:u,onExitComplete:s?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==P||P(),M(w.current),p&&(null==j||j()),l&&l())},children:e},t)})})}}},function(e){e.O(0,[371,971,69,744],function(){return e(e.s=9807)}),_N_E=e.O()}]);