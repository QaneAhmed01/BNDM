"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[293],{7907:function(e,t,r){var s=r(5313);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},5591:function(e,t,r){r.d(t,{qL:function(){return J.qL},Xg:function(){return L}});var s=r(2133),n=r(7284),i=r(9548);function a(e,t){if("undefined"==typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(e,JSON.stringify(t)))}async function o(e,t){let r;if("undefined"==typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{r=await Convex.asyncSyscall(e,JSON.stringify(t))}catch(e){if(void 0!==e.data){let t=new n.P(e.message);throw t.data=(0,i.sq)(e.data),t}throw Error(e.message)}return JSON.parse(r)}var u=r(6613),l=Object.defineProperty,c=(e,t,r)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t,r)=>c(e,"symbol"!=typeof t?t+"":t,r);class h{constructor(){d(this,"_isExpression"),d(this,"_value")}}var m=Object.defineProperty,p=(e,t,r)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t,r)=>p(e,"symbol"!=typeof t?t+"":t,r);class f extends h{serialize(){return this.inner}constructor(e){super(),y(this,"inner"),this.inner=e}}function v(e){return e instanceof f?e.serialize():{$literal:(0,i.h_)(e)}}let b={eq:(e,t)=>new f({$eq:[v(e),v(t)]}),neq:(e,t)=>new f({$neq:[v(e),v(t)]}),lt:(e,t)=>new f({$lt:[v(e),v(t)]}),lte:(e,t)=>new f({$lte:[v(e),v(t)]}),gt:(e,t)=>new f({$gt:[v(e),v(t)]}),gte:(e,t)=>new f({$gte:[v(e),v(t)]}),add:(e,t)=>new f({$add:[v(e),v(t)]}),sub:(e,t)=>new f({$sub:[v(e),v(t)]}),mul:(e,t)=>new f({$mul:[v(e),v(t)]}),div:(e,t)=>new f({$div:[v(e),v(t)]}),mod:(e,t)=>new f({$mod:[v(e),v(t)]}),neg:e=>new f({$neg:v(e)}),and(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new f({$and:t.map(v)})},or(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new f({$or:t.map(v)})},not:e=>new f({$not:v(e)}),field:e=>new f({$field:e})};var g=Object.defineProperty,x=(e,t,r)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t,r)=>x(e,"symbol"!=typeof t?t+"":t,r);class I{constructor(){w(this,"_isIndexRange")}}var q=Object.defineProperty,E=(e,t,r)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,C=(e,t,r)=>E(e,"symbol"!=typeof t?t+"":t,r);class P extends I{static new(){return new P([])}consume(){if(this.isConsumed)throw Error("IndexRangeBuilder has already been used! Chain your method calls like `q => q.eq(...).eq(...)`. See https://docs.convex.dev/using/indexes");this.isConsumed=!0}eq(e,t){return this.consume(),new P(this.rangeExpressions.concat({type:"Eq",fieldPath:e,value:(0,i.h_)(t)}))}gt(e,t){return this.consume(),new P(this.rangeExpressions.concat({type:"Gt",fieldPath:e,value:(0,i.h_)(t)}))}gte(e,t){return this.consume(),new P(this.rangeExpressions.concat({type:"Gte",fieldPath:e,value:(0,i.h_)(t)}))}lt(e,t){return this.consume(),new P(this.rangeExpressions.concat({type:"Lt",fieldPath:e,value:(0,i.h_)(t)}))}lte(e,t){return this.consume(),new P(this.rangeExpressions.concat({type:"Lte",fieldPath:e,value:(0,i.h_)(t)}))}export(){return this.consume(),this.rangeExpressions}constructor(e){super(),C(this,"rangeExpressions"),C(this,"isConsumed"),this.rangeExpressions=e,this.isConsumed=!1}}var S=Object.defineProperty,k=(e,t,r)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t,r)=>k(e,"symbol"!=typeof t?t+"":t,r);class j{constructor(){F(this,"_isSearchFilter")}}function _(e,t,r,s){if(void 0===e)throw TypeError("Must provide arg ".concat(t," `").concat(s,"` to `").concat(r,"`"))}var N=Object.defineProperty,$=(e,t,r)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D=(e,t,r)=>$(e,"symbol"!=typeof t?t+"":t,r);class O extends j{static new(){return new O([])}consume(){if(this.isConsumed)throw Error("SearchFilterBuilder has already been used! Chain your method calls like `q => q.search(...).eq(...)`.");this.isConsumed=!0}search(e,t){return _(e,1,"search","fieldName"),_(t,2,"search","query"),this.consume(),new O(this.filters.concat({type:"Search",fieldPath:e,value:t}))}eq(e,t){return _(e,1,"eq","fieldName"),2!=arguments.length&&_(t,2,"search","value"),this.consume(),new O(this.filters.concat({type:"Eq",fieldPath:e,value:(0,i.h_)(t)}))}export(){return this.consume(),this.filters}constructor(e){super(),D(this,"filters"),D(this,"isConsumed"),this.filters=e,this.isConsumed=!1}}var Q=r(7659),R=Object.defineProperty,T=(e,t,r)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,V=(e,t,r)=>T(e,"symbol"!=typeof t?t+"":t,r);function A(e){throw Error("consumed"===e?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}class M{takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let e=this.state.query;return this.state={type:"closed"},e}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&A(this.state.type);let{queryId:e}=a("1.0/queryStream",{query:this.state.query,version:Q.i});return this.state={type:"executing",queryId:e},e}closeQuery(){"executing"===this.state.type&&a("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(e){_(e,1,"order","order");let t=this.takeQuery();if("Search"===t.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==t.source.order)throw Error("Queries may only specify order at most once");return t.source.order=e,new M(t)}filter(e){_(e,1,"filter","predicate");let t=this.takeQuery();if(t.operators.length>=256)throw Error("Can't construct query with more than ".concat(256," operators"));return t.operators.push({filter:v(e(b))}),new M(t)}limit(e){_(e,1,"limit","n");let t=this.takeQuery();return t.operators.push({limit:e}),new M(t)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&A(this.state.type);let e="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:t,done:r}=await o("1.0/queryStreamNext",{queryId:e});return r&&this.closeQuery(),{value:(0,s.sq)(t),done:r}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(e){var t,r;if(_(e,1,"paginate","options"),"number"!=typeof(null==e?void 0:e.numItems)||e.numItems<0)throw Error("`options.numItems` must be a positive number. Received `".concat(null==e?void 0:e.numItems,"`."));let n=this.takeQuery(),i=e.numItems,a=e.cursor,u=null!==(t=null==e?void 0:e.endCursor)&&void 0!==t?t:null,l=null!==(r=e.maximumRowsRead)&&void 0!==r?r:null,{page:c,isDone:d,continueCursor:h,splitCursor:m,pageStatus:p}=await o("1.0/queryPage",{query:n,cursor:a,endCursor:u,pageSize:i,maximumRowsRead:l,maximumBytesRead:e.maximumBytesRead,version:Q.i});return{page:c.map(e=>(0,s.sq)(e)),isDone:d,continueCursor:h,splitCursor:m,pageStatus:p}}async collect(){let e=[];for await(let t of this)e.push(t);return e}async take(e){return _(e,1,"take","n"),!function(e,t,r,s){if(!Number.isInteger(e)||e<0)throw TypeError("Arg ".concat(1," `").concat("n","` to `").concat(r,"` must be a non-negative integer"))}(e,0,"take",0),this.limit(e).collect()}async first(){let e=await this.take(1);return 0===e.length?null:e[0]}async unique(){let e=await this.take(2);if(0===e.length)return null;if(2===e.length)throw Error("unique() query returned more than one result from table ".concat(this.tableNameForErrorMessages,":\n [").concat(e[0]._id,", ").concat(e[1]._id,", ...]"));return e[0]}constructor(e){V(this,"state"),V(this,"tableNameForErrorMessages"),this.state={type:"preparing",query:e},"FullTableScan"===e.source.type?this.tableNameForErrorMessages=e.source.tableName:this.tableNameForErrorMessages=e.source.indexName.split(".")[0]}}var B=r(7605);B.v.object({numItems:B.v.number(),cursor:B.v.union(B.v.string(),B.v.null()),endCursor:B.v.optional(B.v.union(B.v.string(),B.v.null())),id:B.v.optional(B.v.number()),maximumRowsRead:B.v.optional(B.v.number()),maximumBytesRead:B.v.optional(B.v.number())});var J=r(7658);let L=()=>(function e(t,r){return new Proxy({},{get(s,n){if("string"==typeof n)return e(t,[...r,n]);if(n===u.Hf){if(r.length<1){let e=[t,...r].join(".");throw Error("API path is expected to be of the form `".concat(t,".childComponent.functionName`. Found: `").concat(e,"`"))}return"_reference/childComponent/"+r.join("/")}}})})("components",[]);var z=Object.defineProperty,G=(e,t,r)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,H=(e,t,r)=>G(e,"symbol"!=typeof t?t+"":t,r);class X{" indexes"(){return this.indexes}index(e,t){return Array.isArray(t)?this.indexes.push({indexDescriptor:e,fields:t}):t.staged?this.stagedDbIndexes.push({indexDescriptor:e,fields:t.fields}):this.indexes.push({indexDescriptor:e,fields:t.fields}),this}searchIndex(e,t){return t.staged?this.stagedSearchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}):this.searchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}),this}vectorIndex(e,t){return t.staged?this.stagedVectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}):this.vectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}),this}self(){return this}export(){let e=this.validator.json;if("object"!=typeof e)throw Error("Invalid validator: please make sure that the parameter of `defineTable` is valid (see https://docs.convex.dev/database/schemas)");return{indexes:this.indexes,stagedDbIndexes:this.stagedDbIndexes,searchIndexes:this.searchIndexes,stagedSearchIndexes:this.stagedSearchIndexes,vectorIndexes:this.vectorIndexes,stagedVectorIndexes:this.stagedVectorIndexes,documentType:e}}constructor(e){H(this,"indexes"),H(this,"stagedDbIndexes"),H(this,"searchIndexes"),H(this,"stagedSearchIndexes"),H(this,"vectorIndexes"),H(this,"stagedVectorIndexes"),H(this,"validator"),this.indexes=[],this.stagedDbIndexes=[],this.searchIndexes=[],this.stagedSearchIndexes=[],this.vectorIndexes=[],this.stagedVectorIndexes=[],this.validator=e}}function K(e){return new X((0,B.h)(e)?e:B.v.object(e))}class U{export(){return JSON.stringify({tables:Object.entries(this.tables).map(e=>{let[t,r]=e,{indexes:s,stagedDbIndexes:n,searchIndexes:i,stagedSearchIndexes:a,vectorIndexes:o,stagedVectorIndexes:u,documentType:l}=r.export();return{tableName:t,indexes:s,stagedDbIndexes:n,searchIndexes:i,stagedSearchIndexes:a,vectorIndexes:o,stagedVectorIndexes:u,documentType:l}}),schemaValidation:this.schemaValidation})}constructor(e,t){H(this,"tables"),H(this,"strictTableNameTypes"),H(this,"schemaValidation"),this.tables=e,this.schemaValidation=(null==t?void 0:t.schemaValidation)===void 0||t.schemaValidation}}new U({_scheduled_functions:K({name:B.v.string(),args:B.v.array(B.v.any()),scheduledTime:B.v.float64(),completedTime:B.v.optional(B.v.float64()),state:B.v.union(B.v.object({kind:B.v.literal("pending")}),B.v.object({kind:B.v.literal("inProgress")}),B.v.object({kind:B.v.literal("success")}),B.v.object({kind:B.v.literal("failed"),error:B.v.string()}),B.v.object({kind:B.v.literal("canceled")}))}),_storage:K({sha256:B.v.string(),size:B.v.float64(),contentType:B.v.optional(B.v.string())})},void 0)}}]);