"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[600],{8600:function(e,t,n){n.d(t,{a:function(){return p}});var i=n(3827),s=n(4090),a=n(8745),r=n(8371);function l(e){var t,n,s;let{match:a,commentary:r,loadingCommentary:l,hideWinner:d=!1}=e,p=Math.max(1,a.votesA+a.votesB),x=Math.round(a.votesA/p*100),h=Math.round(a.votesB/p*100),m=(a.votesA>=a.votesB?a.nameA:null!==(t=a.nameB)&&void 0!==t?t:a.nameA)===a.nameA,u=!d;return(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 text-[10px] uppercase tracking-wide text-preg-ink/60",children:[(0,i.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:(0,i.jsx)("path",{d:"M5 7h14M5 12h14M5 17h14",strokeLinecap:"round"})}),a.roundLabel]}),(0,i.jsxs)("span",{className:"text-[10px] text-preg-ink/40",children:[p," votes"]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,i.jsx)(o,{name:a.nameA,percent:x,isWinner:u&&m,align:"left"}),(0,i.jsx)(o,{name:null!==(n=a.nameB)&&void 0!==n?n:"Bye",percent:h,isWinner:u&&!m,align:"right"})]}),(0,i.jsxs)("div",{className:"mt-1 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,i.jsx)(c,{label:"".concat(x,"% preferred ").concat(a.nameA),percent:x,align:"left"}),(0,i.jsx)(c,{label:"".concat(h,"% preferred ").concat(null!==(s=a.nameB)&&void 0!==s?s:"Bye"),percent:h,align:"right"})]}),(0,i.jsxs)("div",{className:"mt-2 rounded-2xl bg-white/85 border border-preg-peach/80 px-3 py-3 text-[11px] text-preg-ink/85 shadow-soft",children:[l&&(0,i.jsx)("p",{className:"text-preg-ink/50",children:"Preglife announcer is thinking…"}),!l&&r&&(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsx)("p",{className:"text-[11px] font-semibold text-preg-ink",children:r.headline}),(0,i.jsx)("p",{className:"text-[11px] text-preg-ink/80",children:r.summary}),(0,i.jsx)("p",{className:"text-[11px] text-preg-ink/60",children:r.statsLine})]}),!l&&!r&&(0,i.jsx)("p",{className:"text-preg-ink/60",children:"Both names are clearly loved. One simply had a few more votes this time."})]})]})}function o(e){let{name:t,percent:n,isWinner:s,align:a}=e;return(0,i.jsxs)(r.E.div,{layout:!0,initial:{opacity:0,y:12,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.25},className:"relative rounded-3xl px-4 py-3 md:px-5 md:py-4 border flex flex-col gap-1 bg-white/90 "+(s?"border-preg-pink shadow-soft":"border-preg-peach/70 shadow-sm"),children:[(0,i.jsx)("div",{className:"absolute -top-3 right-3 h-6 w-6 rounded-full bg-gradient-to-br from-preg-pink to-preg-mint text-[10px] font-semibold text-white flex items-center justify-center shadow-soft",children:t.charAt(0)}),s&&(0,i.jsx)("div",{className:"absolute -top-2 left-3 rounded-full bg-preg-pink/80 px-2 py-0.5 text-[9px] font-semibold text-preg-ink uppercase tracking-wide",children:"Winner"}),(0,i.jsx)("p",{className:"text-[11px] text-preg-ink/55",children:"left"===a?"Name A":"Name B"}),(0,i.jsx)("p",{className:"text-base md:text-lg font-semibold text-preg-ink",children:t}),(0,i.jsxs)("p",{className:"text-[11px] text-preg-ink/70",children:[n,"% of this round"]})]})}function c(e){let{label:t,percent:n,align:s}=e;return(0,i.jsxs)("div",{className:"flex flex-col gap-1 text-[11px]",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-preg-ink/70",children:t}),(0,i.jsxs)("span",{className:"text-preg-ink/50",children:[n,"%"]})]}),(0,i.jsx)("div",{className:"h-2.5 rounded-full bg-white/80 overflow-hidden",children:(0,i.jsx)(r.E.div,{className:"h-full bg-gradient-to-r from-preg-pink via-preg-peach to-preg-mint",initial:{width:0},animate:{width:"".concat(n,"%")},transition:{duration:1.2,ease:"easeOut"},style:{transformOrigin:"left"===s?"left center":"right center"}})})]})}function d(e){let{active:t}=e,[n,l]=(0,s.useState)([]);return((0,s.useEffect)(()=>{if(t){let e=["#FF6B9D","#FFA07A","#A8E6CF","#FFD4B8","#B3E5D1","#FFC0CB"];l(Array.from({length:50},(t,n)=>({id:n,left:"".concat(100*Math.random(),"%"),delay:.5*Math.random(),color:e[Math.floor(Math.random()*e.length)],rotation:360*Math.random()})))}},[t]),t)?(0,i.jsx)("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:(0,i.jsx)(a.M,{children:n.map(e=>(0,i.jsx)(r.E.div,{initial:{y:-20,opacity:0,rotate:0},animate:{y:window.innerHeight+20,opacity:[0,1,1,0],rotate:e.rotation+720},transition:{duration:3+2*Math.random(),delay:e.delay,ease:"easeIn"},className:"absolute w-3 h-3 rounded-sm",style:{left:e.left,backgroundColor:e.color}},e.id))})}):null}function p(e){var t;let{matches:n,rounds:o,winnerName:c,onRestart:p}=e,[h,k]=(0,s.useState)(0),[w,C]=(0,s.useState)(0),[M,F]=(0,s.useState)(!1),[E,B]=(0,s.useState)(null),[L,A]=(0,s.useState)(!1),[W,S]=(0,s.useState)(!1),[z,Y]=(0,s.useState)(!1),[H,P]=(0,s.useState)(!1),[R,T]=(0,s.useState)(3),[D,I]=(0,s.useState)(!1),[O,_]=(0,s.useState)(1),G=(0,s.useRef)(null),V=null!==(t=n[h])&&void 0!==t?t:null;(0,s.useEffect)(()=>{k(0),C(0),Y(!1),S(!1),n.length>0&&F(!0)},[n]),(0,s.useEffect)(()=>{V&&e();async function e(){A(!0);try{let e=await fetch("/api/commentary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roundLabel:V.roundLabel,nameA:V.nameA,nameB:V.nameB,votesA:V.votesA,votesB:V.votesB})}),t=await e.json();t.error?B(null):B({headline:t.headline,summary:t.summary,statsLine:t.statsLine})}catch(e){B(null)}finally{A(!1)}}},[null==V?void 0:V.id]),(0,s.useEffect)(()=>{if(!M||!V)return;let e=setTimeout(()=>{k(e=>{let t=e+1<n.length?e+1:e;return t!==e&&C(e=>Math.max(e,t)),t})},4200/O);return()=>clearTimeout(e)},[M,V,n.length,O]);let U=h===n.length-1&&c;return(0,s.useEffect)(()=>{if(z){S(!0),G.current&&(clearTimeout(G.current),G.current=null);return}if(U&&!z){S(!1),P(!1),T(3),I(!1),G.current&&clearTimeout(G.current);let e=setTimeout(()=>{P(!0)},2e3);return G.current=e,()=>{clearTimeout(e)}}S(!1),G.current&&(clearTimeout(G.current),G.current=null)},[U,z]),(0,s.useEffect)(()=>{if(!H||R<=0)return;let e=setTimeout(()=>{1===R&&(I(!0),setTimeout(()=>{S(!0),Y(!0)},1e3)),T(R-1)},1e3);return()=>clearTimeout(e)},[H,R]),(0,s.useEffect)(()=>{W&&n.length>0&&C(n.length-1)},[W,n.length]),(0,i.jsxs)("div",{className:"flex flex-col h-[calc(100vh-100px)] max-h-[900px]",children:[(0,i.jsxs)("header",{className:"flex-none flex flex-wrap items-center justify-between gap-3 mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-preg-ink/50 text-[11px] uppercase tracking-wide",children:[(0,i.jsx)("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-2xl bg-white shadow-soft",children:"2"}),(0,i.jsx)("span",{children:"Playback"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(m,{label:"Restart",onClick:p,children:(0,i.jsx)(f,{})}),(0,i.jsxs)("button",{type:"button",onClick:()=>{_(e=>.5===e?1:1===e?2:.5)},className:"h-10 px-3 rounded-full flex items-center justify-center gap-1 bg-white/80 text-preg-ink shadow-sm hover:brightness-105 text-xs font-semibold","aria-label":"Playback speed",children:[(0,i.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("path",{d:"M12 6v6l4 2",strokeLinecap:"round"})]}),O,"x"]}),(0,i.jsx)(m,{label:M?"Pause":"Play",onClick:function(){V&&F(e=>!e)},disabled:!V,highlight:!0,children:M?(0,i.jsx)(j,{}):(0,i.jsx)(g,{})})]})]}),(0,i.jsxs)("div",{className:"flex-1 min-h-0 relative flex flex-col",children:[n.length>0&&o.length>0&&(0,i.jsx)("div",{className:"flex-1 min-h-0 overflow-hidden relative rounded-3xl bg-white/50 border border-preg-peach/30 mb-4",children:(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:(0,i.jsx)(N,{matches:n,rounds:o,activeMatchId:null==V?void 0:V.id,revealedIndex:w,finalRevealReady:W,championName:c,onSelect:e=>{let t=n.findIndex(t=>t.id===e);t>=0&&(F(!1),C(e=>Math.max(e,t)),k(t))}})})}),(0,i.jsxs)("div",{className:"flex-none rounded-3xl bg-preg-peach/40 border border-preg-peach/80 px-4 py-3 md:px-6 md:py-4 flex flex-col gap-3",children:[(0,i.jsx)(a.M,{mode:"wait",children:V?(0,i.jsx)(r.E.div,{initial:{opacity:0,y:12,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.97},transition:{duration:.35,ease:"easeOut"},children:(0,i.jsx)(l,{match:V,commentary:E,loadingCommentary:L,hideWinner:!!(U&&!W)})},V.id):(0,i.jsx)(r.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-[12px] text-preg-ink/70",children:"Add some names and start the tournament to see the rounds play out."},"empty")}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 text-[11px]",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(m,{label:"Previous",onClick:function(){F(!1),k(e=>e-1>=0?e-1:e)},disabled:h<=0,children:(0,i.jsx)(v,{})}),(0,i.jsx)(m,{label:"Next",onClick:function(){F(!1),k(e=>{let t=e+1<n.length?e+1:e;return C(e=>Math.max(e,t)),t})},disabled:h>=n.length-1,children:(0,i.jsx)(y,{})})]}),(0,i.jsx)("div",{className:"flex-1 flex items-center gap-2 sm:justify-end",children:(0,i.jsx)("div",{className:"h-1.5 w-32 rounded-full bg-white/80 overflow-hidden",children:(0,i.jsx)(r.E.div,{className:"h-full bg-gradient-to-r from-preg-pink via-preg-peach to-preg-mint",initial:!1,animate:{width:n.length>0?"".concat((h+1)/n.length*100,"%"):"0%"},transition:{type:"spring",stiffness:120,damping:18}})})})]})]})]}),U&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{active:W}),!W&&(0,i.jsx)(u,{}),H&&R>0&&(0,i.jsx)(r.E.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"fixed inset-0 z-40 flex items-center justify-center pointer-events-none",children:(0,i.jsx)(r.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:2,opacity:0},transition:{duration:.5},className:"text-9xl font-black text-preg-pink drop-shadow-2xl",children:R},R)}),(H||W)&&!W&&(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-8 bg-black/20 backdrop-blur-sm",children:(0,i.jsx)(x,{finalists:function(e){if(0===e.length)return["",""];let t=e[e.length-1];if(0===t.matches.length)return["",""];let n=t.matches[0];return[n.nameA,n.nameB||""]}(o),winner:c,flipped:D})}),W?(0,i.jsxs)(r.E.div,{initial:{opacity:0,scale:.94},animate:{opacity:1,scale:1},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-2xl rounded-3xl bg-white/95 border border-preg-peach/80 px-4 py-5 md:px-8 md:py-6 overflow-hidden shadow-[0_25px_60px_rgba(249,183,194,0.5)]",children:[(0,i.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[(0,i.jsx)("div",{className:"confetti-piece absolute left-5 top-0 h-3 w-1 rounded bg-preg-pink"}),(0,i.jsx)("div",{className:"confetti-piece absolute left-10 top-0 h-3 w-1 rounded bg-preg-mint"}),(0,i.jsx)("div",{className:"confetti-piece absolute left-1/2 top-0 h-3 w-1 rounded bg-preg-rose"}),(0,i.jsx)("div",{className:"confetti-piece absolute right-10 top-0 h-3 w-1 rounded bg-preg-mint"}),(0,i.jsx)("div",{className:"confetti-piece absolute right-1/3 top-0 h-3 w-1 rounded bg-preg-pink"})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 relative",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-preg-ink/60 mb-2",children:"Final reveal"}),(0,i.jsxs)("div",{className:"flex items-center gap-2 text-preg-ink",children:[(0,i.jsx)(b,{}),(0,i.jsxs)("h3",{className:"text-xl font-semibold tracking-tight",children:[c," takes the crown"]})]}),(0,i.jsxs)("p",{className:"text-[12px] text-preg-ink/70 mt-2 max-w-md",children:["Your friends and family gave ",c," the most love in this little tournament. Keep the moment and choose whatever still feels right for you."]})]}),(0,i.jsxs)("div",{className:"rounded-3xl bg-gradient-to-br from-preg-pink/90 via-preg-peach to-preg-mint px-5 py-4 text-[12px] text-preg-ink font-semibold shadow-soft",children:[(0,i.jsx)("p",{className:"text-[10px] uppercase tracking-[0.2em] text-preg-ink/70",children:"Share the moment"}),(0,i.jsx)("p",{className:"mt-2",children:"Capture the bracket, send it to your circle, and let them celebrate the favourite."})]})]})]}):(0,i.jsxs)(r.E.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 rounded-3xl border border-preg-peach/70 bg-white/90 px-4 py-5 md:px-8 md:py-6 text-center shadow-soft",initial:{opacity:0},animate:{opacity:1},children:[(0,i.jsx)("p",{className:"text-[11px] uppercase tracking-[0.3em] text-preg-ink/60",children:"Final reveal incoming"}),(0,i.jsx)("p",{className:"mt-3 text-lg font-semibold text-preg-ink",children:"Hold for the crowd favourite…"}),(0,i.jsx)("p",{className:"text-[12px] text-preg-ink/60 mt-2",children:"Spotlight is buzzing around the bracket."})]})]})]})}function x(e){let{finalists:t,winner:n,flipped:s}=e,[a,r]=t;return(0,i.jsxs)("div",{className:"relative z-30 grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[(0,i.jsx)(h,{name:a,isWinner:a===n,flipped:s,delay:0}),(0,i.jsx)(h,{name:r,isWinner:r===n,flipped:s,delay:.1})]})}function h(e){let{name:t,isWinner:n,flipped:s,delay:a}=e;return(0,i.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a},className:"perspective-1000",children:(0,i.jsxs)(r.E.div,{animate:{rotateY:s?180:0},transition:{duration:.8,ease:"easeInOut"},className:"relative preserve-3d w-full h-64",children:[(0,i.jsx)("div",{className:"absolute inset-0 backface-hidden rounded-3xl bg-gradient-to-br from-preg-pink via-preg-peach to-preg-mint p-1 shadow-xl",children:(0,i.jsx)("div",{className:"h-full w-full rounded-3xl bg-white flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center space-y-4",children:[(0,i.jsx)("div",{className:"text-6xl",children:"❓"}),(0,i.jsx)("p",{className:"text-sm font-bold text-preg-ink/40 uppercase tracking-widest",children:"Finalist"})]})})}),(0,i.jsx)("div",{className:"absolute inset-0 backface-hidden rotateY-180 rounded-3xl p-1 shadow-2xl transition-all duration-500 ".concat(n?"bg-gradient-to-br from-preg-pink via-preg-peach to-preg-mint scale-105":"bg-gray-300 opacity-60"),children:(0,i.jsxs)("div",{className:"h-full w-full rounded-3xl bg-white flex flex-col items-center justify-center gap-4 relative overflow-hidden",children:[n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-preg-pink/20 via-preg-peach/20 to-preg-mint/20 animate-pulse"}),(0,i.jsx)(r.E.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.5},className:"absolute -top-8",children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",className:"h-16 w-16 text-preg-pink",fill:"currentColor",children:(0,i.jsx)("path",{d:"M12 2l3 7 7-3-3 7 3 7-7-3-3 7-3-7-7 3 3-7-3-7 7 3z"})})})]}),(0,i.jsxs)("div",{className:"relative z-10 text-center",children:[(0,i.jsx)("p",{className:"text-4xl md:text-5xl font-black ".concat(n?"text-preg-ink":"text-gray-400"),children:t}),n&&(0,i.jsx)(r.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-3 text-sm font-bold text-preg-pink uppercase tracking-widest",children:"Winner!"})]})]})})]})})}function m(e){let{children:t,onClick:n,disabled:s,highlight:a,label:r}=e;return(0,i.jsx)("button",{type:"button",onClick:n,disabled:s,"aria-label":r,className:"touch-target h-10 w-10 rounded-full flex items-center justify-center ".concat(a?"bg-gradient-to-r from-preg-pink via-preg-peach to-preg-mint text-preg-ink shadow-soft":"bg-white/80 text-preg-ink shadow-sm"," ").concat(s?"opacity-40":"hover:brightness-105"),children:t})}function u(){return(0,i.jsx)(a.M,{children:(0,i.jsxs)(r.E.div,{className:"pointer-events-none fixed inset-0 z-20",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-slate-900/35 backdrop-blur-[1px]"}),(0,i.jsx)("div",{className:"spotlight-circle"})]},"spotlight")})}let f=()=>(0,i.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[(0,i.jsx)("path",{d:"M4 4v6h6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M20 20v-6h-6",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M5.7 14.5A7 7 0 0 0 12 19a7 7 0 0 0 6.3-4.5",strokeLinecap:"round"}),(0,i.jsx)("path",{d:"M18.3 9.5A7 7 0 0 0 12 5a7 7 0 0 0-6.3 4.5",strokeLinecap:"round"})]}),g=()=>(0,i.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:(0,i.jsx)("path",{d:"M9 5v14l10-7z"})}),j=()=>(0,i.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:(0,i.jsx)("path",{d:"M7 5h4v14H7zM13 5h4v14h-4z"})}),v=()=>(0,i.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:(0,i.jsx)("path",{d:"M15 6L9 12l6 6",strokeLinecap:"round",strokeLinejoin:"round"})}),y=()=>(0,i.jsx)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:(0,i.jsx)("path",{d:"M9 6l6 6-6 6",strokeLinecap:"round",strokeLinejoin:"round"})}),b=()=>(0,i.jsxs)("svg",{viewBox:"0 0 32 20",className:"h-6 w-6 text-preg-rose",children:[(0,i.jsx)("path",{d:"M4 16.5h24L28 6l-6 4-6-8-6 8-6-4z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M6 16.5v1.5h20v-1.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]});function k(e){let{x:t,y:n,boxWidth:s,boxHeight:a,gap:r,topName:l,bottomName:o,active:c,revealed:d,onClick:p}=e;return o?(0,i.jsxs)("g",{onClick:d?p:void 0,className:d?"cursor-pointer hover:opacity-90 transition-opacity":"pointer-events-none opacity-40",children:[(0,i.jsx)("rect",{x:t-6,y:n-6,width:s+12,height:2*a+r+12,rx:16,fill:c?"#FFF5F7":"transparent",className:"transition-colors duration-300"}),(0,i.jsx)("path",{d:"M".concat(t+s/2," ").concat(n+a," V").concat(n+a+r),stroke:c?"#FF6B9D":"#f4b8c4",strokeWidth:c?2:1.2,className:"transition-all duration-500 ".concat(d?"opacity-100":"opacity-0")}),(0,i.jsx)(w,{x:t,y:n,width:s,height:a,label:l,active:c,revealed:d,onClick:p}),(0,i.jsx)(w,{x:t,y:n+a+r,width:s,height:a,label:o,active:c,revealed:d,onClick:p})]}):(0,i.jsx)("g",{onClick:d?p:void 0,className:d?"cursor-pointer hover:opacity-90 transition-opacity":"pointer-events-none opacity-40",children:(0,i.jsx)(w,{x:t,y:n+r/2,width:s,height:a,label:l,active:c,revealed:d,onClick:p})})}function w(e){let{x:t,y:n,width:s,height:a,label:r,active:l,revealed:o,isChampion:c=!1,onClick:d}=e;return(0,i.jsxs)("g",{onClick:o?d:void 0,className:o?"cursor-pointer hover:opacity-90 transition-opacity":"pointer-events-none opacity-40",children:[c&&o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("rect",{x:t-4,y:n-4,width:s+8,height:a+8,rx:16,fill:"none",stroke:"url(#championGlow)",strokeWidth:3,opacity:.8,children:[(0,i.jsx)("animate",{attributeName:"opacity",values:"0.5;1;0.5",dur:"1.5s",repeatCount:"indefinite"}),(0,i.jsx)("animate",{attributeName:"stroke-width",values:"2;4;2",dur:"1.5s",repeatCount:"indefinite"})]}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"championGlow",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,i.jsx)("stop",{offset:"0%",stopColor:"#FF6B9D"}),(0,i.jsx)("stop",{offset:"50%",stopColor:"#FFA07A"}),(0,i.jsx)("stop",{offset:"100%",stopColor:"#A8E6CF"})]})})]}),(0,i.jsx)("rect",{x:t,y:n,width:s,height:a,rx:12,fill:c&&o?"url(#championBg)":l?"#FDD5DA":o?"#ffffff":"#fdf0f3",stroke:c&&o?"#FF6B9D":l?"#FF6B9D":"#f4b8c4",strokeWidth:c&&o?2.5:l?2:1.2,children:o&&(0,i.jsx)("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.6s",fill:"freeze"})}),c&&o&&(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"championBg",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,i.jsx)("stop",{offset:"0%",stopColor:"#FFF5F7"}),(0,i.jsx)("stop",{offset:"50%",stopColor:"#FFFFFF"}),(0,i.jsx)("stop",{offset:"100%",stopColor:"#F0FFF4"})]})}),c&&o&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"crownGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,i.jsx)("stop",{offset:"0%",stopColor:"#fcd34d"}),(0,i.jsx)("stop",{offset:"50%",stopColor:"#f973a9"}),(0,i.jsx)("stop",{offset:"100%",stopColor:"#fcd34d"})]})}),(0,i.jsx)("path",{d:"M".concat(t+s/2-26," ").concat(n-6," L").concat(t+s/2-18," ").concat(n-18," L").concat(t+s/2-6," ").concat(n-8," L").concat(t+s/2," ").concat(n-20," L").concat(t+s/2+6," ").concat(n-8," L").concat(t+s/2+18," ").concat(n-18," L").concat(t+s/2+26," ").concat(n-6," Z"),fill:"url(#crownGradient)",stroke:"#fbb6ce",strokeWidth:1}),(0,i.jsx)("path",{d:"M".concat(t+s/2-28," ").concat(n-6," H").concat(t+s/2+28),stroke:"#fcd34d",strokeWidth:1.5,strokeLinecap:"round"}),(0,i.jsx)("circle",{cx:t+s/2-18,cy:n-18,r:2.5,fill:"#fcd34d"}),(0,i.jsx)("circle",{cx:t+s/2+18,cy:n-18,r:2.5,fill:"#fcd34d"}),(0,i.jsx)("circle",{cx:t+s/2,cy:n-22,r:3,fill:"#fde68a"}),(0,i.jsx)("circle",{cx:t+s/2-30,cy:n-12,r:2,fill:"#fbb6ce"}),(0,i.jsx)("circle",{cx:t+s/2+30,cy:n-12,r:2,fill:"#fbb6ce"})]}),(0,i.jsx)("text",{x:t+12,y:n+a/2+4,fontSize:a<32?"10":"11",fill:"#111827",className:"transition-all duration-500 ".concat(o?"opacity-100 translate-y-0":"opacity-0 translate-y-1"),children:r})]})}function N(e){var t,n,a,r;let{matches:l,rounds:o,activeMatchId:c,revealedIndex:d,finalRevealReady:p,championName:x,onSelect:h}=e,m=(null===(t=o[0])||void 0===t?void 0:t.matches.length)>4,u=m?28:34,f=m?16:26,g=(0,s.useMemo)(()=>new Map(l.map((e,t)=>[e.id,t])),[l]),j=e=>{let t=g.get(e.id);return"number"==typeof t&&t<=d},v=[];o.forEach((e,t)=>{if(0===t){let t=e.matches.map((e,t)=>{let n=30+t*(2*u+f+f);return{match:e,x:40,topY:n,bottomY:n+u+f,center:n+u+f/2}});v.push(t)}else{let n=v[t-1],i=e.matches.map((e,i)=>{var s,a;let r=n[2*i],l=n[2*i+1],o=r&&l?(r.center+l.center)/2:null!==(a=null!==(s=null==r?void 0:r.center)&&void 0!==s?s:null==l?void 0:l.center)&&void 0!==a?a:30,c=o-(u+f/2);return{match:e,x:40+190*t,topY:c,bottomY:c+u+f,center:o}});v.push(i)}});let y=(null!==(a=v[v.length-1])&&void 0!==a?a:[])[0],b=(null!==(r=null==y?void 0:y.center)&&void 0!==r?r:30)-u/2,N=p&&x?x:"Awaiting reveal",C=p&&!!x,M=40+190*(v.length+1)+150+60,F=null===(n=v[0])||void 0===n?void 0:n[v[0].length-1],E=(null==F?void 0:F.bottomY)!=null?F.bottomY+u+80:420;return(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",children:(0,i.jsxs)("svg",{viewBox:"0 0 ".concat(M," ").concat(E),className:"max-w-full max-h-full w-auto h-auto text-preg-ink",preserveAspectRatio:"xMidYMid meet",children:[v.map((e,t)=>e.map((e,n)=>(0,i.jsx)(k,{x:e.x,y:e.topY,boxWidth:150,boxHeight:u,gap:f,topName:e.match.nameA,bottomName:e.match.nameB,active:e.match.id===c,revealed:j(e.match),onClick:()=>h(e.match.id)},"".concat(t,"-").concat(n)))),v.map((e,t)=>{if(t===v.length-1)return null;let n=v[t+1];return e.map((e,s)=>{let a=n[Math.floor(s/2)];if(!a)return null;let r=e.x+150,l=r+18,o=l+24,c=a.x,d=e.topY+u/2,p=e.topY+u+f+u/2,x=s%2==0?a.topY+u/2:a.topY+u+f+u/2,h=j(a.match);return(0,i.jsxs)("g",{stroke:"#f4b8c4",strokeWidth:1.4,fill:"none",className:h?"":"opacity-40",children:[(0,i.jsx)("path",{d:"M".concat(r," ").concat(d," H ").concat(l)}),(0,i.jsx)("path",{d:"M".concat(r," ").concat(p," H ").concat(l)}),(0,i.jsx)("path",{d:"M".concat(l," ").concat(d," V ").concat(p)}),(0,i.jsx)("path",{d:"M".concat(l," ").concat((d+p)/2," H ").concat(o," V ").concat(x," H ").concat(c)})]},"conn-".concat(t,"-").concat(s))})}),y&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(w,{x:y.x+190,y:b,width:150,height:u,label:N,active:!1,revealed:p&&C,isChampion:!0,onClick:()=>{}}),(0,i.jsxs)("g",{stroke:"#f4b8c4",strokeWidth:1.4,fill:"none",strokeLinecap:"round",children:[(0,i.jsx)("path",{d:"M".concat(y.x+150," ").concat(y.topY+u/2," H ").concat(y.x+150+16," V ").concat(y.center)}),(0,i.jsx)("path",{d:"M".concat(y.x+150," ").concat(y.bottomY+u/2," H ").concat(y.x+150+16," V ").concat(y.center)}),(0,i.jsx)("path",{d:"M".concat(y.x+150+16," ").concat(y.center," H ").concat(y.x+150+32," V ").concat(b+u/2," H ").concat(y.x+190)})]})]})]})})}},8745:function(e,t,n){n.d(t,{M:function(){return g}});var i=n(3827),s=n(4090),a=n(3856),r=n(2435),l=n(4561),o=n(3449);class c extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:n}=e,a=(0,s.useId)(),r=(0,s.useRef)(null),l=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:d}=(0,s.useContext)(o._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:i,left:s}=l.current;if(n||!r.current||!e||!t)return;r.current.dataset.motionPopId=a;let o=document.createElement("style");return d&&(o.nonce=d),document.head.appendChild(o),o.sheet&&o.sheet.insertRule('\n          [data-motion-pop-id="'.concat(a,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(o)}},[n]),(0,i.jsx)(c,{isPresent:n,childRef:r,sizeRef:l,children:s.cloneElement(t,{ref:r})})}let p=e=>{let{children:t,initial:n,isPresent:a,onExitComplete:o,custom:c,presenceAffectsLayout:p,mode:h}=e,m=(0,r.h)(x),u=(0,s.useId)(),f=(0,s.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;o&&o()},[m,o]),g=(0,s.useMemo)(()=>({id:u,initial:n,isPresent:a,custom:c,onExitComplete:f,register:e=>(m.set(e,!1),()=>m.delete(e))}),p?[Math.random(),f]:[a,f]);return(0,s.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[a]),s.useEffect(()=>{a||m.size||!o||o()},[a]),"popLayout"===h&&(t=(0,i.jsx)(d,{isPresent:a,children:t})),(0,i.jsx)(l.O.Provider,{value:g,children:t})};function x(){return new Map}var h=n(3177);let m=e=>e.key||"";function u(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var f=n(5526);let g=e=>{let{children:t,custom:n,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:x=!1}=e,[g,j]=(0,h.oO)(x),v=(0,s.useMemo)(()=>u(t),[t]),y=x&&!g?[]:v.map(m),b=(0,s.useRef)(!0),k=(0,s.useRef)(v),w=(0,r.h)(()=>new Map),[N,C]=(0,s.useState)(v),[M,F]=(0,s.useState)(v);(0,f.L)(()=>{b.current=!1,k.current=v;for(let e=0;e<M.length;e++){let t=m(M[e]);y.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[M,y.length,y.join("-")]);let E=[];if(v!==N){let e=[...v];for(let t=0;t<M.length;t++){let n=M[t],i=m(n);y.includes(i)||(e.splice(t,0,n),E.push(n))}"wait"===d&&E.length&&(e=E),F(u(e)),C(v);return}let{forceRender:B}=(0,s.useContext)(a.p);return(0,i.jsx)(i.Fragment,{children:M.map(e=>{let t=m(e),s=(!x||!!g)&&(v===M||y.includes(t));return(0,i.jsx)(p,{isPresent:s,initial:(!b.current||!!l)&&void 0,custom:s?void 0:n,presenceAffectsLayout:c,mode:d,onExitComplete:s?void 0:()=>{if(!w.has(t))return;w.set(t,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(null==B||B(),F(k.current),x&&(null==j||j()),o&&o())},children:e},t)})})}}}]);