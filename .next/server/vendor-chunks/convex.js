"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/convex";
exports.ids = ["vendor-chunks/convex"];
exports.modules = {

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/http_client.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/http_client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexHttpClient: () => (/* binding */ ConvexHttpClient),\n/* harmony export */   STATUS_CODE_BAD_REQUEST: () => (/* binding */ STATUS_CODE_BAD_REQUEST),\n/* harmony export */   STATUS_CODE_OK: () => (/* binding */ STATUS_CODE_OK),\n/* harmony export */   STATUS_CODE_UDF_FAILED: () => (/* binding */ STATUS_CODE_UDF_FAILED),\n/* harmony export */   setFetch: () => (/* binding */ setFetch)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nconst STATUS_CODE_OK = 200;\nconst STATUS_CODE_BAD_REQUEST = 400;\nconst STATUS_CODE_UDF_FAILED = 560;\nlet specifiedFetch = void 0;\nfunction setFetch(f) {\n    specifiedFetch = f;\n}\nclass ConvexHttpClient {\n    /**\n   * Create a new {@link ConvexHttpClient}.\n   *\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param options - An object of options.\n   * - `skipConvexDeploymentUrlCheck` - Skip validating that the Convex deployment URL looks like\n   * `https://happy-animal-123.convex.cloud` or localhost. This can be useful if running a self-hosted\n   * Convex backend that uses a different URL.\n   * - `logger` - A logger or a boolean. If not provided, logs to the console.\n   * You can construct your own logger to customize logging to log elsewhere\n   * or not log at all, or use `false` as a shorthand for a no-op logger.\n   * A logger is an object with 4 methods: log(), warn(), error(), and logVerbose().\n   * These methods can receive multiple arguments of any types, like console.log().\n   * - `auth` - A JWT containing identity claims accessible in Convex functions.\n   * This identity may expire so it may be necessary to call `setAuth()` later,\n   * but for short-lived clients it's convenient to specify this value here.\n   */ constructor(address, options){\n        __publicField(this, \"address\");\n        __publicField(this, \"auth\");\n        __publicField(this, \"adminAuth\");\n        __publicField(this, \"encodedTsPromise\");\n        __publicField(this, \"debug\");\n        __publicField(this, \"fetchOptions\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"mutationQueue\", []);\n        __publicField(this, \"isProcessingQueue\", false);\n        if (typeof options === \"boolean\") {\n            throw new Error(\"skipConvexDeploymentUrlCheck as the second argument is no longer supported. Please pass an options object, `{ skipConvexDeploymentUrlCheck: true }`.\");\n        }\n        const opts = options ?? {};\n        if (opts.skipConvexDeploymentUrlCheck !== true) {\n            (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.validateDeploymentUrl)(address);\n        }\n        this.logger = options?.logger === false ? (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.instantiateNoopLogger)({\n            verbose: false\n        }) : options?.logger !== true && options?.logger ? options.logger : (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.instantiateDefaultLogger)({\n            verbose: false\n        });\n        this.address = address;\n        this.debug = true;\n        this.auth = void 0;\n        this.adminAuth = void 0;\n        if (options?.auth) {\n            this.setAuth(options.auth);\n        }\n    }\n    /**\n   * Obtain the {@link ConvexHttpClient}'s URL to its backend.\n   * @deprecated Use url, which returns the url without /api at the end.\n   *\n   * @returns The URL to the Convex backend, including the client's API version.\n   */ backendUrl() {\n        return `${this.address}/api`;\n    }\n    /**\n   * Return the address for this client, useful for creating a new client.\n   *\n   * Not guaranteed to match the address with which this client was constructed:\n   * it may be canonicalized.\n   */ get url() {\n        return this.address;\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   *\n   * Should be called whenever the token changes (i.e. due to expiration and refresh).\n   *\n   * @param value - JWT-encoded OpenID Connect identity token.\n   */ setAuth(value) {\n        this.clearAuth();\n        this.auth = value;\n    }\n    /**\n   * Set admin auth token to allow calling internal queries, mutations, and actions\n   * and acting as an identity.\n   *\n   * @internal\n   */ setAdminAuth(token, actingAsIdentity) {\n        this.clearAuth();\n        if (actingAsIdentity !== void 0) {\n            const bytes = new TextEncoder().encode(JSON.stringify(actingAsIdentity));\n            const actingAsIdentityEncoded = btoa(String.fromCodePoint(...bytes));\n            this.adminAuth = `${token}:${actingAsIdentityEncoded}`;\n        } else {\n            this.adminAuth = token;\n        }\n    }\n    /**\n   * Clear the current authentication token if set.\n   */ clearAuth() {\n        this.auth = void 0;\n        this.adminAuth = void 0;\n    }\n    /**\n   * Sets whether the result log lines should be printed on the console or not.\n   *\n   * @internal\n   */ setDebug(debug) {\n        this.debug = debug;\n    }\n    /**\n   * Used to customize the fetch behavior in some runtimes.\n   *\n   * @internal\n   */ setFetchOptions(fetchOptions) {\n        this.fetchOptions = fetchOptions;\n    }\n    /**\n   * This API is experimental: it may change or disappear.\n   *\n   * Execute a Convex query function at the same timestamp as every other\n   * consistent query execution run by this HTTP client.\n   *\n   * This doesn't make sense for long-lived ConvexHttpClients as Convex\n   * backends can read a limited amount into the past: beyond 30 seconds\n   * in the past may not be available.\n   *\n   * Create a new client to use a consistent time.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   *\n   * @deprecated This API is experimental: it may change or disappear.\n   */ async consistentQuery(query, ...args) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const timestampPromise = this.getTimestamp();\n        return await this.queryInner(query, queryArgs, {\n            timestampPromise\n        });\n    }\n    async getTimestamp() {\n        if (this.encodedTsPromise) {\n            return this.encodedTsPromise;\n        }\n        return this.encodedTsPromise = this.getTimestampInner();\n    }\n    async getTimestampInner() {\n        const localFetch = specifiedFetch || fetch;\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        const response = await localFetch(`${this.address}/api/query_ts`, {\n            ...this.fetchOptions,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok) {\n            throw new Error(await response.text());\n        }\n        const { ts } = await response.json();\n        return ts;\n    }\n    /**\n   * Execute a Convex query function.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   */ async query(query, ...args) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        return await this.queryInner(query, queryArgs, {});\n    }\n    async queryInner(query, queryArgs, options) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        const args = [\n            (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(queryArgs)\n        ];\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const timestamp = options.timestampPromise ? await options.timestampPromise : void 0;\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args,\n            ...timestamp ? {\n                ts: timestamp\n            } : {}\n        });\n        const endpoint = timestamp ? `${this.address}/api/query_at_ts` : `${this.address}/api/query`;\n        const response = await localFetch(endpoint, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"query\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n    async mutationInner(mutation, mutationArgs) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(mutation);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(mutationArgs)\n            ]\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/api/mutation`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"mutation\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n    async processMutationQueue() {\n        if (this.isProcessingQueue) {\n            return;\n        }\n        this.isProcessingQueue = true;\n        while(this.mutationQueue.length > 0){\n            const { mutation, args, resolve, reject } = this.mutationQueue.shift();\n            try {\n                const result = await this.mutationInner(mutation, args);\n                resolve(result);\n            } catch (error) {\n                reject(error);\n            }\n        }\n        this.isProcessingQueue = false;\n    }\n    enqueueMutation(mutation, args) {\n        return new Promise((resolve, reject)=>{\n            this.mutationQueue.push({\n                mutation,\n                args,\n                resolve,\n                reject\n            });\n            void this.processMutationQueue();\n        });\n    }\n    /**\n   * Execute a Convex mutation function. Mutations are queued by default.\n   *\n   * @param name - The name of the mutation.\n   * @param args - The arguments object for the mutation. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - An optional object containing\n   * @returns A promise of the mutation's result.\n   */ async mutation(mutation, ...args) {\n        const [fnArgs, options] = args;\n        const mutationArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(fnArgs);\n        const queued = !options?.skipQueue;\n        if (queued) {\n            return await this.enqueueMutation(mutation, mutationArgs);\n        } else {\n            return await this.mutationInner(mutation, mutationArgs);\n        }\n    }\n    /**\n   * Execute a Convex action function. Actions are not queued.\n   *\n   * @param name - The name of the action.\n   * @param args - The arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ async action(action, ...args) {\n        const actionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(action);\n        const body = JSON.stringify({\n            path: name,\n            format: \"convex_encoded_json\",\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(actionArgs)\n            ]\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/api/action`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"action\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n    /**\n   * Execute a Convex function of an unknown type. These function calls are not queued.\n   *\n   * @param name - The name of the function.\n   * @param args - The arguments object for the function. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the function's result.\n   *\n   * @internal\n   */ async function(anyFunction, componentPath, ...args) {\n        const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = typeof anyFunction === \"string\" ? anyFunction : (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(anyFunction);\n        const body = JSON.stringify({\n            componentPath,\n            path: name,\n            format: \"convex_encoded_json\",\n            args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.convexToJson)(functionArgs)\n        });\n        const headers = {\n            \"Content-Type\": \"application/json\",\n            \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_2__.version}`\n        };\n        if (this.adminAuth) {\n            headers[\"Authorization\"] = `Convex ${this.adminAuth}`;\n        } else if (this.auth) {\n            headers[\"Authorization\"] = `Bearer ${this.auth}`;\n        }\n        const localFetch = specifiedFetch || fetch;\n        const response = await localFetch(`${this.address}/api/function`, {\n            ...this.fetchOptions,\n            body,\n            method: \"POST\",\n            headers\n        });\n        if (!response.ok && response.status !== STATUS_CODE_UDF_FAILED) {\n            throw new Error(await response.text());\n        }\n        const respJSON = await response.json();\n        if (this.debug) {\n            for (const line of respJSON.logLines ?? []){\n                (0,_logging_js__WEBPACK_IMPORTED_MODULE_4__.logForFunction)(this.logger, \"info\", \"any\", name, line);\n            }\n        }\n        switch(respJSON.status){\n            case \"success\":\n                return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(respJSON.value);\n            case \"error\":\n                if (respJSON.errorData !== void 0) {\n                    throw forwardErrorData(respJSON.errorData, new _values_index_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError(respJSON.errorMessage));\n                }\n                throw new Error(respJSON.errorMessage);\n            default:\n                throw new Error(`Invalid response: ${JSON.stringify(respJSON)}`);\n        }\n    }\n}\nfunction forwardErrorData(errorData, error) {\n    error.data = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(errorData);\n    return error;\n} //# sourceMappingURL=http_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvaHR0cF9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFhO0FBQ2IsSUFBSUEsWUFBWUMsT0FBT0MsY0FBYztBQUNyQyxJQUFJQyxrQkFBa0IsQ0FBQ0MsS0FBS0MsS0FBS0MsUUFBVUQsT0FBT0QsTUFBTUosVUFBVUksS0FBS0MsS0FBSztRQUFFRSxZQUFZO1FBQU1DLGNBQWM7UUFBTUMsVUFBVTtRQUFNSDtJQUFNLEtBQUtGLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHQztBQUMxSixJQUFJSSxnQkFBZ0IsQ0FBQ04sS0FBS0MsS0FBS0MsUUFBVUgsZ0JBQWdCQyxLQUFLLE9BQU9DLFFBQVEsV0FBV0EsTUFBTSxLQUFLQSxLQUFLQztBQUc5RTtBQUM0QztBQUNoQztBQUtWO0FBS047QUFDZixNQUFNZSxpQkFBaUIsSUFBSTtBQUMzQixNQUFNQywwQkFBMEIsSUFBSTtBQUNwQyxNQUFNQyx5QkFBeUIsSUFBSTtBQUMxQyxJQUFJQyxpQkFBaUIsS0FBSztBQUNuQixTQUFTQyxTQUFTQyxDQUFDO0lBQ3hCRixpQkFBaUJFO0FBQ25CO0FBQ08sTUFBTUM7SUFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpQkMsR0FDREMsWUFBWUMsT0FBTyxFQUFFQyxPQUFPLENBQUU7UUFDNUJwQixjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUUsaUJBQWlCLEVBQUU7UUFDdkNBLGNBQWMsSUFBSSxFQUFFLHFCQUFxQjtRQUN6QyxJQUFJLE9BQU9vQixZQUFZLFdBQVc7WUFDaEMsTUFBTSxJQUFJQyxNQUNSO1FBRUo7UUFDQSxNQUFNQyxPQUFP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QUs7Z0JBQ0gsT0FBT2pFLDhEQUFZQSxDQUFDa0UsU0FBUzdFLEtBQUs7WUFDcEMsS0FBSztnQkFDSCxJQUFJNkUsU0FBU0csU0FBUyxLQUFLLEtBQUssR0FBRztvQkFDakMsTUFBTUMsaUJBQ0pKLFNBQVNHLFNBQVMsRUFDbEIsSUFBSXZFLHlEQUFXQSxDQUFDb0UsU0FBU0ssWUFBWTtnQkFFekM7Z0JBQ0EsTUFBTSxJQUFJekQsTUFBTW9ELFNBQVNLLFlBQVk7WUFDdkM7Z0JBQ0UsTUFBTSxJQUFJekQsTUFBTSxDQUFDLGtCQUFrQixFQUFFa0IsS0FBS0MsU0FBUyxDQUFDaUMsVUFBVSxDQUFDO1FBQ25FO0lBQ0Y7QUFDRjtBQUNBLFNBQVNJLGlCQUFpQkQsU0FBUyxFQUFFYyxLQUFLO0lBQ3hDQSxNQUFNYSxJQUFJLEdBQUdoRyw4REFBWUEsQ0FBQ3FFO0lBQzFCLE9BQU9jO0FBQ1QsRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9odHRwX2NsaWVudC5qcz82MTZiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7XG4gIGdldEZ1bmN0aW9uTmFtZVxufSBmcm9tIFwiLi4vc2VydmVyL2FwaS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzLCB2YWxpZGF0ZURlcGxveW1lbnRVcmwgfSBmcm9tIFwiLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBDb252ZXhFcnJvcixcbiAgY29udmV4VG9Kc29uLFxuICBqc29uVG9Db252ZXhcbn0gZnJvbSBcIi4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgaW5zdGFudGlhdGVEZWZhdWx0TG9nZ2VyLFxuICBpbnN0YW50aWF0ZU5vb3BMb2dnZXIsXG4gIGxvZ0ZvckZ1bmN0aW9uXG59IGZyb20gXCIuL2xvZ2dpbmcuanNcIjtcbmV4cG9ydCBjb25zdCBTVEFUVVNfQ09ERV9PSyA9IDIwMDtcbmV4cG9ydCBjb25zdCBTVEFUVVNfQ09ERV9CQURfUkVRVUVTVCA9IDQwMDtcbmV4cG9ydCBjb25zdCBTVEFUVVNfQ09ERV9VREZfRkFJTEVEID0gNTYwO1xubGV0IHNwZWNpZmllZEZldGNoID0gdm9pZCAwO1xuZXhwb3J0IGZ1bmN0aW9uIHNldEZldGNoKGYpIHtcbiAgc3BlY2lmaWVkRmV0Y2ggPSBmO1xufVxuZXhwb3J0IGNsYXNzIENvbnZleEh0dHBDbGllbnQge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHtAbGluayBDb252ZXhIdHRwQ2xpZW50fS5cbiAgICpcbiAgICogQHBhcmFtIGFkZHJlc3MgLSBUaGUgdXJsIG9mIHlvdXIgQ29udmV4IGRlcGxveW1lbnQsIG9mdGVuIHByb3ZpZGVkXG4gICAqIGJ5IGFuIGVudmlyb25tZW50IHZhcmlhYmxlLiBFLmcuIGBodHRwczovL3NtYWxsLW1vdXNlLTEyMy5jb252ZXguY2xvdWRgLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9iamVjdCBvZiBvcHRpb25zLlxuICAgKiAtIGBza2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrYCAtIFNraXAgdmFsaWRhdGluZyB0aGF0IHRoZSBDb252ZXggZGVwbG95bWVudCBVUkwgbG9va3MgbGlrZVxuICAgKiBgaHR0cHM6Ly9oYXBweS1hbmltYWwtMTIzLmNvbnZleC5jbG91ZGAgb3IgbG9jYWxob3N0LiBUaGlzIGNhbiBiZSB1c2VmdWwgaWYgcnVubmluZyBhIHNlbGYtaG9zdGVkXG4gICAqIENvbnZleCBiYWNrZW5kIHRoYXQgdXNlcyBhIGRpZmZlcmVudCBVUkwuXG4gICAqIC0gYGxvZ2dlcmAgLSBBIGxvZ2dlciBvciBhIGJvb2xlYW4uIElmIG5vdCBwcm92aWRlZCwgbG9ncyB0byB0aGUgY29uc29sZS5cbiAgICogWW91IGNhbiBjb25zdHJ1Y3QgeW91ciBvd24gbG9nZ2VyIHRvIGN1c3RvbWl6ZSBsb2dnaW5nIHRvIGxvZyBlbHNld2hlcmVcbiAgICogb3Igbm90IGxvZyBhdCBhbGwsIG9yIHVzZSBgZmFsc2VgIGFzIGEgc2hvcnRoYW5kIGZvciBhIG5vLW9wIGxvZ2dlci5cbiAgICogQSBsb2dnZXIgaXMgYW4gb2JqZWN0IHdpdGggNCBtZXRob2RzOiBsb2coKSwgd2FybigpLCBlcnJvcigpLCBhbmQgbG9nVmVyYm9zZSgpLlxuICAgKiBUaGVzZSBtZXRob2RzIGNhbiByZWNlaXZlIG11bHRpcGxlIGFyZ3VtZW50cyBvZiBhbnkgdHlwZXMsIGxpa2UgY29uc29sZS5sb2coKS5cbiAgICogLSBgYXV0aGAgLSBBIEpXVCBjb250YWluaW5nIGlkZW50aXR5IGNsYWltcyBhY2Nlc3NpYmxlIGluIENvbnZleCBmdW5jdGlvbnMuXG4gICAqIFRoaXMgaWRlbnRpdHkgbWF5IGV4cGlyZSBzbyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIGNhbGwgYHNldEF1dGgoKWAgbGF0ZXIsXG4gICAqIGJ1dCBmb3Igc2hvcnQtbGl2ZWQgY2xpZW50cyBpdCdzIGNvbnZlbmllbnQgdG8gc3BlY2lmeSB0aGlzIHZhbHVlIGhlcmUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhZGRyZXNzLCBvcHRpb25zKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImFkZHJlc3NcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImF1dGhcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImFkbWluQXV0aFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZW5jb2RlZFRzUHJvbWlzZVwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZGVidWdcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImZldGNoT3B0aW9uc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibG9nZ2VyXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJtdXRhdGlvblF1ZXVlXCIsIFtdKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaXNQcm9jZXNzaW5nUXVldWVcIiwgZmFsc2UpO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJza2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gUGxlYXNlIHBhc3MgYW4gb3B0aW9ucyBvYmplY3QsIGB7IHNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2s6IHRydWUgfWAuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IG9wdHMgPSBvcHRpb25zID8/IHt9O1xuICAgIGlmIChvcHRzLnNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2sgIT09IHRydWUpIHtcbiAgICAgIHZhbGlkYXRlRGVwbG95bWVudFVybChhZGRyZXNzKTtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIgPSBvcHRpb25zPy5sb2dnZXIgPT09IGZhbHNlID8gaW5zdGFudGlhdGVOb29wTG9nZ2VyKHsgdmVyYm9zZTogZmFsc2UgfSkgOiBvcHRpb25zPy5sb2dnZXIgIT09IHRydWUgJiYgb3B0aW9ucz8ubG9nZ2VyID8gb3B0aW9ucy5sb2dnZXIgOiBpbnN0YW50aWF0ZURlZmF1bHRMb2dnZXIoeyB2ZXJib3NlOiBmYWxzZSB9KTtcbiAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMuZGVidWcgPSB0cnVlO1xuICAgIHRoaXMuYXV0aCA9IHZvaWQgMDtcbiAgICB0aGlzLmFkbWluQXV0aCA9IHZvaWQgMDtcbiAgICBpZiAob3B0aW9ucz8uYXV0aCkge1xuICAgICAgdGhpcy5zZXRBdXRoKG9wdGlvbnMuYXV0aCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPYnRhaW4gdGhlIHtAbGluayBDb252ZXhIdHRwQ2xpZW50fSdzIFVSTCB0byBpdHMgYmFja2VuZC5cbiAgICogQGRlcHJlY2F0ZWQgVXNlIHVybCwgd2hpY2ggcmV0dXJucyB0aGUgdXJsIHdpdGhvdXQgL2FwaSBhdCB0aGUgZW5kLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUgVVJMIHRvIHRoZSBDb252ZXggYmFja2VuZCwgaW5jbHVkaW5nIHRoZSBjbGllbnQncyBBUEkgdmVyc2lvbi5cbiAgICovXG4gIGJhY2tlbmRVcmwoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuYWRkcmVzc30vYXBpYDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRoZSBhZGRyZXNzIGZvciB0aGlzIGNsaWVudCwgdXNlZnVsIGZvciBjcmVhdGluZyBhIG5ldyBjbGllbnQuXG4gICAqXG4gICAqIE5vdCBndWFyYW50ZWVkIHRvIG1hdGNoIHRoZSBhZGRyZXNzIHdpdGggd2hpY2ggdGhpcyBjbGllbnQgd2FzIGNvbnN0cnVjdGVkOlxuICAgKiBpdCBtYXkgYmUgY2Fub25pY2FsaXplZC5cbiAgICovXG4gIGdldCB1cmwoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkcmVzcztcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBhdXRoZW50aWNhdGlvbiB0b2tlbiB0byBiZSB1c2VkIGZvciBzdWJzZXF1ZW50IHF1ZXJpZXMgYW5kIG11dGF0aW9ucy5cbiAgICpcbiAgICogU2hvdWxkIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgdG9rZW4gY2hhbmdlcyAoaS5lLiBkdWUgdG8gZXhwaXJhdGlvbiBhbmQgcmVmcmVzaCkuXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZSAtIEpXVC1lbmNvZGVkIE9wZW5JRCBDb25uZWN0IGlkZW50aXR5IHRva2VuLlxuICAgKi9cbiAgc2V0QXV0aCh2YWx1ZSkge1xuICAgIHRoaXMuY2xlYXJBdXRoKCk7XG4gICAgdGhpcy5hdXRoID0gdmFsdWU7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBhZG1pbiBhdXRoIHRva2VuIHRvIGFsbG93IGNhbGxpbmcgaW50ZXJuYWwgcXVlcmllcywgbXV0YXRpb25zLCBhbmQgYWN0aW9uc1xuICAgKiBhbmQgYWN0aW5nIGFzIGFuIGlkZW50aXR5LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldEFkbWluQXV0aCh0b2tlbiwgYWN0aW5nQXNJZGVudGl0eSkge1xuICAgIHRoaXMuY2xlYXJBdXRoKCk7XG4gICAgaWYgKGFjdGluZ0FzSWRlbnRpdHkgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoYWN0aW5nQXNJZGVudGl0eSkpO1xuICAgICAgY29uc3QgYWN0aW5nQXNJZGVudGl0eUVuY29kZWQgPSBidG9hKFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLmJ5dGVzKSk7XG4gICAgICB0aGlzLmFkbWluQXV0aCA9IGAke3Rva2VufToke2FjdGluZ0FzSWRlbnRpdHlFbmNvZGVkfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRtaW5BdXRoID0gdG9rZW47XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDbGVhciB0aGUgY3VycmVudCBhdXRoZW50aWNhdGlvbiB0b2tlbiBpZiBzZXQuXG4gICAqL1xuICBjbGVhckF1dGgoKSB7XG4gICAgdGhpcy5hdXRoID0gdm9pZCAwO1xuICAgIHRoaXMuYWRtaW5BdXRoID0gdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHdoZXRoZXIgdGhlIHJlc3VsdCBsb2cgbGluZXMgc2hvdWxkIGJlIHByaW50ZWQgb24gdGhlIGNvbnNvbGUgb3Igbm90LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldERlYnVnKGRlYnVnKSB7XG4gICAgdGhpcy5kZWJ1ZyA9IGRlYnVnO1xuICB9XG4gIC8qKlxuICAgKiBVc2VkIHRvIGN1c3RvbWl6ZSB0aGUgZmV0Y2ggYmVoYXZpb3IgaW4gc29tZSBydW50aW1lcy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRGZXRjaE9wdGlvbnMoZmV0Y2hPcHRpb25zKSB7XG4gICAgdGhpcy5mZXRjaE9wdGlvbnMgPSBmZXRjaE9wdGlvbnM7XG4gIH1cbiAgLyoqXG4gICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbDogaXQgbWF5IGNoYW5nZSBvciBkaXNhcHBlYXIuXG4gICAqXG4gICAqIEV4ZWN1dGUgYSBDb252ZXggcXVlcnkgZnVuY3Rpb24gYXQgdGhlIHNhbWUgdGltZXN0YW1wIGFzIGV2ZXJ5IG90aGVyXG4gICAqIGNvbnNpc3RlbnQgcXVlcnkgZXhlY3V0aW9uIHJ1biBieSB0aGlzIEhUVFAgY2xpZW50LlxuICAgKlxuICAgKiBUaGlzIGRvZXNuJ3QgbWFrZSBzZW5zZSBmb3IgbG9uZy1saXZlZCBDb252ZXhIdHRwQ2xpZW50cyBhcyBDb252ZXhcbiAgICogYmFja2VuZHMgY2FuIHJlYWQgYSBsaW1pdGVkIGFtb3VudCBpbnRvIHRoZSBwYXN0OiBiZXlvbmQgMzAgc2Vjb25kc1xuICAgKiBpbiB0aGUgcGFzdCBtYXkgbm90IGJlIGF2YWlsYWJsZS5cbiAgICpcbiAgICogQ3JlYXRlIGEgbmV3IGNsaWVudCB0byB1c2UgYSBjb25zaXN0ZW50IHRpbWUuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHF1ZXJ5LlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcXVlcnkncyByZXN1bHQuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbDogaXQgbWF5IGNoYW5nZSBvciBkaXNhcHBlYXIuXG4gICAqL1xuICBhc3luYyBjb25zaXN0ZW50UXVlcnkocXVlcnksIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBxdWVyeUFyZ3MgPSBwYXJzZUFyZ3MoYXJnc1swXSk7XG4gICAgY29uc3QgdGltZXN0YW1wUHJvbWlzZSA9IHRoaXMuZ2V0VGltZXN0YW1wKCk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucXVlcnlJbm5lcihxdWVyeSwgcXVlcnlBcmdzLCB7IHRpbWVzdGFtcFByb21pc2UgfSk7XG4gIH1cbiAgYXN5bmMgZ2V0VGltZXN0YW1wKCkge1xuICAgIGlmICh0aGlzLmVuY29kZWRUc1Byb21pc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmVuY29kZWRUc1Byb21pc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVuY29kZWRUc1Byb21pc2UgPSB0aGlzLmdldFRpbWVzdGFtcElubmVyKCk7XG4gIH1cbiAgYXN5bmMgZ2V0VGltZXN0YW1wSW5uZXIoKSB7XG4gICAgY29uc3QgbG9jYWxGZXRjaCA9IHNwZWNpZmllZEZldGNoIHx8IGZldGNoO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gXG4gICAgfTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvY2FsRmV0Y2goYCR7dGhpcy5hZGRyZXNzfS9hcGkvcXVlcnlfdHNgLCB7XG4gICAgICAuLi50aGlzLmZldGNoT3B0aW9ucyxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHsgdHMgfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gdHM7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBDb252ZXggcXVlcnkgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHF1ZXJ5LlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcXVlcnkncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBxdWVyeShxdWVyeSwgLi4uYXJncykge1xuICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHBhcnNlQXJncyhhcmdzWzBdKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5xdWVyeUlubmVyKHF1ZXJ5LCBxdWVyeUFyZ3MsIHt9KTtcbiAgfVxuICBhc3luYyBxdWVyeUlubmVyKHF1ZXJ5LCBxdWVyeUFyZ3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgICBjb25zdCBhcmdzID0gW2NvbnZleFRvSnNvbihxdWVyeUFyZ3MpXTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIkNvbnZleC1DbGllbnRcIjogYG5wbS0ke3ZlcnNpb259YFxuICAgIH07XG4gICAgaWYgKHRoaXMuYWRtaW5BdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBDb252ZXggJHt0aGlzLmFkbWluQXV0aH1gO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0aGlzLmF1dGh9YDtcbiAgICB9XG4gICAgY29uc3QgbG9jYWxGZXRjaCA9IHNwZWNpZmllZEZldGNoIHx8IGZldGNoO1xuICAgIGNvbnN0IHRpbWVzdGFtcCA9IG9wdGlvbnMudGltZXN0YW1wUHJvbWlzZSA/IGF3YWl0IG9wdGlvbnMudGltZXN0YW1wUHJvbWlzZSA6IHZvaWQgMDtcbiAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgcGF0aDogbmFtZSxcbiAgICAgIGZvcm1hdDogXCJjb252ZXhfZW5jb2RlZF9qc29uXCIsXG4gICAgICBhcmdzLFxuICAgICAgLi4udGltZXN0YW1wID8geyB0czogdGltZXN0YW1wIH0gOiB7fVxuICAgIH0pO1xuICAgIGNvbnN0IGVuZHBvaW50ID0gdGltZXN0YW1wID8gYCR7dGhpcy5hZGRyZXNzfS9hcGkvcXVlcnlfYXRfdHNgIDogYCR7dGhpcy5hZGRyZXNzfS9hcGkvcXVlcnlgO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9jYWxGZXRjaChlbmRwb2ludCwge1xuICAgICAgLi4udGhpcy5mZXRjaE9wdGlvbnMsXG4gICAgICBib2R5LFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnNcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gU1RBVFVTX0NPREVfVURGX0ZBSUxFRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BKU09OID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcEpTT04ubG9nTGluZXMgPz8gW10pIHtcbiAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcInF1ZXJ5XCIsIG5hbWUsIGxpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHJlc3BKU09OLnN0YXR1cykge1xuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXNwSlNPTi52YWx1ZSk7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgaWYgKHJlc3BKU09OLmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgZm9yd2FyZEVycm9yRGF0YShcbiAgICAgICAgICAgIHJlc3BKU09OLmVycm9yRGF0YSxcbiAgICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShyZXNwSlNPTil9YCk7XG4gICAgfVxuICB9XG4gIGFzeW5jIG11dGF0aW9uSW5uZXIobXV0YXRpb24sIG11dGF0aW9uQXJncykge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUobXV0YXRpb24pO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24obXV0YXRpb25BcmdzKV1cbiAgICB9KTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIkNvbnZleC1DbGllbnRcIjogYG5wbS0ke3ZlcnNpb259YFxuICAgIH07XG4gICAgaWYgKHRoaXMuYWRtaW5BdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBDb252ZXggJHt0aGlzLmFkbWluQXV0aH1gO1xuICAgIH0gZWxzZSBpZiAodGhpcy5hdXRoKSB7XG4gICAgICBoZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHt0aGlzLmF1dGh9YDtcbiAgICB9XG4gICAgY29uc3QgbG9jYWxGZXRjaCA9IHNwZWNpZmllZEZldGNoIHx8IGZldGNoO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbG9jYWxGZXRjaChgJHt0aGlzLmFkZHJlc3N9L2FwaS9tdXRhdGlvbmAsIHtcbiAgICAgIC4uLnRoaXMuZmV0Y2hPcHRpb25zLFxuICAgICAgYm9keSxcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vayAmJiByZXNwb25zZS5zdGF0dXMgIT09IFNUQVRVU19DT0RFX1VERl9GQUlMRUQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXNwb25zZS50ZXh0KCkpO1xuICAgIH1cbiAgICBjb25zdCByZXNwSlNPTiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBpZiAodGhpcy5kZWJ1Zykge1xuICAgICAgZm9yIChjb25zdCBsaW5lIG9mIHJlc3BKU09OLmxvZ0xpbmVzID8/IFtdKSB7XG4gICAgICAgIGxvZ0ZvckZ1bmN0aW9uKHRoaXMubG9nZ2VyLCBcImluZm9cIiwgXCJtdXRhdGlvblwiLCBuYW1lLCBsaW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChyZXNwSlNPTi5zdGF0dXMpIHtcbiAgICAgIGNhc2UgXCJzdWNjZXNzXCI6XG4gICAgICAgIHJldHVybiBqc29uVG9Db252ZXgocmVzcEpTT04udmFsdWUpO1xuICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgIGlmIChyZXNwSlNPTi5lcnJvckRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHRocm93IGZvcndhcmRFcnJvckRhdGEoXG4gICAgICAgICAgICByZXNwSlNPTi5lcnJvckRhdGEsXG4gICAgICAgICAgICBuZXcgQ29udmV4RXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BKU09OLmVycm9yTWVzc2FnZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVzcG9uc2U6ICR7SlNPTi5zdHJpbmdpZnkocmVzcEpTT04pfWApO1xuICAgIH1cbiAgfVxuICBhc3luYyBwcm9jZXNzTXV0YXRpb25RdWV1ZSgpIHtcbiAgICBpZiAodGhpcy5pc1Byb2Nlc3NpbmdRdWV1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlID0gdHJ1ZTtcbiAgICB3aGlsZSAodGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHsgbXV0YXRpb24sIGFyZ3MsIHJlc29sdmUsIHJlamVjdCB9ID0gdGhpcy5tdXRhdGlvblF1ZXVlLnNoaWZ0KCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm11dGF0aW9uSW5uZXIobXV0YXRpb24sIGFyZ3MpO1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlzUHJvY2Vzc2luZ1F1ZXVlID0gZmFsc2U7XG4gIH1cbiAgZW5xdWV1ZU11dGF0aW9uKG11dGF0aW9uLCBhcmdzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMubXV0YXRpb25RdWV1ZS5wdXNoKHsgbXV0YXRpb24sIGFyZ3MsIHJlc29sdmUsIHJlamVjdCB9KTtcbiAgICAgIHZvaWQgdGhpcy5wcm9jZXNzTXV0YXRpb25RdWV1ZSgpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIGEgQ29udmV4IG11dGF0aW9uIGZ1bmN0aW9uLiBNdXRhdGlvbnMgYXJlIHF1ZXVlZCBieSBkZWZhdWx0LlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBtdXRhdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9wdGlvbmFsIG9iamVjdCBjb250YWluaW5nXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgbXV0YXRpb24ncyByZXN1bHQuXG4gICAqL1xuICBhc3luYyBtdXRhdGlvbihtdXRhdGlvbiwgLi4uYXJncykge1xuICAgIGNvbnN0IFtmbkFyZ3MsIG9wdGlvbnNdID0gYXJncztcbiAgICBjb25zdCBtdXRhdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoZm5BcmdzKTtcbiAgICBjb25zdCBxdWV1ZWQgPSAhb3B0aW9ucz8uc2tpcFF1ZXVlO1xuICAgIGlmIChxdWV1ZWQpIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmVucXVldWVNdXRhdGlvbihtdXRhdGlvbiwgbXV0YXRpb25BcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMubXV0YXRpb25Jbm5lcihtdXRhdGlvbiwgbXV0YXRpb25BcmdzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBDb252ZXggYWN0aW9uIGZ1bmN0aW9uLiBBY3Rpb25zIGFyZSBub3QgcXVldWVkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBhY3Rpb24uXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBhY3Rpb24uIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgYWN0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgYWN0aW9uKGFjdGlvbiwgLi4uYXJncykge1xuICAgIGNvbnN0IGFjdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJnc1swXSk7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShhY3Rpb24pO1xuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24oYWN0aW9uQXJncyldXG4gICAgfSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJDb252ZXgtQ2xpZW50XCI6IGBucG0tJHt2ZXJzaW9ufWBcbiAgICB9O1xuICAgIGlmICh0aGlzLmFkbWluQXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQ29udmV4ICR7dGhpcy5hZG1pbkF1dGh9YDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7dGhpcy5hdXRofWA7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsRmV0Y2ggPSBzcGVjaWZpZWRGZXRjaCB8fCBmZXRjaDtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvY2FsRmV0Y2goYCR7dGhpcy5hZGRyZXNzfS9hcGkvYWN0aW9uYCwge1xuICAgICAgLi4udGhpcy5mZXRjaE9wdGlvbnMsXG4gICAgICBib2R5LFxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnNcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gU1RBVFVTX0NPREVfVURGX0ZBSUxFRCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlc3BvbnNlLnRleHQoKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BKU09OID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcEpTT04ubG9nTGluZXMgPz8gW10pIHtcbiAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcImFjdGlvblwiLCBuYW1lLCBsaW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChyZXNwSlNPTi5zdGF0dXMpIHtcbiAgICAgIGNhc2UgXCJzdWNjZXNzXCI6XG4gICAgICAgIHJldHVybiBqc29uVG9Db252ZXgocmVzcEpTT04udmFsdWUpO1xuICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgIGlmIChyZXNwSlNPTi5lcnJvckRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHRocm93IGZvcndhcmRFcnJvckRhdGEoXG4gICAgICAgICAgICByZXNwSlNPTi5lcnJvckRhdGEsXG4gICAgICAgICAgICBuZXcgQ29udmV4RXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3BKU09OLmVycm9yTWVzc2FnZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVzcG9uc2U6ICR7SlNPTi5zdHJpbmdpZnkocmVzcEpTT04pfWApO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhIENvbnZleCBmdW5jdGlvbiBvZiBhbiB1bmtub3duIHR5cGUuIFRoZXNlIGZ1bmN0aW9uIGNhbGxzIGFyZSBub3QgcXVldWVkLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIGZ1bmN0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIGZ1bmN0aW9uJ3MgcmVzdWx0LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIGZ1bmN0aW9uKGFueUZ1bmN0aW9uLCBjb21wb25lbnRQYXRoLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZnVuY3Rpb25BcmdzID0gcGFyc2VBcmdzKGFyZ3NbMF0pO1xuICAgIGNvbnN0IG5hbWUgPSB0eXBlb2YgYW55RnVuY3Rpb24gPT09IFwic3RyaW5nXCIgPyBhbnlGdW5jdGlvbiA6IGdldEZ1bmN0aW9uTmFtZShhbnlGdW5jdGlvbik7XG4gICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGNvbXBvbmVudFBhdGgsXG4gICAgICBwYXRoOiBuYW1lLFxuICAgICAgZm9ybWF0OiBcImNvbnZleF9lbmNvZGVkX2pzb25cIixcbiAgICAgIGFyZ3M6IGNvbnZleFRvSnNvbihmdW5jdGlvbkFyZ3MpXG4gICAgfSk7XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJDb252ZXgtQ2xpZW50XCI6IGBucG0tJHt2ZXJzaW9ufWBcbiAgICB9O1xuICAgIGlmICh0aGlzLmFkbWluQXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQ29udmV4ICR7dGhpcy5hZG1pbkF1dGh9YDtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYXV0aCkge1xuICAgICAgaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7dGhpcy5hdXRofWA7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsRmV0Y2ggPSBzcGVjaWZpZWRGZXRjaCB8fCBmZXRjaDtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxvY2FsRmV0Y2goYCR7dGhpcy5hZGRyZXNzfS9hcGkvZnVuY3Rpb25gLCB7XG4gICAgICAuLi50aGlzLmZldGNoT3B0aW9ucyxcbiAgICAgIGJvZHksXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyc1xuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2sgJiYgcmVzcG9uc2Uuc3RhdHVzICE9PSBTVEFUVVNfQ09ERV9VREZfRkFJTEVEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzcG9uc2UudGV4dCgpKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcEpTT04gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIGZvciAoY29uc3QgbGluZSBvZiByZXNwSlNPTi5sb2dMaW5lcyA/PyBbXSkge1xuICAgICAgICBsb2dGb3JGdW5jdGlvbih0aGlzLmxvZ2dlciwgXCJpbmZvXCIsIFwiYW55XCIsIG5hbWUsIGxpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKHJlc3BKU09OLnN0YXR1cykge1xuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXNwSlNPTi52YWx1ZSk7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgaWYgKHJlc3BKU09OLmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgZm9yd2FyZEVycm9yRGF0YShcbiAgICAgICAgICAgIHJlc3BKU09OLmVycm9yRGF0YSxcbiAgICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihyZXNwSlNPTi5lcnJvck1lc3NhZ2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcEpTT04uZXJyb3JNZXNzYWdlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCByZXNwb25zZTogJHtKU09OLnN0cmluZ2lmeShyZXNwSlNPTil9YCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmb3J3YXJkRXJyb3JEYXRhKGVycm9yRGF0YSwgZXJyb3IpIHtcbiAgZXJyb3IuZGF0YSA9IGpzb25Ub0NvbnZleChlcnJvckRhdGEpO1xuICByZXR1cm4gZXJyb3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwX2NsaWVudC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsImdldEZ1bmN0aW9uTmFtZSIsInBhcnNlQXJncyIsInZhbGlkYXRlRGVwbG95bWVudFVybCIsInZlcnNpb24iLCJDb252ZXhFcnJvciIsImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsImluc3RhbnRpYXRlRGVmYXVsdExvZ2dlciIsImluc3RhbnRpYXRlTm9vcExvZ2dlciIsImxvZ0ZvckZ1bmN0aW9uIiwiU1RBVFVTX0NPREVfT0siLCJTVEFUVVNfQ09ERV9CQURfUkVRVUVTVCIsIlNUQVRVU19DT0RFX1VERl9GQUlMRUQiLCJzcGVjaWZpZWRGZXRjaCIsInNldEZldGNoIiwiZiIsIkNvbnZleEh0dHBDbGllbnQiLCJjb25zdHJ1Y3RvciIsImFkZHJlc3MiLCJvcHRpb25zIiwiRXJyb3IiLCJvcHRzIiwic2tpcENvbnZleERlcGxveW1lbnRVcmxDaGVjayIsImxvZ2dlciIsInZlcmJvc2UiLCJkZWJ1ZyIsImF1dGgiLCJhZG1pbkF1dGgiLCJzZXRBdXRoIiwiYmFja2VuZFVybCIsInVybCIsImNsZWFyQXV0aCIsInNldEFkbWluQXV0aCIsInRva2VuIiwiYWN0aW5nQXNJZGVudGl0eSIsImJ5dGVzIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0aW5nQXNJZGVudGl0eUVuY29kZWQiLCJidG9hIiwiU3RyaW5nIiwiZnJvbUNvZGVQb2ludCIsInNldERlYnVnIiwic2V0RmV0Y2hPcHRpb25zIiwiZmV0Y2hPcHRpb25zIiwiY29uc2lzdGVudFF1ZXJ5IiwicXVlcnkiLCJhcmdzIiwicXVlcnlBcmdzIiwidGltZXN0YW1wUHJvbWlzZSIsImdldFRpbWVzdGFtcCIsInF1ZXJ5SW5uZXIiLCJlbmNvZGVkVHNQcm9taXNlIiwiZ2V0VGltZXN0YW1wSW5uZXIiLCJsb2NhbEZldGNoIiwiZmV0Y2giLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJtZXRob2QiLCJvayIsInRleHQiLCJ0cyIsImpzb24iLCJuYW1lIiwidGltZXN0YW1wIiwiYm9keSIsInBhdGgiLCJmb3JtYXQiLCJlbmRwb2ludCIsInN0YXR1cyIsInJlc3BKU09OIiwibGluZSIsImxvZ0xpbmVzIiwiZXJyb3JEYXRhIiwiZm9yd2FyZEVycm9yRGF0YSIsImVycm9yTWVzc2FnZSIsIm11dGF0aW9uSW5uZXIiLCJtdXRhdGlvbiIsIm11dGF0aW9uQXJncyIsInByb2Nlc3NNdXRhdGlvblF1ZXVlIiwiaXNQcm9jZXNzaW5nUXVldWUiLCJtdXRhdGlvblF1ZXVlIiwibGVuZ3RoIiwicmVzb2x2ZSIsInJlamVjdCIsInNoaWZ0IiwicmVzdWx0IiwiZXJyb3IiLCJlbnF1ZXVlTXV0YXRpb24iLCJQcm9taXNlIiwicHVzaCIsImZuQXJncyIsInF1ZXVlZCIsInNraXBRdWV1ZSIsImFjdGlvbiIsImFjdGlvbkFyZ3MiLCJmdW5jdGlvbiIsImFueUZ1bmN0aW9uIiwiY29tcG9uZW50UGF0aCIsImZ1bmN0aW9uQXJncyIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/http_client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseConvexClient: () => (/* reexport safe */ _sync_client_js__WEBPACK_IMPORTED_MODULE_0__.BaseConvexClient),\n/* harmony export */   ConvexClient: () => (/* reexport safe */ _simple_client_js__WEBPACK_IMPORTED_MODULE_1__.ConvexClient),\n/* harmony export */   ConvexHttpClient: () => (/* reexport safe */ _http_client_js__WEBPACK_IMPORTED_MODULE_2__.ConvexHttpClient)\n/* harmony export */ });\n/* harmony import */ var _sync_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./sync/client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/client.js\");\n/* harmony import */ var _simple_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simple_client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/simple_client.js\");\n/* harmony import */ var _http_client_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http_client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/http_client.js\");\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7QUFDdUM7QUFDRjtBQUNFLENBQ3BELGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL2luZGV4LmpzPzVmMmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgeyBCYXNlQ29udmV4Q2xpZW50IH0gZnJvbSBcIi4vc3luYy9jbGllbnQuanNcIjtcbmV4cG9ydCB7IENvbnZleENsaWVudCB9IGZyb20gXCIuL3NpbXBsZV9jbGllbnQuanNcIjtcbmV4cG9ydCB7IENvbnZleEh0dHBDbGllbnQgfSBmcm9tIFwiLi9odHRwX2NsaWVudC5qc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiQmFzZUNvbnZleENsaWVudCIsIkNvbnZleENsaWVudCIsIkNvbnZleEh0dHBDbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/logging.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/logging.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultLogger: () => (/* binding */ DefaultLogger),\n/* harmony export */   createHybridErrorStacktrace: () => (/* binding */ createHybridErrorStacktrace),\n/* harmony export */   forwardData: () => (/* binding */ forwardData),\n/* harmony export */   instantiateDefaultLogger: () => (/* binding */ instantiateDefaultLogger),\n/* harmony export */   instantiateNoopLogger: () => (/* binding */ instantiateNoopLogger),\n/* harmony export */   logFatalError: () => (/* binding */ logFatalError),\n/* harmony export */   logForFunction: () => (/* binding */ logForFunction)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nconst INFO_COLOR = \"color:rgb(0, 145, 255)\";\nfunction prefix_for_source(source) {\n    switch(source){\n        case \"query\":\n            return \"Q\";\n        case \"mutation\":\n            return \"M\";\n        case \"action\":\n            return \"A\";\n        case \"any\":\n            return \"?\";\n    }\n}\nclass DefaultLogger {\n    constructor(options){\n        __publicField(this, \"_onLogLineFuncs\");\n        __publicField(this, \"_verbose\");\n        this._onLogLineFuncs = {};\n        this._verbose = options.verbose;\n    }\n    addLogLineListener(func) {\n        let id = Math.random().toString(36).substring(2, 15);\n        for(let i = 0; i < 10; i++){\n            if (this._onLogLineFuncs[id] === void 0) {\n                break;\n            }\n            id = Math.random().toString(36).substring(2, 15);\n        }\n        this._onLogLineFuncs[id] = func;\n        return ()=>{\n            delete this._onLogLineFuncs[id];\n        };\n    }\n    logVerbose(...args) {\n        if (this._verbose) {\n            for (const func of Object.values(this._onLogLineFuncs)){\n                func(\"debug\", `${/* @__PURE__ */ new Date().toISOString()}`, ...args);\n            }\n        }\n    }\n    log(...args) {\n        for (const func of Object.values(this._onLogLineFuncs)){\n            func(\"info\", ...args);\n        }\n    }\n    warn(...args) {\n        for (const func of Object.values(this._onLogLineFuncs)){\n            func(\"warn\", ...args);\n        }\n    }\n    error(...args) {\n        for (const func of Object.values(this._onLogLineFuncs)){\n            func(\"error\", ...args);\n        }\n    }\n}\nfunction instantiateDefaultLogger(options) {\n    const logger = new DefaultLogger(options);\n    logger.addLogLineListener((level, ...args)=>{\n        switch(level){\n            case \"debug\":\n                console.debug(...args);\n                break;\n            case \"info\":\n                console.log(...args);\n                break;\n            case \"warn\":\n                console.warn(...args);\n                break;\n            case \"error\":\n                console.error(...args);\n                break;\n            default:\n                {\n                    level;\n                    console.log(...args);\n                }\n        }\n    });\n    return logger;\n}\nfunction instantiateNoopLogger(options) {\n    return new DefaultLogger(options);\n}\nfunction logForFunction(logger, type, source, udfPath, message) {\n    const prefix = prefix_for_source(source);\n    if (typeof message === \"object\") {\n        message = `ConvexError ${JSON.stringify(message.errorData, null, 2)}`;\n    }\n    if (type === \"info\") {\n        const match = message.match(/^\\[.*?\\] /);\n        if (match === null) {\n            logger.error(`[CONVEX ${prefix}(${udfPath})] Could not parse console.log`);\n            return;\n        }\n        const level = message.slice(1, match[0].length - 2);\n        const args = message.slice(match[0].length);\n        logger.log(`%c[CONVEX ${prefix}(${udfPath})] [${level}]`, INFO_COLOR, args);\n    } else {\n        logger.error(`[CONVEX ${prefix}(${udfPath})] ${message}`);\n    }\n}\nfunction logFatalError(logger, message) {\n    const errorMessage = `[CONVEX FATAL ERROR] ${message}`;\n    logger.error(errorMessage);\n    return new Error(errorMessage);\n}\nfunction createHybridErrorStacktrace(source, udfPath, result) {\n    const prefix = prefix_for_source(source);\n    return `[CONVEX ${prefix}(${udfPath})] ${result.errorMessage}\n  Called by client`;\n}\nfunction forwardData(result, error) {\n    error.data = result.errorData;\n    return error;\n} //# sourceMappingURL=logging.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvbG9nZ2luZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ3hHLE1BQU1LLGFBQWE7QUFDbkIsU0FBU0Msa0JBQWtCQyxNQUFNO0lBQy9CLE9BQVFBO1FBQ04sS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87SUFDWDtBQUNGO0FBQ08sTUFBTUM7SUFDWEMsWUFBWUMsT0FBTyxDQUFFO1FBQ25CTixjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsSUFBSSxDQUFDTyxlQUFlLEdBQUcsQ0FBQztRQUN4QixJQUFJLENBQUNDLFFBQVEsR0FBR0YsUUFBUUcsT0FBTztJQUNqQztJQUNBQyxtQkFBbUJDLElBQUksRUFBRTtRQUN2QixJQUFJQyxLQUFLQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUMsR0FBRztRQUNqRCxJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSSxJQUFJQSxJQUFLO1lBQzNCLElBQUksSUFBSSxDQUFDVixlQUFlLENBQUNLLEdBQUcsS0FBSyxLQUFLLEdBQUc7Z0JBQ3ZDO1lBQ0Y7WUFDQUEsS0FBS0MsS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENB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TyxTQUFTUSxjQUFjaEIsTUFBTSxFQUFFUSxPQUFPO0lBQzNDLE1BQU1TLGVBQWUsQ0FBQyxxQkFBcUIsRUFBRVQsUUFBUSxDQUFDO0lBQ3REUixPQUFPRixLQUFLLENBQUNtQjtJQUNiLE9BQU8sSUFBSUMsTUFBTUQ7QUFDbkI7QUFDTyxTQUFTRSw0QkFBNEIzQyxNQUFNLEVBQUUrQixPQUFPLEVBQUVhLE1BQU07SUFDakUsTUFBTVgsU0FBU2xDLGtCQUFrQkM7SUFDakMsT0FBTyxDQUFDLFFBQVEsRUFBRWlDLE9BQU8sQ0FBQyxFQUFFRixRQUFRLEdBQUcsRUFBRWEsT0FBT0gsWUFBWSxDQUFDO2tCQUM3QyxDQUFDO0FBQ25CO0FBQ08sU0FBU0ksWUFBWUQsTUFBTSxFQUFFdEIsS0FBSztJQUN2Q0EsTUFBTXdCLElBQUksR0FBR0YsT0FBT1IsU0FBUztJQUM3QixPQUFPZDtBQUNULEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvbG9nZ2luZy5qcz81YmUyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmNvbnN0IElORk9fQ09MT1IgPSBcImNvbG9yOnJnYigwLCAxNDUsIDI1NSlcIjtcbmZ1bmN0aW9uIHByZWZpeF9mb3Jfc291cmNlKHNvdXJjZSkge1xuICBzd2l0Y2ggKHNvdXJjZSkge1xuICAgIGNhc2UgXCJxdWVyeVwiOlxuICAgICAgcmV0dXJuIFwiUVwiO1xuICAgIGNhc2UgXCJtdXRhdGlvblwiOlxuICAgICAgcmV0dXJuIFwiTVwiO1xuICAgIGNhc2UgXCJhY3Rpb25cIjpcbiAgICAgIHJldHVybiBcIkFcIjtcbiAgICBjYXNlIFwiYW55XCI6XG4gICAgICByZXR1cm4gXCI/XCI7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBEZWZhdWx0TG9nZ2VyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfb25Mb2dMaW5lRnVuY3NcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl92ZXJib3NlXCIpO1xuICAgIHRoaXMuX29uTG9nTGluZUZ1bmNzID0ge307XG4gICAgdGhpcy5fdmVyYm9zZSA9IG9wdGlvbnMudmVyYm9zZTtcbiAgfVxuICBhZGRMb2dMaW5lTGlzdGVuZXIoZnVuYykge1xuICAgIGxldCBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5fb25Mb2dMaW5lRnVuY3NbaWRdID09PSB2b2lkIDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSk7XG4gICAgfVxuICAgIHRoaXMuX29uTG9nTGluZUZ1bmNzW2lkXSA9IGZ1bmM7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRlbGV0ZSB0aGlzLl9vbkxvZ0xpbmVGdW5jc1tpZF07XG4gICAgfTtcbiAgfVxuICBsb2dWZXJib3NlKC4uLmFyZ3MpIHtcbiAgICBpZiAodGhpcy5fdmVyYm9zZSkge1xuICAgICAgZm9yIChjb25zdCBmdW5jIG9mIE9iamVjdC52YWx1ZXModGhpcy5fb25Mb2dMaW5lRnVuY3MpKSB7XG4gICAgICAgIGZ1bmMoXCJkZWJ1Z1wiLCBgJHsoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCl9YCwgLi4uYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxvZyguLi5hcmdzKSB7XG4gICAgZm9yIChjb25zdCBmdW5jIG9mIE9iamVjdC52YWx1ZXModGhpcy5fb25Mb2dMaW5lRnVuY3MpKSB7XG4gICAgICBmdW5jKFwiaW5mb1wiLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cbiAgd2FybiguLi5hcmdzKSB7XG4gICAgZm9yIChjb25zdCBmdW5jIG9mIE9iamVjdC52YWx1ZXModGhpcy5fb25Mb2dMaW5lRnVuY3MpKSB7XG4gICAgICBmdW5jKFwid2FyblwiLCAuLi5hcmdzKTtcbiAgICB9XG4gIH1cbiAgZXJyb3IoLi4uYXJncykge1xuICAgIGZvciAoY29uc3QgZnVuYyBvZiBPYmplY3QudmFsdWVzKHRoaXMuX29uTG9nTGluZUZ1bmNzKSkge1xuICAgICAgZnVuYyhcImVycm9yXCIsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcihvcHRpb25zKSB7XG4gIGNvbnN0IGxvZ2dlciA9IG5ldyBEZWZhdWx0TG9nZ2VyKG9wdGlvbnMpO1xuICBsb2dnZXIuYWRkTG9nTGluZUxpc3RlbmVyKChsZXZlbCwgLi4uYXJncykgPT4ge1xuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgXCJkZWJ1Z1wiOlxuICAgICAgICBjb25zb2xlLmRlYnVnKC4uLmFyZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpbmZvXCI6XG4gICAgICAgIGNvbnNvbGUubG9nKC4uLmFyZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ3YXJuXCI6XG4gICAgICAgIGNvbnNvbGUud2FybiguLi5hcmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgY29uc29sZS5lcnJvciguLi5hcmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGxldmVsO1xuICAgICAgICBjb25zb2xlLmxvZyguLi5hcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbG9nZ2VyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGluc3RhbnRpYXRlTm9vcExvZ2dlcihvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgRGVmYXVsdExvZ2dlcihvcHRpb25zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dGb3JGdW5jdGlvbihsb2dnZXIsIHR5cGUsIHNvdXJjZSwgdWRmUGF0aCwgbWVzc2FnZSkge1xuICBjb25zdCBwcmVmaXggPSBwcmVmaXhfZm9yX3NvdXJjZShzb3VyY2UpO1xuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICBtZXNzYWdlID0gYENvbnZleEVycm9yICR7SlNPTi5zdHJpbmdpZnkobWVzc2FnZS5lcnJvckRhdGEsIG51bGwsIDIpfWA7XG4gIH1cbiAgaWYgKHR5cGUgPT09IFwiaW5mb1wiKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBtZXNzYWdlLm1hdGNoKC9eXFxbLio/XFxdIC8pO1xuICAgIGlmIChtYXRjaCA9PT0gbnVsbCkge1xuICAgICAgbG9nZ2VyLmVycm9yKFxuICAgICAgICBgW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldIENvdWxkIG5vdCBwYXJzZSBjb25zb2xlLmxvZ2BcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxldmVsID0gbWVzc2FnZS5zbGljZSgxLCBtYXRjaFswXS5sZW5ndGggLSAyKTtcbiAgICBjb25zdCBhcmdzID0gbWVzc2FnZS5zbGljZShtYXRjaFswXS5sZW5ndGgpO1xuICAgIGxvZ2dlci5sb2coYCVjW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldIFske2xldmVsfV1gLCBJTkZPX0NPTE9SLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICBsb2dnZXIuZXJyb3IoYFtDT05WRVggJHtwcmVmaXh9KCR7dWRmUGF0aH0pXSAke21lc3NhZ2V9YCk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBsb2dGYXRhbEVycm9yKGxvZ2dlciwgbWVzc2FnZSkge1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgW0NPTlZFWCBGQVRBTCBFUlJPUl0gJHttZXNzYWdlfWA7XG4gIGxvZ2dlci5lcnJvcihlcnJvck1lc3NhZ2UpO1xuICByZXR1cm4gbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKHNvdXJjZSwgdWRmUGF0aCwgcmVzdWx0KSB7XG4gIGNvbnN0IHByZWZpeCA9IHByZWZpeF9mb3Jfc291cmNlKHNvdXJjZSk7XG4gIHJldHVybiBgW0NPTlZFWCAke3ByZWZpeH0oJHt1ZGZQYXRofSldICR7cmVzdWx0LmVycm9yTWVzc2FnZX1cbiAgQ2FsbGVkIGJ5IGNsaWVudGA7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9yd2FyZERhdGEocmVzdWx0LCBlcnJvcikge1xuICBlcnJvci5kYXRhID0gcmVzdWx0LmVycm9yRGF0YTtcbiAgcmV0dXJuIGVycm9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2luZy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsIklORk9fQ09MT1IiLCJwcmVmaXhfZm9yX3NvdXJjZSIsInNvdXJjZSIsIkRlZmF1bHRMb2dnZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJfb25Mb2dMaW5lRnVuY3MiLCJfdmVyYm9zZSIsInZlcmJvc2UiLCJhZGRMb2dMaW5lTGlzdGVuZXIiLCJmdW5jIiwiaWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJpIiwibG9nVmVyYm9zZSIsImFyZ3MiLCJ2YWx1ZXMiLCJEYXRlIiwidG9JU09TdHJpbmciLCJsb2ciLCJ3YXJuIiwiZXJyb3IiLCJpbnN0YW50aWF0ZURlZmF1bHRMb2dnZXIiLCJsb2dnZXIiLCJsZXZlbCIsImNvbnNvbGUiLCJkZWJ1ZyIsImluc3RhbnRpYXRlTm9vcExvZ2dlciIsImxvZ0ZvckZ1bmN0aW9uIiwidHlwZSIsInVkZlBhdGgiLCJtZXNzYWdlIiwicHJlZml4IiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yRGF0YSIsIm1hdGNoIiwic2xpY2UiLCJsZW5ndGgiLCJsb2dGYXRhbEVycm9yIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UiLCJyZXN1bHQiLCJmb3J3YXJkRGF0YSIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/logging.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/simple_client.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/simple_client.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexClient: () => (/* binding */ ConvexClient),\n/* harmony export */   setDefaultWebSocketConstructor: () => (/* binding */ setDefaultWebSocketConstructor)\n/* harmony export */ });\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _sync_paginated_query_client_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sync/paginated_query_client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js\");\n/* harmony import */ var _sync_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sync/udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nlet defaultWebSocketConstructor;\nfunction setDefaultWebSocketConstructor(ws) {\n    defaultWebSocketConstructor = ws;\n}\nclass ConvexClient {\n    /**\n   * Construct a client and immediately initiate a WebSocket connection to the passed address.\n   *\n   * @public\n   */ constructor(address, options = {}){\n        __publicField(this, \"listeners\");\n        __publicField(this, \"_client\");\n        __publicField(this, \"_paginatedClient\");\n        // A synthetic server event to run callbacks the first time\n        __publicField(this, \"callNewListenersWithCurrentValuesTimer\");\n        __publicField(this, \"_closed\");\n        __publicField(this, \"_disabled\");\n        if (options.skipConvexDeploymentUrlCheck !== true) {\n            (0,_common_index_js__WEBPACK_IMPORTED_MODULE_0__.validateDeploymentUrl)(address);\n        }\n        const { disabled, ...baseOptions } = options;\n        this._closed = false;\n        this._disabled = !!disabled;\n        if (defaultWebSocketConstructor && !(\"webSocketConstructor\" in baseOptions) && typeof WebSocket === \"undefined\") {\n            baseOptions.webSocketConstructor = defaultWebSocketConstructor;\n        }\n        if ( true && !(\"unsavedChangesWarning\" in baseOptions)) {\n            baseOptions.unsavedChangesWarning = false;\n        }\n        if (!this.disabled) {\n            this._client = new _index_js__WEBPACK_IMPORTED_MODULE_1__.BaseConvexClient(address, ()=>{}, // NOP, let the paginated query client do it all\n            baseOptions);\n            this._paginatedClient = new _sync_paginated_query_client_js__WEBPACK_IMPORTED_MODULE_3__.PaginatedQueryClient(this._client, (transition)=>this._transition(transition));\n        }\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    /**\n   * Once closed no registered callbacks will fire again.\n   */ get closed() {\n        return this._closed;\n    }\n    get client() {\n        if (this._client) return this._client;\n        throw new Error(\"ConvexClient is disabled\");\n    }\n    /**\n   * @internal\n   */ get paginatedClient() {\n        if (this._paginatedClient) return this._paginatedClient;\n        throw new Error(\"ConvexClient is disabled\");\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    /**\n   * Call a callback whenever a new result for a query is received. The callback\n   * will run soon after being registered if a result for the query is already\n   * in memory.\n   *\n   * The return value is an {@link Unsubscribe} object which is both a function\n   * an an object with properties. Both of the patterns below work with this object:\n   *\n   *```ts\n   * // call the return value as a function\n   * const unsubscribe = client.onUpdate(api.messages.list, {}, (messages) => {\n   *   console.log(messages);\n   * });\n   * unsubscribe();\n   *\n   * // unpack the return value into its properties\n   * const {\n   *   getCurrentValue,\n   *   unsubscribe,\n   * } = client.onUpdate(api.messages.list, {}, (messages) => {\n   *   console.log(messages);\n   * });\n   *```\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - The arguments to run the query with.\n   * @param callback - Function to call when the query result updates.\n   * @param onError - Function to call when the query result updates with an error.\n   * If not provided, errors will be thrown instead of calling the callback.\n   *\n   * @return an {@link Unsubscribe} function to stop calling the onUpdate function.\n   */ onUpdate(query, args, callback, onError) {\n        if (this.disabled) {\n            return this.createDisabledUnsubscribe();\n        }\n        const { queryToken, unsubscribe } = this.client.subscribe((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args);\n        const queryInfo = {\n            queryToken,\n            callback,\n            onError,\n            unsubscribe,\n            hasEverRun: false,\n            query,\n            args,\n            paginationOptions: void 0\n        };\n        this.listeners.add(queryInfo);\n        if (this.queryResultReady(queryToken) && this.callNewListenersWithCurrentValuesTimer === void 0) {\n            this.callNewListenersWithCurrentValuesTimer = setTimeout(()=>this.callNewListenersWithCurrentValues(), 0);\n        }\n        const unsubscribeProps = {\n            unsubscribe: ()=>{\n                if (this.closed) {\n                    return;\n                }\n                this.listeners.delete(queryInfo);\n                unsubscribe();\n            },\n            getCurrentValue: ()=>this.client.localQueryResultByToken(queryToken),\n            getQueryLogs: ()=>this.client.localQueryLogs(queryToken)\n        };\n        const ret = unsubscribeProps.unsubscribe;\n        Object.assign(ret, unsubscribeProps);\n        return ret;\n    }\n    /**\n   * Call a callback whenever a new result for a paginated query is received.\n   *\n   * This is an experimental preview: the final API may change.\n   * In particular, caching behavior, page splitting, and required paginated query options\n   * may change.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - The arguments to run the query with.\n   * @param options - Options for the paginated query including initialNumItems and id.\n   * @param callback - Function to call when the query result updates.\n   * @param onError - Function to call when the query result updates with an error.\n   *\n   * @return an {@link Unsubscribe} function to stop calling the callback.\n   */ onPaginatedUpdate_experimental(query, args, options, callback, onError) {\n        if (this.disabled) {\n            return this.createDisabledUnsubscribe();\n        }\n        const paginationOptions = {\n            initialNumItems: options.initialNumItems,\n            id: -1\n        };\n        const { paginatedQueryToken, unsubscribe } = this.paginatedClient.subscribe((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args, // Simple client doesn't use IDs, there's no expectation that these queries remain separate.\n        paginationOptions);\n        const queryInfo = {\n            queryToken: paginatedQueryToken,\n            callback,\n            onError,\n            unsubscribe,\n            hasEverRun: false,\n            query,\n            args,\n            paginationOptions\n        };\n        this.listeners.add(queryInfo);\n        if (!!this.paginatedClient.localQueryResultByToken(paginatedQueryToken) && this.callNewListenersWithCurrentValuesTimer === void 0) {\n            this.callNewListenersWithCurrentValuesTimer = setTimeout(()=>this.callNewListenersWithCurrentValues(), 0);\n        }\n        const unsubscribeProps = {\n            unsubscribe: ()=>{\n                if (this.closed) {\n                    return;\n                }\n                this.listeners.delete(queryInfo);\n                unsubscribe();\n            },\n            getCurrentValue: ()=>{\n                const result = this.paginatedClient.localQueryResult((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args, paginationOptions);\n                return result;\n            },\n            getQueryLogs: ()=>[]\n        };\n        const ret = unsubscribeProps.unsubscribe;\n        Object.assign(ret, unsubscribeProps);\n        return ret;\n    }\n    // Run all callbacks that have never been run before if they have a query\n    // result available now.\n    callNewListenersWithCurrentValues() {\n        this.callNewListenersWithCurrentValuesTimer = void 0;\n        this._transition({\n            queries: [],\n            paginatedQueries: []\n        }, true);\n    }\n    queryResultReady(queryToken) {\n        return this.client.hasLocalQueryResultByToken(queryToken);\n    }\n    createDisabledUnsubscribe() {\n        const disabledUnsubscribe = ()=>{};\n        const unsubscribeProps = {\n            unsubscribe: disabledUnsubscribe,\n            getCurrentValue: ()=>void 0,\n            getQueryLogs: ()=>void 0\n        };\n        Object.assign(disabledUnsubscribe, unsubscribeProps);\n        return disabledUnsubscribe;\n    }\n    async close() {\n        if (this.disabled) return;\n        this.listeners.clear();\n        this._closed = true;\n        if (this._paginatedClient) {\n            this._paginatedClient = void 0;\n        }\n        return this.client.close();\n    }\n    /**\n   * Get the current JWT auth token and decoded claims.\n   */ getAuth() {\n        if (this.disabled) return;\n        return this.client.getCurrentAuthClaims();\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT (typically an OpenID Connect Identity Token)\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        if (this.disabled) return;\n        this.client.setAuth(fetchToken, onChange ?? (()=>{}));\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token, identity) {\n        if (this.closed) {\n            throw new Error(\"ConvexClient has already been closed.\");\n        }\n        if (this.disabled) return;\n        this.client.setAdminAuth(token, identity);\n    }\n    /**\n   * @internal\n   */ _transition({ queries, paginatedQueries }, callNewListeners = false) {\n        const updatedQueries = [\n            ...queries.map((q)=>q.token),\n            ...paginatedQueries.map((q)=>q.token)\n        ];\n        for (const queryInfo of this.listeners){\n            const { callback, queryToken, onError, hasEverRun } = queryInfo;\n            const isPaginatedQuery = (0,_sync_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_4__.serializedQueryTokenIsPaginated)(queryToken);\n            const hasResultReady = isPaginatedQuery ? !!this.paginatedClient.localQueryResultByToken(queryToken) : this.client.hasLocalQueryResultByToken(queryToken);\n            if (updatedQueries.includes(queryToken) || callNewListeners && !hasEverRun && hasResultReady) {\n                queryInfo.hasEverRun = true;\n                let newValue;\n                try {\n                    if (isPaginatedQuery) {\n                        newValue = this.paginatedClient.localQueryResultByToken(queryToken);\n                    } else {\n                        newValue = this.client.localQueryResultByToken(queryToken);\n                    }\n                } catch (error) {\n                    if (!(error instanceof Error)) throw error;\n                    if (onError) {\n                        onError(error, \"Second argument to onUpdate onError is reserved for later use\");\n                    } else {\n                        void Promise.reject(error);\n                    }\n                    continue;\n                }\n                callback(newValue, \"Second argument to onUpdate callback is reserved for later use\");\n            }\n        }\n    }\n    /**\n   * Execute a mutation function.\n   *\n   * @param mutation - A {@link server.FunctionReference} for the public mutation\n   * to run.\n   * @param args - An arguments object for the mutation.\n   * @param options - A {@link MutationOptions} options object for the mutation.\n   * @returns A promise of the mutation's result.\n   */ async mutation(mutation, args, options) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return await this.client.mutation((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(mutation), args, options);\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param action - A {@link server.FunctionReference} for the public action\n   * to run.\n   * @param args - An arguments object for the action.\n   * @returns A promise of the action's result.\n   */ async action(action, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return await this.client.action((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(action), args);\n    }\n    /**\n   * Fetch a query result once.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query\n   * to run.\n   * @param args - An arguments object for the query.\n   * @returns A promise of the query's result.\n   */ async query(query, args) {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        const value = this.client.localQueryResult((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.getFunctionName)(query), args);\n        if (value !== void 0) return Promise.resolve(value);\n        return new Promise((resolve, reject)=>{\n            const { unsubscribe } = this.onUpdate(query, args, (value2)=>{\n                unsubscribe();\n                resolve(value2);\n            }, (e)=>{\n                unsubscribe();\n                reject(e);\n            });\n        });\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        if (this.disabled) throw new Error(\"ConvexClient is disabled\");\n        return this.client.connectionState();\n    }\n    /**\n   * Subscribe to the {@link ConnectionState} between the client and the Convex\n   * backend, calling a callback each time it changes.\n   *\n   * Subscribed callbacks will be called when any part of ConnectionState changes.\n   * ConnectionState may grow in future versions (e.g. to provide a array of\n   * inflight requests) in which case callbacks would be called more frequently.\n   *\n   * @returns An unsubscribe function to stop listening.\n   */ subscribeToConnectionState(cb) {\n        if (this.disabled) return ()=>{};\n        return this.client.subscribeToConnectionState(cb);\n    }\n} //# sourceMappingURL=simple_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc2ltcGxlX2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQzdDO0FBR3ZDO0FBQytCO0FBR1Q7QUFDaUM7QUFDM0UsSUFBSVU7QUFDRyxTQUFTQywrQkFBK0JDLEVBQUU7SUFDL0NGLDhCQUE4QkU7QUFDaEM7QUFDTyxNQUFNQztJQUNYOzs7O0dBSUMsR0FDREMsWUFBWUMsT0FBTyxFQUFFQyxVQUFVLENBQUMsQ0FBQyxDQUFFO1FBQ2pDWixjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLDJEQUEyRDtRQUMzREEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJWSxRQUFRQyw0QkFBNEIsS0FBSyxNQUFNO1lBQ2pEWix1RUFBcUJBLENBQUNVO1FBQ3hCO1FBQ0EsTUFBTSxFQUFFRyxRQUFRLEVBQUUsR0FBR0MsYUFBYSxHQUFHSDtRQUNyQyxJQUFJLENBQUNJLE9BQU8sR0FBRztRQUNmLElBQUksQ0FBQ0MsU0FBUyxHQUFHLENBQUMsQ0FBQ0g7UUFDbkIsSUFBSVIsK0JBQStCLENBQUUsMkJBQTBCUyxXQUFVLEtBQU0sT0FBT0csY0FBYyxhQUFhO1lB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QyxPQUFPLElBQUksQ0FBQ0QsTUFBTSxDQUFDZ0UsZUFBZTtJQUNwQztJQUNBOzs7Ozs7Ozs7R0FTQyxHQUNEQywyQkFBMkJDLEVBQUUsRUFBRTtRQUM3QixJQUFJLElBQUksQ0FBQ2hGLFFBQVEsRUFBRSxPQUFPLEtBQzFCO1FBQ0EsT0FBTyxJQUFJLENBQUNjLE1BQU0sQ0FBQ2lFLDBCQUEwQixDQUFDQztJQUNoRDtBQUNGLEVBQ0EseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc2ltcGxlX2NsaWVudC5qcz8zMjNjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IHZhbGlkYXRlRGVwbG95bWVudFVybCB9IGZyb20gXCIuLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7XG4gIEJhc2VDb252ZXhDbGllbnRcbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQge1xuICBQYWdpbmF0ZWRRdWVyeUNsaWVudFxufSBmcm9tIFwiLi9zeW5jL3BhZ2luYXRlZF9xdWVyeV9jbGllbnQuanNcIjtcbmltcG9ydCB7IHNlcmlhbGl6ZWRRdWVyeVRva2VuSXNQYWdpbmF0ZWQgfSBmcm9tIFwiLi9zeW5jL3VkZl9wYXRoX3V0aWxzLmpzXCI7XG5sZXQgZGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yO1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlZmF1bHRXZWJTb2NrZXRDb25zdHJ1Y3Rvcih3cykge1xuICBkZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3IgPSB3cztcbn1cbmV4cG9ydCBjbGFzcyBDb252ZXhDbGllbnQge1xuICAvKipcbiAgICogQ29uc3RydWN0IGEgY2xpZW50IGFuZCBpbW1lZGlhdGVseSBpbml0aWF0ZSBhIFdlYlNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSBwYXNzZWQgYWRkcmVzcy5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY29uc3RydWN0b3IoYWRkcmVzcywgb3B0aW9ucyA9IHt9KSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxpc3RlbmVyc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2NsaWVudFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX3BhZ2luYXRlZENsaWVudFwiKTtcbiAgICAvLyBBIHN5bnRoZXRpYyBzZXJ2ZXIgZXZlbnQgdG8gcnVuIGNhbGxiYWNrcyB0aGUgZmlyc3QgdGltZVxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXNUaW1lclwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2Nsb3NlZFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2Rpc2FibGVkXCIpO1xuICAgIGlmIChvcHRpb25zLnNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2sgIT09IHRydWUpIHtcbiAgICAgIHZhbGlkYXRlRGVwbG95bWVudFVybChhZGRyZXNzKTtcbiAgICB9XG4gICAgY29uc3QgeyBkaXNhYmxlZCwgLi4uYmFzZU9wdGlvbnMgfSA9IG9wdGlvbnM7XG4gICAgdGhpcy5fY2xvc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fZGlzYWJsZWQgPSAhIWRpc2FibGVkO1xuICAgIGlmIChkZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3IgJiYgIShcIndlYlNvY2tldENvbnN0cnVjdG9yXCIgaW4gYmFzZU9wdGlvbnMpICYmIHR5cGVvZiBXZWJTb2NrZXQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGJhc2VPcHRpb25zLndlYlNvY2tldENvbnN0cnVjdG9yID0gZGVmYXVsdFdlYlNvY2tldENvbnN0cnVjdG9yO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiAmJiAhKFwidW5zYXZlZENoYW5nZXNXYXJuaW5nXCIgaW4gYmFzZU9wdGlvbnMpKSB7XG4gICAgICBiYXNlT3B0aW9ucy51bnNhdmVkQ2hhbmdlc1dhcm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICB0aGlzLl9jbGllbnQgPSBuZXcgQmFzZUNvbnZleENsaWVudChcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICB9LFxuICAgICAgICAvLyBOT1AsIGxldCB0aGUgcGFnaW5hdGVkIHF1ZXJ5IGNsaWVudCBkbyBpdCBhbGxcbiAgICAgICAgYmFzZU9wdGlvbnNcbiAgICAgICk7XG4gICAgICB0aGlzLl9wYWdpbmF0ZWRDbGllbnQgPSBuZXcgUGFnaW5hdGVkUXVlcnlDbGllbnQoXG4gICAgICAgIHRoaXMuX2NsaWVudCxcbiAgICAgICAgKHRyYW5zaXRpb24pID0+IHRoaXMuX3RyYW5zaXRpb24odHJhbnNpdGlvbilcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMubGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgfVxuICAvKipcbiAgICogT25jZSBjbG9zZWQgbm8gcmVnaXN0ZXJlZCBjYWxsYmFja3Mgd2lsbCBmaXJlIGFnYWluLlxuICAgKi9cbiAgZ2V0IGNsb3NlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2xvc2VkO1xuICB9XG4gIGdldCBjbGllbnQoKSB7XG4gICAgaWYgKHRoaXMuX2NsaWVudCkgcmV0dXJuIHRoaXMuX2NsaWVudDtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb252ZXhDbGllbnQgaXMgZGlzYWJsZWRcIik7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZ2V0IHBhZ2luYXRlZENsaWVudCgpIHtcbiAgICBpZiAodGhpcy5fcGFnaW5hdGVkQ2xpZW50KSByZXR1cm4gdGhpcy5fcGFnaW5hdGVkQ2xpZW50O1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleENsaWVudCBpcyBkaXNhYmxlZFwiKTtcbiAgfVxuICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsIGEgY2FsbGJhY2sgd2hlbmV2ZXIgYSBuZXcgcmVzdWx0IGZvciBhIHF1ZXJ5IGlzIHJlY2VpdmVkLiBUaGUgY2FsbGJhY2tcbiAgICogd2lsbCBydW4gc29vbiBhZnRlciBiZWluZyByZWdpc3RlcmVkIGlmIGEgcmVzdWx0IGZvciB0aGUgcXVlcnkgaXMgYWxyZWFkeVxuICAgKiBpbiBtZW1vcnkuXG4gICAqXG4gICAqIFRoZSByZXR1cm4gdmFsdWUgaXMgYW4ge0BsaW5rIFVuc3Vic2NyaWJlfSBvYmplY3Qgd2hpY2ggaXMgYm90aCBhIGZ1bmN0aW9uXG4gICAqIGFuIGFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMuIEJvdGggb2YgdGhlIHBhdHRlcm5zIGJlbG93IHdvcmsgd2l0aCB0aGlzIG9iamVjdDpcbiAgICpcbiAgICpgYGB0c1xuICAgKiAvLyBjYWxsIHRoZSByZXR1cm4gdmFsdWUgYXMgYSBmdW5jdGlvblxuICAgKiBjb25zdCB1bnN1YnNjcmliZSA9IGNsaWVudC5vblVwZGF0ZShhcGkubWVzc2FnZXMubGlzdCwge30sIChtZXNzYWdlcykgPT4ge1xuICAgKiAgIGNvbnNvbGUubG9nKG1lc3NhZ2VzKTtcbiAgICogfSk7XG4gICAqIHVuc3Vic2NyaWJlKCk7XG4gICAqXG4gICAqIC8vIHVucGFjayB0aGUgcmV0dXJuIHZhbHVlIGludG8gaXRzIHByb3BlcnRpZXNcbiAgICogY29uc3Qge1xuICAgKiAgIGdldEN1cnJlbnRWYWx1ZSxcbiAgICogICB1bnN1YnNjcmliZSxcbiAgICogfSA9IGNsaWVudC5vblVwZGF0ZShhcGkubWVzc2FnZXMubGlzdCwge30sIChtZXNzYWdlcykgPT4ge1xuICAgKiAgIGNvbnNvbGUubG9nKG1lc3NhZ2VzKTtcbiAgICogfSk7XG4gICAqYGBgXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBwdWJsaWMgcXVlcnkgdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gcnVuIHRoZSBxdWVyeSB3aXRoLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIHF1ZXJ5IHJlc3VsdCB1cGRhdGVzLlxuICAgKiBAcGFyYW0gb25FcnJvciAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgcXVlcnkgcmVzdWx0IHVwZGF0ZXMgd2l0aCBhbiBlcnJvci5cbiAgICogSWYgbm90IHByb3ZpZGVkLCBlcnJvcnMgd2lsbCBiZSB0aHJvd24gaW5zdGVhZCBvZiBjYWxsaW5nIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogQHJldHVybiBhbiB7QGxpbmsgVW5zdWJzY3JpYmV9IGZ1bmN0aW9uIHRvIHN0b3AgY2FsbGluZyB0aGUgb25VcGRhdGUgZnVuY3Rpb24uXG4gICAqL1xuICBvblVwZGF0ZShxdWVyeSwgYXJncywgY2FsbGJhY2ssIG9uRXJyb3IpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlRGlzYWJsZWRVbnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICBjb25zdCB7IHF1ZXJ5VG9rZW4sIHVuc3Vic2NyaWJlIH0gPSB0aGlzLmNsaWVudC5zdWJzY3JpYmUoXG4gICAgICBnZXRGdW5jdGlvbk5hbWUocXVlcnkpLFxuICAgICAgYXJnc1xuICAgICk7XG4gICAgY29uc3QgcXVlcnlJbmZvID0ge1xuICAgICAgcXVlcnlUb2tlbixcbiAgICAgIGNhbGxiYWNrLFxuICAgICAgb25FcnJvcixcbiAgICAgIHVuc3Vic2NyaWJlLFxuICAgICAgaGFzRXZlclJ1bjogZmFsc2UsXG4gICAgICBxdWVyeSxcbiAgICAgIGFyZ3MsXG4gICAgICBwYWdpbmF0aW9uT3B0aW9uczogdm9pZCAwXG4gICAgfTtcbiAgICB0aGlzLmxpc3RlbmVycy5hZGQocXVlcnlJbmZvKTtcbiAgICBpZiAodGhpcy5xdWVyeVJlc3VsdFJlYWR5KHF1ZXJ5VG9rZW4pICYmIHRoaXMuY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzVGltZXIgPT09IHZvaWQgMCkge1xuICAgICAgdGhpcy5jYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXNUaW1lciA9IHNldFRpbWVvdXQoXG4gICAgICAgICgpID0+IHRoaXMuY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzKCksXG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHVuc3Vic2NyaWJlUHJvcHMgPSB7XG4gICAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKHF1ZXJ5SW5mbyk7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB9LFxuICAgICAgZ2V0Q3VycmVudFZhbHVlOiAoKSA9PiB0aGlzLmNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihxdWVyeVRva2VuKSxcbiAgICAgIGdldFF1ZXJ5TG9nczogKCkgPT4gdGhpcy5jbGllbnQubG9jYWxRdWVyeUxvZ3MocXVlcnlUb2tlbilcbiAgICB9O1xuICAgIGNvbnN0IHJldCA9IHVuc3Vic2NyaWJlUHJvcHMudW5zdWJzY3JpYmU7XG4gICAgT2JqZWN0LmFzc2lnbihyZXQsIHVuc3Vic2NyaWJlUHJvcHMpO1xuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgLyoqXG4gICAqIENhbGwgYSBjYWxsYmFjayB3aGVuZXZlciBhIG5ldyByZXN1bHQgZm9yIGEgcGFnaW5hdGVkIHF1ZXJ5IGlzIHJlY2VpdmVkLlxuICAgKlxuICAgKiBUaGlzIGlzIGFuIGV4cGVyaW1lbnRhbCBwcmV2aWV3OiB0aGUgZmluYWwgQVBJIG1heSBjaGFuZ2UuXG4gICAqIEluIHBhcnRpY3VsYXIsIGNhY2hpbmcgYmVoYXZpb3IsIHBhZ2Ugc3BsaXR0aW5nLCBhbmQgcmVxdWlyZWQgcGFnaW5hdGVkIHF1ZXJ5IG9wdGlvbnNcbiAgICogbWF5IGNoYW5nZS5cbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5IC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBxdWVyeSB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyB0byBydW4gdGhlIHF1ZXJ5IHdpdGguXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIHBhZ2luYXRlZCBxdWVyeSBpbmNsdWRpbmcgaW5pdGlhbE51bUl0ZW1zIGFuZCBpZC5cbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBxdWVyeSByZXN1bHQgdXBkYXRlcy5cbiAgICogQHBhcmFtIG9uRXJyb3IgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIHF1ZXJ5IHJlc3VsdCB1cGRhdGVzIHdpdGggYW4gZXJyb3IuXG4gICAqXG4gICAqIEByZXR1cm4gYW4ge0BsaW5rIFVuc3Vic2NyaWJlfSBmdW5jdGlvbiB0byBzdG9wIGNhbGxpbmcgdGhlIGNhbGxiYWNrLlxuICAgKi9cbiAgb25QYWdpbmF0ZWRVcGRhdGVfZXhwZXJpbWVudGFsKHF1ZXJ5LCBhcmdzLCBvcHRpb25zLCBjYWxsYmFjaywgb25FcnJvcikge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcmVhdGVEaXNhYmxlZFVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICAgIGNvbnN0IHBhZ2luYXRpb25PcHRpb25zID0ge1xuICAgICAgaW5pdGlhbE51bUl0ZW1zOiBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyxcbiAgICAgIGlkOiAtMVxuICAgIH07XG4gICAgY29uc3QgeyBwYWdpbmF0ZWRRdWVyeVRva2VuLCB1bnN1YnNjcmliZSB9ID0gdGhpcy5wYWdpbmF0ZWRDbGllbnQuc3Vic2NyaWJlKFxuICAgICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSxcbiAgICAgIGFyZ3MsXG4gICAgICAvLyBTaW1wbGUgY2xpZW50IGRvZXNuJ3QgdXNlIElEcywgdGhlcmUncyBubyBleHBlY3RhdGlvbiB0aGF0IHRoZXNlIHF1ZXJpZXMgcmVtYWluIHNlcGFyYXRlLlxuICAgICAgcGFnaW5hdGlvbk9wdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IHF1ZXJ5SW5mbyA9IHtcbiAgICAgIHF1ZXJ5VG9rZW46IHBhZ2luYXRlZFF1ZXJ5VG9rZW4sXG4gICAgICBjYWxsYmFjayxcbiAgICAgIG9uRXJyb3IsXG4gICAgICB1bnN1YnNjcmliZSxcbiAgICAgIGhhc0V2ZXJSdW46IGZhbHNlLFxuICAgICAgcXVlcnksXG4gICAgICBhcmdzLFxuICAgICAgcGFnaW5hdGlvbk9wdGlvbnNcbiAgICB9O1xuICAgIHRoaXMubGlzdGVuZXJzLmFkZChxdWVyeUluZm8pO1xuICAgIGlmICghIXRoaXMucGFnaW5hdGVkQ2xpZW50LmxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHBhZ2luYXRlZFF1ZXJ5VG9rZW4pICYmIHRoaXMuY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzVGltZXIgPT09IHZvaWQgMCkge1xuICAgICAgdGhpcy5jYWxsTmV3TGlzdGVuZXJzV2l0aEN1cnJlbnRWYWx1ZXNUaW1lciA9IHNldFRpbWVvdXQoXG4gICAgICAgICgpID0+IHRoaXMuY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzKCksXG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHVuc3Vic2NyaWJlUHJvcHMgPSB7XG4gICAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuZGVsZXRlKHF1ZXJ5SW5mbyk7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB9LFxuICAgICAgZ2V0Q3VycmVudFZhbHVlOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucGFnaW5hdGVkQ2xpZW50LmxvY2FsUXVlcnlSZXN1bHQoXG4gICAgICAgICAgZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSxcbiAgICAgICAgICBhcmdzLFxuICAgICAgICAgIHBhZ2luYXRpb25PcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgZ2V0UXVlcnlMb2dzOiAoKSA9PiBbXVxuICAgICAgLy8gUGFnaW5hdGVkIHF1ZXJpZXMgZG9uJ3QgYWdncmVnYXRlIHRoZWlyIGxvZ3NcbiAgICB9O1xuICAgIGNvbnN0IHJldCA9IHVuc3Vic2NyaWJlUHJvcHMudW5zdWJzY3JpYmU7XG4gICAgT2JqZWN0LmFzc2lnbihyZXQsIHVuc3Vic2NyaWJlUHJvcHMpO1xuICAgIHJldHVybiByZXQ7XG4gIH1cbiAgLy8gUnVuIGFsbCBjYWxsYmFja3MgdGhhdCBoYXZlIG5ldmVyIGJlZW4gcnVuIGJlZm9yZSBpZiB0aGV5IGhhdmUgYSBxdWVyeVxuICAvLyByZXN1bHQgYXZhaWxhYmxlIG5vdy5cbiAgY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzKCkge1xuICAgIHRoaXMuY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzVGltZXIgPSB2b2lkIDA7XG4gICAgdGhpcy5fdHJhbnNpdGlvbih7IHF1ZXJpZXM6IFtdLCBwYWdpbmF0ZWRRdWVyaWVzOiBbXSB9LCB0cnVlKTtcbiAgfVxuICBxdWVyeVJlc3VsdFJlYWR5KHF1ZXJ5VG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnQuaGFzTG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbik7XG4gIH1cbiAgY3JlYXRlRGlzYWJsZWRVbnN1YnNjcmliZSgpIHtcbiAgICBjb25zdCBkaXNhYmxlZFVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgIH07XG4gICAgY29uc3QgdW5zdWJzY3JpYmVQcm9wcyA9IHtcbiAgICAgIHVuc3Vic2NyaWJlOiBkaXNhYmxlZFVuc3Vic2NyaWJlLFxuICAgICAgZ2V0Q3VycmVudFZhbHVlOiAoKSA9PiB2b2lkIDAsXG4gICAgICBnZXRRdWVyeUxvZ3M6ICgpID0+IHZvaWQgMFxuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbihkaXNhYmxlZFVuc3Vic2NyaWJlLCB1bnN1YnNjcmliZVByb3BzKTtcbiAgICByZXR1cm4gZGlzYWJsZWRVbnN1YnNjcmliZTtcbiAgfVxuICBhc3luYyBjbG9zZSgpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICAgIHRoaXMubGlzdGVuZXJzLmNsZWFyKCk7XG4gICAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5fcGFnaW5hdGVkQ2xpZW50KSB7XG4gICAgICB0aGlzLl9wYWdpbmF0ZWRDbGllbnQgPSB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsaWVudC5jbG9zZSgpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgSldUIGF1dGggdG9rZW4gYW5kIGRlY29kZWQgY2xhaW1zLlxuICAgKi9cbiAgZ2V0QXV0aCgpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgcmV0dXJuO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5nZXRDdXJyZW50QXV0aENsYWltcygpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuIHRvIGJlIHVzZWQgZm9yIHN1YnNlcXVlbnQgcXVlcmllcyBhbmQgbXV0YXRpb25zLlxuICAgKiBgZmV0Y2hUb2tlbmAgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBhZ2FpbiBpZiBhIHRva2VuIGV4cGlyZXMuXG4gICAqIGBmZXRjaFRva2VuYCBzaG91bGQgcmV0dXJuIGBudWxsYCBpZiB0aGUgdG9rZW4gY2Fubm90IGJlIHJldHJpZXZlZCwgZm9yIGV4YW1wbGVcbiAgICogd2hlbiB0aGUgdXNlcidzIHJpZ2h0cyB3ZXJlIHBlcm1hbmVudGx5IHJldm9rZWQuXG4gICAqIEBwYXJhbSBmZXRjaFRva2VuIC0gYW4gYXN5bmMgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBKV1QgKHR5cGljYWxseSBhbiBPcGVuSUQgQ29ubmVjdCBJZGVudGl0eSBUb2tlbilcbiAgICogQHBhcmFtIG9uQ2hhbmdlIC0gYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHN0YXR1cyBjaGFuZ2VzXG4gICAqL1xuICBzZXRBdXRoKGZldGNoVG9rZW4sIG9uQ2hhbmdlKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjtcbiAgICB0aGlzLmNsaWVudC5zZXRBdXRoKFxuICAgICAgZmV0Y2hUb2tlbixcbiAgICAgIG9uQ2hhbmdlID8/ICgoKSA9PiB7XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0QWRtaW5BdXRoKHRva2VuLCBpZGVudGl0eSkge1xuICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHJldHVybjtcbiAgICB0aGlzLmNsaWVudC5zZXRBZG1pbkF1dGgodG9rZW4sIGlkZW50aXR5KTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfdHJhbnNpdGlvbih7XG4gICAgcXVlcmllcyxcbiAgICBwYWdpbmF0ZWRRdWVyaWVzXG4gIH0sIGNhbGxOZXdMaXN0ZW5lcnMgPSBmYWxzZSkge1xuICAgIGNvbnN0IHVwZGF0ZWRRdWVyaWVzID0gW1xuICAgICAgLi4ucXVlcmllcy5tYXAoKHEpID0+IHEudG9rZW4pLFxuICAgICAgLi4ucGFnaW5hdGVkUXVlcmllcy5tYXAoKHEpID0+IHEudG9rZW4pXG4gICAgXTtcbiAgICBmb3IgKGNvbnN0IHF1ZXJ5SW5mbyBvZiB0aGlzLmxpc3RlbmVycykge1xuICAgICAgY29uc3QgeyBjYWxsYmFjaywgcXVlcnlUb2tlbiwgb25FcnJvciwgaGFzRXZlclJ1biB9ID0gcXVlcnlJbmZvO1xuICAgICAgY29uc3QgaXNQYWdpbmF0ZWRRdWVyeSA9IHNlcmlhbGl6ZWRRdWVyeVRva2VuSXNQYWdpbmF0ZWQocXVlcnlUb2tlbik7XG4gICAgICBjb25zdCBoYXNSZXN1bHRSZWFkeSA9IGlzUGFnaW5hdGVkUXVlcnkgPyAhIXRoaXMucGFnaW5hdGVkQ2xpZW50LmxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHF1ZXJ5VG9rZW4pIDogdGhpcy5jbGllbnQuaGFzTG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbik7XG4gICAgICBpZiAodXBkYXRlZFF1ZXJpZXMuaW5jbHVkZXMocXVlcnlUb2tlbikgfHwgY2FsbE5ld0xpc3RlbmVycyAmJiAhaGFzRXZlclJ1biAmJiBoYXNSZXN1bHRSZWFkeSkge1xuICAgICAgICBxdWVyeUluZm8uaGFzRXZlclJ1biA9IHRydWU7XG4gICAgICAgIGxldCBuZXdWYWx1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoaXNQYWdpbmF0ZWRRdWVyeSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0aGlzLnBhZ2luYXRlZENsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihxdWVyeVRva2VuKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0aGlzLmNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihxdWVyeVRva2VuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpIHRocm93IGVycm9yO1xuICAgICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICBvbkVycm9yKFxuICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgXCJTZWNvbmQgYXJndW1lbnQgdG8gb25VcGRhdGUgb25FcnJvciBpcyByZXNlcnZlZCBmb3IgbGF0ZXIgdXNlXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZvaWQgUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICBcIlNlY29uZCBhcmd1bWVudCB0byBvblVwZGF0ZSBjYWxsYmFjayBpcyByZXNlcnZlZCBmb3IgbGF0ZXIgdXNlXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBtdXRhdGlvbiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBtdXRhdGlvblxuICAgKiB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIE11dGF0aW9uT3B0aW9uc30gb3B0aW9ucyBvYmplY3QgZm9yIHRoZSBtdXRhdGlvbi5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBtdXRhdGlvbidzIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIG11dGF0aW9uKG11dGF0aW9uLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHRocm93IG5ldyBFcnJvcihcIkNvbnZleENsaWVudCBpcyBkaXNhYmxlZFwiKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQubXV0YXRpb24oZ2V0RnVuY3Rpb25OYW1lKG11dGF0aW9uKSwgYXJncywgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYW4gYWN0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYWN0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBhY3Rpb25cbiAgICogdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBhY3Rpb24uXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgYWN0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYXN5bmMgYWN0aW9uKGFjdGlvbiwgYXJncykge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB0aHJvdyBuZXcgRXJyb3IoXCJDb252ZXhDbGllbnQgaXMgZGlzYWJsZWRcIik7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmFjdGlvbihnZXRGdW5jdGlvbk5hbWUoYWN0aW9uKSwgYXJncyk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcXVlcnkgcmVzdWx0IG9uY2UuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBwdWJsaWMgcXVlcnlcbiAgICogdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBxdWVyeS5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBxdWVyeSdzIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIHF1ZXJ5KHF1ZXJ5LCBhcmdzKSB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQpIHRocm93IG5ldyBFcnJvcihcIkNvbnZleENsaWVudCBpcyBkaXNhYmxlZFwiKTtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuY2xpZW50LmxvY2FsUXVlcnlSZXN1bHQoZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSwgYXJncyk7XG4gICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB7IHVuc3Vic2NyaWJlIH0gPSB0aGlzLm9uVXBkYXRlKFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgYXJncyxcbiAgICAgICAgKHZhbHVlMikgPT4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZTIpO1xuICAgICAgICB9LFxuICAgICAgICAoZSkgPT4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQge0BsaW5rIENvbm5lY3Rpb25TdGF0ZX0gYmV0d2VlbiB0aGUgY2xpZW50IGFuZCB0aGUgQ29udmV4XG4gICAqIGJhY2tlbmQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSB3aXRoIHRoZSBDb252ZXggYmFja2VuZC5cbiAgICovXG4gIGNvbm5lY3Rpb25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCkgdGhyb3cgbmV3IEVycm9yKFwiQ29udmV4Q2xpZW50IGlzIGRpc2FibGVkXCIpO1xuICAgIHJldHVybiB0aGlzLmNsaWVudC5jb25uZWN0aW9uU3RhdGUoKTtcbiAgfVxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSBiZXR3ZWVuIHRoZSBjbGllbnQgYW5kIHRoZSBDb252ZXhcbiAgICogYmFja2VuZCwgY2FsbGluZyBhIGNhbGxiYWNrIGVhY2ggdGltZSBpdCBjaGFuZ2VzLlxuICAgKlxuICAgKiBTdWJzY3JpYmVkIGNhbGxiYWNrcyB3aWxsIGJlIGNhbGxlZCB3aGVuIGFueSBwYXJ0IG9mIENvbm5lY3Rpb25TdGF0ZSBjaGFuZ2VzLlxuICAgKiBDb25uZWN0aW9uU3RhdGUgbWF5IGdyb3cgaW4gZnV0dXJlIHZlcnNpb25zIChlLmcuIHRvIHByb3ZpZGUgYSBhcnJheSBvZlxuICAgKiBpbmZsaWdodCByZXF1ZXN0cykgaW4gd2hpY2ggY2FzZSBjYWxsYmFja3Mgd291bGQgYmUgY2FsbGVkIG1vcmUgZnJlcXVlbnRseS5cbiAgICpcbiAgICogQHJldHVybnMgQW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gdG8gc3RvcCBsaXN0ZW5pbmcuXG4gICAqL1xuICBzdWJzY3JpYmVUb0Nvbm5lY3Rpb25TdGF0ZShjYikge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSByZXR1cm4gKCkgPT4ge1xuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnN1YnNjcmliZVRvQ29ubmVjdGlvblN0YXRlKGNiKTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2ltcGxlX2NsaWVudC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsInZhbGlkYXRlRGVwbG95bWVudFVybCIsIkJhc2VDb252ZXhDbGllbnQiLCJnZXRGdW5jdGlvbk5hbWUiLCJQYWdpbmF0ZWRRdWVyeUNsaWVudCIsInNlcmlhbGl6ZWRRdWVyeVRva2VuSXNQYWdpbmF0ZWQiLCJkZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3IiLCJzZXREZWZhdWx0V2ViU29ja2V0Q29uc3RydWN0b3IiLCJ3cyIsIkNvbnZleENsaWVudCIsImNvbnN0cnVjdG9yIiwiYWRkcmVzcyIsIm9wdGlvbnMiLCJza2lwQ29udmV4RGVwbG95bWVudFVybENoZWNrIiwiZGlzYWJsZWQiLCJiYXNlT3B0aW9ucyIsIl9jbG9zZWQiLCJfZGlzYWJsZWQiLCJXZWJTb2NrZXQiLCJ3ZWJTb2NrZXRDb25zdHJ1Y3RvciIsInVuc2F2ZWRDaGFuZ2VzV2FybmluZyIsIl9jbGllbnQiLCJfcGFnaW5hdGVkQ2xpZW50IiwidHJhbnNpdGlvbiIsIl90cmFuc2l0aW9uIiwibGlzdGVuZXJzIiwiU2V0IiwiY2xvc2VkIiwiY2xpZW50IiwiRXJyb3IiLCJwYWdpbmF0ZWRDbGllbnQiLCJvblVwZGF0ZSIsInF1ZXJ5IiwiYXJncyIsImNhbGxiYWNrIiwib25FcnJvciIsImNyZWF0ZURpc2FibGVkVW5zdWJzY3JpYmUiLCJxdWVyeVRva2VuIiwidW5zdWJzY3JpYmUiLCJzdWJzY3JpYmUiLCJxdWVyeUluZm8iLCJoYXNFdmVyUnVuIiwicGFnaW5hdGlvbk9wdGlvbnMiLCJhZGQiLCJxdWVyeVJlc3VsdFJlYWR5IiwiY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzVGltZXIiLCJzZXRUaW1lb3V0IiwiY2FsbE5ld0xpc3RlbmVyc1dpdGhDdXJyZW50VmFsdWVzIiwidW5zdWJzY3JpYmVQcm9wcyIsImRlbGV0ZSIsImdldEN1cnJlbnRWYWx1ZSIsImxvY2FsUXVlcnlSZXN1bHRCeVRva2VuIiwiZ2V0UXVlcnlMb2dzIiwibG9jYWxRdWVyeUxvZ3MiLCJyZXQiLCJhc3NpZ24iLCJvblBhZ2luYXRlZFVwZGF0ZV9leHBlcmltZW50YWwiLCJpbml0aWFsTnVtSXRlbXMiLCJpZCIsInBhZ2luYXRlZFF1ZXJ5VG9rZW4iLCJyZXN1bHQiLCJsb2NhbFF1ZXJ5UmVzdWx0IiwicXVlcmllcyIsInBhZ2luYXRlZFF1ZXJpZXMiLCJoYXNMb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbiIsImRpc2FibGVkVW5zdWJzY3JpYmUiLCJjbG9zZSIsImNsZWFyIiwiZ2V0QXV0aCIsImdldEN1cnJlbnRBdXRoQ2xhaW1zIiwic2V0QXV0aCIsImZldGNoVG9rZW4iLCJvbkNoYW5nZSIsInNldEFkbWluQXV0aCIsInRva2VuIiwiaWRlbnRpdHkiLCJjYWxsTmV3TGlzdGVuZXJzIiwidXBkYXRlZFF1ZXJpZXMiLCJtYXAiLCJxIiwiaXNQYWdpbmF0ZWRRdWVyeSIsImhhc1Jlc3VsdFJlYWR5IiwiaW5jbHVkZXMiLCJuZXdWYWx1ZSIsImVycm9yIiwiUHJvbWlzZSIsInJlamVjdCIsIm11dGF0aW9uIiwiYWN0aW9uIiwicmVzb2x2ZSIsInZhbHVlMiIsImUiLCJjb25uZWN0aW9uU3RhdGUiLCJzdWJzY3JpYmVUb0Nvbm5lY3Rpb25TdGF0ZSIsImNiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/simple_client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/authentication_manager.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthenticationManager: () => (/* binding */ AuthenticationManager)\n/* harmony export */ });\n/* harmony import */ var _vendor_jwt_decode_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../vendor/jwt-decode/index.js */ \"(ssr)/./node_modules/convex/dist/esm/vendor/jwt-decode/index.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nconst MAXIMUM_REFRESH_DELAY = 20 * 24 * 60 * 60 * 1e3;\nconst MAX_TOKEN_CONFIRMATION_ATTEMPTS = 2;\nclass AuthenticationManager {\n    constructor(syncState, callbacks, config){\n        __publicField(this, \"authState\", {\n            state: \"noAuth\"\n        });\n        // Used to detect races involving `setConfig` calls\n        // while a token is being fetched.\n        __publicField(this, \"configVersion\", 0);\n        // Shared by the BaseClient so that the auth manager can easily inspect it\n        __publicField(this, \"syncState\");\n        // Passed down by BaseClient, sends a message to the server\n        __publicField(this, \"authenticate\");\n        __publicField(this, \"stopSocket\");\n        __publicField(this, \"tryRestartSocket\");\n        __publicField(this, \"pauseSocket\");\n        __publicField(this, \"resumeSocket\");\n        // Passed down by BaseClient, sends a message to the server\n        __publicField(this, \"clearAuth\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"refreshTokenLeewaySeconds\");\n        // Number of times we have attempted to confirm the latest token. We retry up\n        // to `MAX_TOKEN_CONFIRMATION_ATTEMPTS` times.\n        __publicField(this, \"tokenConfirmationAttempts\", 0);\n        this.syncState = syncState;\n        this.authenticate = callbacks.authenticate;\n        this.stopSocket = callbacks.stopSocket;\n        this.tryRestartSocket = callbacks.tryRestartSocket;\n        this.pauseSocket = callbacks.pauseSocket;\n        this.resumeSocket = callbacks.resumeSocket;\n        this.clearAuth = callbacks.clearAuth;\n        this.logger = config.logger;\n        this.refreshTokenLeewaySeconds = config.refreshTokenLeewaySeconds;\n    }\n    async setConfig(fetchToken, onChange) {\n        this.resetAuthState();\n        this._logVerbose(\"pausing WS for auth token fetch\");\n        this.pauseSocket();\n        const token = await this.fetchTokenAndGuardAgainstRace(fetchToken, {\n            forceRefreshToken: false\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value) {\n            this.setAuthState({\n                state: \"waitingForServerConfirmationOfCachedToken\",\n                config: {\n                    fetchToken,\n                    onAuthChange: onChange\n                },\n                hasRetried: false\n            });\n            this.authenticate(token.value);\n        } else {\n            this.setAuthState({\n                state: \"initialRefetch\",\n                config: {\n                    fetchToken,\n                    onAuthChange: onChange\n                }\n            });\n            await this.refetchToken();\n        }\n        this._logVerbose(\"resuming WS after auth token fetch\");\n        this.resumeSocket();\n    }\n    onTransition(serverMessage) {\n        if (!this.syncState.isCurrentOrNewerAuthVersion(serverMessage.endVersion.identity)) {\n            return;\n        }\n        if (serverMessage.endVersion.identity <= serverMessage.startVersion.identity) {\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfCachedToken\") {\n            this._logVerbose(\"server confirmed auth token is valid\");\n            void this.refetchToken();\n            this.authState.config.onAuthChange(true);\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfFreshToken\") {\n            this._logVerbose(\"server confirmed new auth token is valid\");\n            this.scheduleTokenRefetch(this.authState.token);\n            this.tokenConfirmationAttempts = 0;\n            if (!this.authState.hadAuth) {\n                this.authState.config.onAuthChange(true);\n            }\n        }\n    }\n    onAuthError(serverMessage) {\n        if (serverMessage.authUpdateAttempted === false && (this.authState.state === \"waitingForServerConfirmationOfFreshToken\" || this.authState.state === \"waitingForServerConfirmationOfCachedToken\")) {\n            this._logVerbose(\"ignoring non-auth token expired error\");\n            return;\n        }\n        const { baseVersion } = serverMessage;\n        if (!this.syncState.isCurrentOrNewerAuthVersion(baseVersion + 1)) {\n            this._logVerbose(\"ignoring auth error for previous auth attempt\");\n            return;\n        }\n        void this.tryToReauthenticate(serverMessage);\n        return;\n    }\n    // This is similar to `refetchToken` defined below, in fact we\n    // don't represent them as different states, but it is different\n    // in that we pause the WebSocket so that mutations\n    // don't retry with bad auth.\n    async tryToReauthenticate(serverMessage) {\n        this._logVerbose(`attempting to reauthenticate: ${serverMessage.error}`);\n        if (// No way to fetch another token, kaboom\n        this.authState.state === \"noAuth\" || // We failed on a fresh token. After a small number of retries, we give up\n        // and clear the auth state to avoid infinite retries.\n        this.authState.state === \"waitingForServerConfirmationOfFreshToken\" && this.tokenConfirmationAttempts >= MAX_TOKEN_CONFIRMATION_ATTEMPTS) {\n            this.logger.error(`Failed to authenticate: \"${serverMessage.error}\", check your server auth config`);\n            if (this.syncState.hasAuth()) {\n                this.syncState.clearAuth();\n            }\n            if (this.authState.state !== \"noAuth\") {\n                this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n            }\n            return;\n        }\n        if (this.authState.state === \"waitingForServerConfirmationOfFreshToken\") {\n            this.tokenConfirmationAttempts++;\n            this._logVerbose(`retrying reauthentication, ${MAX_TOKEN_CONFIRMATION_ATTEMPTS - this.tokenConfirmationAttempts} attempts remaining`);\n        }\n        await this.stopSocket();\n        const token = await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken, {\n            forceRefreshToken: true\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value && this.syncState.isNewAuth(token.value)) {\n            this.authenticate(token.value);\n            this.setAuthState({\n                state: \"waitingForServerConfirmationOfFreshToken\",\n                config: this.authState.config,\n                token: token.value,\n                hadAuth: this.authState.state === \"notRefetching\" || this.authState.state === \"waitingForScheduledRefetch\"\n            });\n        } else {\n            this._logVerbose(\"reauthentication failed, could not fetch a new token\");\n            if (this.syncState.hasAuth()) {\n                this.syncState.clearAuth();\n            }\n            this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n        }\n        this.tryRestartSocket();\n    }\n    // Force refetch the token and schedule another refetch\n    // before the token expires - an active client should never\n    // need to reauthenticate.\n    async refetchToken() {\n        if (this.authState.state === \"noAuth\") {\n            return;\n        }\n        this._logVerbose(\"refetching auth token\");\n        const token = await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken, {\n            forceRefreshToken: true\n        });\n        if (token.isFromOutdatedConfig) {\n            return;\n        }\n        if (token.value) {\n            if (this.syncState.isNewAuth(token.value)) {\n                this.setAuthState({\n                    state: \"waitingForServerConfirmationOfFreshToken\",\n                    hadAuth: this.syncState.hasAuth(),\n                    token: token.value,\n                    config: this.authState.config\n                });\n                this.authenticate(token.value);\n            } else {\n                this.setAuthState({\n                    state: \"notRefetching\",\n                    config: this.authState.config\n                });\n            }\n        } else {\n            this._logVerbose(\"refetching token failed\");\n            if (this.syncState.hasAuth()) {\n                this.clearAuth();\n            }\n            this.setAndReportAuthFailed(this.authState.config.onAuthChange);\n        }\n        this._logVerbose(\"restarting WS after auth token fetch (if currently stopped)\");\n        this.tryRestartSocket();\n    }\n    scheduleTokenRefetch(token) {\n        if (this.authState.state === \"noAuth\") {\n            return;\n        }\n        const decodedToken = this.decodeToken(token);\n        if (!decodedToken) {\n            this.logger.error(\"Auth token is not a valid JWT, cannot refetch the token\");\n            return;\n        }\n        const { iat, exp } = decodedToken;\n        if (!iat || !exp) {\n            this.logger.error(\"Auth token does not have required fields, cannot refetch the token\");\n            return;\n        }\n        const tokenValiditySeconds = exp - iat;\n        if (tokenValiditySeconds <= 2) {\n            this.logger.error(\"Auth token does not live long enough, cannot refetch the token\");\n            return;\n        }\n        let delay = Math.min(MAXIMUM_REFRESH_DELAY, (tokenValiditySeconds - this.refreshTokenLeewaySeconds) * 1e3);\n        if (delay <= 0) {\n            this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${tokenValiditySeconds}s`);\n            delay = 0;\n        }\n        const refetchTokenTimeoutId = setTimeout(()=>{\n            this._logVerbose(\"running scheduled token refetch\");\n            void this.refetchToken();\n        }, delay);\n        this.setAuthState({\n            state: \"waitingForScheduledRefetch\",\n            refetchTokenTimeoutId,\n            config: this.authState.config\n        });\n        this._logVerbose(`scheduled preemptive auth token refetching in ${delay}ms`);\n    }\n    // Protects against simultaneous calls to `setConfig`\n    // while we're fetching a token\n    async fetchTokenAndGuardAgainstRace(fetchToken, fetchArgs) {\n        const originalConfigVersion = ++this.configVersion;\n        this._logVerbose(`fetching token with config version ${originalConfigVersion}`);\n        const token = await fetchToken(fetchArgs);\n        if (this.configVersion !== originalConfigVersion) {\n            this._logVerbose(`stale config version, expected ${originalConfigVersion}, got ${this.configVersion}`);\n            return {\n                isFromOutdatedConfig: true\n            };\n        }\n        return {\n            isFromOutdatedConfig: false,\n            value: token\n        };\n    }\n    stop() {\n        this.resetAuthState();\n        this.configVersion++;\n        this._logVerbose(`config version bumped to ${this.configVersion}`);\n    }\n    setAndReportAuthFailed(onAuthChange) {\n        onAuthChange(false);\n        this.resetAuthState();\n    }\n    resetAuthState() {\n        this.setAuthState({\n            state: \"noAuth\"\n        });\n    }\n    setAuthState(newAuth) {\n        const authStateForLog = newAuth.state === \"waitingForServerConfirmationOfFreshToken\" ? {\n            hadAuth: newAuth.hadAuth,\n            state: newAuth.state,\n            token: `...${newAuth.token.slice(-7)}`\n        } : {\n            state: newAuth.state\n        };\n        this._logVerbose(`setting auth state to ${JSON.stringify(authStateForLog)}`);\n        switch(newAuth.state){\n            case \"waitingForScheduledRefetch\":\n            case \"notRefetching\":\n            case \"noAuth\":\n                this.tokenConfirmationAttempts = 0;\n                break;\n            case \"waitingForServerConfirmationOfFreshToken\":\n            case \"waitingForServerConfirmationOfCachedToken\":\n            case \"initialRefetch\":\n                break;\n            default:\n                {\n                    newAuth;\n                }\n        }\n        if (this.authState.state === \"waitingForScheduledRefetch\") {\n            clearTimeout(this.authState.refetchTokenTimeoutId);\n            this.syncState.markAuthCompletion();\n        }\n        this.authState = newAuth;\n    }\n    decodeToken(token) {\n        try {\n            return (0,_vendor_jwt_decode_index_js__WEBPACK_IMPORTED_MODULE_0__.jwtDecode)(token);\n        } catch (e) {\n            this._logVerbose(`Error decoding token: ${e instanceof Error ? e.message : \"Unknown error\"}`);\n            return null;\n        }\n    }\n    _logVerbose(message) {\n        this.logger.logVerbose(`${message} [v${this.configVersion}]`);\n    }\n} //# sourceMappingURL=authentication_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9hdXRoZW50aWNhdGlvbl9tYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQzNDO0FBQzdELE1BQU1NLHdCQUF3QixLQUFLLEtBQUssS0FBSyxLQUFLO0FBQ2xELE1BQU1DLGtDQUFrQztBQUNqQyxNQUFNQztJQUNYQyxZQUFZQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxDQUFFO1FBQ3hDUixjQUFjLElBQUksRUFBRSxhQUFhO1lBQUVTLE9BQU87UUFBUztRQUNuRCxtREFBbUQ7UUFDbkQsa0NBQWtDO1FBQ2xDVCxjQUFjLElBQUksRUFBRSxpQkFBaUI7UUFDckMsMEVBQTBFO1FBQzFFQSxjQUFjLElBQUksRUFBRTtRQUNwQiwyREFBMkQ7UUFDM0RBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQiwyREFBMkQ7UUFDM0RBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsNkVBQTZFO1FBQzdFLDhDQUE4QztRQUM5Q0EsY0FBYyxJQUFJLEVBQUUsNkJBQTZCO1FBQ2pELElB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QUs7Z0JBQ0gsSUFBSSxDQUFDOEIseUJBQXlCLEdBQUc7Z0JBQ2pDO1lBQ0YsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO2dCQUNIO1lBQ0Y7Z0JBQVM7b0JBQ1B5QjtnQkFDRjtRQUNGO1FBQ0EsSUFBSSxJQUFJLENBQUMzQixTQUFTLENBQUM1QixLQUFLLEtBQUssOEJBQThCO1lBQ3pENEQsYUFBYSxJQUFJLENBQUNoQyxTQUFTLENBQUNxQixxQkFBcUI7WUFDakQsSUFBSSxDQUFDcEQsU0FBUyxDQUFDZ0Usa0JBQWtCO1FBQ25DO1FBQ0EsSUFBSSxDQUFDakMsU0FBUyxHQUFHMkI7SUFDbkI7SUFDQWQsWUFBWTNCLEtBQUssRUFBRTtRQUNqQixJQUFJO1lBQ0YsT0FBT3RCLHNFQUFTQSxDQUFDc0I7UUFDbkIsRUFBRSxPQUFPZ0QsR0FBRztZQUNWLElBQUksQ0FBQ2pELFdBQVcsQ0FDZCxDQUFDLHNCQUFzQixFQUFFaUQsYUFBYUMsUUFBUUQsRUFBRUUsT0FBTyxHQUFHLGdCQUFnQixDQUFDO1lBRTdFLE9BQU87UUFDVDtJQUNGO0lBQ0FuRCxZQUFZbUQsT0FBTyxFQUFFO1FBQ25CLElBQUksQ0FBQ3pELE1BQU0sQ0FBQzBELFVBQVUsQ0FBQyxDQUFDLEVBQUVELFFBQVEsR0FBRyxFQUFFLElBQUksQ0FBQ1gsYUFBYSxDQUFDLENBQUMsQ0FBQztJQUM5RDtBQUNGLEVBQ0Esa0RBQWtEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9hdXRoZW50aWNhdGlvbl9tYW5hZ2VyLmpzPzUxYjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsgand0RGVjb2RlIH0gZnJvbSBcIi4uLy4uL3ZlbmRvci9qd3QtZGVjb2RlL2luZGV4LmpzXCI7XG5jb25zdCBNQVhJTVVNX1JFRlJFU0hfREVMQVkgPSAyMCAqIDI0ICogNjAgKiA2MCAqIDFlMztcbmNvbnN0IE1BWF9UT0tFTl9DT05GSVJNQVRJT05fQVRURU1QVFMgPSAyO1xuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0aW9uTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHN5bmNTdGF0ZSwgY2FsbGJhY2tzLCBjb25maWcpIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiYXV0aFN0YXRlXCIsIHsgc3RhdGU6IFwibm9BdXRoXCIgfSk7XG4gICAgLy8gVXNlZCB0byBkZXRlY3QgcmFjZXMgaW52b2x2aW5nIGBzZXRDb25maWdgIGNhbGxzXG4gICAgLy8gd2hpbGUgYSB0b2tlbiBpcyBiZWluZyBmZXRjaGVkLlxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjb25maWdWZXJzaW9uXCIsIDApO1xuICAgIC8vIFNoYXJlZCBieSB0aGUgQmFzZUNsaWVudCBzbyB0aGF0IHRoZSBhdXRoIG1hbmFnZXIgY2FuIGVhc2lseSBpbnNwZWN0IGl0XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN5bmNTdGF0ZVwiKTtcbiAgICAvLyBQYXNzZWQgZG93biBieSBCYXNlQ2xpZW50LCBzZW5kcyBhIG1lc3NhZ2UgdG8gdGhlIHNlcnZlclxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhdXRoZW50aWNhdGVcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0b3BTb2NrZXRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInRyeVJlc3RhcnRTb2NrZXRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInBhdXNlU29ja2V0XCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZXN1bWVTb2NrZXRcIik7XG4gICAgLy8gUGFzc2VkIGRvd24gYnkgQmFzZUNsaWVudCwgc2VuZHMgYSBtZXNzYWdlIHRvIHRoZSBzZXJ2ZXJcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiY2xlYXJBdXRoXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJsb2dnZXJcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHNcIik7XG4gICAgLy8gTnVtYmVyIG9mIHRpbWVzIHdlIGhhdmUgYXR0ZW1wdGVkIHRvIGNvbmZpcm0gdGhlIGxhdGVzdCB0b2tlbi4gV2UgcmV0cnkgdXBcbiAgICAvLyB0byBgTUFYX1RPS0VOX0NPTkZJUk1BVElPTl9BVFRFTVBUU2AgdGltZXMuXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInRva2VuQ29uZmlybWF0aW9uQXR0ZW1wdHNcIiwgMCk7XG4gICAgdGhpcy5zeW5jU3RhdGUgPSBzeW5jU3RhdGU7XG4gICAgdGhpcy5hdXRoZW50aWNhdGUgPSBjYWxsYmFja3MuYXV0aGVudGljYXRlO1xuICAgIHRoaXMuc3RvcFNvY2tldCA9IGNhbGxiYWNrcy5zdG9wU29ja2V0O1xuICAgIHRoaXMudHJ5UmVzdGFydFNvY2tldCA9IGNhbGxiYWNrcy50cnlSZXN0YXJ0U29ja2V0O1xuICAgIHRoaXMucGF1c2VTb2NrZXQgPSBjYWxsYmFja3MucGF1c2VTb2NrZXQ7XG4gICAgdGhpcy5yZXN1bWVTb2NrZXQgPSBjYWxsYmFja3MucmVzdW1lU29ja2V0O1xuICAgIHRoaXMuY2xlYXJBdXRoID0gY2FsbGJhY2tzLmNsZWFyQXV0aDtcbiAgICB0aGlzLmxvZ2dlciA9IGNvbmZpZy5sb2dnZXI7XG4gICAgdGhpcy5yZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzID0gY29uZmlnLnJlZnJlc2hUb2tlbkxlZXdheVNlY29uZHM7XG4gIH1cbiAgYXN5bmMgc2V0Q29uZmlnKGZldGNoVG9rZW4sIG9uQ2hhbmdlKSB7XG4gICAgdGhpcy5yZXNldEF1dGhTdGF0ZSgpO1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJwYXVzaW5nIFdTIGZvciBhdXRoIHRva2VuIGZldGNoXCIpO1xuICAgIHRoaXMucGF1c2VTb2NrZXQoKTtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZmV0Y2hUb2tlbkFuZEd1YXJkQWdhaW5zdFJhY2UoZmV0Y2hUb2tlbiwge1xuICAgICAgZm9yY2VSZWZyZXNoVG9rZW46IGZhbHNlXG4gICAgfSk7XG4gICAgaWYgKHRva2VuLmlzRnJvbU91dGRhdGVkQ29uZmlnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0b2tlbi52YWx1ZSkge1xuICAgICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgICBzdGF0ZTogXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZDYWNoZWRUb2tlblwiLFxuICAgICAgICBjb25maWc6IHsgZmV0Y2hUb2tlbiwgb25BdXRoQ2hhbmdlOiBvbkNoYW5nZSB9LFxuICAgICAgICBoYXNSZXRyaWVkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0b2tlbi52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0QXV0aFN0YXRlKHtcbiAgICAgICAgc3RhdGU6IFwiaW5pdGlhbFJlZmV0Y2hcIixcbiAgICAgICAgY29uZmlnOiB7IGZldGNoVG9rZW4sIG9uQXV0aENoYW5nZTogb25DaGFuZ2UgfVxuICAgICAgfSk7XG4gICAgICBhd2FpdCB0aGlzLnJlZmV0Y2hUb2tlbigpO1xuICAgIH1cbiAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVzdW1pbmcgV1MgYWZ0ZXIgYXV0aCB0b2tlbiBmZXRjaFwiKTtcbiAgICB0aGlzLnJlc3VtZVNvY2tldCgpO1xuICB9XG4gIG9uVHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKSB7XG4gICAgaWYgKCF0aGlzLnN5bmNTdGF0ZS5pc0N1cnJlbnRPck5ld2VyQXV0aFZlcnNpb24oXG4gICAgICBzZXJ2ZXJNZXNzYWdlLmVuZFZlcnNpb24uaWRlbnRpdHlcbiAgICApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzZXJ2ZXJNZXNzYWdlLmVuZFZlcnNpb24uaWRlbnRpdHkgPD0gc2VydmVyTWVzc2FnZS5zdGFydFZlcnNpb24uaWRlbnRpdHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkNhY2hlZFRva2VuXCIpIHtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJzZXJ2ZXIgY29uZmlybWVkIGF1dGggdG9rZW4gaXMgdmFsaWRcIik7XG4gICAgICB2b2lkIHRoaXMucmVmZXRjaFRva2VuKCk7XG4gICAgICB0aGlzLmF1dGhTdGF0ZS5jb25maWcub25BdXRoQ2hhbmdlKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwid2FpdGluZ0ZvclNlcnZlckNvbmZpcm1hdGlvbk9mRnJlc2hUb2tlblwiKSB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwic2VydmVyIGNvbmZpcm1lZCBuZXcgYXV0aCB0b2tlbiBpcyB2YWxpZFwiKTtcbiAgICAgIHRoaXMuc2NoZWR1bGVUb2tlblJlZmV0Y2godGhpcy5hdXRoU3RhdGUudG9rZW4pO1xuICAgICAgdGhpcy50b2tlbkNvbmZpcm1hdGlvbkF0dGVtcHRzID0gMDtcbiAgICAgIGlmICghdGhpcy5hdXRoU3RhdGUuaGFkQXV0aCkge1xuICAgICAgICB0aGlzLmF1dGhTdGF0ZS5jb25maWcub25BdXRoQ2hhbmdlKHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBvbkF1dGhFcnJvcihzZXJ2ZXJNZXNzYWdlKSB7XG4gICAgaWYgKHNlcnZlck1lc3NhZ2UuYXV0aFVwZGF0ZUF0dGVtcHRlZCA9PT0gZmFsc2UgJiYgKHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIiB8fCB0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZDYWNoZWRUb2tlblwiKSkge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcImlnbm9yaW5nIG5vbi1hdXRoIHRva2VuIGV4cGlyZWQgZXJyb3JcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgYmFzZVZlcnNpb24gfSA9IHNlcnZlck1lc3NhZ2U7XG4gICAgaWYgKCF0aGlzLnN5bmNTdGF0ZS5pc0N1cnJlbnRPck5ld2VyQXV0aFZlcnNpb24oYmFzZVZlcnNpb24gKyAxKSkge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcImlnbm9yaW5nIGF1dGggZXJyb3IgZm9yIHByZXZpb3VzIGF1dGggYXR0ZW1wdFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdm9pZCB0aGlzLnRyeVRvUmVhdXRoZW50aWNhdGUoc2VydmVyTWVzc2FnZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIFRoaXMgaXMgc2ltaWxhciB0byBgcmVmZXRjaFRva2VuYCBkZWZpbmVkIGJlbG93LCBpbiBmYWN0IHdlXG4gIC8vIGRvbid0IHJlcHJlc2VudCB0aGVtIGFzIGRpZmZlcmVudCBzdGF0ZXMsIGJ1dCBpdCBpcyBkaWZmZXJlbnRcbiAgLy8gaW4gdGhhdCB3ZSBwYXVzZSB0aGUgV2ViU29ja2V0IHNvIHRoYXQgbXV0YXRpb25zXG4gIC8vIGRvbid0IHJldHJ5IHdpdGggYmFkIGF1dGguXG4gIGFzeW5jIHRyeVRvUmVhdXRoZW50aWNhdGUoc2VydmVyTWVzc2FnZSkge1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoYGF0dGVtcHRpbmcgdG8gcmVhdXRoZW50aWNhdGU6ICR7c2VydmVyTWVzc2FnZS5lcnJvcn1gKTtcbiAgICBpZiAoXG4gICAgICAvLyBObyB3YXkgdG8gZmV0Y2ggYW5vdGhlciB0b2tlbiwga2Fib29tXG4gICAgICB0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJub0F1dGhcIiB8fCAvLyBXZSBmYWlsZWQgb24gYSBmcmVzaCB0b2tlbi4gQWZ0ZXIgYSBzbWFsbCBudW1iZXIgb2YgcmV0cmllcywgd2UgZ2l2ZSB1cFxuICAgICAgLy8gYW5kIGNsZWFyIHRoZSBhdXRoIHN0YXRlIHRvIGF2b2lkIGluZmluaXRlIHJldHJpZXMuXG4gICAgICB0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCIgJiYgdGhpcy50b2tlbkNvbmZpcm1hdGlvbkF0dGVtcHRzID49IE1BWF9UT0tFTl9DT05GSVJNQVRJT05fQVRURU1QVFNcbiAgICApIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFxuICAgICAgICBgRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZTogXCIke3NlcnZlck1lc3NhZ2UuZXJyb3J9XCIsIGNoZWNrIHlvdXIgc2VydmVyIGF1dGggY29uZmlnYFxuICAgICAgKTtcbiAgICAgIGlmICh0aGlzLnN5bmNTdGF0ZS5oYXNBdXRoKCkpIHtcbiAgICAgICAgdGhpcy5zeW5jU3RhdGUuY2xlYXJBdXRoKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5hdXRoU3RhdGUuc3RhdGUgIT09IFwibm9BdXRoXCIpIHtcbiAgICAgICAgdGhpcy5zZXRBbmRSZXBvcnRBdXRoRmFpbGVkKHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5vbkF1dGhDaGFuZ2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwid2FpdGluZ0ZvclNlcnZlckNvbmZpcm1hdGlvbk9mRnJlc2hUb2tlblwiKSB7XG4gICAgICB0aGlzLnRva2VuQ29uZmlybWF0aW9uQXR0ZW1wdHMrKztcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXG4gICAgICAgIGByZXRyeWluZyByZWF1dGhlbnRpY2F0aW9uLCAke01BWF9UT0tFTl9DT05GSVJNQVRJT05fQVRURU1QVFMgLSB0aGlzLnRva2VuQ29uZmlybWF0aW9uQXR0ZW1wdHN9IGF0dGVtcHRzIHJlbWFpbmluZ2BcbiAgICAgICk7XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuc3RvcFNvY2tldCgpO1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5mZXRjaFRva2VuQW5kR3VhcmRBZ2FpbnN0UmFjZShcbiAgICAgIHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5mZXRjaFRva2VuLFxuICAgICAge1xuICAgICAgICBmb3JjZVJlZnJlc2hUb2tlbjogdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKHRva2VuLmlzRnJvbU91dGRhdGVkQ29uZmlnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0b2tlbi52YWx1ZSAmJiB0aGlzLnN5bmNTdGF0ZS5pc05ld0F1dGgodG9rZW4udmFsdWUpKSB7XG4gICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0b2tlbi52YWx1ZSk7XG4gICAgICB0aGlzLnNldEF1dGhTdGF0ZSh7XG4gICAgICAgIHN0YXRlOiBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIixcbiAgICAgICAgY29uZmlnOiB0aGlzLmF1dGhTdGF0ZS5jb25maWcsXG4gICAgICAgIHRva2VuOiB0b2tlbi52YWx1ZSxcbiAgICAgICAgaGFkQXV0aDogdGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwibm90UmVmZXRjaGluZ1wiIHx8IHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIndhaXRpbmdGb3JTY2hlZHVsZWRSZWZldGNoXCJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVhdXRoZW50aWNhdGlvbiBmYWlsZWQsIGNvdWxkIG5vdCBmZXRjaCBhIG5ldyB0b2tlblwiKTtcbiAgICAgIGlmICh0aGlzLnN5bmNTdGF0ZS5oYXNBdXRoKCkpIHtcbiAgICAgICAgdGhpcy5zeW5jU3RhdGUuY2xlYXJBdXRoKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldEFuZFJlcG9ydEF1dGhGYWlsZWQodGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSk7XG4gICAgfVxuICAgIHRoaXMudHJ5UmVzdGFydFNvY2tldCgpO1xuICB9XG4gIC8vIEZvcmNlIHJlZmV0Y2ggdGhlIHRva2VuIGFuZCBzY2hlZHVsZSBhbm90aGVyIHJlZmV0Y2hcbiAgLy8gYmVmb3JlIHRoZSB0b2tlbiBleHBpcmVzIC0gYW4gYWN0aXZlIGNsaWVudCBzaG91bGQgbmV2ZXJcbiAgLy8gbmVlZCB0byByZWF1dGhlbnRpY2F0ZS5cbiAgYXN5bmMgcmVmZXRjaFRva2VuKCkge1xuICAgIGlmICh0aGlzLmF1dGhTdGF0ZS5zdGF0ZSA9PT0gXCJub0F1dGhcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVmZXRjaGluZyBhdXRoIHRva2VuXCIpO1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5mZXRjaFRva2VuQW5kR3VhcmRBZ2FpbnN0UmFjZShcbiAgICAgIHRoaXMuYXV0aFN0YXRlLmNvbmZpZy5mZXRjaFRva2VuLFxuICAgICAge1xuICAgICAgICBmb3JjZVJlZnJlc2hUb2tlbjogdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgaWYgKHRva2VuLmlzRnJvbU91dGRhdGVkQ29uZmlnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0b2tlbi52YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuc3luY1N0YXRlLmlzTmV3QXV0aCh0b2tlbi52YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgICAgIHN0YXRlOiBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIixcbiAgICAgICAgICBoYWRBdXRoOiB0aGlzLnN5bmNTdGF0ZS5oYXNBdXRoKCksXG4gICAgICAgICAgdG9rZW46IHRva2VuLnZhbHVlLFxuICAgICAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmF1dGhlbnRpY2F0ZSh0b2tlbi52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldEF1dGhTdGF0ZSh7XG4gICAgICAgICAgc3RhdGU6IFwibm90UmVmZXRjaGluZ1wiLFxuICAgICAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwicmVmZXRjaGluZyB0b2tlbiBmYWlsZWRcIik7XG4gICAgICBpZiAodGhpcy5zeW5jU3RhdGUuaGFzQXV0aCgpKSB7XG4gICAgICAgIHRoaXMuY2xlYXJBdXRoKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldEFuZFJlcG9ydEF1dGhGYWlsZWQodGhpcy5hdXRoU3RhdGUuY29uZmlnLm9uQXV0aENoYW5nZSk7XG4gICAgfVxuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXG4gICAgICBcInJlc3RhcnRpbmcgV1MgYWZ0ZXIgYXV0aCB0b2tlbiBmZXRjaCAoaWYgY3VycmVudGx5IHN0b3BwZWQpXCJcbiAgICApO1xuICAgIHRoaXMudHJ5UmVzdGFydFNvY2tldCgpO1xuICB9XG4gIHNjaGVkdWxlVG9rZW5SZWZldGNoKHRva2VuKSB7XG4gICAgaWYgKHRoaXMuYXV0aFN0YXRlLnN0YXRlID09PSBcIm5vQXV0aFwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IHRoaXMuZGVjb2RlVG9rZW4odG9rZW4pO1xuICAgIGlmICghZGVjb2RlZFRva2VuKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihcbiAgICAgICAgXCJBdXRoIHRva2VuIGlzIG5vdCBhIHZhbGlkIEpXVCwgY2Fubm90IHJlZmV0Y2ggdGhlIHRva2VuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgaWF0LCBleHAgfSA9IGRlY29kZWRUb2tlbjtcbiAgICBpZiAoIWlhdCB8fCAhZXhwKSB7XG4gICAgICB0aGlzLmxvZ2dlci5lcnJvcihcbiAgICAgICAgXCJBdXRoIHRva2VuIGRvZXMgbm90IGhhdmUgcmVxdWlyZWQgZmllbGRzLCBjYW5ub3QgcmVmZXRjaCB0aGUgdG9rZW5cIlxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdG9rZW5WYWxpZGl0eVNlY29uZHMgPSBleHAgLSBpYXQ7XG4gICAgaWYgKHRva2VuVmFsaWRpdHlTZWNvbmRzIDw9IDIpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFxuICAgICAgICBcIkF1dGggdG9rZW4gZG9lcyBub3QgbGl2ZSBsb25nIGVub3VnaCwgY2Fubm90IHJlZmV0Y2ggdGhlIHRva2VuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBkZWxheSA9IE1hdGgubWluKFxuICAgICAgTUFYSU1VTV9SRUZSRVNIX0RFTEFZLFxuICAgICAgKHRva2VuVmFsaWRpdHlTZWNvbmRzIC0gdGhpcy5yZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzKSAqIDFlM1xuICAgICk7XG4gICAgaWYgKGRlbGF5IDw9IDApIHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oXG4gICAgICAgIGBSZWZldGNoaW5nIGF1dGggdG9rZW4gaW1tZWRpYXRlbHksIGNvbmZpZ3VyZWQgbGVld2F5ICR7dGhpcy5yZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzfXMgaXMgbGFyZ2VyIHRoYW4gdGhlIHRva2VuJ3MgbGlmZXRpbWUgJHt0b2tlblZhbGlkaXR5U2Vjb25kc31zYFxuICAgICAgKTtcbiAgICAgIGRlbGF5ID0gMDtcbiAgICB9XG4gICAgY29uc3QgcmVmZXRjaFRva2VuVGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwicnVubmluZyBzY2hlZHVsZWQgdG9rZW4gcmVmZXRjaFwiKTtcbiAgICAgIHZvaWQgdGhpcy5yZWZldGNoVG9rZW4oKTtcbiAgICB9LCBkZWxheSk7XG4gICAgdGhpcy5zZXRBdXRoU3RhdGUoe1xuICAgICAgc3RhdGU6IFwid2FpdGluZ0ZvclNjaGVkdWxlZFJlZmV0Y2hcIixcbiAgICAgIHJlZmV0Y2hUb2tlblRpbWVvdXRJZCxcbiAgICAgIGNvbmZpZzogdGhpcy5hdXRoU3RhdGUuY29uZmlnXG4gICAgfSk7XG4gICAgdGhpcy5fbG9nVmVyYm9zZShcbiAgICAgIGBzY2hlZHVsZWQgcHJlZW1wdGl2ZSBhdXRoIHRva2VuIHJlZmV0Y2hpbmcgaW4gJHtkZWxheX1tc2BcbiAgICApO1xuICB9XG4gIC8vIFByb3RlY3RzIGFnYWluc3Qgc2ltdWx0YW5lb3VzIGNhbGxzIHRvIGBzZXRDb25maWdgXG4gIC8vIHdoaWxlIHdlJ3JlIGZldGNoaW5nIGEgdG9rZW5cbiAgYXN5bmMgZmV0Y2hUb2tlbkFuZEd1YXJkQWdhaW5zdFJhY2UoZmV0Y2hUb2tlbiwgZmV0Y2hBcmdzKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxDb25maWdWZXJzaW9uID0gKyt0aGlzLmNvbmZpZ1ZlcnNpb247XG4gICAgdGhpcy5fbG9nVmVyYm9zZShcbiAgICAgIGBmZXRjaGluZyB0b2tlbiB3aXRoIGNvbmZpZyB2ZXJzaW9uICR7b3JpZ2luYWxDb25maWdWZXJzaW9ufWBcbiAgICApO1xuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgZmV0Y2hUb2tlbihmZXRjaEFyZ3MpO1xuICAgIGlmICh0aGlzLmNvbmZpZ1ZlcnNpb24gIT09IG9yaWdpbmFsQ29uZmlnVmVyc2lvbikge1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShcbiAgICAgICAgYHN0YWxlIGNvbmZpZyB2ZXJzaW9uLCBleHBlY3RlZCAke29yaWdpbmFsQ29uZmlnVmVyc2lvbn0sIGdvdCAke3RoaXMuY29uZmlnVmVyc2lvbn1gXG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgaXNGcm9tT3V0ZGF0ZWRDb25maWc6IHRydWUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaXNGcm9tT3V0ZGF0ZWRDb25maWc6IGZhbHNlLCB2YWx1ZTogdG9rZW4gfTtcbiAgfVxuICBzdG9wKCkge1xuICAgIHRoaXMucmVzZXRBdXRoU3RhdGUoKTtcbiAgICB0aGlzLmNvbmZpZ1ZlcnNpb24rKztcbiAgICB0aGlzLl9sb2dWZXJib3NlKGBjb25maWcgdmVyc2lvbiBidW1wZWQgdG8gJHt0aGlzLmNvbmZpZ1ZlcnNpb259YCk7XG4gIH1cbiAgc2V0QW5kUmVwb3J0QXV0aEZhaWxlZChvbkF1dGhDaGFuZ2UpIHtcbiAgICBvbkF1dGhDaGFuZ2UoZmFsc2UpO1xuICAgIHRoaXMucmVzZXRBdXRoU3RhdGUoKTtcbiAgfVxuICByZXNldEF1dGhTdGF0ZSgpIHtcbiAgICB0aGlzLnNldEF1dGhTdGF0ZSh7IHN0YXRlOiBcIm5vQXV0aFwiIH0pO1xuICB9XG4gIHNldEF1dGhTdGF0ZShuZXdBdXRoKSB7XG4gICAgY29uc3QgYXV0aFN0YXRlRm9yTG9nID0gbmV3QXV0aC5zdGF0ZSA9PT0gXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZGcmVzaFRva2VuXCIgPyB7XG4gICAgICBoYWRBdXRoOiBuZXdBdXRoLmhhZEF1dGgsXG4gICAgICBzdGF0ZTogbmV3QXV0aC5zdGF0ZSxcbiAgICAgIHRva2VuOiBgLi4uJHtuZXdBdXRoLnRva2VuLnNsaWNlKC03KX1gXG4gICAgfSA6IHsgc3RhdGU6IG5ld0F1dGguc3RhdGUgfTtcbiAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgYHNldHRpbmcgYXV0aCBzdGF0ZSB0byAke0pTT04uc3RyaW5naWZ5KGF1dGhTdGF0ZUZvckxvZyl9YFxuICAgICk7XG4gICAgc3dpdGNoIChuZXdBdXRoLnN0YXRlKSB7XG4gICAgICBjYXNlIFwid2FpdGluZ0ZvclNjaGVkdWxlZFJlZmV0Y2hcIjpcbiAgICAgIGNhc2UgXCJub3RSZWZldGNoaW5nXCI6XG4gICAgICBjYXNlIFwibm9BdXRoXCI6XG4gICAgICAgIHRoaXMudG9rZW5Db25maXJtYXRpb25BdHRlbXB0cyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIndhaXRpbmdGb3JTZXJ2ZXJDb25maXJtYXRpb25PZkZyZXNoVG9rZW5cIjpcbiAgICAgIGNhc2UgXCJ3YWl0aW5nRm9yU2VydmVyQ29uZmlybWF0aW9uT2ZDYWNoZWRUb2tlblwiOlxuICAgICAgY2FzZSBcImluaXRpYWxSZWZldGNoXCI6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDoge1xuICAgICAgICBuZXdBdXRoO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5hdXRoU3RhdGUuc3RhdGUgPT09IFwid2FpdGluZ0ZvclNjaGVkdWxlZFJlZmV0Y2hcIikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuYXV0aFN0YXRlLnJlZmV0Y2hUb2tlblRpbWVvdXRJZCk7XG4gICAgICB0aGlzLnN5bmNTdGF0ZS5tYXJrQXV0aENvbXBsZXRpb24oKTtcbiAgICB9XG4gICAgdGhpcy5hdXRoU3RhdGUgPSBuZXdBdXRoO1xuICB9XG4gIGRlY29kZVRva2VuKHRva2VuKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBqd3REZWNvZGUodG9rZW4pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXG4gICAgICAgIGBFcnJvciBkZWNvZGluZyB0b2tlbjogJHtlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIn1gXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIF9sb2dWZXJib3NlKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2dWZXJib3NlKGAke21lc3NhZ2V9IFt2JHt0aGlzLmNvbmZpZ1ZlcnNpb259XWApO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRoZW50aWNhdGlvbl9tYW5hZ2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiand0RGVjb2RlIiwiTUFYSU1VTV9SRUZSRVNIX0RFTEFZIiwiTUFYX1RPS0VOX0NPTkZJUk1BVElPTl9BVFRFTVBUUyIsIkF1dGhlbnRpY2F0aW9uTWFuYWdlciIsImNvbnN0cnVjdG9yIiwic3luY1N0YXRlIiwiY2FsbGJhY2tzIiwiY29uZmlnIiwic3RhdGUiLCJhdXRoZW50aWNhdGUiLCJzdG9wU29ja2V0IiwidHJ5UmVzdGFydFNvY2tldCIsInBhdXNlU29ja2V0IiwicmVzdW1lU29ja2V0IiwiY2xlYXJBdXRoIiwibG9nZ2VyIiwicmVmcmVzaFRva2VuTGVld2F5U2Vjb25kcyIsInNldENvbmZpZyIsImZldGNoVG9rZW4iLCJvbkNoYW5nZSIsInJlc2V0QXV0aFN0YXRlIiwiX2xvZ1ZlcmJvc2UiLCJ0b2tlbiIsImZldGNoVG9rZW5BbmRHdWFyZEFnYWluc3RSYWNlIiwiZm9yY2VSZWZyZXNoVG9rZW4iLCJpc0Zyb21PdXRkYXRlZENvbmZpZyIsInNldEF1dGhTdGF0ZSIsIm9uQXV0aENoYW5nZSIsImhhc1JldHJpZWQiLCJyZWZldGNoVG9rZW4iLCJvblRyYW5zaXRpb24iLCJzZXJ2ZXJNZXNzYWdlIiwiaXNDdXJyZW50T3JOZXdlckF1dGhWZXJzaW9uIiwiZW5kVmVyc2lvbiIsImlkZW50aXR5Iiwic3RhcnRWZXJzaW9uIiwiYXV0aFN0YXRlIiwic2NoZWR1bGVUb2tlblJlZmV0Y2giLCJ0b2tlbkNvbmZpcm1hdGlvbkF0dGVtcHRzIiwiaGFkQXV0aCIsIm9uQXV0aEVycm9yIiwiYXV0aFVwZGF0ZUF0dGVtcHRlZCIsImJhc2VWZXJzaW9uIiwidHJ5VG9SZWF1dGhlbnRpY2F0ZSIsImVycm9yIiwiaGFzQXV0aCIsInNldEFuZFJlcG9ydEF1dGhGYWlsZWQiLCJpc05ld0F1dGgiLCJkZWNvZGVkVG9rZW4iLCJkZWNvZGVUb2tlbiIsImlhdCIsImV4cCIsInRva2VuVmFsaWRpdHlTZWNvbmRzIiwiZGVsYXkiLCJNYXRoIiwibWluIiwid2FybiIsInJlZmV0Y2hUb2tlblRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJmZXRjaEFyZ3MiLCJvcmlnaW5hbENvbmZpZ1ZlcnNpb24iLCJjb25maWdWZXJzaW9uIiwic3RvcCIsIm5ld0F1dGgiLCJhdXRoU3RhdGVGb3JMb2ciLCJzbGljZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbGVhclRpbWVvdXQiLCJtYXJrQXV0aENvbXBsZXRpb24iLCJlIiwiRXJyb3IiLCJtZXNzYWdlIiwibG9nVmVyYm9zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/client.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/client.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseConvexClient: () => (/* binding */ BaseConvexClient)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _local_state_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./local_state.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/local_state.js\");\n/* harmony import */ var _request_manager_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./request_manager.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/request_manager.js\");\n/* harmony import */ var _optimistic_updates_impl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./optimistic_updates_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js\");\n/* harmony import */ var _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./remote_query_set.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _web_socket_manager_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./web_socket_manager.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js\");\n/* harmony import */ var _session_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./session.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/session.js\");\n/* harmony import */ var _authentication_manager_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./authentication_manager.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/authentication_manager.js\");\n/* harmony import */ var _metrics_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./metrics.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/metrics.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n/* harmony import */ var _vendor_jwt_decode_index_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../vendor/jwt-decode/index.js */ \"(ssr)/./node_modules/convex/dist/esm/vendor/jwt-decode/index.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass BaseConvexClient {\n    /**\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param onTransition - A callback receiving an array of query tokens\n   * corresponding to query results that have changed -- additional handlers\n   * can be added via `addOnTransitionHandler`.\n   * @param options - See {@link BaseConvexClientOptions} for a full description.\n   */ constructor(address, onTransition, options){\n        __publicField(this, \"address\");\n        __publicField(this, \"state\");\n        __publicField(this, \"requestManager\");\n        __publicField(this, \"webSocketManager\");\n        __publicField(this, \"authenticationManager\");\n        __publicField(this, \"remoteQuerySet\");\n        __publicField(this, \"optimisticQueryResults\");\n        __publicField(this, \"_transitionHandlerCounter\", 0);\n        __publicField(this, \"_nextRequestId\");\n        __publicField(this, \"_onTransitionFns\", /* @__PURE__ */ new Map());\n        __publicField(this, \"_sessionId\");\n        __publicField(this, \"firstMessageReceived\", false);\n        __publicField(this, \"debug\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"maxObservedTimestamp\");\n        __publicField(this, \"connectionStateSubscribers\", /* @__PURE__ */ new Map());\n        __publicField(this, \"nextConnectionStateSubscriberId\", 0);\n        __publicField(this, \"_lastPublishedConnectionState\");\n        /**\n     * Call this whenever the connection state may have changed in a way that could\n     * require publishing it. Schedules a possibly update.\n     */ __publicField(this, \"markConnectionStateDirty\", ()=>{\n            void Promise.resolve().then(()=>{\n                const curConnectionState = this.connectionState();\n                if (JSON.stringify(curConnectionState) !== JSON.stringify(this._lastPublishedConnectionState)) {\n                    this._lastPublishedConnectionState = curConnectionState;\n                    for (const cb of this.connectionStateSubscribers.values()){\n                        cb(curConnectionState);\n                    }\n                }\n            });\n        });\n        // Instance property so that `mark()` doesn't need to be called as a method.\n        __publicField(this, \"mark\", (name)=>{\n            if (this.debug) {\n                (0,_metrics_js__WEBPACK_IMPORTED_MODULE_11__.mark)(name, this.sessionId);\n            }\n        });\n        if (typeof address === \"object\") {\n            throw new Error(\"Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.\");\n        }\n        if (options?.skipConvexDeploymentUrlCheck !== true) {\n            (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.validateDeploymentUrl)(address);\n        }\n        options = {\n            ...options\n        };\n        const authRefreshTokenLeewaySeconds = options.authRefreshTokenLeewaySeconds ?? 2;\n        let webSocketConstructor = options.webSocketConstructor;\n        if (!webSocketConstructor && typeof WebSocket === \"undefined\") {\n            throw new Error(\"No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient\");\n        }\n        webSocketConstructor = webSocketConstructor || WebSocket;\n        this.debug = options.reportDebugInfoToConvex ?? false;\n        this.address = address;\n        this.logger = options.logger === false ? (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.instantiateNoopLogger)({\n            verbose: options.verbose ?? false\n        }) : options.logger !== true && options.logger ? options.logger : (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.instantiateDefaultLogger)({\n            verbose: options.verbose ?? false\n        });\n        const i = address.search(\"://\");\n        if (i === -1) {\n            throw new Error(\"Provided address was not an absolute URL.\");\n        }\n        const origin = address.substring(i + 3);\n        const protocol = address.substring(0, i);\n        let wsProtocol;\n        if (protocol === \"http\") {\n            wsProtocol = \"ws\";\n        } else if (protocol === \"https\") {\n            wsProtocol = \"wss\";\n        } else {\n            throw new Error(`Unknown parent protocol ${protocol}`);\n        }\n        const wsUri = `${wsProtocol}://${origin}/api/${_index_js__WEBPACK_IMPORTED_MODULE_0__.version}/sync`;\n        this.state = new _local_state_js__WEBPACK_IMPORTED_MODULE_3__.LocalSyncState();\n        this.remoteQuerySet = new _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__.RemoteQuerySet((queryId)=>this.state.queryPath(queryId), this.logger);\n        this.requestManager = new _request_manager_js__WEBPACK_IMPORTED_MODULE_4__.RequestManager(this.logger, this.markConnectionStateDirty);\n        const pauseSocket = ()=>{\n            this.webSocketManager.pause();\n            this.state.pause();\n        };\n        this.authenticationManager = new _authentication_manager_js__WEBPACK_IMPORTED_MODULE_10__.AuthenticationManager(this.state, {\n            authenticate: (token)=>{\n                const message = this.state.setAuth(token);\n                this.webSocketManager.sendMessage(message);\n                return message.baseVersion;\n            },\n            stopSocket: ()=>this.webSocketManager.stop(),\n            tryRestartSocket: ()=>this.webSocketManager.tryRestart(),\n            pauseSocket,\n            resumeSocket: ()=>this.webSocketManager.resume(),\n            clearAuth: ()=>{\n                this.clearAuth();\n            }\n        }, {\n            logger: this.logger,\n            refreshTokenLeewaySeconds: authRefreshTokenLeewaySeconds\n        });\n        this.optimisticQueryResults = new _optimistic_updates_impl_js__WEBPACK_IMPORTED_MODULE_5__.OptimisticQueryResults();\n        this.addOnTransitionHandler((transition)=>{\n            onTransition(transition.queries.map((q)=>q.token));\n        });\n        this._nextRequestId = 0;\n        this._sessionId = (0,_session_js__WEBPACK_IMPORTED_MODULE_9__.newSessionId)();\n        const { unsavedChangesWarning } = options;\n        if (true) {\n            if (unsavedChangesWarning === true) {\n                throw new Error(\"unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.\");\n            }\n        } else {}\n        this.webSocketManager = new _web_socket_manager_js__WEBPACK_IMPORTED_MODULE_8__.WebSocketManager(wsUri, {\n            onOpen: (reconnectMetadata)=>{\n                this.mark(\"convexWebSocketOpen\");\n                this.webSocketManager.sendMessage({\n                    ...reconnectMetadata,\n                    type: \"Connect\",\n                    sessionId: this._sessionId,\n                    maxObservedTimestamp: this.maxObservedTimestamp\n                });\n                const oldRemoteQueryResults = new Set(this.remoteQuerySet.remoteQueryResults().keys());\n                this.remoteQuerySet = new _remote_query_set_js__WEBPACK_IMPORTED_MODULE_6__.RemoteQuerySet((queryId)=>this.state.queryPath(queryId), this.logger);\n                const [querySetModification, authModification] = this.state.restart(oldRemoteQueryResults);\n                if (authModification) {\n                    this.webSocketManager.sendMessage(authModification);\n                }\n                this.webSocketManager.sendMessage(querySetModification);\n                for (const message of this.requestManager.restart()){\n                    this.webSocketManager.sendMessage(message);\n                }\n            },\n            onResume: ()=>{\n                const [querySetModification, authModification] = this.state.resume();\n                if (authModification) {\n                    this.webSocketManager.sendMessage(authModification);\n                }\n                if (querySetModification) {\n                    this.webSocketManager.sendMessage(querySetModification);\n                }\n                for (const message of this.requestManager.resume()){\n                    this.webSocketManager.sendMessage(message);\n                }\n            },\n            onMessage: (serverMessage)=>{\n                if (!this.firstMessageReceived) {\n                    this.firstMessageReceived = true;\n                    this.mark(\"convexFirstMessageReceived\");\n                    this.reportMarks();\n                }\n                switch(serverMessage.type){\n                    case \"Transition\":\n                        {\n                            this.observedTimestamp(serverMessage.endVersion.ts);\n                            this.authenticationManager.onTransition(serverMessage);\n                            this.remoteQuerySet.transition(serverMessage);\n                            this.state.transition(serverMessage);\n                            const completedRequests = this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());\n                            this.notifyOnQueryResultChanges(completedRequests);\n                            break;\n                        }\n                    case \"MutationResponse\":\n                        {\n                            if (serverMessage.success) {\n                                this.observedTimestamp(serverMessage.ts);\n                            }\n                            const completedMutationInfo = this.requestManager.onResponse(serverMessage);\n                            if (completedMutationInfo !== null) {\n                                this.notifyOnQueryResultChanges(/* @__PURE__ */ new Map([\n                                    [\n                                        completedMutationInfo.requestId,\n                                        completedMutationInfo.result\n                                    ]\n                                ]));\n                            }\n                            break;\n                        }\n                    case \"ActionResponse\":\n                        {\n                            this.requestManager.onResponse(serverMessage);\n                            break;\n                        }\n                    case \"AuthError\":\n                        {\n                            this.authenticationManager.onAuthError(serverMessage);\n                            break;\n                        }\n                    case \"FatalError\":\n                        {\n                            const error = (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logFatalError)(this.logger, serverMessage.error);\n                            void this.webSocketManager.terminate();\n                            throw error;\n                        }\n                    default:\n                        {\n                            serverMessage;\n                        }\n                }\n                return {\n                    hasSyncedPastLastReconnect: this.hasSyncedPastLastReconnect()\n                };\n            },\n            onServerDisconnectError: options.onServerDisconnectError\n        }, webSocketConstructor, this.logger, this.markConnectionStateDirty, this.debug);\n        this.mark(\"convexClientConstructed\");\n        if (options.expectAuth) {\n            pauseSocket();\n        }\n    }\n    /**\n   * Return true if there is outstanding work from prior to the time of the most recent restart.\n   * This indicates that the client has not proven itself to have gotten past the issue that\n   * potentially led to the restart. Use this to influence when to reset backoff after a failure.\n   */ hasSyncedPastLastReconnect() {\n        const hasSyncedPastLastReconnect = this.requestManager.hasSyncedPastLastReconnect() || this.state.hasSyncedPastLastReconnect();\n        return hasSyncedPastLastReconnect;\n    }\n    observedTimestamp(observedTs) {\n        if (this.maxObservedTimestamp === void 0 || this.maxObservedTimestamp.lessThanOrEqual(observedTs)) {\n            this.maxObservedTimestamp = observedTs;\n        }\n    }\n    getMaxObservedTimestamp() {\n        return this.maxObservedTimestamp;\n    }\n    /**\n   * Compute the current query results based on the remoteQuerySet and the\n   * current optimistic updates and call `onTransition` for all the changed\n   * queries.\n   *\n   * @param completedMutations - A set of mutation IDs whose optimistic updates\n   * are no longer needed.\n   */ notifyOnQueryResultChanges(completedRequests) {\n        const remoteQueryResults = this.remoteQuerySet.remoteQueryResults();\n        const queryTokenToValue = /* @__PURE__ */ new Map();\n        for (const [queryId, result] of remoteQueryResults){\n            const queryToken = this.state.queryToken(queryId);\n            if (queryToken !== null) {\n                const query = {\n                    result,\n                    udfPath: this.state.queryPath(queryId),\n                    args: this.state.queryArgs(queryId)\n                };\n                queryTokenToValue.set(queryToken, query);\n            }\n        }\n        const changedQueryTokens = this.optimisticQueryResults.ingestQueryResultsFromServer(queryTokenToValue, new Set(completedRequests.keys()));\n        this.handleTransition({\n            queries: changedQueryTokens.map((token)=>{\n                const optimisticResult = this.optimisticQueryResults.rawQueryResult(token);\n                return {\n                    token,\n                    modification: {\n                        kind: \"Updated\",\n                        result: optimisticResult\n                    }\n                };\n            }),\n            reflectedMutations: Array.from(completedRequests).map(([requestId, result])=>({\n                    requestId,\n                    result\n                })),\n            timestamp: this.remoteQuerySet.timestamp()\n        });\n    }\n    handleTransition(transition) {\n        for (const fn of this._onTransitionFns.values()){\n            fn(transition);\n        }\n    }\n    /**\n   * Add a handler that will be called on a transition.\n   *\n   * Any external side effects (e.g. setting React state) should be handled here.\n   *\n   * @param fn\n   *\n   * @returns\n   */ addOnTransitionHandler(fn) {\n        const id = this._transitionHandlerCounter++;\n        this._onTransitionFns.set(id, fn);\n        return ()=>this._onTransitionFns.delete(id);\n    }\n    /**\n   * Get the current JWT auth token and decoded claims.\n   */ getCurrentAuthClaims() {\n        const authToken = this.state.getAuth();\n        let decoded = {};\n        if (authToken && authToken.tokenType === \"User\") {\n            try {\n                decoded = authToken ? (0,_vendor_jwt_decode_index_js__WEBPACK_IMPORTED_MODULE_14__.jwtDecode)(authToken.value) : {};\n            } catch  {\n                decoded = {};\n            }\n        } else {\n            return void 0;\n        }\n        return {\n            token: authToken.value,\n            decoded\n        };\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        void this.authenticationManager.setConfig(fetchToken, onChange);\n    }\n    hasAuth() {\n        return this.state.hasAuth();\n    }\n    /** @internal */ setAdminAuth(value, fakeUserIdentity) {\n        const message = this.state.setAdminAuth(value, fakeUserIdentity);\n        this.webSocketManager.sendMessage(message);\n    }\n    clearAuth() {\n        const message = this.state.clearAuth();\n        this.webSocketManager.sendMessage(message);\n    }\n    /**\n     * Subscribe to a query function.\n     *\n     * Whenever this query's result changes, the `onTransition` callback\n     * passed into the constructor will be called.\n     *\n     * @param name - The name of the query.\n     * @param args - An arguments object for the query. If this is omitted, the\n     * arguments will be `{}`.\n     * @param options - A {@link SubscribeOptions} options object for this query.\n  \n     * @returns An object containing a {@link QueryToken} corresponding to this\n     * query and an `unsubscribe` callback.\n     */ subscribe(name, args, options) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const { modification, queryToken, unsubscribe } = this.state.subscribe(name, argsObject, options?.journal, options?.componentPath);\n        if (modification !== null) {\n            this.webSocketManager.sendMessage(modification);\n        }\n        return {\n            queryToken,\n            unsubscribe: ()=>{\n                const modification2 = unsubscribe();\n                if (modification2) {\n                    this.webSocketManager.sendMessage(modification2);\n                }\n            }\n        };\n    }\n    /**\n   * A query result based only on the current, local state.\n   *\n   * The only way this will return a value is if we're already subscribed to the\n   * query or its value has been set optimistically.\n   */ localQueryResult(udfPath, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(udfPath, argsObject);\n        return this.optimisticQueryResults.queryResult(queryToken);\n    }\n    /**\n   * Get query result by query token based on current, local state\n   *\n   * The only way this will return a value is if we're already subscribed to the\n   * query or its value has been set optimistically.\n   *\n   * @internal\n   */ localQueryResultByToken(queryToken) {\n        return this.optimisticQueryResults.queryResult(queryToken);\n    }\n    /**\n   * Whether local query result is available for a token.\n   *\n   * This method does not throw if the result is an error.\n   *\n   * @internal\n   */ hasLocalQueryResultByToken(queryToken) {\n        return this.optimisticQueryResults.hasQueryResult(queryToken);\n    }\n    /**\n   * @internal\n   */ localQueryLogs(udfPath, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(udfPath, argsObject);\n        return this.optimisticQueryResults.queryLogs(queryToken);\n    }\n    /**\n   * Retrieve the current {@link QueryJournal} for this query function.\n   *\n   * If we have not yet received a result for this query, this will be `undefined`.\n   *\n   * @param name - The name of the query.\n   * @param args - The arguments object for this query.\n   * @returns The query's {@link QueryJournal} or `undefined`.\n   */ queryJournal(name, args) {\n        const argsObject = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializePathAndArgs)(name, argsObject);\n        return this.state.queryJournal(queryToken);\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        const wsConnectionState = this.webSocketManager.connectionState();\n        return {\n            hasInflightRequests: this.requestManager.hasInflightRequests(),\n            isWebSocketConnected: wsConnectionState.isConnected,\n            hasEverConnected: wsConnectionState.hasEverConnected,\n            connectionCount: wsConnectionState.connectionCount,\n            connectionRetries: wsConnectionState.connectionRetries,\n            timeOfOldestInflightRequest: this.requestManager.timeOfOldestInflightRequest(),\n            inflightMutations: this.requestManager.inflightMutations(),\n            inflightActions: this.requestManager.inflightActions()\n        };\n    }\n    /**\n   * Subscribe to the {@link ConnectionState} between the client and the Convex\n   * backend, calling a callback each time it changes.\n   *\n   * Subscribed callbacks will be called when any part of ConnectionState changes.\n   * ConnectionState may grow in future versions (e.g. to provide a array of\n   * inflight requests) in which case callbacks would be called more frequently.\n   *\n   * @returns An unsubscribe function to stop listening.\n   */ subscribeToConnectionState(cb) {\n        const id = this.nextConnectionStateSubscriberId++;\n        this.connectionStateSubscribers.set(id, cb);\n        return ()=>{\n            this.connectionStateSubscribers.delete(id);\n        };\n    }\n    /**\n     * Execute a mutation function.\n     *\n     * @param name - The name of the mutation.\n     * @param args - An arguments object for the mutation. If this is omitted,\n     * the arguments will be `{}`.\n     * @param options - A {@link MutationOptions} options object for this mutation.\n  \n     * @returns - A promise of the mutation's result.\n     */ async mutation(name, args, options) {\n        const result = await this.mutationInternal(name, args, options);\n        if (!result.success) {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_13__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"mutation\", name, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"mutation\", name, result));\n        }\n        return result.value;\n    }\n    /**\n   * @internal\n   */ async mutationInternal(udfPath, args, options, componentPath) {\n        const { mutationPromise } = this.enqueueMutation(udfPath, args, options, componentPath);\n        return mutationPromise;\n    }\n    /**\n   * @internal\n   */ enqueueMutation(udfPath, args, options, componentPath) {\n        const mutationArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        this.tryReportLongDisconnect();\n        const requestId = this.nextRequestId;\n        this._nextRequestId++;\n        if (options !== void 0) {\n            const optimisticUpdate = options.optimisticUpdate;\n            if (optimisticUpdate !== void 0) {\n                const wrappedUpdate = (localQueryStore)=>{\n                    const result = optimisticUpdate(localQueryStore, mutationArgs);\n                    if (result instanceof Promise) {\n                        this.logger.warn(\"Optimistic update handler returned a Promise. Optimistic updates should be synchronous.\");\n                    }\n                };\n                const changedQueryTokens = this.optimisticQueryResults.applyOptimisticUpdate(wrappedUpdate, requestId);\n                const changedQueries = changedQueryTokens.map((token)=>{\n                    const localResult = this.localQueryResultByToken(token);\n                    return {\n                        token,\n                        modification: {\n                            kind: \"Updated\",\n                            result: localResult === void 0 ? void 0 : {\n                                success: true,\n                                value: localResult,\n                                logLines: []\n                            }\n                        }\n                    };\n                });\n                this.handleTransition({\n                    queries: changedQueries,\n                    reflectedMutations: [],\n                    timestamp: this.remoteQuerySet.timestamp()\n                });\n            }\n        }\n        const message = {\n            type: \"Mutation\",\n            requestId,\n            udfPath,\n            componentPath,\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(mutationArgs)\n            ]\n        };\n        const mightBeSent = this.webSocketManager.sendMessage(message);\n        const mutationPromise = this.requestManager.request(message, mightBeSent);\n        return {\n            requestId,\n            mutationPromise\n        };\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param name - The name of the action.\n   * @param args - An arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ async action(name, args) {\n        const result = await this.actionInternal(name, args);\n        if (!result.success) {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_13__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"action\", name, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"action\", name, result));\n        }\n        return result.value;\n    }\n    /**\n   * @internal\n   */ async actionInternal(udfPath, args, componentPath) {\n        const actionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_12__.parseArgs)(args);\n        const requestId = this.nextRequestId;\n        this._nextRequestId++;\n        this.tryReportLongDisconnect();\n        const message = {\n            type: \"Action\",\n            requestId,\n            udfPath,\n            componentPath,\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(actionArgs)\n            ]\n        };\n        const mightBeSent = this.webSocketManager.sendMessage(message);\n        return this.requestManager.request(message, mightBeSent);\n    }\n    /**\n   * Close any network handles associated with this client and stop all subscriptions.\n   *\n   * Call this method when you're done with an {@link BaseConvexClient} to\n   * dispose of its sockets and resources.\n   *\n   * @returns A `Promise` fulfilled when the connection has been completely closed.\n   */ async close() {\n        this.authenticationManager.stop();\n        return this.webSocketManager.terminate();\n    }\n    /**\n   * Return the address for this client, useful for creating a new client.\n   *\n   * Not guaranteed to match the address with which this client was constructed:\n   * it may be canonicalized.\n   */ get url() {\n        return this.address;\n    }\n    /**\n   * @internal\n   */ get nextRequestId() {\n        return this._nextRequestId;\n    }\n    /**\n   * @internal\n   */ get sessionId() {\n        return this._sessionId;\n    }\n    /**\n   * Reports performance marks to the server. This should only be called when\n   * we have a functional websocket.\n   */ reportMarks() {\n        if (this.debug) {\n            const report = (0,_metrics_js__WEBPACK_IMPORTED_MODULE_11__.getMarksReport)(this.sessionId);\n            this.webSocketManager.sendMessage({\n                type: \"Event\",\n                eventType: \"ClientConnect\",\n                event: report\n            });\n        }\n    }\n    tryReportLongDisconnect() {\n        if (!this.debug) {\n            return;\n        }\n        const timeOfOldestRequest = this.connectionState().timeOfOldestInflightRequest;\n        if (timeOfOldestRequest === null || Date.now() - timeOfOldestRequest.getTime() <= 60 * 1e3) {\n            return;\n        }\n        const endpoint = `${this.address}/api/debug_event`;\n        fetch(endpoint, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Convex-Client\": `npm-${_index_js__WEBPACK_IMPORTED_MODULE_0__.version}`\n            },\n            body: JSON.stringify({\n                event: \"LongWebsocketDisconnect\"\n            })\n        }).then((response)=>{\n            if (!response.ok) {\n                this.logger.warn(\"Analytics request failed with response:\", response.body);\n            }\n        }).catch((error)=>{\n            this.logger.warn(\"Analytics response failed with error:\", error);\n        });\n    }\n} //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBQ2IsSUFBSUEsWUFBWUMsT0FBT0MsY0FBYztBQUNyQyxJQUFJQyxrQkFBa0IsQ0FBQ0MsS0FBS0MsS0FBS0MsUUFBVUQsT0FBT0QsTUFBTUosVUFBVUksS0FBS0MsS0FBSztRQUFFRSxZQUFZO1FBQU1DLGNBQWM7UUFBTUMsVUFBVTtRQUFNSDtJQUFNLEtBQUtGLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHQztBQUMxSixJQUFJSSxnQkFBZ0IsQ0FBQ04sS0FBS0MsS0FBS0MsUUFBVUgsZ0JBQWdCQyxLQUFLLE9BQU9DLFFBQVEsV0FBV0EsTUFBTSxLQUFLQSxLQUFLQztBQUMvRDtBQUNZO0FBTzlCO0FBQzJCO0FBQ0k7QUFHaEI7QUFDaUI7QUFDSTtBQUNBO0FBQ2Y7QUFHUDtBQUNlO0FBQ3FCO0FBQ3BCO0FBQ1E7QUFDdEQsTUFBTTBCO0lBQ1g7Ozs7Ozs7R0FPQyxHQUNEQyxZQUFZQyxPQUFPLEVBQUVDLFlBQVksRUFBRUMsT0FBTyxDQUFFO1FBQzFDMUIsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFLDZCQUE2QjtRQUNqREEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFLG9CQUFvQixhQUFhLEdBQUcsSUFBSTJCO1FBQzVEM0IsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFLHdCQUF3QjtRQUM1Q0EsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUUsOEJBQThCLGFBQWEsR0FBRyxJQUFJMkI7UUFDdEUzQixjQUFjLElBQUksRUFBRSxtQ0FBbUM7UUFDdkRBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCOzs7S0FHQyxHQUNEQSxjQUFjLElBQUksRUFBRSw0QkFBNEI7WUFDOUMsS0FBSzRCLFFBQVFDLE9BQU8sR0FBR0MsSUFBSSxDQUFDO2dCQUMxQixNQUFNQyxxQkFBcUIsSUFBSSxDQUFDQyxlQUFlO2dCQUMvQyxJQUFJQyxLQUFLQyxTQUFTLENBQUNILHdCQUF3QkUsS0FBS0MsU0FBUyxDQUFDLElBQUksQ0FBQ0MsNkJBQTZCLEdBQUc7b0JBQzdGLElBQUksQ0FBQ0EsNkJBQTZCLEdBQUdKO29CQUNyQyxLQUFLLE1BQU1LLE1BQU0sSUFBSSxDQUFDQywwQkFBMEIsQ0FBQ0MsTUFBTSxHQUFJO3dCQUN6REYsR0FBR0w7b0JBQ0w7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0EsNEVBQTRFO1FBQzVFL0IsY0FBYyxJQUFJLEVBQUUsUUFBUSxDQUFDdUM7WUFDM0IsSUFBSSxJQUFJLENBQUNDLEtBQUssRUFBRTtnQkFDZHZCLGtEQUFJQSxDQUFDc0IsTUFBTSxJQUFJLENBQUNFLFNBQVM7WUFDM0I7UUFDRjtRQUNBLElBQUksT0FBT2pCLFlBQVksVUFBVTtZQUMvQixNQUFNLElBQUlrQixNQUNSO1FBRUo7UUFDQSxJQUFJaEIsU0FBU2lCLGlDQUFpQyxNQUFNO1lBQ2xEeEIsd0VBQXFCQSxDQUFDSztRQUN4QjtRQUNBRSxVQUFVO1lBQUUsR0FBR0EsT0FBTztRQUFDO1FBQ3ZCLE1BQU1rQixnQ0FBZ0NsQixRQUFRa0IsNkJBQTZCLElBQUk7UUFDL0UsSUFBSUMsdUJBQXVCbkIsUUFBUW1CLG9CQUFvQjtRQUN2RCxJQUFJLENBQUNBLHdCQUF3QixPQUFPQyxjQUFjLGFBQWE7WUFDN0QsTUFBTSxJQUFJSixNQUNSO1FBRUo7UUFDQUcsdUJBQXVCQSx3QkFBd0JDO1FBQy9DLElBQUksQ0FBQ04sS0FBSyxHQUFHZCxRQUFRcUIsdUJBQXVCLElBQUk7UUFDaEQsSUFBSSxDQUFDdkIsT0FBTyxHQUFHQTtRQUNmLElBQUksQ0FBQ3dCLE1BQU0sR0FBR3RCLFFBQVFzQixNQUFNLEtBQUssUUFBUTFDLGtFQUFxQkEsQ0FBQztZQUFFMkMsU0FBU3ZCLFFBQVF1QixPQUFPLElBQUk7UUFBTSxLQUFLdkIsUUFBUXNCLE1BQU0sS0FBSyxRQUFRdEIsUUFBUXNCLE1BQU0sR0FBR3RCLFFBQVFzQixNQUFNLEdBQUczQyxxRUFBd0JBLENBQUM7WUFBRTRDLFNBQVN2QixRQUFRdUIsT0FBTyxJQUFJO1FBQU07UUFDbE8sTUFBTUMsSUFBSTFCLFFBQVEyQixNQUFNLENBQUM7UUFDekIsSUFBSUQsTUFBTSxDQUFDLEdBQUc7WUFDWixNQUFNLElBQUlSLE1BQU07UUFDbEI7UUFDQSxNQUFNVSxTQUFTNUIsUUFBUTZCLFNBQVMsQ0FBQ0gsSUFBSTtRQUNyQyxNQUFNSSxXQUFXOUIsUUFBUTZCLFNBQVMsQ0FBQyxHQUFHSDtRQUN0QyxJQUFJSztRQUNKLElBQUlELGFBQWEsUUFBUTtZQUN2QkMsYUFBYTtRQUNmLE9BQU8sSUFBSUQsYUFBYSxTQUFTO1lBQy9CQyxhQUFhO1FBQ2YsT0FBTztZQUNMLE1BQU0sSUFBSWIsTUFBTSxDQUFDLHdCQUF3QixFQUFFWSxTQUFTLENBQUM7UUFDdkQ7UUFDQSxNQUFNRSxRQUFRLENBQUMsRUFBRUQsV0FBVyxHQUFHLEVBQUVILE9BQU8sS0FBSyxFQUFFbkQsOENBQU9BLENBQUMsS0FBSyxDQUFDO1FBQzdELElBQUksQ0FBQ3dELEtBQUssR0FBRyxJQUFJakQsMkRBQWNBO1FBQy9CLElBQUksQ0FBQ2tELGNBQWMsR0FBRyxJQUFJL0MsZ0VBQWNBLENBQ3RDLENBQUNnRCxVQUFZLElBQUksQ0FBQ0YsS0FBSyxDQUFDRyxTQUFTLENBQUNELFVBQ2xDLElBQUksQ0FBQ1gsTUFBTTtRQUViLElBQUksQ0FBQ2EsY0FBYyxHQUFHLElBQUlwRCwrREFBY0EsQ0FDdEMsSUFBSSxDQUFDdUMsTUFBTSxFQUNYLElBQUksQ0FBQ2Msd0JBQXdCO1FBRS9CLE1BQU1DLGNBQWM7WUFDbEIsSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ0MsS0FBSztZQUMzQixJQUFJLENBQUNSLEtBQUssQ0FBQ1EsS0FBSztRQUNsQjtRQUNBLElBQUksQ0FBQ0MscUJBQXFCLEdBQUcsSUFBSW5ELDhFQUFxQkEsQ0FDcEQsSUFBSSxDQUFDMEMsS0FBSyxFQUNWO1lBQ0VVLGNBQWMsQ0FBQ0M7Z0JBQ2IsTUFBTUMsVUFBVSxJQUFJLENBQUNaLEtBQUssQ0FBQ2EsT0FBTyxDQUFDRjtnQkFDbkMsSUFBSSxDQUFDSixnQkFBZ0IsQ0FBQ08sV0FBVyxDQUFDRjtnQkFDbEMsT0FBT0EsUUFBUUcsV0FBVztZQUM1QjtZQUNBQyxZQUFZLElBQU0sSUFBSSxDQUFDVCxnQkFBZ0IsQ0FBQ1UsSUFBSTtZQUM1Q0Msa0JBQWtCLElBQU0sSUFBSSxDQUFDWCxnQkFBZ0IsQ0FBQ1ksVUFBVTtZQUN4RGI7WUFDQWMsY0FBYyxJQUFNLElBQUksQ0FBQ2IsZ0JBQWdCLENBQUNjLE1BQU07WUFDaERDLFdBQVc7Z0JBQ1QsSUFBSSxDQUFDQSxTQUFTO1lBQ2hCO1FBQ0YsR0FDQTtZQUNFL0IsUUFBUSxJQUFJLENBQUNBLE1BQU07WUFDbkJnQywyQkFBMkJwQztRQUM3QjtRQUVGLElBQUksQ0FBQ3FDLHNCQUFzQixHQUFHLElBQUl2RSwrRUFBc0JBO1FBQ3hELElBQUksQ0FBQ3dFLHNCQUFzQixDQUFDLENBQUNDO1lBQzNCMUQsYUFBYTBELFdBQVdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLElBQU1BLEVBQUVsQixLQUFLO1FBQ3BEO1FBQ0EsSUFBSSxDQUFDbUIsY0FBYyxHQUFHO1FBQ3RCLElBQUksQ0FBQ0MsVUFBVSxHQUFHMUUseURBQVlBO1FBQzlCLE1BQU0sRUFBRTJFLHFCQUFxQixFQUFFLEdBQUcvRDtRQUNsQyxJQUFJLElBQStFLEVBQUU7WUFDbkYsSUFBSStELDBCQUEwQixNQUFNO2dCQUNsQyxNQUFNLElBQUkvQyxNQUNSO1lBRUo7UUFDRixPQUFPLEVBU047UUFDRCxJQUFJLENBQUNzQixnQkFBZ0IsR0FBRyxJQUFJbkQsb0VBQWdCQSxDQUMxQzJDLE9BQ0E7WUFDRTBDLFFBQVEsQ0FBQ0M7Z0JBQ1AsSUFBSSxDQUFDbEYsSUFBSSxDQUFDO2dCQUNWLElBQUksQ0FBQytDLGdCQUFnQixDQUFDTyxXQUFXLENBQUM7b0JBQ2hDLEdBQUc0QixpQkFBaUI7b0JBQ3BCQyxNQUFNO29CQUNOM0QsV0FBVyxJQUFJLENBQUMrQyxVQUFVO29CQUMxQmEsc0JBQXNCLElBQUksQ0FBQ0Esb0JBQW9CO2dCQUNqRDtnQkFDQSxNQUFNQyx3QkFBd0IsSUFBSUMsSUFDaEMsSUFBSSxDQUFDN0MsY0FBYyxDQUFDOEMsa0JBQWtCLEdBQUdDLElBQUk7Z0JBRS9DLElBQUksQ0FBQy9DLGNBQWMsR0FBRyxJQUFJL0MsZ0VBQWNBLENBQ3RDLENBQUNnRCxVQUFZLElBQUksQ0FBQ0YsS0FBSyxDQUFDRyxTQUFTLENBQUNELFVBQ2xDLElBQUksQ0FBQ1gsTUFBTTtnQkFFYixNQUFNLENBQUMwRCxzQkFBc0JDLGlCQUFpQixHQUFHLElBQUksQ0FBQ2xELEtBQUssQ0FBQ21ELE9BQU8sQ0FDakVOO2dCQUVGLElBQUlLLGtCQUFrQjtvQkFDcEIsSUFBSSxDQUFDM0MsZ0JBQWdCLENBQUNPLFdBQVcsQ0FBQ29DO2dCQUNwQztnQkFDQSxJQUFJLENBQUMzQyxnQkFBZ0IsQ0FBQ08sV0FBVyxDQUFDbUM7Z0JBQ2xDLEtBQUssTUFBTXJDLFdBQVcsSUFBSSxDQUFDUixjQUFjLENBQUMrQyxPQUFPLEdBQUk7b0JBQ25ELElBQUksQ0FBQzVDLGdCQUFnQixDQUFDTyxXQUFXLENBQUNGO2dCQUNwQztZQUNGO1lBQ0F3QyxVQUFVO2dCQUNSLE1BQU0sQ0FBQ0gsc0JBQXNCQyxpQkFBaUIsR0FBRyxJQUFJLENBQUNsRCxLQUFLLENBQUNxQixNQUFNO2dCQUNsRSxJQUFJNkIsa0JBQWtCO29CQUNwQixJQUFJLENBQUMzQyxnQkFBZ0IsQ0FBQ08sV0FBVyxDQUFDb0M7Z0JBQ3BDO2dCQUNBLElBQUlELHNCQUFzQjtvQkFDeEIsSUFBSSxDQUFDMUMsZ0JBQWdCLENBQUNPLFdBQVcsQ0FBQ21DO2dCQUNwQztnQkFDQSxLQUFLLE1BQU1yQyxXQUFXLElBQUksQ0FBQ1IsY0FBYyxDQUFDaUIsTUFBTSxHQUFJO29CQUNsRCxJQUFJLENBQUNkLGdCQUFnQixDQUFDTyxXQUFXLENBQUNGO2dCQUNwQztZQUNGO1lBQ0F5QyxXQUFXLENBQUNDO2dCQUNWLElBQUksQ0FBQyxJQUFJLENBQUNDLG9CQUFvQixFQUFFO29CQUM5QixJQUFJLENBQUNBLG9CQUFvQixHQUFHO29CQUM1QixJQUFJLENBQUMvRixJQUFJLENBQUM7b0JBQ1YsSUFBSSxDQUFDZ0csV0FBVztnQkFDbEI7Z0JBQ0EsT0FBUUYsY0FBY1gsSUFBSTtvQkFDeEIsS0FBSzt3QkFBYzs0QkFDakIsSUFBSSxDQUFDYyxpQkFBaUIsQ0FBQ0gsY0FBY0ksVUFBVSxDQUFDQyxFQUFFOzRCQUNsRCxJQUFJLENBQUNsRCxxQkFBcUIsQ0FBQ3pDLFlBQVksQ0FBQ3NGOzRCQUN4QyxJQUFJLENBQUNyRCxjQUFjLENBQUN5QixVQUFVLENBQUM0Qjs0QkFDL0IsSUFBSSxDQUFDdEQsS0FBSyxDQUFDMEIsVUFBVSxDQUFDNEI7NEJBQ3RCLE1BQU1NLG9CQUFvQixJQUFJLENBQUN4RCxjQUFjLENBQUN5RCxlQUFlLENBQzNELElBQUksQ0FBQzVELGNBQWMsQ0FBQzZELFNBQVM7NEJBRS9CLElBQUksQ0FBQ0MsMEJBQTBCLENBQUNIOzRCQUNoQzt3QkFDRjtvQkFDQSxLQUFLO3dCQUFvQjs0QkFDdkIsSUFBSU4sY0FBY1UsT0FBTyxFQUFFO2dDQUN6QixJQUFJLENBQUNQLGlCQUFpQixDQUFDSCxjQUFjSyxFQUFFOzRCQUN6Qzs0QkFDQSxNQUFNTSx3QkFBd0IsSUFBSSxDQUFDN0QsY0FBYyxDQUFDOEQsVUFBVSxDQUFDWjs0QkFDN0QsSUFBSVcsMEJBQTBCLE1BQU07Z0NBQ2xDLElBQUksQ0FBQ0YsMEJBQTBCLENBQzdCLGFBQWEsR0FBRyxJQUFJN0YsSUFBSTtvQ0FDdEI7d0NBQ0UrRixzQkFBc0JFLFNBQVM7d0NBQy9CRixzQkFBc0JHLE1BQU07cUNBQzdCO2lDQUNGOzRCQUVMOzRCQUNBO3dCQUNGO29CQUNBLEtBQUs7d0JBQWtCOzRCQUNyQixJQUFJLENBQUNoRSxjQUFjLENBQUM4RCxVQUFVLENBQUNaOzRCQUMvQjt3QkFDRjtvQkFDQSxLQUFLO3dCQUFhOzRCQUNoQixJQUFJLENBQUM3QyxxQkFBcUIsQ0FBQzRELFdBQVcsQ0FBQ2Y7NEJBQ3ZDO3dCQUNGO29CQUNBLEtBQUs7d0JBQWM7NEJBQ2pCLE1BQU1nQixRQUFReEgsMERBQWFBLENBQUMsSUFBSSxDQUFDeUMsTUFBTSxFQUFFK0QsY0FBY2dCLEtBQUs7NEJBQzVELEtBQUssSUFBSSxDQUFDL0QsZ0JBQWdCLENBQUNnRSxTQUFTOzRCQUNwQyxNQUFNRDt3QkFDUjtvQkFDQTt3QkFBUzs0QkFDUGhCO3dCQUNGO2dCQUNGO2dCQUNBLE9BQU87b0JBQ0xrQiw0QkFBNEIsSUFBSSxDQUFDQSwwQkFBMEI7Z0JBQzdEO1lBQ0Y7WUFDQUMseUJBQXlCeEcsUUFBUXdHLHVCQUF1QjtRQUMxRCxHQUNBckYsc0JBQ0EsSUFBSSxDQUFDRyxNQUFNLEVBQ1gsSUFBSSxDQUFDYyx3QkFBd0IsRUFDN0IsSUFBSSxDQUFDdEIsS0FBSztRQUVaLElBQUksQ0FBQ3ZCLElBQUksQ0FBQztRQUNWLElBQUlTLFFBQVF5RyxVQUFVLEVBQUU7WUFDdEJwRTtRQUNGO0lBQ0Y7SUFDQTs7OztHQUlDLEdBQ0RrRSw2QkFBNkI7UUFDM0IsTUFBTUEsNkJBQTZCLElBQUksQ0FBQ3BFLGNBQWMsQ0FBQ29FLDBCQUEwQixNQUFNLElBQUksQ0FBQ3hFLEtBQUssQ0FBQ3dFLDBCQUEwQjtRQUM1SCxPQUFPQTtJQUNUO0lBQ0FmLGtCQUFrQmtCLFVBQVUsRUFBRTtRQUM1QixJQUFJLElBQUksQ0FBQy9CLG9CQUFvQixLQUFLLEtBQUssS0FBSyxJQUFJLENBQUNBLG9CQUFvQixDQUFDZ0MsZUFBZSxDQUFDRCxhQUFhO1lBQ2pHLElBQUksQ0FBQy9CLG9CQUFvQixHQUFHK0I7UUFDOUI7SUFDRjtJQUNBRSwwQkFBMEI7UUFDeEIsT0FBTyxJQUFJLENBQUNqQyxvQkFBb0I7SUFDbEM7SUFDQTs7Ozs7OztHQU9DLEdBQ0RtQiwyQkFBMkJILGlCQUFpQixFQUFFO1FBQzVDLE1BQU1iLHFCQUFxQixJQUFJLENBQUM5QyxjQUFjLENBQUM4QyxrQkFBa0I7UUFDakUsTUFBTStCLG9CQUFvQixhQUFhLEdBQUcsSUFBSTVHO1FBQzlDLEtBQUssTUFBTSxDQUFDZ0MsU0FBU2tFLE9BQU8sSUFBSXJCLG1CQUFvQjtZQUNsRCxNQUFNZ0MsYUFBYSxJQUFJLENBQUMvRSxLQUFLLENBQUMrRSxVQUFVLENBQUM3RTtZQUN6QyxJQUFJNkUsZUFBZSxNQUFNO2dCQUN2QixNQUFNQyxRQUFRO29CQUNaWjtvQkFDQWEsU0FBUyxJQUFJLENBQUNqRixLQUFLLENBQUNHLFNBQVMsQ0FBQ0Q7b0JBQzlCZ0YsTUFBTSxJQUFJLENBQUNsRixLQUFLLENBQUNtRixTQUFTLENBQUNqRjtnQkFDN0I7Z0JBQ0E0RSxrQkFBa0JNLEdBQUcsQ0FBQ0wsWUFBWUM7WUFDcEM7UUFDRjtRQUNBLE1BQU1LLHFCQUFxQixJQUFJLENBQUM3RCxzQkFBc0IsQ0FBQzhELDRCQUE0QixDQUNqRlIsbUJBQ0EsSUFBSWhDLElBQUljLGtCQUFrQlosSUFBSTtRQUVoQyxJQUFJLENBQUN1QyxnQkFBZ0IsQ0FBQztZQUNwQjVELFNBQVMwRCxtQkFBbUJ6RCxHQUFHLENBQUMsQ0FBQ2pCO2dCQUMvQixNQUFNNkUsbUJBQW1CLElBQUksQ0FBQ2hFLHNCQUFzQixDQUFDaUUsY0FBYyxDQUFDOUU7Z0JBQ3BFLE9BQU87b0JBQ0xBO29CQUNBK0UsY0FBYzt3QkFDWkMsTUFBTTt3QkFDTnZCLFFBQVFvQjtvQkFDVjtnQkFDRjtZQUNGO1lBQ0FJLG9CQUFvQkMsTUFBTUMsSUFBSSxDQUFDbEMsbUJBQW1CaEMsR0FBRyxDQUNuRCxDQUFDLENBQUN1QyxXQUFXQyxPQUFPLEdBQU07b0JBQ3hCRDtvQkFDQUM7Z0JBQ0Y7WUFFRk4sV0FBVyxJQUFJLENBQUM3RCxjQUFjLENBQUM2RCxTQUFTO1FBQzFDO0lBQ0Y7SUFDQXlCLGlCQUFpQjdELFVBQVUsRUFBRTtRQUMzQixLQUFLLE1BQU1xRSxNQUFNLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNuSCxNQUFNLEdBQUk7WUFDL0NrSCxHQUFHckU7UUFDTDtJQUNGO0lBQ0E7Ozs7Ozs7O0dBUUMsR0FDREQsdUJBQXVCc0UsRUFBRSxFQUFFO1FBQ3pCLE1BQU1FLEtBQUssSUFBSSxDQUFDQyx5QkFBeUI7UUFDekMsSUFBSSxDQUFDRixnQkFBZ0IsQ0FBQ1osR0FBRyxDQUFDYSxJQUFJRjtRQUM5QixPQUFPLElBQU0sSUFBSSxDQUFDQyxnQkFBZ0IsQ0FBQ0csTUFBTSxDQUFDRjtJQUM1QztJQUNBOztHQUVDLEdBQ0RHLHVCQUF1QjtRQUNyQixNQUFNQyxZQUFZLElBQUksQ0FBQ3JHLEtBQUssQ0FBQ3NHLE9BQU87UUFDcEMsSUFBSUMsVUFBVSxDQUFDO1FBQ2YsSUFBSUYsYUFBYUEsVUFBVUcsU0FBUyxLQUFLLFFBQVE7WUFDL0MsSUFBSTtnQkFDRkQsVUFBVUYsWUFBWXpJLHVFQUFTQSxDQUFDeUksVUFBVWxLLEtBQUssSUFBSSxDQUFDO1lBQ3RELEVBQUUsT0FBTTtnQkFDTm9LLFVBQVUsQ0FBQztZQUNiO1FBQ0YsT0FBTztZQUNMLE9BQU8sS0FBSztRQUNkO1FBQ0EsT0FBTztZQUFFNUYsT0FBTzBGLFVBQVVsSyxLQUFLO1lBQUVvSztRQUFRO0lBQzNDO0lBQ0E7Ozs7Ozs7R0FPQyxHQUNEMUYsUUFBUTRGLFVBQVUsRUFBRUMsUUFBUSxFQUFFO1FBQzVCLEtBQUssSUFBSSxDQUFDakcscUJBQXFCLENBQUNrRyxTQUFTLENBQUNGLFlBQVlDO0lBQ3hEO0lBQ0FFLFVBQVU7UUFDUixPQUFPLElBQUksQ0FBQzVHLEtBQUssQ0FBQzRHLE9BQU87SUFDM0I7SUFDQSxjQUFjLEdBQ2RDLGFBQWExSyxLQUFLLEVBQUUySyxnQkFBZ0IsRUFBRTtRQUNwQyxNQUFNbEcsVUFBVSxJQUFJLENBQUNaLEtBQUssQ0FBQzZHLFlBQVksQ0FBQzFLLE9BQU8ySztRQUMvQyxJQUFJLENBQUN2RyxnQkFBZ0IsQ0FBQ08sV0FBVyxDQUFDRjtJQUNwQztJQUNBVSxZQUFZO1FBQ1YsTUFBTVYsVUFBVSxJQUFJLENBQUNaLEtBQUssQ0FBQ3NCLFNBQVM7UUFDcEMsSUFBSSxDQUFDZixnQkFBZ0IsQ0FBQ08sV0FBVyxDQUFDRjtJQUNwQztJQUNBOzs7Ozs7Ozs7Ozs7O0tBYUcsR0FDSG1HLFVBQVVqSSxJQUFJLEVBQUVvRyxJQUFJLEVBQUVqSCxPQUFPLEVBQUU7UUFDN0IsTUFBTStJLGFBQWF2Siw0REFBU0EsQ0FBQ3lIO1FBQzdCLE1BQU0sRUFBRVEsWUFBWSxFQUFFWCxVQUFVLEVBQUVrQyxXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUNqSCxLQUFLLENBQUMrRyxTQUFTLENBQ3BFakksTUFDQWtJLFlBQ0EvSSxTQUFTaUosU0FDVGpKLFNBQVNrSjtRQUVYLElBQUl6QixpQkFBaUIsTUFBTTtZQUN6QixJQUFJLENBQUNuRixnQkFBZ0IsQ0FBQ08sV0FBVyxDQUFDNEU7UUFDcEM7UUFDQSxPQUFPO1lBQ0xYO1lBQ0FrQyxhQUFhO2dCQUNYLE1BQU1HLGdCQUFnQkg7Z0JBQ3RCLElBQUlHLGVBQWU7b0JBQ2pCLElBQUksQ0FBQzdHLGdCQUFnQixDQUFDTyxXQUFXLENBQUNzRztnQkFDcEM7WUFDRjtRQUNGO0lBQ0Y7SUFDQTs7Ozs7R0FLQyxHQUNEQyxpQkFBaUJwQyxPQUFPLEVBQUVDLElBQUksRUFBRTtRQUM5QixNQUFNOEIsYUFBYXZKLDREQUFTQSxDQUFDeUg7UUFDN0IsTUFBTUgsYUFBYTVILHdFQUFvQkEsQ0FBQzhILFNBQVMrQjtRQUNqRCxPQUFPLElBQUksQ0FBQ3hGLHNCQUFzQixDQUFDOEYsV0FBVyxDQUFDdkM7SUFDakQ7SUFDQTs7Ozs7OztHQU9DLEdBQ0R3Qyx3QkFBd0J4QyxVQUFVLEVBQUU7UUFDbEMsT0FBTyxJQUFJLENBQUN2RCxzQkFBc0IsQ0FBQzhGLFdBQVcsQ0FBQ3ZDO0lBQ2pEO0lBQ0E7Ozs7OztHQU1DLEdBQ0R5QywyQkFBMkJ6QyxVQUFVLEVBQUU7UUFDckMsT0FBTyxJQUFJLENBQUN2RCxzQkFBc0IsQ0FBQ2lHLGNBQWMsQ0FBQzFDO0lBQ3BEO0lBQ0E7O0dBRUMsR0FDRDJDLGVBQWV6QyxPQUFPLEVBQUVDLElBQUksRUFBRTtRQUM1QixNQUFNOEIsYUFBYXZKLDREQUFTQSxDQUFDeUg7UUFDN0IsTUFBTUgsYUFBYTVILHdFQUFvQkEsQ0FBQzhILFNBQVMrQjtRQUNqRCxPQUFPLElBQUksQ0FBQ3hGLHNCQUFzQixDQUFDbUcsU0FBUyxDQUFDNUM7SUFDL0M7SUFDQTs7Ozs7Ozs7R0FRQyxHQUNENkMsYUFBYTlJLElBQUksRUFBRW9HLElBQUksRUFBRTtRQUN2QixNQUFNOEIsYUFBYXZKLDREQUFTQSxDQUFDeUg7UUFDN0IsTUFBTUgsYUFBYTVILHdFQUFvQkEsQ0FBQzJCLE1BQU1rSTtRQUM5QyxPQUFPLElBQUksQ0FBQ2hILEtBQUssQ0FBQzRILFlBQVksQ0FBQzdDO0lBQ2pDO0lBQ0E7Ozs7O0dBS0MsR0FDRHhHLGtCQUFrQjtRQUNoQixNQUFNc0osb0JBQW9CLElBQUksQ0FBQ3RILGdCQUFnQixDQUFDaEMsZUFBZTtRQUMvRCxPQUFPO1lBQ0x1SixxQkFBcUIsSUFBSSxDQUFDMUgsY0FBYyxDQUFDMEgsbUJBQW1CO1lBQzVEQyxzQkFBc0JGLGtCQUFrQkcsV0FBVztZQUNuREMsa0JBQWtCSixrQkFBa0JJLGdCQUFnQjtZQUNwREMsaUJBQWlCTCxrQkFBa0JLLGVBQWU7WUFDbERDLG1CQUFtQk4sa0JBQWtCTSxpQkFBaUI7WUFDdERDLDZCQUE2QixJQUFJLENBQUNoSSxjQUFjLENBQUNnSSwyQkFBMkI7WUFDNUVDLG1CQUFtQixJQUFJLENBQUNqSSxjQUFjLENBQUNpSSxpQkFBaUI7WUFDeERDLGlCQUFpQixJQUFJLENBQUNsSSxjQUFjLENBQUNrSSxlQUFlO1FBQ3REO0lBQ0Y7SUFDQTs7Ozs7Ozs7O0dBU0MsR0FDREMsMkJBQTJCNUosRUFBRSxFQUFFO1FBQzdCLE1BQU1zSCxLQUFLLElBQUksQ0FBQ3VDLCtCQUErQjtRQUMvQyxJQUFJLENBQUM1SiwwQkFBMEIsQ0FBQ3dHLEdBQUcsQ0FBQ2EsSUFBSXRIO1FBQ3hDLE9BQU87WUFDTCxJQUFJLENBQUNDLDBCQUEwQixDQUFDdUgsTUFBTSxDQUFDRjtRQUN6QztJQUNGO0lBQ0E7Ozs7Ozs7OztLQVNHLEdBQ0gsTUFBTXdDLFNBQVMzSixJQUFJLEVBQUVvRyxJQUFJLEVBQUVqSCxPQUFPLEVBQUU7UUFDbEMsTUFBTW1HLFNBQVMsTUFBTSxJQUFJLENBQUNzRSxnQkFBZ0IsQ0FBQzVKLE1BQU1vRyxNQUFNakg7UUFDdkQsSUFBSSxDQUFDbUcsT0FBT0osT0FBTyxFQUFFO1lBQ25CLElBQUlJLE9BQU91RSxTQUFTLEtBQUssS0FBSyxHQUFHO2dCQUMvQixNQUFNaE0sd0RBQVdBLENBQ2Z5SCxRQUNBLElBQUl6RywyREFBV0EsQ0FDYmpCLHdFQUEyQkEsQ0FBQyxZQUFZb0MsTUFBTXNGO1lBR3BEO1lBQ0EsTUFBTSxJQUFJbkYsTUFBTXZDLHdFQUEyQkEsQ0FBQyxZQUFZb0MsTUFBTXNGO1FBQ2hFO1FBQ0EsT0FBT0EsT0FBT2pJLEtBQUs7SUFDckI7SUFDQTs7R0FFQyxHQUNELE1BQU11TSxpQkFBaUJ6RCxPQUFPLEVBQUVDLElBQUksRUFBRWpILE9BQU8sRUFBRWtKLGFBQWEsRUFBRTtRQUM1RCxNQUFNLEVBQUV5QixlQUFlLEVBQUUsR0FBRyxJQUFJLENBQUNDLGVBQWUsQ0FDOUM1RCxTQUNBQyxNQUNBakgsU0FDQWtKO1FBRUYsT0FBT3lCO0lBQ1Q7SUFDQTs7R0FFQyxHQUNEQyxnQkFBZ0I1RCxPQUFPLEVBQUVDLElBQUksRUFBRWpILE9BQU8sRUFBRWtKLGFBQWEsRUFBRTtRQUNyRCxNQUFNMkIsZUFBZXJMLDREQUFTQSxDQUFDeUg7UUFDL0IsSUFBSSxDQUFDNkQsdUJBQXVCO1FBQzVCLE1BQU01RSxZQUFZLElBQUksQ0FBQzZFLGFBQWE7UUFDcEMsSUFBSSxDQUFDbEgsY0FBYztRQUNuQixJQUFJN0QsWUFBWSxLQUFLLEdBQUc7WUFDdEIsTUFBTWdMLG1CQUFtQmhMLFFBQVFnTCxnQkFBZ0I7WUFDakQsSUFBSUEscUJBQXFCLEtBQUssR0FBRztnQkFDL0IsTUFBTUMsZ0JBQWdCLENBQUNDO29CQUNyQixNQUFNL0UsU0FBUzZFLGlCQUNiRSxpQkFDQUw7b0JBRUYsSUFBSTFFLGtCQUFrQmpHLFNBQVM7d0JBQzdCLElBQUksQ0FBQ29CLE1BQU0sQ0FBQzZKLElBQUksQ0FDZDtvQkFFSjtnQkFDRjtnQkFDQSxNQUFNL0QscUJBQXFCLElBQUksQ0FBQzdELHNCQUFzQixDQUFDNkgscUJBQXFCLENBQzFFSCxlQUNBL0U7Z0JBRUYsTUFBTW1GLGlCQUFpQmpFLG1CQUFtQnpELEdBQUcsQ0FBQyxDQUFDakI7b0JBQzdDLE1BQU00SSxjQUFjLElBQUksQ0FBQ2hDLHVCQUF1QixDQUFDNUc7b0JBQ2pELE9BQU87d0JBQ0xBO3dCQUNBK0UsY0FBYzs0QkFDWkMsTUFBTTs0QkFDTnZCLFFBQVFtRixnQkFBZ0IsS0FBSyxJQUFJLEtBQUssSUFBSTtnQ0FDeEN2RixTQUFTO2dDQUNUN0gsT0FBT29OO2dDQUNQQyxVQUFVLEVBQUU7NEJBQ2Q7d0JBQ0Y7b0JBQ0Y7Z0JBQ0Y7Z0JBQ0EsSUFBSSxDQUFDakUsZ0JBQWdCLENBQUM7b0JBQ3BCNUQsU0FBUzJIO29CQUNUMUQsb0JBQW9CLEVBQUU7b0JBQ3RCOUIsV0FBVyxJQUFJLENBQUM3RCxjQUFjLENBQUM2RCxTQUFTO2dCQUMxQztZQUNGO1FBQ0Y7UUFDQSxNQUFNbEQsVUFBVTtZQUNkK0IsTUFBTTtZQUNOd0I7WUFDQWM7WUFDQWtDO1lBQ0FqQyxNQUFNO2dCQUFDekksOERBQVlBLENBQUNxTTthQUFjO1FBQ3BDO1FBQ0EsTUFBTVcsY0FBYyxJQUFJLENBQUNsSixnQkFBZ0IsQ0FBQ08sV0FBVyxDQUFDRjtRQUN0RCxNQUFNZ0ksa0JBQWtCLElBQUksQ0FBQ3hJLGNBQWMsQ0FBQ3NKLE9BQU8sQ0FBQzlJLFNBQVM2STtRQUM3RCxPQUFPO1lBQ0x0RjtZQUNBeUU7UUFDRjtJQUNGO0lBQ0E7Ozs7Ozs7R0FPQyxHQUNELE1BQU1lLE9BQU83SyxJQUFJLEVBQUVvRyxJQUFJLEVBQUU7UUFDdkIsTUFBTWQsU0FBUyxNQUFNLElBQUksQ0FBQ3dGLGNBQWMsQ0FBQzlLLE1BQU1vRztRQUMvQyxJQUFJLENBQUNkLE9BQU9KLE9BQU8sRUFBRTtZQUNuQixJQUFJSSxPQUFPdUUsU0FBUyxLQUFLLEtBQUssR0FBRztnQkFDL0IsTUFBTWhNLHdEQUFXQSxDQUNmeUgsUUFDQSxJQUFJekcsMkRBQVdBLENBQUNqQix3RUFBMkJBLENBQUMsVUFBVW9DLE1BQU1zRjtZQUVoRTtZQUNBLE1BQU0sSUFBSW5GLE1BQU12Qyx3RUFBMkJBLENBQUMsVUFBVW9DLE1BQU1zRjtRQUM5RDtRQUNBLE9BQU9BLE9BQU9qSSxLQUFLO0lBQ3JCO0lBQ0E7O0dBRUMsR0FDRCxNQUFNeU4sZUFBZTNFLE9BQU8sRUFBRUMsSUFBSSxFQUFFaUMsYUFBYSxFQUFFO1FBQ2pELE1BQU0wQyxhQUFhcE0sNERBQVNBLENBQUN5SDtRQUM3QixNQUFNZixZQUFZLElBQUksQ0FBQzZFLGFBQWE7UUFDcEMsSUFBSSxDQUFDbEgsY0FBYztRQUNuQixJQUFJLENBQUNpSCx1QkFBdUI7UUFDNUIsTUFBTW5JLFVBQVU7WUFDZCtCLE1BQU07WUFDTndCO1lBQ0FjO1lBQ0FrQztZQUNBakMsTUFBTTtnQkFBQ3pJLDhEQUFZQSxDQUFDb047YUFBWTtRQUNsQztRQUNBLE1BQU1KLGNBQWMsSUFBSSxDQUFDbEosZ0JBQWdCLENBQUNPLFdBQVcsQ0FBQ0Y7UUFDdEQsT0FBTyxJQUFJLENBQUNSLGNBQWMsQ0FBQ3NKLE9BQU8sQ0FBQzlJLFNBQVM2STtJQUM5QztJQUNBOzs7Ozs7O0dBT0MsR0FDRCxNQUFNSyxRQUFRO1FBQ1osSUFBSSxDQUFDckoscUJBQXFCLENBQUNRLElBQUk7UUFDL0IsT0FBTyxJQUFJLENBQUNWLGdCQUFnQixDQUFDZ0UsU0FBUztJQUN4QztJQUNBOzs7OztHQUtDLEdBQ0QsSUFBSXdGLE1BQU07UUFDUixPQUFPLElBQUksQ0FBQ2hNLE9BQU87SUFDckI7SUFDQTs7R0FFQyxHQUNELElBQUlpTCxnQkFBZ0I7UUFDbEIsT0FBTyxJQUFJLENBQUNsSCxjQUFjO0lBQzVCO0lBQ0E7O0dBRUMsR0FDRCxJQUFJOUMsWUFBWTtRQUNkLE9BQU8sSUFBSSxDQUFDK0MsVUFBVTtJQUN4QjtJQUNBOzs7R0FHQyxHQUNEeUIsY0FBYztRQUNaLElBQUksSUFBSSxDQUFDekUsS0FBSyxFQUFFO1lBQ2QsTUFBTWlMLFNBQVN6TSw0REFBY0EsQ0FBQyxJQUFJLENBQUN5QixTQUFTO1lBQzVDLElBQUksQ0FBQ3VCLGdCQUFnQixDQUFDTyxXQUFXLENBQUM7Z0JBQ2hDNkIsTUFBTTtnQkFDTnNILFdBQVc7Z0JBQ1gxSCxPQUFPeUg7WUFDVDtRQUNGO0lBQ0Y7SUFDQWpCLDBCQUEwQjtRQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDaEssS0FBSyxFQUFFO1lBQ2Y7UUFDRjtRQUNBLE1BQU1tTCxzQkFBc0IsSUFBSSxDQUFDM0wsZUFBZSxHQUFHNkosMkJBQTJCO1FBQzlFLElBQUk4Qix3QkFBd0IsUUFBUUMsS0FBS0MsR0FBRyxLQUFLRixvQkFBb0JHLE9BQU8sTUFBTSxLQUFLLEtBQUs7WUFDMUY7UUFDRjtRQUNBLE1BQU1DLFdBQVcsQ0FBQyxFQUFFLElBQUksQ0FBQ3ZNLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztRQUNsRHdNLE1BQU1ELFVBQVU7WUFDZEUsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtnQkFDaEIsaUJBQWlCLENBQUMsSUFBSSxFQUFFak8sOENBQU9BLENBQUMsQ0FBQztZQUNuQztZQUNBa08sTUFBTWxNLEtBQUtDLFNBQVMsQ0FBQztnQkFBRThELE9BQU87WUFBMEI7UUFDMUQsR0FBR2xFLElBQUksQ0FBQyxDQUFDc007WUFDUCxJQUFJLENBQUNBLFNBQVNDLEVBQUUsRUFBRTtnQkFDaEIsSUFBSSxDQUFDckwsTUFBTSxDQUFDNkosSUFBSSxDQUNkLDJDQUNBdUIsU0FBU0QsSUFBSTtZQUVqQjtRQUNGLEdBQUdHLEtBQUssQ0FBQyxDQUFDdkc7WUFDUixJQUFJLENBQUMvRSxNQUFNLENBQUM2SixJQUFJLENBQUMseUNBQXlDOUU7UUFDNUQ7SUFDRjtBQUNGLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9jbGllbnQuanM/OWZjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UsXG4gIGZvcndhcmREYXRhLFxuICBpbnN0YW50aWF0ZURlZmF1bHRMb2dnZXIsXG4gIGluc3RhbnRpYXRlTm9vcExvZ2dlcixcbiAgbG9nRmF0YWxFcnJvclxufSBmcm9tIFwiLi4vbG9nZ2luZy5qc1wiO1xuaW1wb3J0IHsgTG9jYWxTeW5jU3RhdGUgfSBmcm9tIFwiLi9sb2NhbF9zdGF0ZS5qc1wiO1xuaW1wb3J0IHsgUmVxdWVzdE1hbmFnZXIgfSBmcm9tIFwiLi9yZXF1ZXN0X21hbmFnZXIuanNcIjtcbmltcG9ydCB7XG4gIE9wdGltaXN0aWNRdWVyeVJlc3VsdHNcbn0gZnJvbSBcIi4vb3B0aW1pc3RpY191cGRhdGVzX2ltcGwuanNcIjtcbmltcG9ydCB7IFJlbW90ZVF1ZXJ5U2V0IH0gZnJvbSBcIi4vcmVtb3RlX3F1ZXJ5X3NldC5qc1wiO1xuaW1wb3J0IHsgc2VyaWFsaXplUGF0aEFuZEFyZ3MgfSBmcm9tIFwiLi91ZGZfcGF0aF91dGlscy5qc1wiO1xuaW1wb3J0IHsgV2ViU29ja2V0TWFuYWdlciB9IGZyb20gXCIuL3dlYl9zb2NrZXRfbWFuYWdlci5qc1wiO1xuaW1wb3J0IHsgbmV3U2Vzc2lvbklkIH0gZnJvbSBcIi4vc2Vzc2lvbi5qc1wiO1xuaW1wb3J0IHtcbiAgQXV0aGVudGljYXRpb25NYW5hZ2VyXG59IGZyb20gXCIuL2F1dGhlbnRpY2F0aW9uX21hbmFnZXIuanNcIjtcbmltcG9ydCB7IGdldE1hcmtzUmVwb3J0LCBtYXJrIH0gZnJvbSBcIi4vbWV0cmljcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzLCB2YWxpZGF0ZURlcGxveW1lbnRVcmwgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBDb252ZXhFcnJvciB9IGZyb20gXCIuLi8uLi92YWx1ZXMvZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBqd3REZWNvZGUgfSBmcm9tIFwiLi4vLi4vdmVuZG9yL2p3dC1kZWNvZGUvaW5kZXguanNcIjtcbmV4cG9ydCBjbGFzcyBCYXNlQ29udmV4Q2xpZW50IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBhZGRyZXNzIC0gVGhlIHVybCBvZiB5b3VyIENvbnZleCBkZXBsb3ltZW50LCBvZnRlbiBwcm92aWRlZFxuICAgKiBieSBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZS4gRS5nLiBgaHR0cHM6Ly9zbWFsbC1tb3VzZS0xMjMuY29udmV4LmNsb3VkYC5cbiAgICogQHBhcmFtIG9uVHJhbnNpdGlvbiAtIEEgY2FsbGJhY2sgcmVjZWl2aW5nIGFuIGFycmF5IG9mIHF1ZXJ5IHRva2Vuc1xuICAgKiBjb3JyZXNwb25kaW5nIHRvIHF1ZXJ5IHJlc3VsdHMgdGhhdCBoYXZlIGNoYW5nZWQgLS0gYWRkaXRpb25hbCBoYW5kbGVyc1xuICAgKiBjYW4gYmUgYWRkZWQgdmlhIGBhZGRPblRyYW5zaXRpb25IYW5kbGVyYC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBTZWUge0BsaW5rIEJhc2VDb252ZXhDbGllbnRPcHRpb25zfSBmb3IgYSBmdWxsIGRlc2NyaXB0aW9uLlxuICAgKi9cbiAgY29uc3RydWN0b3IoYWRkcmVzcywgb25UcmFuc2l0aW9uLCBvcHRpb25zKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImFkZHJlc3NcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0YXRlXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZXF1ZXN0TWFuYWdlclwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwid2ViU29ja2V0TWFuYWdlclwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiYXV0aGVudGljYXRpb25NYW5hZ2VyXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZW1vdGVRdWVyeVNldFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib3B0aW1pc3RpY1F1ZXJ5UmVzdWx0c1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX3RyYW5zaXRpb25IYW5kbGVyQ291bnRlclwiLCAwKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX25leHRSZXF1ZXN0SWRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9vblRyYW5zaXRpb25GbnNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9zZXNzaW9uSWRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImZpcnN0TWVzc2FnZVJlY2VpdmVkXCIsIGZhbHNlKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZGVidWdcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxvZ2dlclwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibWF4T2JzZXJ2ZWRUaW1lc3RhbXBcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNvbm5lY3Rpb25TdGF0ZVN1YnNjcmliZXJzXCIsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJuZXh0Q29ubmVjdGlvblN0YXRlU3Vic2NyaWJlcklkXCIsIDApO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfbGFzdFB1Ymxpc2hlZENvbm5lY3Rpb25TdGF0ZVwiKTtcbiAgICAvKipcbiAgICAgKiBDYWxsIHRoaXMgd2hlbmV2ZXIgdGhlIGNvbm5lY3Rpb24gc3RhdGUgbWF5IGhhdmUgY2hhbmdlZCBpbiBhIHdheSB0aGF0IGNvdWxkXG4gICAgICogcmVxdWlyZSBwdWJsaXNoaW5nIGl0LiBTY2hlZHVsZXMgYSBwb3NzaWJseSB1cGRhdGUuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm1hcmtDb25uZWN0aW9uU3RhdGVEaXJ0eVwiLCAoKSA9PiB7XG4gICAgICB2b2lkIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJDb25uZWN0aW9uU3RhdGUgPSB0aGlzLmNvbm5lY3Rpb25TdGF0ZSgpO1xuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoY3VyQ29ubmVjdGlvblN0YXRlKSAhPT0gSlNPTi5zdHJpbmdpZnkodGhpcy5fbGFzdFB1Ymxpc2hlZENvbm5lY3Rpb25TdGF0ZSkpIHtcbiAgICAgICAgICB0aGlzLl9sYXN0UHVibGlzaGVkQ29ubmVjdGlvblN0YXRlID0gY3VyQ29ubmVjdGlvblN0YXRlO1xuICAgICAgICAgIGZvciAoY29uc3QgY2Igb2YgdGhpcy5jb25uZWN0aW9uU3RhdGVTdWJzY3JpYmVycy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgY2IoY3VyQ29ubmVjdGlvblN0YXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIEluc3RhbmNlIHByb3BlcnR5IHNvIHRoYXQgYG1hcmsoKWAgZG9lc24ndCBuZWVkIHRvIGJlIGNhbGxlZCBhcyBhIG1ldGhvZC5cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibWFya1wiLCAobmFtZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgbWFyayhuYW1lLCB0aGlzLnNlc3Npb25JZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBhZGRyZXNzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiUGFzc2luZyBhIENsaWVudENvbmZpZyBvYmplY3QgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gUGFzcyB0aGUgVVJMIG9mIHRoZSBDb252ZXggZGVwbG95bWVudCBhcyBhIHN0cmluZyBkaXJlY3RseS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LnNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2sgIT09IHRydWUpIHtcbiAgICAgIHZhbGlkYXRlRGVwbG95bWVudFVybChhZGRyZXNzKTtcbiAgICB9XG4gICAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9O1xuICAgIGNvbnN0IGF1dGhSZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzID0gb3B0aW9ucy5hdXRoUmVmcmVzaFRva2VuTGVld2F5U2Vjb25kcyA/PyAyO1xuICAgIGxldCB3ZWJTb2NrZXRDb25zdHJ1Y3RvciA9IG9wdGlvbnMud2ViU29ja2V0Q29uc3RydWN0b3I7XG4gICAgaWYgKCF3ZWJTb2NrZXRDb25zdHJ1Y3RvciAmJiB0eXBlb2YgV2ViU29ja2V0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gV2ViU29ja2V0IGdsb2JhbCB2YXJpYWJsZSBkZWZpbmVkISBUbyB1c2UgQ29udmV4IGluIGFuIGVudmlyb25tZW50IHdpdGhvdXQgV2ViU29ja2V0IHRyeSB0aGUgSFRUUCBjbGllbnQ6IGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L2FwaS9jbGFzc2VzL2Jyb3dzZXIuQ29udmV4SHR0cENsaWVudFwiXG4gICAgICApO1xuICAgIH1cbiAgICB3ZWJTb2NrZXRDb25zdHJ1Y3RvciA9IHdlYlNvY2tldENvbnN0cnVjdG9yIHx8IFdlYlNvY2tldDtcbiAgICB0aGlzLmRlYnVnID0gb3B0aW9ucy5yZXBvcnREZWJ1Z0luZm9Ub0NvbnZleCA/PyBmYWxzZTtcbiAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMubG9nZ2VyID0gb3B0aW9ucy5sb2dnZXIgPT09IGZhbHNlID8gaW5zdGFudGlhdGVOb29wTG9nZ2VyKHsgdmVyYm9zZTogb3B0aW9ucy52ZXJib3NlID8/IGZhbHNlIH0pIDogb3B0aW9ucy5sb2dnZXIgIT09IHRydWUgJiYgb3B0aW9ucy5sb2dnZXIgPyBvcHRpb25zLmxvZ2dlciA6IGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcih7IHZlcmJvc2U6IG9wdGlvbnMudmVyYm9zZSA/PyBmYWxzZSB9KTtcbiAgICBjb25zdCBpID0gYWRkcmVzcy5zZWFyY2goXCI6Ly9cIik7XG4gICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm92aWRlZCBhZGRyZXNzIHdhcyBub3QgYW4gYWJzb2x1dGUgVVJMLlwiKTtcbiAgICB9XG4gICAgY29uc3Qgb3JpZ2luID0gYWRkcmVzcy5zdWJzdHJpbmcoaSArIDMpO1xuICAgIGNvbnN0IHByb3RvY29sID0gYWRkcmVzcy5zdWJzdHJpbmcoMCwgaSk7XG4gICAgbGV0IHdzUHJvdG9jb2w7XG4gICAgaWYgKHByb3RvY29sID09PSBcImh0dHBcIikge1xuICAgICAgd3NQcm90b2NvbCA9IFwid3NcIjtcbiAgICB9IGVsc2UgaWYgKHByb3RvY29sID09PSBcImh0dHBzXCIpIHtcbiAgICAgIHdzUHJvdG9jb2wgPSBcIndzc1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcGFyZW50IHByb3RvY29sICR7cHJvdG9jb2x9YCk7XG4gICAgfVxuICAgIGNvbnN0IHdzVXJpID0gYCR7d3NQcm90b2NvbH06Ly8ke29yaWdpbn0vYXBpLyR7dmVyc2lvbn0vc3luY2A7XG4gICAgdGhpcy5zdGF0ZSA9IG5ldyBMb2NhbFN5bmNTdGF0ZSgpO1xuICAgIHRoaXMucmVtb3RlUXVlcnlTZXQgPSBuZXcgUmVtb3RlUXVlcnlTZXQoXG4gICAgICAocXVlcnlJZCkgPT4gdGhpcy5zdGF0ZS5xdWVyeVBhdGgocXVlcnlJZCksXG4gICAgICB0aGlzLmxvZ2dlclxuICAgICk7XG4gICAgdGhpcy5yZXF1ZXN0TWFuYWdlciA9IG5ldyBSZXF1ZXN0TWFuYWdlcihcbiAgICAgIHRoaXMubG9nZ2VyLFxuICAgICAgdGhpcy5tYXJrQ29ubmVjdGlvblN0YXRlRGlydHlcbiAgICApO1xuICAgIGNvbnN0IHBhdXNlU29ja2V0ID0gKCkgPT4ge1xuICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnBhdXNlKCk7XG4gICAgICB0aGlzLnN0YXRlLnBhdXNlKCk7XG4gICAgfTtcbiAgICB0aGlzLmF1dGhlbnRpY2F0aW9uTWFuYWdlciA9IG5ldyBBdXRoZW50aWNhdGlvbk1hbmFnZXIoXG4gICAgICB0aGlzLnN0YXRlLFxuICAgICAge1xuICAgICAgICBhdXRoZW50aWNhdGU6ICh0b2tlbikgPT4ge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLnN0YXRlLnNldEF1dGgodG9rZW4pO1xuICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICByZXR1cm4gbWVzc2FnZS5iYXNlVmVyc2lvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcFNvY2tldDogKCkgPT4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnN0b3AoKSxcbiAgICAgICAgdHJ5UmVzdGFydFNvY2tldDogKCkgPT4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnRyeVJlc3RhcnQoKSxcbiAgICAgICAgcGF1c2VTb2NrZXQsXG4gICAgICAgIHJlc3VtZVNvY2tldDogKCkgPT4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnJlc3VtZSgpLFxuICAgICAgICBjbGVhckF1dGg6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNsZWFyQXV0aCgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsb2dnZXI6IHRoaXMubG9nZ2VyLFxuICAgICAgICByZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzOiBhdXRoUmVmcmVzaFRva2VuTGVld2F5U2Vjb25kc1xuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzID0gbmV3IE9wdGltaXN0aWNRdWVyeVJlc3VsdHMoKTtcbiAgICB0aGlzLmFkZE9uVHJhbnNpdGlvbkhhbmRsZXIoKHRyYW5zaXRpb24pID0+IHtcbiAgICAgIG9uVHJhbnNpdGlvbih0cmFuc2l0aW9uLnF1ZXJpZXMubWFwKChxKSA9PiBxLnRva2VuKSk7XG4gICAgfSk7XG4gICAgdGhpcy5fbmV4dFJlcXVlc3RJZCA9IDA7XG4gICAgdGhpcy5fc2Vzc2lvbklkID0gbmV3U2Vzc2lvbklkKCk7XG4gICAgY29uc3QgeyB1bnNhdmVkQ2hhbmdlc1dhcm5pbmcgfSA9IG9wdGlvbnM7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBpZiAodW5zYXZlZENoYW5nZXNXYXJuaW5nID09PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcInVuc2F2ZWRDaGFuZ2VzV2FybmluZyByZXF1ZXN0ZWQsIGJ1dCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciBub3QgZm91bmQhIFJlbW92ZSB7dW5zYXZlZENoYW5nZXNXYXJuaW5nOiB0cnVlfSBmcm9tIENvbnZleCBjbGllbnQgb3B0aW9ucy5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodW5zYXZlZENoYW5nZXNXYXJuaW5nICE9PSBmYWxzZSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKGUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucmVxdWVzdE1hbmFnZXIuaGFzSW5jb21wbGV0ZVJlcXVlc3RzKCkpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgY29uc3QgY29uZmlybWF0aW9uTWVzc2FnZSA9IFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlPyBZb3VyIGNoYW5nZXMgbWF5IG5vdCBiZSBzYXZlZC5cIjtcbiAgICAgICAgICAoZSB8fCB3aW5kb3cuZXZlbnQpLnJldHVyblZhbHVlID0gY29uZmlybWF0aW9uTWVzc2FnZTtcbiAgICAgICAgICByZXR1cm4gY29uZmlybWF0aW9uTWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMud2ViU29ja2V0TWFuYWdlciA9IG5ldyBXZWJTb2NrZXRNYW5hZ2VyKFxuICAgICAgd3NVcmksXG4gICAgICB7XG4gICAgICAgIG9uT3BlbjogKHJlY29ubmVjdE1ldGFkYXRhKSA9PiB7XG4gICAgICAgICAgdGhpcy5tYXJrKFwiY29udmV4V2ViU29ja2V0T3BlblwiKTtcbiAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgLi4ucmVjb25uZWN0TWV0YWRhdGEsXG4gICAgICAgICAgICB0eXBlOiBcIkNvbm5lY3RcIixcbiAgICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5fc2Vzc2lvbklkLFxuICAgICAgICAgICAgbWF4T2JzZXJ2ZWRUaW1lc3RhbXA6IHRoaXMubWF4T2JzZXJ2ZWRUaW1lc3RhbXBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBvbGRSZW1vdGVRdWVyeVJlc3VsdHMgPSBuZXcgU2V0KFxuICAgICAgICAgICAgdGhpcy5yZW1vdGVRdWVyeVNldC5yZW1vdGVRdWVyeVJlc3VsdHMoKS5rZXlzKClcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQgPSBuZXcgUmVtb3RlUXVlcnlTZXQoXG4gICAgICAgICAgICAocXVlcnlJZCkgPT4gdGhpcy5zdGF0ZS5xdWVyeVBhdGgocXVlcnlJZCksXG4gICAgICAgICAgICB0aGlzLmxvZ2dlclxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgW3F1ZXJ5U2V0TW9kaWZpY2F0aW9uLCBhdXRoTW9kaWZpY2F0aW9uXSA9IHRoaXMuc3RhdGUucmVzdGFydChcbiAgICAgICAgICAgIG9sZFJlbW90ZVF1ZXJ5UmVzdWx0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGF1dGhNb2RpZmljYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShhdXRoTW9kaWZpY2F0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKHF1ZXJ5U2V0TW9kaWZpY2F0aW9uKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgdGhpcy5yZXF1ZXN0TWFuYWdlci5yZXN0YXJ0KCkpIHtcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVzdW1lOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgW3F1ZXJ5U2V0TW9kaWZpY2F0aW9uLCBhdXRoTW9kaWZpY2F0aW9uXSA9IHRoaXMuc3RhdGUucmVzdW1lKCk7XG4gICAgICAgICAgaWYgKGF1dGhNb2RpZmljYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShhdXRoTW9kaWZpY2F0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHF1ZXJ5U2V0TW9kaWZpY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UocXVlcnlTZXRNb2RpZmljYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgdGhpcy5yZXF1ZXN0TWFuYWdlci5yZXN1bWUoKSkge1xuICAgICAgICAgICAgdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnNlbmRNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25NZXNzYWdlOiAoc2VydmVyTWVzc2FnZSkgPT4ge1xuICAgICAgICAgIGlmICghdGhpcy5maXJzdE1lc3NhZ2VSZWNlaXZlZCkge1xuICAgICAgICAgICAgdGhpcy5maXJzdE1lc3NhZ2VSZWNlaXZlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1hcmsoXCJjb252ZXhGaXJzdE1lc3NhZ2VSZWNlaXZlZFwiKTtcbiAgICAgICAgICAgIHRoaXMucmVwb3J0TWFya3MoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoIChzZXJ2ZXJNZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJUcmFuc2l0aW9uXCI6IHtcbiAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlZFRpbWVzdGFtcChzZXJ2ZXJNZXNzYWdlLmVuZFZlcnNpb24udHMpO1xuICAgICAgICAgICAgICB0aGlzLmF1dGhlbnRpY2F0aW9uTWFuYWdlci5vblRyYW5zaXRpb24oc2VydmVyTWVzc2FnZSk7XG4gICAgICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQudHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgICAgdGhpcy5zdGF0ZS50cmFuc2l0aW9uKHNlcnZlck1lc3NhZ2UpO1xuICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRSZXF1ZXN0cyA9IHRoaXMucmVxdWVzdE1hbmFnZXIucmVtb3ZlQ29tcGxldGVkKFxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQudGltZXN0YW1wKClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5ub3RpZnlPblF1ZXJ5UmVzdWx0Q2hhbmdlcyhjb21wbGV0ZWRSZXF1ZXN0cyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIk11dGF0aW9uUmVzcG9uc2VcIjoge1xuICAgICAgICAgICAgICBpZiAoc2VydmVyTWVzc2FnZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlZFRpbWVzdGFtcChzZXJ2ZXJNZXNzYWdlLnRzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRNdXRhdGlvbkluZm8gPSB0aGlzLnJlcXVlc3RNYW5hZ2VyLm9uUmVzcG9uc2Uoc2VydmVyTWVzc2FnZSk7XG4gICAgICAgICAgICAgIGlmIChjb21wbGV0ZWRNdXRhdGlvbkluZm8gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeU9uUXVlcnlSZXN1bHRDaGFuZ2VzKFxuICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoW1xuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVkTXV0YXRpb25JbmZvLnJlcXVlc3RJZCxcbiAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZWRNdXRhdGlvbkluZm8ucmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJBY3Rpb25SZXNwb25zZVwiOiB7XG4gICAgICAgICAgICAgIHRoaXMucmVxdWVzdE1hbmFnZXIub25SZXNwb25zZShzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiQXV0aEVycm9yXCI6IHtcbiAgICAgICAgICAgICAgdGhpcy5hdXRoZW50aWNhdGlvbk1hbmFnZXIub25BdXRoRXJyb3Ioc2VydmVyTWVzc2FnZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIkZhdGFsRXJyb3JcIjoge1xuICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGxvZ0ZhdGFsRXJyb3IodGhpcy5sb2dnZXIsIHNlcnZlck1lc3NhZ2UuZXJyb3IpO1xuICAgICAgICAgICAgICB2b2lkIHRoaXMud2ViU29ja2V0TWFuYWdlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgIHNlcnZlck1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdDogdGhpcy5oYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCgpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgb25TZXJ2ZXJEaXNjb25uZWN0RXJyb3I6IG9wdGlvbnMub25TZXJ2ZXJEaXNjb25uZWN0RXJyb3JcbiAgICAgIH0sXG4gICAgICB3ZWJTb2NrZXRDb25zdHJ1Y3RvcixcbiAgICAgIHRoaXMubG9nZ2VyLFxuICAgICAgdGhpcy5tYXJrQ29ubmVjdGlvblN0YXRlRGlydHksXG4gICAgICB0aGlzLmRlYnVnXG4gICAgKTtcbiAgICB0aGlzLm1hcmsoXCJjb252ZXhDbGllbnRDb25zdHJ1Y3RlZFwiKTtcbiAgICBpZiAob3B0aW9ucy5leHBlY3RBdXRoKSB7XG4gICAgICBwYXVzZVNvY2tldCgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmV0dXJuIHRydWUgaWYgdGhlcmUgaXMgb3V0c3RhbmRpbmcgd29yayBmcm9tIHByaW9yIHRvIHRoZSB0aW1lIG9mIHRoZSBtb3N0IHJlY2VudCByZXN0YXJ0LlxuICAgKiBUaGlzIGluZGljYXRlcyB0aGF0IHRoZSBjbGllbnQgaGFzIG5vdCBwcm92ZW4gaXRzZWxmIHRvIGhhdmUgZ290dGVuIHBhc3QgdGhlIGlzc3VlIHRoYXRcbiAgICogcG90ZW50aWFsbHkgbGVkIHRvIHRoZSByZXN0YXJ0LiBVc2UgdGhpcyB0byBpbmZsdWVuY2Ugd2hlbiB0byByZXNldCBiYWNrb2ZmIGFmdGVyIGEgZmFpbHVyZS5cbiAgICovXG4gIGhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0KCkge1xuICAgIGNvbnN0IGhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0ID0gdGhpcy5yZXF1ZXN0TWFuYWdlci5oYXNTeW5jZWRQYXN0TGFzdFJlY29ubmVjdCgpIHx8IHRoaXMuc3RhdGUuaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QoKTtcbiAgICByZXR1cm4gaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3Q7XG4gIH1cbiAgb2JzZXJ2ZWRUaW1lc3RhbXAob2JzZXJ2ZWRUcykge1xuICAgIGlmICh0aGlzLm1heE9ic2VydmVkVGltZXN0YW1wID09PSB2b2lkIDAgfHwgdGhpcy5tYXhPYnNlcnZlZFRpbWVzdGFtcC5sZXNzVGhhbk9yRXF1YWwob2JzZXJ2ZWRUcykpIHtcbiAgICAgIHRoaXMubWF4T2JzZXJ2ZWRUaW1lc3RhbXAgPSBvYnNlcnZlZFRzO1xuICAgIH1cbiAgfVxuICBnZXRNYXhPYnNlcnZlZFRpbWVzdGFtcCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXhPYnNlcnZlZFRpbWVzdGFtcDtcbiAgfVxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgY3VycmVudCBxdWVyeSByZXN1bHRzIGJhc2VkIG9uIHRoZSByZW1vdGVRdWVyeVNldCBhbmQgdGhlXG4gICAqIGN1cnJlbnQgb3B0aW1pc3RpYyB1cGRhdGVzIGFuZCBjYWxsIGBvblRyYW5zaXRpb25gIGZvciBhbGwgdGhlIGNoYW5nZWRcbiAgICogcXVlcmllcy5cbiAgICpcbiAgICogQHBhcmFtIGNvbXBsZXRlZE11dGF0aW9ucyAtIEEgc2V0IG9mIG11dGF0aW9uIElEcyB3aG9zZSBvcHRpbWlzdGljIHVwZGF0ZXNcbiAgICogYXJlIG5vIGxvbmdlciBuZWVkZWQuXG4gICAqL1xuICBub3RpZnlPblF1ZXJ5UmVzdWx0Q2hhbmdlcyhjb21wbGV0ZWRSZXF1ZXN0cykge1xuICAgIGNvbnN0IHJlbW90ZVF1ZXJ5UmVzdWx0cyA9IHRoaXMucmVtb3RlUXVlcnlTZXQucmVtb3RlUXVlcnlSZXN1bHRzKCk7XG4gICAgY29uc3QgcXVlcnlUb2tlblRvVmFsdWUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgW3F1ZXJ5SWQsIHJlc3VsdF0gb2YgcmVtb3RlUXVlcnlSZXN1bHRzKSB7XG4gICAgICBjb25zdCBxdWVyeVRva2VuID0gdGhpcy5zdGF0ZS5xdWVyeVRva2VuKHF1ZXJ5SWQpO1xuICAgICAgaWYgKHF1ZXJ5VG9rZW4gIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB7XG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIHVkZlBhdGg6IHRoaXMuc3RhdGUucXVlcnlQYXRoKHF1ZXJ5SWQpLFxuICAgICAgICAgIGFyZ3M6IHRoaXMuc3RhdGUucXVlcnlBcmdzKHF1ZXJ5SWQpXG4gICAgICAgIH07XG4gICAgICAgIHF1ZXJ5VG9rZW5Ub1ZhbHVlLnNldChxdWVyeVRva2VuLCBxdWVyeSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZWRRdWVyeVRva2VucyA9IHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5pbmdlc3RRdWVyeVJlc3VsdHNGcm9tU2VydmVyKFxuICAgICAgcXVlcnlUb2tlblRvVmFsdWUsXG4gICAgICBuZXcgU2V0KGNvbXBsZXRlZFJlcXVlc3RzLmtleXMoKSlcbiAgICApO1xuICAgIHRoaXMuaGFuZGxlVHJhbnNpdGlvbih7XG4gICAgICBxdWVyaWVzOiBjaGFuZ2VkUXVlcnlUb2tlbnMubWFwKCh0b2tlbikgPT4ge1xuICAgICAgICBjb25zdCBvcHRpbWlzdGljUmVzdWx0ID0gdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLnJhd1F1ZXJ5UmVzdWx0KHRva2VuKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0b2tlbixcbiAgICAgICAgICBtb2RpZmljYXRpb246IHtcbiAgICAgICAgICAgIGtpbmQ6IFwiVXBkYXRlZFwiLFxuICAgICAgICAgICAgcmVzdWx0OiBvcHRpbWlzdGljUmVzdWx0XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICByZWZsZWN0ZWRNdXRhdGlvbnM6IEFycmF5LmZyb20oY29tcGxldGVkUmVxdWVzdHMpLm1hcChcbiAgICAgICAgKFtyZXF1ZXN0SWQsIHJlc3VsdF0pID0+ICh7XG4gICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgIHJlc3VsdFxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIHRpbWVzdGFtcDogdGhpcy5yZW1vdGVRdWVyeVNldC50aW1lc3RhbXAoKVxuICAgIH0pO1xuICB9XG4gIGhhbmRsZVRyYW5zaXRpb24odHJhbnNpdGlvbikge1xuICAgIGZvciAoY29uc3QgZm4gb2YgdGhpcy5fb25UcmFuc2l0aW9uRm5zLnZhbHVlcygpKSB7XG4gICAgICBmbih0cmFuc2l0aW9uKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFkZCBhIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCBvbiBhIHRyYW5zaXRpb24uXG4gICAqXG4gICAqIEFueSBleHRlcm5hbCBzaWRlIGVmZmVjdHMgKGUuZy4gc2V0dGluZyBSZWFjdCBzdGF0ZSkgc2hvdWxkIGJlIGhhbmRsZWQgaGVyZS5cbiAgICpcbiAgICogQHBhcmFtIGZuXG4gICAqXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBhZGRPblRyYW5zaXRpb25IYW5kbGVyKGZuKSB7XG4gICAgY29uc3QgaWQgPSB0aGlzLl90cmFuc2l0aW9uSGFuZGxlckNvdW50ZXIrKztcbiAgICB0aGlzLl9vblRyYW5zaXRpb25GbnMuc2V0KGlkLCBmbik7XG4gICAgcmV0dXJuICgpID0+IHRoaXMuX29uVHJhbnNpdGlvbkZucy5kZWxldGUoaWQpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgSldUIGF1dGggdG9rZW4gYW5kIGRlY29kZWQgY2xhaW1zLlxuICAgKi9cbiAgZ2V0Q3VycmVudEF1dGhDbGFpbXMoKSB7XG4gICAgY29uc3QgYXV0aFRva2VuID0gdGhpcy5zdGF0ZS5nZXRBdXRoKCk7XG4gICAgbGV0IGRlY29kZWQgPSB7fTtcbiAgICBpZiAoYXV0aFRva2VuICYmIGF1dGhUb2tlbi50b2tlblR5cGUgPT09IFwiVXNlclwiKSB7XG4gICAgICB0cnkge1xuICAgICAgICBkZWNvZGVkID0gYXV0aFRva2VuID8gand0RGVjb2RlKGF1dGhUb2tlbi52YWx1ZSkgOiB7fTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBkZWNvZGVkID0ge307XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiB7IHRva2VuOiBhdXRoVG9rZW4udmFsdWUsIGRlY29kZWQgfTtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBhdXRoZW50aWNhdGlvbiB0b2tlbiB0byBiZSB1c2VkIGZvciBzdWJzZXF1ZW50IHF1ZXJpZXMgYW5kIG11dGF0aW9ucy5cbiAgICogYGZldGNoVG9rZW5gIHdpbGwgYmUgY2FsbGVkIGF1dG9tYXRpY2FsbHkgYWdhaW4gaWYgYSB0b2tlbiBleHBpcmVzLlxuICAgKiBgZmV0Y2hUb2tlbmAgc2hvdWxkIHJldHVybiBgbnVsbGAgaWYgdGhlIHRva2VuIGNhbm5vdCBiZSByZXRyaWV2ZWQsIGZvciBleGFtcGxlXG4gICAqIHdoZW4gdGhlIHVzZXIncyByaWdodHMgd2VyZSBwZXJtYW5lbnRseSByZXZva2VkLlxuICAgKiBAcGFyYW0gZmV0Y2hUb2tlbiAtIGFuIGFzeW5jIGZ1bmN0aW9uIHJldHVybmluZyB0aGUgSldULWVuY29kZWQgT3BlbklEIENvbm5lY3QgSWRlbnRpdHkgVG9rZW5cbiAgICogQHBhcmFtIG9uQ2hhbmdlIC0gYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGF1dGhlbnRpY2F0aW9uIHN0YXR1cyBjaGFuZ2VzXG4gICAqL1xuICBzZXRBdXRoKGZldGNoVG9rZW4sIG9uQ2hhbmdlKSB7XG4gICAgdm9pZCB0aGlzLmF1dGhlbnRpY2F0aW9uTWFuYWdlci5zZXRDb25maWcoZmV0Y2hUb2tlbiwgb25DaGFuZ2UpO1xuICB9XG4gIGhhc0F1dGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuaGFzQXV0aCgpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc2V0QWRtaW5BdXRoKHZhbHVlLCBmYWtlVXNlcklkZW50aXR5KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRoaXMuc3RhdGUuc2V0QWRtaW5BdXRoKHZhbHVlLCBmYWtlVXNlcklkZW50aXR5KTtcbiAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cbiAgY2xlYXJBdXRoKCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLnN0YXRlLmNsZWFyQXV0aCgpO1xuICAgIHRoaXMud2ViU29ja2V0TWFuYWdlci5zZW5kTWVzc2FnZShtZXNzYWdlKTtcbiAgfVxuICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdG8gYSBxdWVyeSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIFdoZW5ldmVyIHRoaXMgcXVlcnkncyByZXN1bHQgY2hhbmdlcywgdGhlIGBvblRyYW5zaXRpb25gIGNhbGxiYWNrXG4gICAgICogcGFzc2VkIGludG8gdGhlIGNvbnN0cnVjdG9yIHdpbGwgYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcXVlcnkuXG4gICAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgcXVlcnkuIElmIHRoaXMgaXMgb21pdHRlZCwgdGhlXG4gICAgICogYXJndW1lbnRzIHdpbGwgYmUgYHt9YC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIFN1YnNjcmliZU9wdGlvbnN9IG9wdGlvbnMgb2JqZWN0IGZvciB0aGlzIHF1ZXJ5LlxuICBcbiAgICAgKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyBhIHtAbGluayBRdWVyeVRva2VufSBjb3JyZXNwb25kaW5nIHRvIHRoaXNcbiAgICAgKiBxdWVyeSBhbmQgYW4gYHVuc3Vic2NyaWJlYCBjYWxsYmFjay5cbiAgICAgKi9cbiAgc3Vic2NyaWJlKG5hbWUsIGFyZ3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBhcmdzT2JqZWN0ID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IHsgbW9kaWZpY2F0aW9uLCBxdWVyeVRva2VuLCB1bnN1YnNjcmliZSB9ID0gdGhpcy5zdGF0ZS5zdWJzY3JpYmUoXG4gICAgICBuYW1lLFxuICAgICAgYXJnc09iamVjdCxcbiAgICAgIG9wdGlvbnM/LmpvdXJuYWwsXG4gICAgICBvcHRpb25zPy5jb21wb25lbnRQYXRoXG4gICAgKTtcbiAgICBpZiAobW9kaWZpY2F0aW9uICE9PSBudWxsKSB7XG4gICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobW9kaWZpY2F0aW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXJ5VG9rZW4sXG4gICAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2RpZmljYXRpb24yID0gdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgaWYgKG1vZGlmaWNhdGlvbjIpIHtcbiAgICAgICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobW9kaWZpY2F0aW9uMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBBIHF1ZXJ5IHJlc3VsdCBiYXNlZCBvbmx5IG9uIHRoZSBjdXJyZW50LCBsb2NhbCBzdGF0ZS5cbiAgICpcbiAgICogVGhlIG9ubHkgd2F5IHRoaXMgd2lsbCByZXR1cm4gYSB2YWx1ZSBpcyBpZiB3ZSdyZSBhbHJlYWR5IHN1YnNjcmliZWQgdG8gdGhlXG4gICAqIHF1ZXJ5IG9yIGl0cyB2YWx1ZSBoYXMgYmVlbiBzZXQgb3B0aW1pc3RpY2FsbHkuXG4gICAqL1xuICBsb2NhbFF1ZXJ5UmVzdWx0KHVkZlBhdGgsIGFyZ3MpIHtcbiAgICBjb25zdCBhcmdzT2JqZWN0ID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSBzZXJpYWxpemVQYXRoQW5kQXJncyh1ZGZQYXRoLCBhcmdzT2JqZWN0KTtcbiAgICByZXR1cm4gdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLnF1ZXJ5UmVzdWx0KHF1ZXJ5VG9rZW4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgcXVlcnkgcmVzdWx0IGJ5IHF1ZXJ5IHRva2VuIGJhc2VkIG9uIGN1cnJlbnQsIGxvY2FsIHN0YXRlXG4gICAqXG4gICAqIFRoZSBvbmx5IHdheSB0aGlzIHdpbGwgcmV0dXJuIGEgdmFsdWUgaXMgaWYgd2UncmUgYWxyZWFkeSBzdWJzY3JpYmVkIHRvIHRoZVxuICAgKiBxdWVyeSBvciBpdHMgdmFsdWUgaGFzIGJlZW4gc2V0IG9wdGltaXN0aWNhbGx5LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHF1ZXJ5VG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpbWlzdGljUXVlcnlSZXN1bHRzLnF1ZXJ5UmVzdWx0KHF1ZXJ5VG9rZW4pO1xuICB9XG4gIC8qKlxuICAgKiBXaGV0aGVyIGxvY2FsIHF1ZXJ5IHJlc3VsdCBpcyBhdmFpbGFibGUgZm9yIGEgdG9rZW4uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGRvZXMgbm90IHRocm93IGlmIHRoZSByZXN1bHQgaXMgYW4gZXJyb3IuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgaGFzTG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4ocXVlcnlUb2tlbikge1xuICAgIHJldHVybiB0aGlzLm9wdGltaXN0aWNRdWVyeVJlc3VsdHMuaGFzUXVlcnlSZXN1bHQocXVlcnlUb2tlbik7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbG9jYWxRdWVyeUxvZ3ModWRmUGF0aCwgYXJncykge1xuICAgIGNvbnN0IGFyZ3NPYmplY3QgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgY29uc3QgcXVlcnlUb2tlbiA9IHNlcmlhbGl6ZVBhdGhBbmRBcmdzKHVkZlBhdGgsIGFyZ3NPYmplY3QpO1xuICAgIHJldHVybiB0aGlzLm9wdGltaXN0aWNRdWVyeVJlc3VsdHMucXVlcnlMb2dzKHF1ZXJ5VG9rZW4pO1xuICB9XG4gIC8qKlxuICAgKiBSZXRyaWV2ZSB0aGUgY3VycmVudCB7QGxpbmsgUXVlcnlKb3VybmFsfSBmb3IgdGhpcyBxdWVyeSBmdW5jdGlvbi5cbiAgICpcbiAgICogSWYgd2UgaGF2ZSBub3QgeWV0IHJlY2VpdmVkIGEgcmVzdWx0IGZvciB0aGlzIHF1ZXJ5LCB0aGlzIHdpbGwgYmUgYHVuZGVmaW5lZGAuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHF1ZXJ5LlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGlzIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyBUaGUgcXVlcnkncyB7QGxpbmsgUXVlcnlKb3VybmFsfSBvciBgdW5kZWZpbmVkYC5cbiAgICovXG4gIHF1ZXJ5Sm91cm5hbChuYW1lLCBhcmdzKSB7XG4gICAgY29uc3QgYXJnc09iamVjdCA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICBjb25zdCBxdWVyeVRva2VuID0gc2VyaWFsaXplUGF0aEFuZEFyZ3MobmFtZSwgYXJnc09iamVjdCk7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucXVlcnlKb3VybmFsKHF1ZXJ5VG9rZW4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQge0BsaW5rIENvbm5lY3Rpb25TdGF0ZX0gYmV0d2VlbiB0aGUgY2xpZW50IGFuZCB0aGUgQ29udmV4XG4gICAqIGJhY2tlbmQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSB3aXRoIHRoZSBDb252ZXggYmFja2VuZC5cbiAgICovXG4gIGNvbm5lY3Rpb25TdGF0ZSgpIHtcbiAgICBjb25zdCB3c0Nvbm5lY3Rpb25TdGF0ZSA9IHRoaXMud2ViU29ja2V0TWFuYWdlci5jb25uZWN0aW9uU3RhdGUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgaGFzSW5mbGlnaHRSZXF1ZXN0czogdGhpcy5yZXF1ZXN0TWFuYWdlci5oYXNJbmZsaWdodFJlcXVlc3RzKCksXG4gICAgICBpc1dlYlNvY2tldENvbm5lY3RlZDogd3NDb25uZWN0aW9uU3RhdGUuaXNDb25uZWN0ZWQsXG4gICAgICBoYXNFdmVyQ29ubmVjdGVkOiB3c0Nvbm5lY3Rpb25TdGF0ZS5oYXNFdmVyQ29ubmVjdGVkLFxuICAgICAgY29ubmVjdGlvbkNvdW50OiB3c0Nvbm5lY3Rpb25TdGF0ZS5jb25uZWN0aW9uQ291bnQsXG4gICAgICBjb25uZWN0aW9uUmV0cmllczogd3NDb25uZWN0aW9uU3RhdGUuY29ubmVjdGlvblJldHJpZXMsXG4gICAgICB0aW1lT2ZPbGRlc3RJbmZsaWdodFJlcXVlc3Q6IHRoaXMucmVxdWVzdE1hbmFnZXIudGltZU9mT2xkZXN0SW5mbGlnaHRSZXF1ZXN0KCksXG4gICAgICBpbmZsaWdodE11dGF0aW9uczogdGhpcy5yZXF1ZXN0TWFuYWdlci5pbmZsaWdodE11dGF0aW9ucygpLFxuICAgICAgaW5mbGlnaHRBY3Rpb25zOiB0aGlzLnJlcXVlc3RNYW5hZ2VyLmluZmxpZ2h0QWN0aW9ucygpXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSBiZXR3ZWVuIHRoZSBjbGllbnQgYW5kIHRoZSBDb252ZXhcbiAgICogYmFja2VuZCwgY2FsbGluZyBhIGNhbGxiYWNrIGVhY2ggdGltZSBpdCBjaGFuZ2VzLlxuICAgKlxuICAgKiBTdWJzY3JpYmVkIGNhbGxiYWNrcyB3aWxsIGJlIGNhbGxlZCB3aGVuIGFueSBwYXJ0IG9mIENvbm5lY3Rpb25TdGF0ZSBjaGFuZ2VzLlxuICAgKiBDb25uZWN0aW9uU3RhdGUgbWF5IGdyb3cgaW4gZnV0dXJlIHZlcnNpb25zIChlLmcuIHRvIHByb3ZpZGUgYSBhcnJheSBvZlxuICAgKiBpbmZsaWdodCByZXF1ZXN0cykgaW4gd2hpY2ggY2FzZSBjYWxsYmFja3Mgd291bGQgYmUgY2FsbGVkIG1vcmUgZnJlcXVlbnRseS5cbiAgICpcbiAgICogQHJldHVybnMgQW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gdG8gc3RvcCBsaXN0ZW5pbmcuXG4gICAqL1xuICBzdWJzY3JpYmVUb0Nvbm5lY3Rpb25TdGF0ZShjYikge1xuICAgIGNvbnN0IGlkID0gdGhpcy5uZXh0Q29ubmVjdGlvblN0YXRlU3Vic2NyaWJlcklkKys7XG4gICAgdGhpcy5jb25uZWN0aW9uU3RhdGVTdWJzY3JpYmVycy5zZXQoaWQsIGNiKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGVTdWJzY3JpYmVycy5kZWxldGUoaWQpO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAgICogRXhlY3V0ZSBhIG11dGF0aW9uIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgbXV0YXRpb24uXG4gICAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgbXV0YXRpb24uIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICAgKiB0aGUgYXJndW1lbnRzIHdpbGwgYmUgYHt9YC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIE11dGF0aW9uT3B0aW9uc30gb3B0aW9ucyBvYmplY3QgZm9yIHRoaXMgbXV0YXRpb24uXG4gIFxuICAgICAqIEByZXR1cm5zIC0gQSBwcm9taXNlIG9mIHRoZSBtdXRhdGlvbidzIHJlc3VsdC5cbiAgICAgKi9cbiAgYXN5bmMgbXV0YXRpb24obmFtZSwgYXJncywgb3B0aW9ucykge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubXV0YXRpb25JbnRlcm5hbChuYW1lLCBhcmdzLCBvcHRpb25zKTtcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBpZiAocmVzdWx0LmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IGZvcndhcmREYXRhKFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBuZXcgQ29udmV4RXJyb3IoXG4gICAgICAgICAgICBjcmVhdGVIeWJyaWRFcnJvclN0YWNrdHJhY2UoXCJtdXRhdGlvblwiLCBuYW1lLCByZXN1bHQpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZShcIm11dGF0aW9uXCIsIG5hbWUsIHJlc3VsdCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIG11dGF0aW9uSW50ZXJuYWwodWRmUGF0aCwgYXJncywgb3B0aW9ucywgY29tcG9uZW50UGF0aCkge1xuICAgIGNvbnN0IHsgbXV0YXRpb25Qcm9taXNlIH0gPSB0aGlzLmVucXVldWVNdXRhdGlvbihcbiAgICAgIHVkZlBhdGgsXG4gICAgICBhcmdzLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGNvbXBvbmVudFBhdGhcbiAgICApO1xuICAgIHJldHVybiBtdXRhdGlvblByb21pc2U7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZU11dGF0aW9uKHVkZlBhdGgsIGFyZ3MsIG9wdGlvbnMsIGNvbXBvbmVudFBhdGgpIHtcbiAgICBjb25zdCBtdXRhdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJncyk7XG4gICAgdGhpcy50cnlSZXBvcnRMb25nRGlzY29ubmVjdCgpO1xuICAgIGNvbnN0IHJlcXVlc3RJZCA9IHRoaXMubmV4dFJlcXVlc3RJZDtcbiAgICB0aGlzLl9uZXh0UmVxdWVzdElkKys7XG4gICAgaWYgKG9wdGlvbnMgIT09IHZvaWQgMCkge1xuICAgICAgY29uc3Qgb3B0aW1pc3RpY1VwZGF0ZSA9IG9wdGlvbnMub3B0aW1pc3RpY1VwZGF0ZTtcbiAgICAgIGlmIChvcHRpbWlzdGljVXBkYXRlICE9PSB2b2lkIDApIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZFVwZGF0ZSA9IChsb2NhbFF1ZXJ5U3RvcmUpID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpbWlzdGljVXBkYXRlKFxuICAgICAgICAgICAgbG9jYWxRdWVyeVN0b3JlLFxuICAgICAgICAgICAgbXV0YXRpb25BcmdzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcbiAgICAgICAgICAgICAgXCJPcHRpbWlzdGljIHVwZGF0ZSBoYW5kbGVyIHJldHVybmVkIGEgUHJvbWlzZS4gT3B0aW1pc3RpYyB1cGRhdGVzIHNob3VsZCBiZSBzeW5jaHJvbm91cy5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNoYW5nZWRRdWVyeVRva2VucyA9IHRoaXMub3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cy5hcHBseU9wdGltaXN0aWNVcGRhdGUoXG4gICAgICAgICAgd3JhcHBlZFVwZGF0ZSxcbiAgICAgICAgICByZXF1ZXN0SWRcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgY2hhbmdlZFF1ZXJpZXMgPSBjaGFuZ2VkUXVlcnlUb2tlbnMubWFwKCh0b2tlbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGxvY2FsUmVzdWx0ID0gdGhpcy5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbih0b2tlbik7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgbW9kaWZpY2F0aW9uOiB7XG4gICAgICAgICAgICAgIGtpbmQ6IFwiVXBkYXRlZFwiLFxuICAgICAgICAgICAgICByZXN1bHQ6IGxvY2FsUmVzdWx0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbG9jYWxSZXN1bHQsXG4gICAgICAgICAgICAgICAgbG9nTGluZXM6IFtdXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVUcmFuc2l0aW9uKHtcbiAgICAgICAgICBxdWVyaWVzOiBjaGFuZ2VkUXVlcmllcyxcbiAgICAgICAgICByZWZsZWN0ZWRNdXRhdGlvbnM6IFtdLFxuICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5yZW1vdGVRdWVyeVNldC50aW1lc3RhbXAoKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgIHR5cGU6IFwiTXV0YXRpb25cIixcbiAgICAgIHJlcXVlc3RJZCxcbiAgICAgIHVkZlBhdGgsXG4gICAgICBjb21wb25lbnRQYXRoLFxuICAgICAgYXJnczogW2NvbnZleFRvSnNvbihtdXRhdGlvbkFyZ3MpXVxuICAgIH07XG4gICAgY29uc3QgbWlnaHRCZVNlbnQgPSB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgY29uc3QgbXV0YXRpb25Qcm9taXNlID0gdGhpcy5yZXF1ZXN0TWFuYWdlci5yZXF1ZXN0KG1lc3NhZ2UsIG1pZ2h0QmVTZW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWVzdElkLFxuICAgICAgbXV0YXRpb25Qcm9taXNlXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZSBhbiBhY3Rpb24gZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGFjdGlvbi5cbiAgICogQHBhcmFtIGFyZ3MgLSBBbiBhcmd1bWVudHMgb2JqZWN0IGZvciB0aGUgYWN0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIGFjdGlvbidzIHJlc3VsdC5cbiAgICovXG4gIGFzeW5jIGFjdGlvbihuYW1lLCBhcmdzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5hY3Rpb25JbnRlcm5hbChuYW1lLCBhcmdzKTtcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBpZiAocmVzdWx0LmVycm9yRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IGZvcndhcmREYXRhKFxuICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICBuZXcgQ29udmV4RXJyb3IoY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKFwiYWN0aW9uXCIsIG5hbWUsIHJlc3VsdCkpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlKFwiYWN0aW9uXCIsIG5hbWUsIHJlc3VsdCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LnZhbHVlO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIGFjdGlvbkludGVybmFsKHVkZlBhdGgsIGFyZ3MsIGNvbXBvbmVudFBhdGgpIHtcbiAgICBjb25zdCBhY3Rpb25BcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IHJlcXVlc3RJZCA9IHRoaXMubmV4dFJlcXVlc3RJZDtcbiAgICB0aGlzLl9uZXh0UmVxdWVzdElkKys7XG4gICAgdGhpcy50cnlSZXBvcnRMb25nRGlzY29ubmVjdCgpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICB0eXBlOiBcIkFjdGlvblwiLFxuICAgICAgcmVxdWVzdElkLFxuICAgICAgdWRmUGF0aCxcbiAgICAgIGNvbXBvbmVudFBhdGgsXG4gICAgICBhcmdzOiBbY29udmV4VG9Kc29uKGFjdGlvbkFyZ3MpXVxuICAgIH07XG4gICAgY29uc3QgbWlnaHRCZVNlbnQgPSB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdE1hbmFnZXIucmVxdWVzdChtZXNzYWdlLCBtaWdodEJlU2VudCk7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIGFueSBuZXR3b3JrIGhhbmRsZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY2xpZW50IGFuZCBzdG9wIGFsbCBzdWJzY3JpcHRpb25zLlxuICAgKlxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHdoZW4geW91J3JlIGRvbmUgd2l0aCBhbiB7QGxpbmsgQmFzZUNvbnZleENsaWVudH0gdG9cbiAgICogZGlzcG9zZSBvZiBpdHMgc29ja2V0cyBhbmQgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIGBQcm9taXNlYCBmdWxmaWxsZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBoYXMgYmVlbiBjb21wbGV0ZWx5IGNsb3NlZC5cbiAgICovXG4gIGFzeW5jIGNsb3NlKCkge1xuICAgIHRoaXMuYXV0aGVudGljYXRpb25NYW5hZ2VyLnN0b3AoKTtcbiAgICByZXR1cm4gdGhpcy53ZWJTb2NrZXRNYW5hZ2VyLnRlcm1pbmF0ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGFkZHJlc3MgZm9yIHRoaXMgY2xpZW50LCB1c2VmdWwgZm9yIGNyZWF0aW5nIGEgbmV3IGNsaWVudC5cbiAgICpcbiAgICogTm90IGd1YXJhbnRlZWQgdG8gbWF0Y2ggdGhlIGFkZHJlc3Mgd2l0aCB3aGljaCB0aGlzIGNsaWVudCB3YXMgY29uc3RydWN0ZWQ6XG4gICAqIGl0IG1heSBiZSBjYW5vbmljYWxpemVkLlxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRyZXNzO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldCBuZXh0UmVxdWVzdElkKCkge1xuICAgIHJldHVybiB0aGlzLl9uZXh0UmVxdWVzdElkO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldCBzZXNzaW9uSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Nlc3Npb25JZDtcbiAgfVxuICAvKipcbiAgICogUmVwb3J0cyBwZXJmb3JtYW5jZSBtYXJrcyB0byB0aGUgc2VydmVyLiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuXG4gICAqIHdlIGhhdmUgYSBmdW5jdGlvbmFsIHdlYnNvY2tldC5cbiAgICovXG4gIHJlcG9ydE1hcmtzKCkge1xuICAgIGlmICh0aGlzLmRlYnVnKSB7XG4gICAgICBjb25zdCByZXBvcnQgPSBnZXRNYXJrc1JlcG9ydCh0aGlzLnNlc3Npb25JZCk7XG4gICAgICB0aGlzLndlYlNvY2tldE1hbmFnZXIuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiBcIkV2ZW50XCIsXG4gICAgICAgIGV2ZW50VHlwZTogXCJDbGllbnRDb25uZWN0XCIsXG4gICAgICAgIGV2ZW50OiByZXBvcnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICB0cnlSZXBvcnRMb25nRGlzY29ubmVjdCgpIHtcbiAgICBpZiAoIXRoaXMuZGVidWcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGltZU9mT2xkZXN0UmVxdWVzdCA9IHRoaXMuY29ubmVjdGlvblN0YXRlKCkudGltZU9mT2xkZXN0SW5mbGlnaHRSZXF1ZXN0O1xuICAgIGlmICh0aW1lT2ZPbGRlc3RSZXF1ZXN0ID09PSBudWxsIHx8IERhdGUubm93KCkgLSB0aW1lT2ZPbGRlc3RSZXF1ZXN0LmdldFRpbWUoKSA8PSA2MCAqIDFlMykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuYWRkcmVzc30vYXBpL2RlYnVnX2V2ZW50YDtcbiAgICBmZXRjaChlbmRwb2ludCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiQ29udmV4LUNsaWVudFwiOiBgbnBtLSR7dmVyc2lvbn1gXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBldmVudDogXCJMb25nV2Vic29ja2V0RGlzY29ubmVjdFwiIH0pXG4gICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihcbiAgICAgICAgICBcIkFuYWx5dGljcyByZXF1ZXN0IGZhaWxlZCB3aXRoIHJlc3BvbnNlOlwiLFxuICAgICAgICAgIHJlc3BvbnNlLmJvZHlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oXCJBbmFseXRpY3MgcmVzcG9uc2UgZmFpbGVkIHdpdGggZXJyb3I6XCIsIGVycm9yKTtcbiAgICB9KTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwidmVyc2lvbiIsImNvbnZleFRvSnNvbiIsImNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZSIsImZvcndhcmREYXRhIiwiaW5zdGFudGlhdGVEZWZhdWx0TG9nZ2VyIiwiaW5zdGFudGlhdGVOb29wTG9nZ2VyIiwibG9nRmF0YWxFcnJvciIsIkxvY2FsU3luY1N0YXRlIiwiUmVxdWVzdE1hbmFnZXIiLCJPcHRpbWlzdGljUXVlcnlSZXN1bHRzIiwiUmVtb3RlUXVlcnlTZXQiLCJzZXJpYWxpemVQYXRoQW5kQXJncyIsIldlYlNvY2tldE1hbmFnZXIiLCJuZXdTZXNzaW9uSWQiLCJBdXRoZW50aWNhdGlvbk1hbmFnZXIiLCJnZXRNYXJrc1JlcG9ydCIsIm1hcmsiLCJwYXJzZUFyZ3MiLCJ2YWxpZGF0ZURlcGxveW1lbnRVcmwiLCJDb252ZXhFcnJvciIsImp3dERlY29kZSIsIkJhc2VDb252ZXhDbGllbnQiLCJjb25zdHJ1Y3RvciIsImFkZHJlc3MiLCJvblRyYW5zaXRpb24iLCJvcHRpb25zIiwiTWFwIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiY3VyQ29ubmVjdGlvblN0YXRlIiwiY29ubmVjdGlvblN0YXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9sYXN0UHVibGlzaGVkQ29ubmVjdGlvblN0YXRlIiwiY2IiLCJjb25uZWN0aW9uU3RhdGVTdWJzY3JpYmVycyIsInZhbHVlcyIsIm5hbWUiLCJkZWJ1ZyIsInNlc3Npb25JZCIsIkVycm9yIiwic2tpcENvbnZleERlcGxveW1lbnRVcmxDaGVjayIsImF1dGhSZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzIiwid2ViU29ja2V0Q29uc3RydWN0b3IiLCJXZWJTb2NrZXQiLCJyZXBvcnREZWJ1Z0luZm9Ub0NvbnZleCIsImxvZ2dlciIsInZlcmJvc2UiLCJpIiwic2VhcmNoIiwib3JpZ2luIiwic3Vic3RyaW5nIiwicHJvdG9jb2wiLCJ3c1Byb3RvY29sIiwid3NVcmkiLCJzdGF0ZSIsInJlbW90ZVF1ZXJ5U2V0IiwicXVlcnlJZCIsInF1ZXJ5UGF0aCIsInJlcXVlc3RNYW5hZ2VyIiwibWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5IiwicGF1c2VTb2NrZXQiLCJ3ZWJTb2NrZXRNYW5hZ2VyIiwicGF1c2UiLCJhdXRoZW50aWNhdGlvbk1hbmFnZXIiLCJhdXRoZW50aWNhdGUiLCJ0b2tlbiIsIm1lc3NhZ2UiLCJzZXRBdXRoIiwic2VuZE1lc3NhZ2UiLCJiYXNlVmVyc2lvbiIsInN0b3BTb2NrZXQiLCJzdG9wIiwidHJ5UmVzdGFydFNvY2tldCIsInRyeVJlc3RhcnQiLCJyZXN1bWVTb2NrZXQiLCJyZXN1bWUiLCJjbGVhckF1dGgiLCJyZWZyZXNoVG9rZW5MZWV3YXlTZWNvbmRzIiwib3B0aW1pc3RpY1F1ZXJ5UmVzdWx0cyIsImFkZE9uVHJhbnNpdGlvbkhhbmRsZXIiLCJ0cmFuc2l0aW9uIiwicXVlcmllcyIsIm1hcCIsInEiLCJfbmV4dFJlcXVlc3RJZCIsIl9zZXNzaW9uSWQiLCJ1bnNhdmVkQ2hhbmdlc1dhcm5pbmciLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImhhc0luY29tcGxldGVSZXF1ZXN0cyIsInByZXZlbnREZWZhdWx0IiwiY29uZmlybWF0aW9uTWVzc2FnZSIsImV2ZW50IiwicmV0dXJuVmFsdWUiLCJvbk9wZW4iLCJyZWNvbm5lY3RNZXRhZGF0YSIsInR5cGUiLCJtYXhPYnNlcnZlZFRpbWVzdGFtcCIsIm9sZFJlbW90ZVF1ZXJ5UmVzdWx0cyIsIlNldCIsInJlbW90ZVF1ZXJ5UmVzdWx0cyIsImtleXMiLCJxdWVyeVNldE1vZGlmaWNhdGlvbiIsImF1dGhNb2RpZmljYXRpb24iLCJyZXN0YXJ0Iiwib25SZXN1bWUiLCJvbk1lc3NhZ2UiLCJzZXJ2ZXJNZXNzYWdlIiwiZmlyc3RNZXNzYWdlUmVjZWl2ZWQiLCJyZXBvcnRNYXJrcyIsIm9ic2VydmVkVGltZXN0YW1wIiwiZW5kVmVyc2lvbiIsInRzIiwiY29tcGxldGVkUmVxdWVzdHMiLCJyZW1vdmVDb21wbGV0ZWQiLCJ0aW1lc3RhbXAiLCJub3RpZnlPblF1ZXJ5UmVzdWx0Q2hhbmdlcyIsInN1Y2Nlc3MiLCJjb21wbGV0ZWRNdXRhdGlvbkluZm8iLCJvblJlc3BvbnNlIiwicmVxdWVzdElkIiwicmVzdWx0Iiwib25BdXRoRXJyb3IiLCJlcnJvciIsInRlcm1pbmF0ZSIsImhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0Iiwib25TZXJ2ZXJEaXNjb25uZWN0RXJyb3IiLCJleHBlY3RBdXRoIiwib2JzZXJ2ZWRUcyIsImxlc3NUaGFuT3JFcXVhbCIsImdldE1heE9ic2VydmVkVGltZXN0YW1wIiwicXVlcnlUb2tlblRvVmFsdWUiLCJxdWVyeVRva2VuIiwicXVlcnkiLCJ1ZGZQYXRoIiwiYXJncyIsInF1ZXJ5QXJncyIsInNldCIsImNoYW5nZWRRdWVyeVRva2VucyIsImluZ2VzdFF1ZXJ5UmVzdWx0c0Zyb21TZXJ2ZXIiLCJoYW5kbGVUcmFuc2l0aW9uIiwib3B0aW1pc3RpY1Jlc3VsdCIsInJhd1F1ZXJ5UmVzdWx0IiwibW9kaWZpY2F0aW9uIiwia2luZCIsInJlZmxlY3RlZE11dGF0aW9ucyIsIkFycmF5IiwiZnJvbSIsImZuIiwiX29uVHJhbnNpdGlvbkZucyIsImlkIiwiX3RyYW5zaXRpb25IYW5kbGVyQ291bnRlciIsImRlbGV0ZSIsImdldEN1cnJlbnRBdXRoQ2xhaW1zIiwiYXV0aFRva2VuIiwiZ2V0QXV0aCIsImRlY29kZWQiLCJ0b2tlblR5cGUiLCJmZXRjaFRva2VuIiwib25DaGFuZ2UiLCJzZXRDb25maWciLCJoYXNBdXRoIiwic2V0QWRtaW5BdXRoIiwiZmFrZVVzZXJJZGVudGl0eSIsInN1YnNjcmliZSIsImFyZ3NPYmplY3QiLCJ1bnN1YnNjcmliZSIsImpvdXJuYWwiLCJjb21wb25lbnRQYXRoIiwibW9kaWZpY2F0aW9uMiIsImxvY2FsUXVlcnlSZXN1bHQiLCJxdWVyeVJlc3VsdCIsImxvY2FsUXVlcnlSZXN1bHRCeVRva2VuIiwiaGFzTG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4iLCJoYXNRdWVyeVJlc3VsdCIsImxvY2FsUXVlcnlMb2dzIiwicXVlcnlMb2dzIiwicXVlcnlKb3VybmFsIiwid3NDb25uZWN0aW9uU3RhdGUiLCJoYXNJbmZsaWdodFJlcXVlc3RzIiwiaXNXZWJTb2NrZXRDb25uZWN0ZWQiLCJpc0Nvbm5lY3RlZCIsImhhc0V2ZXJDb25uZWN0ZWQiLCJjb25uZWN0aW9uQ291bnQiLCJjb25uZWN0aW9uUmV0cmllcyIsInRpbWVPZk9sZGVzdEluZmxpZ2h0UmVxdWVzdCIsImluZmxpZ2h0TXV0YXRpb25zIiwiaW5mbGlnaHRBY3Rpb25zIiwic3Vic2NyaWJlVG9Db25uZWN0aW9uU3RhdGUiLCJuZXh0Q29ubmVjdGlvblN0YXRlU3Vic2NyaWJlcklkIiwibXV0YXRpb24iLCJtdXRhdGlvbkludGVybmFsIiwiZXJyb3JEYXRhIiwibXV0YXRpb25Qcm9taXNlIiwiZW5xdWV1ZU11dGF0aW9uIiwibXV0YXRpb25BcmdzIiwidHJ5UmVwb3J0TG9uZ0Rpc2Nvbm5lY3QiLCJuZXh0UmVxdWVzdElkIiwib3B0aW1pc3RpY1VwZGF0ZSIsIndyYXBwZWRVcGRhdGUiLCJsb2NhbFF1ZXJ5U3RvcmUiLCJ3YXJuIiwiYXBwbHlPcHRpbWlzdGljVXBkYXRlIiwiY2hhbmdlZFF1ZXJpZXMiLCJsb2NhbFJlc3VsdCIsImxvZ0xpbmVzIiwibWlnaHRCZVNlbnQiLCJyZXF1ZXN0IiwiYWN0aW9uIiwiYWN0aW9uSW50ZXJuYWwiLCJhY3Rpb25BcmdzIiwiY2xvc2UiLCJ1cmwiLCJyZXBvcnQiLCJldmVudFR5cGUiLCJ0aW1lT2ZPbGRlc3RSZXF1ZXN0IiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJlbmRwb2ludCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJyZXNwb25zZSIsIm9rIiwiY2F0Y2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/local_state.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/local_state.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocalSyncState: () => (/* binding */ LocalSyncState)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass LocalSyncState {\n    constructor(){\n        __publicField(this, \"nextQueryId\");\n        __publicField(this, \"querySetVersion\");\n        __publicField(this, \"querySet\");\n        __publicField(this, \"queryIdToToken\");\n        __publicField(this, \"identityVersion\");\n        __publicField(this, \"auth\");\n        __publicField(this, \"outstandingQueriesOlderThanRestart\");\n        __publicField(this, \"outstandingAuthOlderThanRestart\");\n        __publicField(this, \"paused\");\n        __publicField(this, \"pendingQuerySetModifications\");\n        this.nextQueryId = 0;\n        this.querySetVersion = 0;\n        this.identityVersion = 0;\n        this.querySet = /* @__PURE__ */ new Map();\n        this.queryIdToToken = /* @__PURE__ */ new Map();\n        this.outstandingQueriesOlderThanRestart = /* @__PURE__ */ new Set();\n        this.outstandingAuthOlderThanRestart = false;\n        this.paused = false;\n        this.pendingQuerySetModifications = /* @__PURE__ */ new Map();\n    }\n    hasSyncedPastLastReconnect() {\n        return this.outstandingQueriesOlderThanRestart.size === 0 && !this.outstandingAuthOlderThanRestart;\n    }\n    markAuthCompletion() {\n        this.outstandingAuthOlderThanRestart = false;\n    }\n    subscribe(udfPath, args, journal, componentPath) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.canonicalizeUdfPath)(udfPath);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.serializePathAndArgs)(canonicalizedUdfPath, args);\n        const existingEntry = this.querySet.get(queryToken);\n        if (existingEntry !== void 0) {\n            existingEntry.numSubscribers += 1;\n            return {\n                queryToken,\n                modification: null,\n                unsubscribe: ()=>this.removeSubscriber(queryToken)\n            };\n        } else {\n            const queryId = this.nextQueryId++;\n            const query = {\n                id: queryId,\n                canonicalizedUdfPath,\n                args,\n                numSubscribers: 1,\n                journal,\n                componentPath\n            };\n            this.querySet.set(queryToken, query);\n            this.queryIdToToken.set(queryId, queryToken);\n            const baseVersion = this.querySetVersion;\n            const newVersion = this.querySetVersion + 1;\n            const add = {\n                type: \"Add\",\n                queryId,\n                udfPath: canonicalizedUdfPath,\n                args: [\n                    (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)\n                ],\n                journal,\n                componentPath\n            };\n            if (this.paused) {\n                this.pendingQuerySetModifications.set(queryId, add);\n            } else {\n                this.querySetVersion = newVersion;\n            }\n            const modification = {\n                type: \"ModifyQuerySet\",\n                baseVersion,\n                newVersion,\n                modifications: [\n                    add\n                ]\n            };\n            return {\n                queryToken,\n                modification,\n                unsubscribe: ()=>this.removeSubscriber(queryToken)\n            };\n        }\n    }\n    transition(transition) {\n        for (const modification of transition.modifications){\n            switch(modification.type){\n                case \"QueryUpdated\":\n                case \"QueryFailed\":\n                    {\n                        this.outstandingQueriesOlderThanRestart.delete(modification.queryId);\n                        const journal = modification.journal;\n                        if (journal !== void 0) {\n                            const queryToken = this.queryIdToToken.get(modification.queryId);\n                            if (queryToken !== void 0) {\n                                this.querySet.get(queryToken).journal = journal;\n                            }\n                        }\n                        break;\n                    }\n                case \"QueryRemoved\":\n                    {\n                        this.outstandingQueriesOlderThanRestart.delete(modification.queryId);\n                        break;\n                    }\n                default:\n                    {\n                        modification;\n                        throw new Error(`Invalid modification ${modification.type}`);\n                    }\n            }\n        }\n    }\n    queryId(udfPath, args) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.canonicalizeUdfPath)(udfPath);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_1__.serializePathAndArgs)(canonicalizedUdfPath, args);\n        const existingEntry = this.querySet.get(queryToken);\n        if (existingEntry !== void 0) {\n            return existingEntry.id;\n        }\n        return null;\n    }\n    isCurrentOrNewerAuthVersion(version) {\n        return version >= this.identityVersion;\n    }\n    getAuth() {\n        return this.auth;\n    }\n    setAuth(value) {\n        this.auth = {\n            tokenType: \"User\",\n            value\n        };\n        const baseVersion = this.identityVersion;\n        if (!this.paused) {\n            this.identityVersion = baseVersion + 1;\n        }\n        return {\n            type: \"Authenticate\",\n            baseVersion,\n            ...this.auth\n        };\n    }\n    setAdminAuth(value, actingAs) {\n        const auth = {\n            tokenType: \"Admin\",\n            value,\n            impersonating: actingAs\n        };\n        this.auth = auth;\n        const baseVersion = this.identityVersion;\n        if (!this.paused) {\n            this.identityVersion = baseVersion + 1;\n        }\n        return {\n            type: \"Authenticate\",\n            baseVersion,\n            ...auth\n        };\n    }\n    clearAuth() {\n        this.auth = void 0;\n        this.markAuthCompletion();\n        const baseVersion = this.identityVersion;\n        if (!this.paused) {\n            this.identityVersion = baseVersion + 1;\n        }\n        return {\n            type: \"Authenticate\",\n            tokenType: \"None\",\n            baseVersion\n        };\n    }\n    hasAuth() {\n        return !!this.auth;\n    }\n    isNewAuth(value) {\n        return this.auth?.value !== value;\n    }\n    queryPath(queryId) {\n        const pathAndArgs = this.queryIdToToken.get(queryId);\n        if (pathAndArgs) {\n            return this.querySet.get(pathAndArgs).canonicalizedUdfPath;\n        }\n        return null;\n    }\n    queryArgs(queryId) {\n        const pathAndArgs = this.queryIdToToken.get(queryId);\n        if (pathAndArgs) {\n            return this.querySet.get(pathAndArgs).args;\n        }\n        return null;\n    }\n    queryToken(queryId) {\n        return this.queryIdToToken.get(queryId) ?? null;\n    }\n    queryJournal(queryToken) {\n        return this.querySet.get(queryToken)?.journal;\n    }\n    restart(oldRemoteQueryResults) {\n        this.unpause();\n        this.outstandingQueriesOlderThanRestart.clear();\n        const modifications = [];\n        for (const localQuery of this.querySet.values()){\n            const add = {\n                type: \"Add\",\n                queryId: localQuery.id,\n                udfPath: localQuery.canonicalizedUdfPath,\n                args: [\n                    (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(localQuery.args)\n                ],\n                journal: localQuery.journal,\n                componentPath: localQuery.componentPath\n            };\n            modifications.push(add);\n            if (!oldRemoteQueryResults.has(localQuery.id)) {\n                this.outstandingQueriesOlderThanRestart.add(localQuery.id);\n            }\n        }\n        this.querySetVersion = 1;\n        const querySet = {\n            type: \"ModifyQuerySet\",\n            baseVersion: 0,\n            newVersion: 1,\n            modifications\n        };\n        if (!this.auth) {\n            this.identityVersion = 0;\n            return [\n                querySet,\n                void 0\n            ];\n        }\n        this.outstandingAuthOlderThanRestart = true;\n        const authenticate = {\n            type: \"Authenticate\",\n            baseVersion: 0,\n            ...this.auth\n        };\n        this.identityVersion = 1;\n        return [\n            querySet,\n            authenticate\n        ];\n    }\n    pause() {\n        this.paused = true;\n    }\n    resume() {\n        const querySet = this.pendingQuerySetModifications.size > 0 ? {\n            type: \"ModifyQuerySet\",\n            baseVersion: this.querySetVersion,\n            newVersion: ++this.querySetVersion,\n            modifications: Array.from(this.pendingQuerySetModifications.values())\n        } : void 0;\n        const authenticate = this.auth !== void 0 ? {\n            type: \"Authenticate\",\n            baseVersion: this.identityVersion++,\n            ...this.auth\n        } : void 0;\n        this.unpause();\n        return [\n            querySet,\n            authenticate\n        ];\n    }\n    unpause() {\n        this.paused = false;\n        this.pendingQuerySetModifications.clear();\n    }\n    removeSubscriber(queryToken) {\n        const localQuery = this.querySet.get(queryToken);\n        if (localQuery.numSubscribers > 1) {\n            localQuery.numSubscribers -= 1;\n            return null;\n        } else {\n            this.querySet.delete(queryToken);\n            this.queryIdToToken.delete(localQuery.id);\n            this.outstandingQueriesOlderThanRestart.delete(localQuery.id);\n            const baseVersion = this.querySetVersion;\n            const newVersion = this.querySetVersion + 1;\n            const remove = {\n                type: \"Remove\",\n                queryId: localQuery.id\n            };\n            if (this.paused) {\n                if (this.pendingQuerySetModifications.has(localQuery.id)) {\n                    this.pendingQuerySetModifications.delete(localQuery.id);\n                } else {\n                    this.pendingQuerySetModifications.set(localQuery.id, remove);\n                }\n            } else {\n                this.querySetVersion = newVersion;\n            }\n            return {\n                type: \"ModifyQuerySet\",\n                baseVersion,\n                newVersion,\n                modifications: [\n                    remove\n                ]\n            };\n        }\n    }\n} //# sourceMappingURL=local_state.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9sb2NhbF9zdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDbkQ7QUFJeEI7QUFDdEIsTUFBTVE7SUFDWEMsYUFBYztRQUNaTCxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNNLFdBQVcsR0FBRztRQUNuQixJQUFJLENBQUNDLGVBQWUsR0FBRztRQUN2QixJQUFJLENBQUNDLGVBQWUsR0FBRztRQUN2QixJQUFJLENBQUNDLFFBQVEsR0FBRyxhQUFhLEdBQUcsSUFBSUM7UUFDcEMsSUFBSSxDQUFDQyxjQUFjLEdBQUcsYUFBYSxHQUFHLElBQUlEO1FBQzFDLElBQUksQ0FBQ0Usa0NBQWtDLEdBQUcsYUFBYSxHQUFHLElBQUlDO1FBQzlELElBQUksQ0FBQ0MsK0JBQStCLEdBQUc7UUFDdkMsSUFBSSxDQUFDQyxNQUFNLEdBQUc7UUFDZCxJ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Qyw0QkFBNEIsQ0FBQ29ELEdBQUcsQ0FBQ0gsV0FBVzlCLEVBQUUsR0FBRztvQkFDeEQsSUFBSSxDQUFDbkIsNEJBQTRCLENBQUMyQixNQUFNLENBQUNzQixXQUFXOUIsRUFBRTtnQkFDeEQsT0FBTztvQkFDTCxJQUFJLENBQUNuQiw0QkFBNEIsQ0FBQ29CLEdBQUcsQ0FBQzZCLFdBQVc5QixFQUFFLEVBQUV1QztnQkFDdkQ7WUFDRixPQUFPO2dCQUNMLElBQUksQ0FBQ25FLGVBQWUsR0FBRytCO1lBQ3pCO1lBQ0EsT0FBTztnQkFDTEUsTUFBTTtnQkFDTkg7Z0JBQ0FDO2dCQUNBRyxlQUFlO29CQUFDaUM7aUJBQU87WUFDekI7UUFDRjtJQUNGO0FBQ0YsRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL2xvY2FsX3N0YXRlLmpzPzRiYTUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgY2Fub25pY2FsaXplVWRmUGF0aCxcbiAgc2VyaWFsaXplUGF0aEFuZEFyZ3Ncbn0gZnJvbSBcIi4vdWRmX3BhdGhfdXRpbHMuanNcIjtcbmV4cG9ydCBjbGFzcyBMb2NhbFN5bmNTdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJuZXh0UXVlcnlJZFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicXVlcnlTZXRWZXJzaW9uXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJxdWVyeVNldFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicXVlcnlJZFRvVG9rZW5cIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImlkZW50aXR5VmVyc2lvblwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiYXV0aFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib3V0c3RhbmRpbmdRdWVyaWVzT2xkZXJUaGFuUmVzdGFydFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib3V0c3RhbmRpbmdBdXRoT2xkZXJUaGFuUmVzdGFydFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicGF1c2VkXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJwZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zXCIpO1xuICAgIHRoaXMubmV4dFF1ZXJ5SWQgPSAwO1xuICAgIHRoaXMucXVlcnlTZXRWZXJzaW9uID0gMDtcbiAgICB0aGlzLmlkZW50aXR5VmVyc2lvbiA9IDA7XG4gICAgdGhpcy5xdWVyeVNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5xdWVyeUlkVG9Ub2tlbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICB0aGlzLm91dHN0YW5kaW5nQXV0aE9sZGVyVGhhblJlc3RhcnQgPSBmYWxzZTtcbiAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMucGVuZGluZ1F1ZXJ5U2V0TW9kaWZpY2F0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIH1cbiAgaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMub3V0c3RhbmRpbmdRdWVyaWVzT2xkZXJUaGFuUmVzdGFydC5zaXplID09PSAwICYmICF0aGlzLm91dHN0YW5kaW5nQXV0aE9sZGVyVGhhblJlc3RhcnQ7XG4gIH1cbiAgbWFya0F1dGhDb21wbGV0aW9uKCkge1xuICAgIHRoaXMub3V0c3RhbmRpbmdBdXRoT2xkZXJUaGFuUmVzdGFydCA9IGZhbHNlO1xuICB9XG4gIHN1YnNjcmliZSh1ZGZQYXRoLCBhcmdzLCBqb3VybmFsLCBjb21wb25lbnRQYXRoKSB7XG4gICAgY29uc3QgY2Fub25pY2FsaXplZFVkZlBhdGggPSBjYW5vbmljYWxpemVVZGZQYXRoKHVkZlBhdGgpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSBzZXJpYWxpemVQYXRoQW5kQXJncyhjYW5vbmljYWxpemVkVWRmUGF0aCwgYXJncyk7XG4gICAgY29uc3QgZXhpc3RpbmdFbnRyeSA9IHRoaXMucXVlcnlTZXQuZ2V0KHF1ZXJ5VG9rZW4pO1xuICAgIGlmIChleGlzdGluZ0VudHJ5ICE9PSB2b2lkIDApIHtcbiAgICAgIGV4aXN0aW5nRW50cnkubnVtU3Vic2NyaWJlcnMgKz0gMTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHF1ZXJ5VG9rZW4sXG4gICAgICAgIG1vZGlmaWNhdGlvbjogbnVsbCxcbiAgICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IHRoaXMucmVtb3ZlU3Vic2NyaWJlcihxdWVyeVRva2VuKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcXVlcnlJZCA9IHRoaXMubmV4dFF1ZXJ5SWQrKztcbiAgICAgIGNvbnN0IHF1ZXJ5ID0ge1xuICAgICAgICBpZDogcXVlcnlJZCxcbiAgICAgICAgY2Fub25pY2FsaXplZFVkZlBhdGgsXG4gICAgICAgIGFyZ3MsXG4gICAgICAgIG51bVN1YnNjcmliZXJzOiAxLFxuICAgICAgICBqb3VybmFsLFxuICAgICAgICBjb21wb25lbnRQYXRoXG4gICAgICB9O1xuICAgICAgdGhpcy5xdWVyeVNldC5zZXQocXVlcnlUb2tlbiwgcXVlcnkpO1xuICAgICAgdGhpcy5xdWVyeUlkVG9Ub2tlbi5zZXQocXVlcnlJZCwgcXVlcnlUb2tlbik7XG4gICAgICBjb25zdCBiYXNlVmVyc2lvbiA9IHRoaXMucXVlcnlTZXRWZXJzaW9uO1xuICAgICAgY29uc3QgbmV3VmVyc2lvbiA9IHRoaXMucXVlcnlTZXRWZXJzaW9uICsgMTtcbiAgICAgIGNvbnN0IGFkZCA9IHtcbiAgICAgICAgdHlwZTogXCJBZGRcIixcbiAgICAgICAgcXVlcnlJZCxcbiAgICAgICAgdWRmUGF0aDogY2Fub25pY2FsaXplZFVkZlBhdGgsXG4gICAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24oYXJncyldLFxuICAgICAgICBqb3VybmFsLFxuICAgICAgICBjb21wb25lbnRQYXRoXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgICAgIHRoaXMucGVuZGluZ1F1ZXJ5U2V0TW9kaWZpY2F0aW9ucy5zZXQocXVlcnlJZCwgYWRkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucXVlcnlTZXRWZXJzaW9uID0gbmV3VmVyc2lvbjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vZGlmaWNhdGlvbiA9IHtcbiAgICAgICAgdHlwZTogXCJNb2RpZnlRdWVyeVNldFwiLFxuICAgICAgICBiYXNlVmVyc2lvbixcbiAgICAgICAgbmV3VmVyc2lvbixcbiAgICAgICAgbW9kaWZpY2F0aW9uczogW2FkZF1cbiAgICAgIH07XG4gICAgICByZXR1cm4ge1xuICAgICAgICBxdWVyeVRva2VuLFxuICAgICAgICBtb2RpZmljYXRpb24sXG4gICAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB0aGlzLnJlbW92ZVN1YnNjcmliZXIocXVlcnlUb2tlbilcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIHRyYW5zaXRpb24odHJhbnNpdGlvbikge1xuICAgIGZvciAoY29uc3QgbW9kaWZpY2F0aW9uIG9mIHRyYW5zaXRpb24ubW9kaWZpY2F0aW9ucykge1xuICAgICAgc3dpdGNoIChtb2RpZmljYXRpb24udHlwZSkge1xuICAgICAgICBjYXNlIFwiUXVlcnlVcGRhdGVkXCI6XG4gICAgICAgIGNhc2UgXCJRdWVyeUZhaWxlZFwiOiB7XG4gICAgICAgICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0LmRlbGV0ZShtb2RpZmljYXRpb24ucXVlcnlJZCk7XG4gICAgICAgICAgY29uc3Qgam91cm5hbCA9IG1vZGlmaWNhdGlvbi5qb3VybmFsO1xuICAgICAgICAgIGlmIChqb3VybmFsICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSB0aGlzLnF1ZXJ5SWRUb1Rva2VuLmdldChtb2RpZmljYXRpb24ucXVlcnlJZCk7XG4gICAgICAgICAgICBpZiAocXVlcnlUb2tlbiAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHRoaXMucXVlcnlTZXQuZ2V0KHF1ZXJ5VG9rZW4pLmpvdXJuYWwgPSBqb3VybmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiUXVlcnlSZW1vdmVkXCI6IHtcbiAgICAgICAgICB0aGlzLm91dHN0YW5kaW5nUXVlcmllc09sZGVyVGhhblJlc3RhcnQuZGVsZXRlKG1vZGlmaWNhdGlvbi5xdWVyeUlkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgbW9kaWZpY2F0aW9uO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtb2RpZmljYXRpb24gJHttb2RpZmljYXRpb24udHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBxdWVyeUlkKHVkZlBhdGgsIGFyZ3MpIHtcbiAgICBjb25zdCBjYW5vbmljYWxpemVkVWRmUGF0aCA9IGNhbm9uaWNhbGl6ZVVkZlBhdGgodWRmUGF0aCk7XG4gICAgY29uc3QgcXVlcnlUb2tlbiA9IHNlcmlhbGl6ZVBhdGhBbmRBcmdzKGNhbm9uaWNhbGl6ZWRVZGZQYXRoLCBhcmdzKTtcbiAgICBjb25zdCBleGlzdGluZ0VudHJ5ID0gdGhpcy5xdWVyeVNldC5nZXQocXVlcnlUb2tlbik7XG4gICAgaWYgKGV4aXN0aW5nRW50cnkgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGV4aXN0aW5nRW50cnkuaWQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlzQ3VycmVudE9yTmV3ZXJBdXRoVmVyc2lvbih2ZXJzaW9uKSB7XG4gICAgcmV0dXJuIHZlcnNpb24gPj0gdGhpcy5pZGVudGl0eVZlcnNpb247XG4gIH1cbiAgZ2V0QXV0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5hdXRoO1xuICB9XG4gIHNldEF1dGgodmFsdWUpIHtcbiAgICB0aGlzLmF1dGggPSB7XG4gICAgICB0b2tlblR5cGU6IFwiVXNlclwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICAgIGNvbnN0IGJhc2VWZXJzaW9uID0gdGhpcy5pZGVudGl0eVZlcnNpb247XG4gICAgaWYgKCF0aGlzLnBhdXNlZCkge1xuICAgICAgdGhpcy5pZGVudGl0eVZlcnNpb24gPSBiYXNlVmVyc2lvbiArIDE7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiLFxuICAgICAgYmFzZVZlcnNpb24sXG4gICAgICAuLi50aGlzLmF1dGhcbiAgICB9O1xuICB9XG4gIHNldEFkbWluQXV0aCh2YWx1ZSwgYWN0aW5nQXMpIHtcbiAgICBjb25zdCBhdXRoID0ge1xuICAgICAgdG9rZW5UeXBlOiBcIkFkbWluXCIsXG4gICAgICB2YWx1ZSxcbiAgICAgIGltcGVyc29uYXRpbmc6IGFjdGluZ0FzXG4gICAgfTtcbiAgICB0aGlzLmF1dGggPSBhdXRoO1xuICAgIGNvbnN0IGJhc2VWZXJzaW9uID0gdGhpcy5pZGVudGl0eVZlcnNpb247XG4gICAgaWYgKCF0aGlzLnBhdXNlZCkge1xuICAgICAgdGhpcy5pZGVudGl0eVZlcnNpb24gPSBiYXNlVmVyc2lvbiArIDE7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiLFxuICAgICAgYmFzZVZlcnNpb24sXG4gICAgICAuLi5hdXRoXG4gICAgfTtcbiAgfVxuICBjbGVhckF1dGgoKSB7XG4gICAgdGhpcy5hdXRoID0gdm9pZCAwO1xuICAgIHRoaXMubWFya0F1dGhDb21wbGV0aW9uKCk7XG4gICAgY29uc3QgYmFzZVZlcnNpb24gPSB0aGlzLmlkZW50aXR5VmVyc2lvbjtcbiAgICBpZiAoIXRoaXMucGF1c2VkKSB7XG4gICAgICB0aGlzLmlkZW50aXR5VmVyc2lvbiA9IGJhc2VWZXJzaW9uICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiQXV0aGVudGljYXRlXCIsXG4gICAgICB0b2tlblR5cGU6IFwiTm9uZVwiLFxuICAgICAgYmFzZVZlcnNpb25cbiAgICB9O1xuICB9XG4gIGhhc0F1dGgoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5hdXRoO1xuICB9XG4gIGlzTmV3QXV0aCh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmF1dGg/LnZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuICBxdWVyeVBhdGgocXVlcnlJZCkge1xuICAgIGNvbnN0IHBhdGhBbmRBcmdzID0gdGhpcy5xdWVyeUlkVG9Ub2tlbi5nZXQocXVlcnlJZCk7XG4gICAgaWYgKHBhdGhBbmRBcmdzKSB7XG4gICAgICByZXR1cm4gdGhpcy5xdWVyeVNldC5nZXQocGF0aEFuZEFyZ3MpLmNhbm9uaWNhbGl6ZWRVZGZQYXRoO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBxdWVyeUFyZ3MocXVlcnlJZCkge1xuICAgIGNvbnN0IHBhdGhBbmRBcmdzID0gdGhpcy5xdWVyeUlkVG9Ub2tlbi5nZXQocXVlcnlJZCk7XG4gICAgaWYgKHBhdGhBbmRBcmdzKSB7XG4gICAgICByZXR1cm4gdGhpcy5xdWVyeVNldC5nZXQocGF0aEFuZEFyZ3MpLmFyZ3M7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHF1ZXJ5VG9rZW4ocXVlcnlJZCkge1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5SWRUb1Rva2VuLmdldChxdWVyeUlkKSA/PyBudWxsO1xuICB9XG4gIHF1ZXJ5Sm91cm5hbChxdWVyeVRva2VuKSB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnlTZXQuZ2V0KHF1ZXJ5VG9rZW4pPy5qb3VybmFsO1xuICB9XG4gIHJlc3RhcnQob2xkUmVtb3RlUXVlcnlSZXN1bHRzKSB7XG4gICAgdGhpcy51bnBhdXNlKCk7XG4gICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0LmNsZWFyKCk7XG4gICAgY29uc3QgbW9kaWZpY2F0aW9ucyA9IFtdO1xuICAgIGZvciAoY29uc3QgbG9jYWxRdWVyeSBvZiB0aGlzLnF1ZXJ5U2V0LnZhbHVlcygpKSB7XG4gICAgICBjb25zdCBhZGQgPSB7XG4gICAgICAgIHR5cGU6IFwiQWRkXCIsXG4gICAgICAgIHF1ZXJ5SWQ6IGxvY2FsUXVlcnkuaWQsXG4gICAgICAgIHVkZlBhdGg6IGxvY2FsUXVlcnkuY2Fub25pY2FsaXplZFVkZlBhdGgsXG4gICAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24obG9jYWxRdWVyeS5hcmdzKV0sXG4gICAgICAgIGpvdXJuYWw6IGxvY2FsUXVlcnkuam91cm5hbCxcbiAgICAgICAgY29tcG9uZW50UGF0aDogbG9jYWxRdWVyeS5jb21wb25lbnRQYXRoXG4gICAgICB9O1xuICAgICAgbW9kaWZpY2F0aW9ucy5wdXNoKGFkZCk7XG4gICAgICBpZiAoIW9sZFJlbW90ZVF1ZXJ5UmVzdWx0cy5oYXMobG9jYWxRdWVyeS5pZCkpIHtcbiAgICAgICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0LmFkZChsb2NhbFF1ZXJ5LmlkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5xdWVyeVNldFZlcnNpb24gPSAxO1xuICAgIGNvbnN0IHF1ZXJ5U2V0ID0ge1xuICAgICAgdHlwZTogXCJNb2RpZnlRdWVyeVNldFwiLFxuICAgICAgYmFzZVZlcnNpb246IDAsXG4gICAgICBuZXdWZXJzaW9uOiAxLFxuICAgICAgbW9kaWZpY2F0aW9uc1xuICAgIH07XG4gICAgaWYgKCF0aGlzLmF1dGgpIHtcbiAgICAgIHRoaXMuaWRlbnRpdHlWZXJzaW9uID0gMDtcbiAgICAgIHJldHVybiBbcXVlcnlTZXQsIHZvaWQgMF07XG4gICAgfVxuICAgIHRoaXMub3V0c3RhbmRpbmdBdXRoT2xkZXJUaGFuUmVzdGFydCA9IHRydWU7XG4gICAgY29uc3QgYXV0aGVudGljYXRlID0ge1xuICAgICAgdHlwZTogXCJBdXRoZW50aWNhdGVcIixcbiAgICAgIGJhc2VWZXJzaW9uOiAwLFxuICAgICAgLi4udGhpcy5hdXRoXG4gICAgfTtcbiAgICB0aGlzLmlkZW50aXR5VmVyc2lvbiA9IDE7XG4gICAgcmV0dXJuIFtxdWVyeVNldCwgYXV0aGVudGljYXRlXTtcbiAgfVxuICBwYXVzZSgpIHtcbiAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gIH1cbiAgcmVzdW1lKCkge1xuICAgIGNvbnN0IHF1ZXJ5U2V0ID0gdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zLnNpemUgPiAwID8ge1xuICAgICAgdHlwZTogXCJNb2RpZnlRdWVyeVNldFwiLFxuICAgICAgYmFzZVZlcnNpb246IHRoaXMucXVlcnlTZXRWZXJzaW9uLFxuICAgICAgbmV3VmVyc2lvbjogKyt0aGlzLnF1ZXJ5U2V0VmVyc2lvbixcbiAgICAgIG1vZGlmaWNhdGlvbnM6IEFycmF5LmZyb20oXG4gICAgICAgIHRoaXMucGVuZGluZ1F1ZXJ5U2V0TW9kaWZpY2F0aW9ucy52YWx1ZXMoKVxuICAgICAgKVxuICAgIH0gOiB2b2lkIDA7XG4gICAgY29uc3QgYXV0aGVudGljYXRlID0gdGhpcy5hdXRoICE9PSB2b2lkIDAgPyB7XG4gICAgICB0eXBlOiBcIkF1dGhlbnRpY2F0ZVwiLFxuICAgICAgYmFzZVZlcnNpb246IHRoaXMuaWRlbnRpdHlWZXJzaW9uKyssXG4gICAgICAuLi50aGlzLmF1dGhcbiAgICB9IDogdm9pZCAwO1xuICAgIHRoaXMudW5wYXVzZSgpO1xuICAgIHJldHVybiBbcXVlcnlTZXQsIGF1dGhlbnRpY2F0ZV07XG4gIH1cbiAgdW5wYXVzZSgpIHtcbiAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMucGVuZGluZ1F1ZXJ5U2V0TW9kaWZpY2F0aW9ucy5jbGVhcigpO1xuICB9XG4gIHJlbW92ZVN1YnNjcmliZXIocXVlcnlUb2tlbikge1xuICAgIGNvbnN0IGxvY2FsUXVlcnkgPSB0aGlzLnF1ZXJ5U2V0LmdldChxdWVyeVRva2VuKTtcbiAgICBpZiAobG9jYWxRdWVyeS5udW1TdWJzY3JpYmVycyA+IDEpIHtcbiAgICAgIGxvY2FsUXVlcnkubnVtU3Vic2NyaWJlcnMgLT0gMTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXJ5U2V0LmRlbGV0ZShxdWVyeVRva2VuKTtcbiAgICAgIHRoaXMucXVlcnlJZFRvVG9rZW4uZGVsZXRlKGxvY2FsUXVlcnkuaWQpO1xuICAgICAgdGhpcy5vdXRzdGFuZGluZ1F1ZXJpZXNPbGRlclRoYW5SZXN0YXJ0LmRlbGV0ZShsb2NhbFF1ZXJ5LmlkKTtcbiAgICAgIGNvbnN0IGJhc2VWZXJzaW9uID0gdGhpcy5xdWVyeVNldFZlcnNpb247XG4gICAgICBjb25zdCBuZXdWZXJzaW9uID0gdGhpcy5xdWVyeVNldFZlcnNpb24gKyAxO1xuICAgICAgY29uc3QgcmVtb3ZlID0ge1xuICAgICAgICB0eXBlOiBcIlJlbW92ZVwiLFxuICAgICAgICBxdWVyeUlkOiBsb2NhbFF1ZXJ5LmlkXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdRdWVyeVNldE1vZGlmaWNhdGlvbnMuaGFzKGxvY2FsUXVlcnkuaWQpKSB7XG4gICAgICAgICAgdGhpcy5wZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zLmRlbGV0ZShsb2NhbFF1ZXJ5LmlkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBlbmRpbmdRdWVyeVNldE1vZGlmaWNhdGlvbnMuc2V0KGxvY2FsUXVlcnkuaWQsIHJlbW92ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucXVlcnlTZXRWZXJzaW9uID0gbmV3VmVyc2lvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiTW9kaWZ5UXVlcnlTZXRcIixcbiAgICAgICAgYmFzZVZlcnNpb24sXG4gICAgICAgIG5ld1ZlcnNpb24sXG4gICAgICAgIG1vZGlmaWNhdGlvbnM6IFtyZW1vdmVdXG4gICAgICB9O1xuICAgIH1cbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9jYWxfc3RhdGUuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJjb252ZXhUb0pzb24iLCJjYW5vbmljYWxpemVVZGZQYXRoIiwic2VyaWFsaXplUGF0aEFuZEFyZ3MiLCJMb2NhbFN5bmNTdGF0ZSIsImNvbnN0cnVjdG9yIiwibmV4dFF1ZXJ5SWQiLCJxdWVyeVNldFZlcnNpb24iLCJpZGVudGl0eVZlcnNpb24iLCJxdWVyeVNldCIsIk1hcCIsInF1ZXJ5SWRUb1Rva2VuIiwib3V0c3RhbmRpbmdRdWVyaWVzT2xkZXJUaGFuUmVzdGFydCIsIlNldCIsIm91dHN0YW5kaW5nQXV0aE9sZGVyVGhhblJlc3RhcnQiLCJwYXVzZWQiLCJwZW5kaW5nUXVlcnlTZXRNb2RpZmljYXRpb25zIiwiaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QiLCJzaXplIiwibWFya0F1dGhDb21wbGV0aW9uIiwic3Vic2NyaWJlIiwidWRmUGF0aCIsImFyZ3MiLCJqb3VybmFsIiwiY29tcG9uZW50UGF0aCIsImNhbm9uaWNhbGl6ZWRVZGZQYXRoIiwicXVlcnlUb2tlbiIsImV4aXN0aW5nRW50cnkiLCJnZXQiLCJudW1TdWJzY3JpYmVycyIsIm1vZGlmaWNhdGlvbiIsInVuc3Vic2NyaWJlIiwicmVtb3ZlU3Vic2NyaWJlciIsInF1ZXJ5SWQiLCJxdWVyeSIsImlkIiwic2V0IiwiYmFzZVZlcnNpb24iLCJuZXdWZXJzaW9uIiwiYWRkIiwidHlwZSIsIm1vZGlmaWNhdGlvbnMiLCJ0cmFuc2l0aW9uIiwiZGVsZXRlIiwiRXJyb3IiLCJpc0N1cnJlbnRPck5ld2VyQXV0aFZlcnNpb24iLCJ2ZXJzaW9uIiwiZ2V0QXV0aCIsImF1dGgiLCJzZXRBdXRoIiwidG9rZW5UeXBlIiwic2V0QWRtaW5BdXRoIiwiYWN0aW5nQXMiLCJpbXBlcnNvbmF0aW5nIiwiY2xlYXJBdXRoIiwiaGFzQXV0aCIsImlzTmV3QXV0aCIsInF1ZXJ5UGF0aCIsInBhdGhBbmRBcmdzIiwicXVlcnlBcmdzIiwicXVlcnlKb3VybmFsIiwicmVzdGFydCIsIm9sZFJlbW90ZVF1ZXJ5UmVzdWx0cyIsInVucGF1c2UiLCJjbGVhciIsImxvY2FsUXVlcnkiLCJ2YWx1ZXMiLCJwdXNoIiwiaGFzIiwiYXV0aGVudGljYXRlIiwicGF1c2UiLCJyZXN1bWUiLCJBcnJheSIsImZyb20iLCJyZW1vdmUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/local_state.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/metrics.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/metrics.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMarksReport: () => (/* binding */ getMarksReport),\n/* harmony export */   mark: () => (/* binding */ mark)\n/* harmony export */ });\n\nconst markNames = [\n    \"convexClientConstructed\",\n    \"convexWebSocketOpen\",\n    \"convexFirstMessageReceived\"\n];\nfunction mark(name, sessionId) {\n    const detail = {\n        sessionId\n    };\n    if (typeof performance === \"undefined\" || !performance.mark) return;\n    performance.mark(name, {\n        detail\n    });\n}\nfunction performanceMarkToJson(mark2) {\n    let name = mark2.name.slice(\"convex\".length);\n    name = name.charAt(0).toLowerCase() + name.slice(1);\n    return {\n        name,\n        startTime: mark2.startTime\n    };\n}\nfunction getMarksReport(sessionId) {\n    if (typeof performance === \"undefined\" || !performance.getEntriesByName) {\n        return [];\n    }\n    const allMarks = [];\n    for (const name of markNames){\n        const marks = performance.getEntriesByName(name).filter((entry)=>entry.entryType === \"mark\").filter((mark2)=>mark2.detail.sessionId === sessionId);\n        allMarks.push(...marks);\n    }\n    return allMarks.map(performanceMarkToJson);\n} //# sourceMappingURL=metrics.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9tZXRyaWNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDYixNQUFNQSxZQUFZO0lBQ2hCO0lBQ0E7SUFDQTtDQUNEO0FBQ00sU0FBU0MsS0FBS0MsSUFBSSxFQUFFQyxTQUFTO0lBQ2xDLE1BQU1DLFNBQVM7UUFBRUQ7SUFBVTtJQUMzQixJQUFJLE9BQU9FLGdCQUFnQixlQUFlLENBQUNBLFlBQVlKLElBQUksRUFBRTtJQUM3REksWUFBWUosSUFBSSxDQUFDQyxNQUFNO1FBQUVFO0lBQU87QUFDbEM7QUFDQSxTQUFTRSxzQkFBc0JDLEtBQUs7SUFDbEMsSUFBSUwsT0FBT0ssTUFBTUwsSUFBSSxDQUFDTSxLQUFLLENBQUMsU0FBU0MsTUFBTTtJQUMzQ1AsT0FBT0EsS0FBS1EsTUFBTSxDQUFDLEdBQUdDLFdBQVcsS0FBS1QsS0FBS00sS0FBSyxDQUFDO0lBQ2pELE9BQU87UUFDTE47UUFDQVUsV0FBV0wsTUFBTUssU0FBUztJQUM1QjtBQUNGO0FBQ08sU0FBU0MsZUFBZVYsU0FBUztJQUN0QyxJQUFJLE9BQU9FLGdCQUFnQixlQUFlLENBQUNBLFlBQVlTLGdCQUFnQixFQUFFO1FBQ3ZFLE9BQU8sRUFBRTtJQUNYO0lBQ0EsTUFBTUMsV0FBVyxFQUFFO0lBQ25CLEtBQUssTUFBTWIsUUFBUUYsVUFBVztRQUM1QixNQUFNZ0IsUUFBUVgsWUFBWVMsZ0JBQWdCLENBQUNaLE1BQU1lLE1BQU0sQ0FBQyxDQUFDQyxRQUFVQSxNQUFNQyxTQUFTLEtBQUssUUFBUUYsTUFBTSxDQUFDLENBQUNWLFFBQVVBLE1BQU1ILE1BQU0sQ0FBQ0QsU0FBUyxLQUFLQTtRQUM1SVksU0FBU0ssSUFBSSxJQUFJSjtJQUNuQjtJQUNBLE9BQU9ELFNBQVNNLEdBQUcsQ0FBQ2Y7QUFDdEIsRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL21ldHJpY3MuanM/M2Y1NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IG1hcmtOYW1lcyA9IFtcbiAgXCJjb252ZXhDbGllbnRDb25zdHJ1Y3RlZFwiLFxuICBcImNvbnZleFdlYlNvY2tldE9wZW5cIixcbiAgXCJjb252ZXhGaXJzdE1lc3NhZ2VSZWNlaXZlZFwiXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcmsobmFtZSwgc2Vzc2lvbklkKSB7XG4gIGNvbnN0IGRldGFpbCA9IHsgc2Vzc2lvbklkIH07XG4gIGlmICh0eXBlb2YgcGVyZm9ybWFuY2UgPT09IFwidW5kZWZpbmVkXCIgfHwgIXBlcmZvcm1hbmNlLm1hcmspIHJldHVybjtcbiAgcGVyZm9ybWFuY2UubWFyayhuYW1lLCB7IGRldGFpbCB9KTtcbn1cbmZ1bmN0aW9uIHBlcmZvcm1hbmNlTWFya1RvSnNvbihtYXJrMikge1xuICBsZXQgbmFtZSA9IG1hcmsyLm5hbWUuc2xpY2UoXCJjb252ZXhcIi5sZW5ndGgpO1xuICBuYW1lID0gbmFtZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBzdGFydFRpbWU6IG1hcmsyLnN0YXJ0VGltZVxuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcmtzUmVwb3J0KHNlc3Npb25JZCkge1xuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSBcInVuZGVmaW5lZFwiIHx8ICFwZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IGFsbE1hcmtzID0gW107XG4gIGZvciAoY29uc3QgbmFtZSBvZiBtYXJrTmFtZXMpIHtcbiAgICBjb25zdCBtYXJrcyA9IHBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUobmFtZSkuZmlsdGVyKChlbnRyeSkgPT4gZW50cnkuZW50cnlUeXBlID09PSBcIm1hcmtcIikuZmlsdGVyKChtYXJrMikgPT4gbWFyazIuZGV0YWlsLnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkKTtcbiAgICBhbGxNYXJrcy5wdXNoKC4uLm1hcmtzKTtcbiAgfVxuICByZXR1cm4gYWxsTWFya3MubWFwKHBlcmZvcm1hbmNlTWFya1RvSnNvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRyaWNzLmpzLm1hcFxuIl0sIm5hbWVzIjpbIm1hcmtOYW1lcyIsIm1hcmsiLCJuYW1lIiwic2Vzc2lvbklkIiwiZGV0YWlsIiwicGVyZm9ybWFuY2UiLCJwZXJmb3JtYW5jZU1hcmtUb0pzb24iLCJtYXJrMiIsInNsaWNlIiwibGVuZ3RoIiwiY2hhckF0IiwidG9Mb3dlckNhc2UiLCJzdGFydFRpbWUiLCJnZXRNYXJrc1JlcG9ydCIsImdldEVudHJpZXNCeU5hbWUiLCJhbGxNYXJrcyIsIm1hcmtzIiwiZmlsdGVyIiwiZW50cnkiLCJlbnRyeVR5cGUiLCJwdXNoIiwibWFwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/metrics.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js":
/*!******************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptimisticQueryResults: () => (/* binding */ OptimisticQueryResults)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nclass OptimisticLocalStoreImpl {\n    constructor(queryResults){\n        // A references of the query results in OptimisticQueryResults\n        __publicField(this, \"queryResults\");\n        // All of the queries modified by this class\n        __publicField(this, \"modifiedQueries\");\n        this.queryResults = queryResults;\n        this.modifiedQueries = [];\n    }\n    getQuery(query, ...args) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args[0]);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        const queryResult = this.queryResults.get((0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.serializePathAndArgs)(name, queryArgs));\n        if (queryResult === void 0) {\n            return void 0;\n        }\n        return OptimisticLocalStoreImpl.queryValue(queryResult.result);\n    }\n    getAllQueries(query) {\n        const queriesWithName = [];\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(query);\n        for (const queryResult of this.queryResults.values()){\n            if (queryResult.udfPath === (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.canonicalizeUdfPath)(name)) {\n                queriesWithName.push({\n                    args: queryResult.args,\n                    value: OptimisticLocalStoreImpl.queryValue(queryResult.result)\n                });\n            }\n        }\n        return queriesWithName;\n    }\n    setQuery(queryReference, args, value) {\n        const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args);\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(queryReference);\n        const queryToken = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_3__.serializePathAndArgs)(name, queryArgs);\n        let result;\n        if (value === void 0) {\n            result = void 0;\n        } else {\n            result = {\n                success: true,\n                value,\n                // It's an optimistic update, so there are no function logs to show.\n                logLines: []\n            };\n        }\n        const query = {\n            udfPath: name,\n            args: queryArgs,\n            result\n        };\n        this.queryResults.set(queryToken, query);\n        this.modifiedQueries.push(queryToken);\n    }\n    static queryValue(result) {\n        if (result === void 0) {\n            return void 0;\n        } else if (result.success) {\n            return result.value;\n        } else {\n            return void 0;\n        }\n    }\n}\nclass OptimisticQueryResults {\n    constructor(){\n        __publicField(this, \"queryResults\");\n        __publicField(this, \"optimisticUpdates\");\n        this.queryResults = /* @__PURE__ */ new Map();\n        this.optimisticUpdates = [];\n    }\n    /**\n   * Apply all optimistic updates on top of server query results\n   */ ingestQueryResultsFromServer(serverQueryResults, optimisticUpdatesToDrop) {\n        this.optimisticUpdates = this.optimisticUpdates.filter((updateAndId)=>{\n            return !optimisticUpdatesToDrop.has(updateAndId.mutationId);\n        });\n        const oldQueryResults = this.queryResults;\n        this.queryResults = new Map(serverQueryResults);\n        const localStore = new OptimisticLocalStoreImpl(this.queryResults);\n        for (const updateAndId of this.optimisticUpdates){\n            updateAndId.update(localStore);\n        }\n        const changedQueries = [];\n        for (const [queryToken, query] of this.queryResults){\n            const oldQuery = oldQueryResults.get(queryToken);\n            if (oldQuery === void 0 || oldQuery.result !== query.result) {\n                changedQueries.push(queryToken);\n            }\n        }\n        return changedQueries;\n    }\n    applyOptimisticUpdate(update, mutationId) {\n        this.optimisticUpdates.push({\n            update,\n            mutationId\n        });\n        const localStore = new OptimisticLocalStoreImpl(this.queryResults);\n        update(localStore);\n        return localStore.modifiedQueries;\n    }\n    /**\n   * \"Raw\" with respect to errors vs values, but query results still have\n   * optimistic updates applied.\n   *\n   * @internal\n   */ rawQueryResult(queryToken) {\n        const query = this.queryResults.get(queryToken);\n        if (query === void 0) {\n            return void 0;\n        }\n        return query.result;\n    }\n    queryResult(queryToken) {\n        const query = this.queryResults.get(queryToken);\n        if (query === void 0) {\n            return void 0;\n        }\n        const result = query.result;\n        if (result === void 0) {\n            return void 0;\n        } else if (result.success) {\n            return result.value;\n        } else {\n            if (result.errorData !== void 0) {\n                throw (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.forwardData)(result, new _values_errors_js__WEBPACK_IMPORTED_MODULE_4__.ConvexError((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"query\", query.udfPath, result)));\n            }\n            throw new Error((0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.createHybridErrorStacktrace)(\"query\", query.udfPath, result));\n        }\n    }\n    hasQueryResult(queryToken) {\n        return this.queryResults.get(queryToken) !== void 0;\n    }\n    /**\n   * @internal\n   */ queryLogs(queryToken) {\n        const query = this.queryResults.get(queryToken);\n        return query?.result?.logLines;\n    }\n} //# sourceMappingURL=optimistic_updates_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9vcHRpbWlzdGljX3VwZGF0ZXNfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFHM0U7QUFDcUI7QUFDdUI7QUFJNUM7QUFDd0I7QUFDckQsTUFBTVk7SUFDSkMsWUFBWUMsWUFBWSxDQUFFO1FBQ3hCLDhEQUE4RDtRQUM5RFYsY0FBYyxJQUFJLEVBQUU7UUFDcEIsNENBQTRDO1FBQzVDQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNVLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDQyxlQUFlLEdBQUcsRUFBRTtJQUMzQjtJQUNBQyxTQUFTQyxLQUFLLEVBQUUsR0FBR0MsSUFBSSxFQUFFO1FBQ3ZCLE1BQU1DLFlBQVliLDJEQUFTQSxDQUFDWSxJQUFJLENBQUMsRUFBRTtRQUNuQyxNQUFNRSxPQUFPZiwrREFBZUEsQ0FBQ1k7UUFDN0IsTUFBTUksY0FBYyxJQUFJLENBQUNQLFlBQVksQ0FBQ1EsR0FBRyxDQUN2Q1osd0VBQW9CQSxDQUFDVSxNQUFNRDtRQUU3QixJQUFJRSxnQkFBZ0IsS0FBSyxHQUFHO1lBQzFCLE9BQU8sS0FBSztRQUNkO1FBQ0EsT0FBT1QseUJBQXlCVyxVQUFVLENBQUNGLFlBQVlHLE1BQU07SUFDL0Q7SUFDQUMsY0FBY1IsS0FBSyxFQUFFO1FBQ25CLE1B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ZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvb3B0aW1pc3RpY191cGRhdGVzX2ltcGwuanM/NDVhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQge1xuICBnZXRGdW5jdGlvbk5hbWVcbn0gZnJvbSBcIi4uLy4uL3NlcnZlci9hcGkuanNcIjtcbmltcG9ydCB7IHBhcnNlQXJncyB9IGZyb20gXCIuLi8uLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZSwgZm9yd2FyZERhdGEgfSBmcm9tIFwiLi4vbG9nZ2luZy5qc1wiO1xuaW1wb3J0IHtcbiAgY2Fub25pY2FsaXplVWRmUGF0aCxcbiAgc2VyaWFsaXplUGF0aEFuZEFyZ3Ncbn0gZnJvbSBcIi4vdWRmX3BhdGhfdXRpbHMuanNcIjtcbmltcG9ydCB7IENvbnZleEVycm9yIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9lcnJvcnMuanNcIjtcbmNsYXNzIE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbCB7XG4gIGNvbnN0cnVjdG9yKHF1ZXJ5UmVzdWx0cykge1xuICAgIC8vIEEgcmVmZXJlbmNlcyBvZiB0aGUgcXVlcnkgcmVzdWx0cyBpbiBPcHRpbWlzdGljUXVlcnlSZXN1bHRzXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInF1ZXJ5UmVzdWx0c1wiKTtcbiAgICAvLyBBbGwgb2YgdGhlIHF1ZXJpZXMgbW9kaWZpZWQgYnkgdGhpcyBjbGFzc1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJtb2RpZmllZFF1ZXJpZXNcIik7XG4gICAgdGhpcy5xdWVyeVJlc3VsdHMgPSBxdWVyeVJlc3VsdHM7XG4gICAgdGhpcy5tb2RpZmllZFF1ZXJpZXMgPSBbXTtcbiAgfVxuICBnZXRRdWVyeShxdWVyeSwgLi4uYXJncykge1xuICAgIGNvbnN0IHF1ZXJ5QXJncyA9IHBhcnNlQXJncyhhcmdzWzBdKTtcbiAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgICBjb25zdCBxdWVyeVJlc3VsdCA9IHRoaXMucXVlcnlSZXN1bHRzLmdldChcbiAgICAgIHNlcmlhbGl6ZVBhdGhBbmRBcmdzKG5hbWUsIHF1ZXJ5QXJncylcbiAgICApO1xuICAgIGlmIChxdWVyeVJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gT3B0aW1pc3RpY0xvY2FsU3RvcmVJbXBsLnF1ZXJ5VmFsdWUocXVlcnlSZXN1bHQucmVzdWx0KTtcbiAgfVxuICBnZXRBbGxRdWVyaWVzKHF1ZXJ5KSB7XG4gICAgY29uc3QgcXVlcmllc1dpdGhOYW1lID0gW107XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShxdWVyeSk7XG4gICAgZm9yIChjb25zdCBxdWVyeVJlc3VsdCBvZiB0aGlzLnF1ZXJ5UmVzdWx0cy52YWx1ZXMoKSkge1xuICAgICAgaWYgKHF1ZXJ5UmVzdWx0LnVkZlBhdGggPT09IGNhbm9uaWNhbGl6ZVVkZlBhdGgobmFtZSkpIHtcbiAgICAgICAgcXVlcmllc1dpdGhOYW1lLnB1c2goe1xuICAgICAgICAgIGFyZ3M6IHF1ZXJ5UmVzdWx0LmFyZ3MsXG4gICAgICAgICAgdmFsdWU6IE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbC5xdWVyeVZhbHVlKHF1ZXJ5UmVzdWx0LnJlc3VsdClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBxdWVyaWVzV2l0aE5hbWU7XG4gIH1cbiAgc2V0UXVlcnkocXVlcnlSZWZlcmVuY2UsIGFyZ3MsIHZhbHVlKSB7XG4gICAgY29uc3QgcXVlcnlBcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUocXVlcnlSZWZlcmVuY2UpO1xuICAgIGNvbnN0IHF1ZXJ5VG9rZW4gPSBzZXJpYWxpemVQYXRoQW5kQXJncyhuYW1lLCBxdWVyeUFyZ3MpO1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHJlc3VsdCA9IHZvaWQgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgLy8gSXQncyBhbiBvcHRpbWlzdGljIHVwZGF0ZSwgc28gdGhlcmUgYXJlIG5vIGZ1bmN0aW9uIGxvZ3MgdG8gc2hvdy5cbiAgICAgICAgbG9nTGluZXM6IFtdXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgIHVkZlBhdGg6IG5hbWUsXG4gICAgICBhcmdzOiBxdWVyeUFyZ3MsXG4gICAgICByZXN1bHRcbiAgICB9O1xuICAgIHRoaXMucXVlcnlSZXN1bHRzLnNldChxdWVyeVRva2VuLCBxdWVyeSk7XG4gICAgdGhpcy5tb2RpZmllZFF1ZXJpZXMucHVzaChxdWVyeVRva2VuKTtcbiAgfVxuICBzdGF0aWMgcXVlcnlWYWx1ZShyZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBPcHRpbWlzdGljUXVlcnlSZXN1bHRzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInF1ZXJ5UmVzdWx0c1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwib3B0aW1pc3RpY1VwZGF0ZXNcIik7XG4gICAgdGhpcy5xdWVyeVJlc3VsdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMub3B0aW1pc3RpY1VwZGF0ZXMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogQXBwbHkgYWxsIG9wdGltaXN0aWMgdXBkYXRlcyBvbiB0b3Agb2Ygc2VydmVyIHF1ZXJ5IHJlc3VsdHNcbiAgICovXG4gIGluZ2VzdFF1ZXJ5UmVzdWx0c0Zyb21TZXJ2ZXIoc2VydmVyUXVlcnlSZXN1bHRzLCBvcHRpbWlzdGljVXBkYXRlc1RvRHJvcCkge1xuICAgIHRoaXMub3B0aW1pc3RpY1VwZGF0ZXMgPSB0aGlzLm9wdGltaXN0aWNVcGRhdGVzLmZpbHRlcigodXBkYXRlQW5kSWQpID0+IHtcbiAgICAgIHJldHVybiAhb3B0aW1pc3RpY1VwZGF0ZXNUb0Ryb3AuaGFzKHVwZGF0ZUFuZElkLm11dGF0aW9uSWQpO1xuICAgIH0pO1xuICAgIGNvbnN0IG9sZFF1ZXJ5UmVzdWx0cyA9IHRoaXMucXVlcnlSZXN1bHRzO1xuICAgIHRoaXMucXVlcnlSZXN1bHRzID0gbmV3IE1hcChzZXJ2ZXJRdWVyeVJlc3VsdHMpO1xuICAgIGNvbnN0IGxvY2FsU3RvcmUgPSBuZXcgT3B0aW1pc3RpY0xvY2FsU3RvcmVJbXBsKHRoaXMucXVlcnlSZXN1bHRzKTtcbiAgICBmb3IgKGNvbnN0IHVwZGF0ZUFuZElkIG9mIHRoaXMub3B0aW1pc3RpY1VwZGF0ZXMpIHtcbiAgICAgIHVwZGF0ZUFuZElkLnVwZGF0ZShsb2NhbFN0b3JlKTtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlZFF1ZXJpZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IFtxdWVyeVRva2VuLCBxdWVyeV0gb2YgdGhpcy5xdWVyeVJlc3VsdHMpIHtcbiAgICAgIGNvbnN0IG9sZFF1ZXJ5ID0gb2xkUXVlcnlSZXN1bHRzLmdldChxdWVyeVRva2VuKTtcbiAgICAgIGlmIChvbGRRdWVyeSA9PT0gdm9pZCAwIHx8IG9sZFF1ZXJ5LnJlc3VsdCAhPT0gcXVlcnkucmVzdWx0KSB7XG4gICAgICAgIGNoYW5nZWRRdWVyaWVzLnB1c2gocXVlcnlUb2tlbik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkUXVlcmllcztcbiAgfVxuICBhcHBseU9wdGltaXN0aWNVcGRhdGUodXBkYXRlLCBtdXRhdGlvbklkKSB7XG4gICAgdGhpcy5vcHRpbWlzdGljVXBkYXRlcy5wdXNoKHtcbiAgICAgIHVwZGF0ZSxcbiAgICAgIG11dGF0aW9uSWRcbiAgICB9KTtcbiAgICBjb25zdCBsb2NhbFN0b3JlID0gbmV3IE9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbCh0aGlzLnF1ZXJ5UmVzdWx0cyk7XG4gICAgdXBkYXRlKGxvY2FsU3RvcmUpO1xuICAgIHJldHVybiBsb2NhbFN0b3JlLm1vZGlmaWVkUXVlcmllcztcbiAgfVxuICAvKipcbiAgICogXCJSYXdcIiB3aXRoIHJlc3BlY3QgdG8gZXJyb3JzIHZzIHZhbHVlcywgYnV0IHF1ZXJ5IHJlc3VsdHMgc3RpbGwgaGF2ZVxuICAgKiBvcHRpbWlzdGljIHVwZGF0ZXMgYXBwbGllZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICByYXdRdWVyeVJlc3VsdChxdWVyeVRva2VuKSB7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5UmVzdWx0cy5nZXQocXVlcnlUb2tlbik7XG4gICAgaWYgKHF1ZXJ5ID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBxdWVyeS5yZXN1bHQ7XG4gIH1cbiAgcXVlcnlSZXN1bHQocXVlcnlUb2tlbikge1xuICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeVJlc3VsdHMuZ2V0KHF1ZXJ5VG9rZW4pO1xuICAgIGlmIChxdWVyeSA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBxdWVyeS5yZXN1bHQ7XG4gICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0gZWxzZSBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3JEYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgZm9yd2FyZERhdGEoXG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIG5ldyBDb252ZXhFcnJvcihcbiAgICAgICAgICAgIGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZShcInF1ZXJ5XCIsIHF1ZXJ5LnVkZlBhdGgsIHJlc3VsdClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGNyZWF0ZUh5YnJpZEVycm9yU3RhY2t0cmFjZShcInF1ZXJ5XCIsIHF1ZXJ5LnVkZlBhdGgsIHJlc3VsdClcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGhhc1F1ZXJ5UmVzdWx0KHF1ZXJ5VG9rZW4pIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVJlc3VsdHMuZ2V0KHF1ZXJ5VG9rZW4pICE9PSB2b2lkIDA7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcXVlcnlMb2dzKHF1ZXJ5VG9rZW4pIHtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMucXVlcnlSZXN1bHRzLmdldChxdWVyeVRva2VuKTtcbiAgICByZXR1cm4gcXVlcnk/LnJlc3VsdD8ubG9nTGluZXM7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wdGltaXN0aWNfdXBkYXRlc19pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiZ2V0RnVuY3Rpb25OYW1lIiwicGFyc2VBcmdzIiwiY3JlYXRlSHlicmlkRXJyb3JTdGFja3RyYWNlIiwiZm9yd2FyZERhdGEiLCJjYW5vbmljYWxpemVVZGZQYXRoIiwic2VyaWFsaXplUGF0aEFuZEFyZ3MiLCJDb252ZXhFcnJvciIsIk9wdGltaXN0aWNMb2NhbFN0b3JlSW1wbCIsImNvbnN0cnVjdG9yIiwicXVlcnlSZXN1bHRzIiwibW9kaWZpZWRRdWVyaWVzIiwiZ2V0UXVlcnkiLCJxdWVyeSIsImFyZ3MiLCJxdWVyeUFyZ3MiLCJuYW1lIiwicXVlcnlSZXN1bHQiLCJnZXQiLCJxdWVyeVZhbHVlIiwicmVzdWx0IiwiZ2V0QWxsUXVlcmllcyIsInF1ZXJpZXNXaXRoTmFtZSIsInZhbHVlcyIsInVkZlBhdGgiLCJwdXNoIiwic2V0UXVlcnkiLCJxdWVyeVJlZmVyZW5jZSIsInF1ZXJ5VG9rZW4iLCJzdWNjZXNzIiwibG9nTGluZXMiLCJzZXQiLCJPcHRpbWlzdGljUXVlcnlSZXN1bHRzIiwiTWFwIiwib3B0aW1pc3RpY1VwZGF0ZXMiLCJpbmdlc3RRdWVyeVJlc3VsdHNGcm9tU2VydmVyIiwic2VydmVyUXVlcnlSZXN1bHRzIiwib3B0aW1pc3RpY1VwZGF0ZXNUb0Ryb3AiLCJmaWx0ZXIiLCJ1cGRhdGVBbmRJZCIsImhhcyIsIm11dGF0aW9uSWQiLCJvbGRRdWVyeVJlc3VsdHMiLCJsb2NhbFN0b3JlIiwidXBkYXRlIiwiY2hhbmdlZFF1ZXJpZXMiLCJvbGRRdWVyeSIsImFwcGx5T3B0aW1pc3RpY1VwZGF0ZSIsInJhd1F1ZXJ5UmVzdWx0IiwiZXJyb3JEYXRhIiwiRXJyb3IiLCJoYXNRdWVyeVJlc3VsdCIsInF1ZXJ5TG9ncyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/optimistic_updates_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PaginatedQueryClient: () => (/* binding */ PaginatedQueryClient)\n/* harmony export */ });\n/* harmony import */ var _udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./udf_path_utils.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\");\n/* harmony import */ var _pagination_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pagination.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/pagination.js\");\n/* harmony import */ var _vendor_long_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../vendor/long.js */ \"(ssr)/./node_modules/convex/dist/esm/vendor/long.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nclass PaginatedQueryClient {\n    constructor(client, onTransition){\n        this.client = client;\n        this.onTransition = onTransition;\n        __publicField(this, \"paginatedQuerySet\", /* @__PURE__ */ new Map());\n        // hold onto a real Transition so we can construct synthetic ones with that timestamp\n        __publicField(this, \"lastTransitionTs\");\n        this.lastTransitionTs = _vendor_long_js__WEBPACK_IMPORTED_MODULE_2__.Long.fromNumber(0);\n        this.client.addOnTransitionHandler((transition)=>this.onBaseTransition(transition));\n    }\n    /**\n   * Subscribe to a paginated query.\n   *\n   * @param name - The name of the paginated query function\n   * @param args - Arguments for the query (excluding paginationOpts)\n   * @param options - Pagination options including initialNumItems\n   * @returns Object with paginatedQueryToken and unsubscribe function\n   */ subscribe(name, args, options) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__.canonicalizeUdfPath)(name);\n        const token = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__.serializePaginatedPathAndArgs)(canonicalizedUdfPath, args, options);\n        const unsubscribe = ()=>this.removePaginatedQuerySubscriber(token);\n        const existingEntry = this.paginatedQuerySet.get(token);\n        if (existingEntry) {\n            existingEntry.numSubscribers += 1;\n            return {\n                paginatedQueryToken: token,\n                unsubscribe\n            };\n        }\n        this.paginatedQuerySet.set(token, {\n            token,\n            canonicalizedUdfPath,\n            args,\n            numSubscribers: 1,\n            options: {\n                initialNumItems: options.initialNumItems\n            },\n            nextPageKey: 0,\n            pageKeys: [],\n            pageKeyToQuery: /* @__PURE__ */ new Map(),\n            ongoingSplits: /* @__PURE__ */ new Map(),\n            skip: false,\n            id: options.id\n        });\n        this.addPageToPaginatedQuery(token, null, options.initialNumItems);\n        return {\n            paginatedQueryToken: token,\n            unsubscribe\n        };\n    }\n    /**\n   * Get current results for a paginated query based on local state.\n   *\n   * Throws an error when one of the pages has errored.\n   */ localQueryResult(name, args, options) {\n        const canonicalizedUdfPath = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__.canonicalizeUdfPath)(name);\n        const token = (0,_udf_path_utils_js__WEBPACK_IMPORTED_MODULE_0__.serializePaginatedPathAndArgs)(canonicalizedUdfPath, args, options);\n        return this.localQueryResultByToken(token);\n    }\n    /**\n   * @internal\n   */ localQueryResultByToken(token) {\n        const paginatedQuery = this.paginatedQuerySet.get(token);\n        if (!paginatedQuery) {\n            return void 0;\n        }\n        const activePages = this.activePageQueryTokens(paginatedQuery);\n        if (activePages.length === 0) {\n            return {\n                results: [],\n                status: \"LoadingFirstPage\",\n                loadMore: (numItems)=>{\n                    return this.loadMoreOfPaginatedQuery(token, numItems);\n                }\n            };\n        }\n        let allResults = [];\n        let hasUndefined = false;\n        let isDone = false;\n        for (const pageToken of activePages){\n            const result = this.client.localQueryResultByToken(pageToken);\n            if (result === void 0) {\n                hasUndefined = true;\n                isDone = false;\n                continue;\n            }\n            const paginationResult = (0,_pagination_js__WEBPACK_IMPORTED_MODULE_1__.asPaginationResult)(result);\n            allResults = allResults.concat(paginationResult.page);\n            isDone = !!paginationResult.isDone;\n        }\n        let status;\n        if (hasUndefined) {\n            status = allResults.length === 0 ? \"LoadingFirstPage\" : \"LoadingMore\";\n        } else if (isDone) {\n            status = \"Exhausted\";\n        } else {\n            status = \"CanLoadMore\";\n        }\n        return {\n            results: allResults,\n            status,\n            loadMore: (numItems)=>{\n                return this.loadMoreOfPaginatedQuery(token, numItems);\n            }\n        };\n    }\n    onBaseTransition(transition) {\n        const changedBaseTokens = transition.queries.map((q)=>q.token);\n        const changed = this.queriesContainingTokens(changedBaseTokens);\n        let paginatedQueries = [];\n        if (changed.length > 0) {\n            this.processPaginatedQuerySplits(changed, (token)=>this.client.localQueryResultByToken(token));\n            paginatedQueries = changed.map((token)=>({\n                    token,\n                    modification: {\n                        kind: \"Updated\",\n                        result: this.localQueryResultByToken(token)\n                    }\n                }));\n        }\n        const extendedTransition = {\n            ...transition,\n            paginatedQueries\n        };\n        this.onTransition(extendedTransition);\n    }\n    /**\n   * Load more items for a paginated query.\n   *\n   * This *always* causes a transition, the status of the query\n   * has probably changed from \"CanLoadMore\" to \"LoadingMore\".\n   * Data might have changed too: maybe a subscription to this page\n   * query already exists (unlikely but possible) or this page query\n   * has an optimistic update providing some initial data.\n   *\n   * @internal\n   */ loadMoreOfPaginatedQuery(token, numItems) {\n        this.mustGetPaginatedQuery(token);\n        const lastPageToken = this.queryTokenForLastPageOfPaginatedQuery(token);\n        const lastPageResult = this.client.localQueryResultByToken(lastPageToken);\n        if (!lastPageResult) {\n            return false;\n        }\n        const paginationResult = (0,_pagination_js__WEBPACK_IMPORTED_MODULE_1__.asPaginationResult)(lastPageResult);\n        if (paginationResult.isDone) {\n            return false;\n        }\n        this.addPageToPaginatedQuery(token, paginationResult.continueCursor, numItems);\n        const loadMoreTransition = {\n            timestamp: this.lastTransitionTs,\n            reflectedMutations: [],\n            queries: [],\n            paginatedQueries: [\n                {\n                    token,\n                    modification: {\n                        kind: \"Updated\",\n                        result: this.localQueryResultByToken(token)\n                    }\n                }\n            ]\n        };\n        this.onTransition(loadMoreTransition);\n        return true;\n    }\n    /**\n   * @internal\n   */ queriesContainingTokens(queryTokens) {\n        if (queryTokens.length === 0) {\n            return [];\n        }\n        const changed = [];\n        const queryTokenSet = new Set(queryTokens);\n        for (const [paginatedToken, paginatedQuery] of this.paginatedQuerySet){\n            for (const pageToken of this.allQueryTokens(paginatedQuery)){\n                if (queryTokenSet.has(pageToken)) {\n                    changed.push(paginatedToken);\n                    break;\n                }\n            }\n        }\n        return changed;\n    }\n    /**\n   * @internal\n   */ processPaginatedQuerySplits(changed, getResult) {\n        for (const paginatedQueryToken of changed){\n            const paginatedQuery = this.mustGetPaginatedQuery(paginatedQueryToken);\n            const { ongoingSplits, pageKeyToQuery, pageKeys } = paginatedQuery;\n            for (const [pageKey, [splitKey1, splitKey2]] of ongoingSplits){\n                const bothNewPagesLoaded = getResult(pageKeyToQuery.get(splitKey1).queryToken) !== void 0 && getResult(pageKeyToQuery.get(splitKey2).queryToken) !== void 0;\n                if (bothNewPagesLoaded) {\n                    this.completePaginatedQuerySplit(paginatedQuery, pageKey, splitKey1, splitKey2);\n                }\n            }\n            for (const pageKey of pageKeys){\n                if (ongoingSplits.has(pageKey)) {\n                    continue;\n                }\n                const pageToken = pageKeyToQuery.get(pageKey).queryToken;\n                const pageResult = getResult(pageToken);\n                if (!pageResult) {\n                    continue;\n                }\n                const result = (0,_pagination_js__WEBPACK_IMPORTED_MODULE_1__.asPaginationResult)(pageResult);\n                const shouldSplit = result.splitCursor && (result.pageStatus === \"SplitRecommended\" || result.pageStatus === \"SplitRequired\" || // This client-driven page splitting condition will change in the future.\n                result.page.length > paginatedQuery.options.initialNumItems * 2);\n                if (shouldSplit) {\n                    this.splitPaginatedQueryPage(paginatedQuery, pageKey, result.splitCursor, // we just checked\n                    result.continueCursor);\n                }\n            }\n        }\n    }\n    splitPaginatedQueryPage(paginatedQuery, pageKey, splitCursor, continueCursor) {\n        const splitKey1 = paginatedQuery.nextPageKey++;\n        const splitKey2 = paginatedQuery.nextPageKey++;\n        const paginationOpts = {\n            cursor: continueCursor,\n            numItems: paginatedQuery.options.initialNumItems,\n            id: paginatedQuery.id\n        };\n        const firstSubscription = this.client.subscribe(paginatedQuery.canonicalizedUdfPath, {\n            ...paginatedQuery.args,\n            paginationOpts: {\n                ...paginationOpts,\n                cursor: null,\n                // Start from beginning for first split\n                endCursor: splitCursor\n            }\n        });\n        paginatedQuery.pageKeyToQuery.set(splitKey1, firstSubscription);\n        const secondSubscription = this.client.subscribe(paginatedQuery.canonicalizedUdfPath, {\n            ...paginatedQuery.args,\n            paginationOpts: {\n                ...paginationOpts,\n                cursor: splitCursor,\n                endCursor: continueCursor\n            }\n        });\n        paginatedQuery.pageKeyToQuery.set(splitKey2, secondSubscription);\n        paginatedQuery.ongoingSplits.set(pageKey, [\n            splitKey1,\n            splitKey2\n        ]);\n    }\n    /**\n   * @internal\n   */ addPageToPaginatedQuery(token, continueCursor, numItems) {\n        const paginatedQuery = this.mustGetPaginatedQuery(token);\n        const pageKey = paginatedQuery.nextPageKey++;\n        const paginationOpts = {\n            cursor: continueCursor,\n            numItems,\n            id: paginatedQuery.id\n        };\n        const pageArgs = {\n            ...paginatedQuery.args,\n            paginationOpts\n        };\n        const subscription = this.client.subscribe(paginatedQuery.canonicalizedUdfPath, pageArgs);\n        paginatedQuery.pageKeys.push(pageKey);\n        paginatedQuery.pageKeyToQuery.set(pageKey, subscription);\n        return subscription;\n    }\n    removePaginatedQuerySubscriber(token) {\n        const paginatedQuery = this.paginatedQuerySet.get(token);\n        if (!paginatedQuery) {\n            return;\n        }\n        paginatedQuery.numSubscribers -= 1;\n        if (paginatedQuery.numSubscribers > 0) {\n            return;\n        }\n        for (const subscription of paginatedQuery.pageKeyToQuery.values()){\n            subscription.unsubscribe();\n        }\n        this.paginatedQuerySet.delete(token);\n    }\n    completePaginatedQuerySplit(paginatedQuery, pageKey, splitKey1, splitKey2) {\n        const originalQuery = paginatedQuery.pageKeyToQuery.get(pageKey);\n        paginatedQuery.pageKeyToQuery.delete(pageKey);\n        const pageIndex = paginatedQuery.pageKeys.indexOf(pageKey);\n        paginatedQuery.pageKeys.splice(pageIndex, 1, splitKey1, splitKey2);\n        paginatedQuery.ongoingSplits.delete(pageKey);\n        originalQuery.unsubscribe();\n    }\n    /** The query tokens for all active pages, in result order */ activePageQueryTokens(paginatedQuery) {\n        return paginatedQuery.pageKeys.map((pageKey)=>paginatedQuery.pageKeyToQuery.get(pageKey).queryToken);\n    }\n    allQueryTokens(paginatedQuery) {\n        return Array.from(paginatedQuery.pageKeyToQuery.values()).map((sub)=>sub.queryToken);\n    }\n    queryTokenForLastPageOfPaginatedQuery(token) {\n        const paginatedQuery = this.mustGetPaginatedQuery(token);\n        const lastPageKey = paginatedQuery.pageKeys[paginatedQuery.pageKeys.length - 1];\n        if (lastPageKey === void 0) {\n            throw new Error(`No pages for paginated query ${token}`);\n        }\n        return paginatedQuery.pageKeyToQuery.get(lastPageKey).queryToken;\n    }\n    mustGetPaginatedQuery(token) {\n        const paginatedQuery = this.paginatedQuerySet.get(token);\n        if (!paginatedQuery) {\n            throw new Error(\"paginated query no longer exists for token \" + token);\n        }\n        return paginatedQuery;\n    }\n} //# sourceMappingURL=paginated_query_client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9wYWdpbmF0ZWRfcXVlcnlfY2xpZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFJM0U7QUFHSjtBQUNtQjtBQUNyQyxNQUFNUztJQUNYQyxZQUFZQyxNQUFNLEVBQUVDLFlBQVksQ0FBRTtRQUNoQyxJQUFJLENBQUNELE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLFlBQVksR0FBR0E7UUFDcEJSLGNBQWMsSUFBSSxFQUFFLHFCQUFxQixhQUFhLEdBQUcsSUFBSVM7UUFDN0QscUZBQXFGO1FBQ3JGVCxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNVLGdCQUFnQixHQUFHTixpREFBSUEsQ0FBQ08sVUFBVSxDQUFDO1FBQ3hDLElBQUksQ0FBQ0osTUFBTSxDQUFDSyxzQkFBc0IsQ0FDaEMsQ0FBQ0MsYUFBZSxJQUFJLENBQUNDLGdCQUFnQixDQUFDRDtJQUUxQztJQUNBOzs7Ozs7O0dBT0MsR0FDREUsVUFBVUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVDLE9BQU8sRUFBRTtRQUM3QixNQUFNQyx1QkFBdUJqQix1RUFBbUJBLENBQUNjO1FBQ2pELE1BQU1JLFFBQVFuQixpRkFBNkJBLENBQ3pDa0Isc0JBQ0FGLE1BQ0FDO1FBRUYsTUFBTUcsY0FBYyxJQUFNLElBQUksQ0FBQ0MsOEJBQThCLENB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Y0FBYyxDQUFDUCxHQUFHLENBQUNxRixhQUFhdkIsVUFBVTtJQUNsRTtJQUNBcEIsc0JBQXNCL0MsS0FBSyxFQUFFO1FBQzNCLE1BQU1tQixpQkFBaUIsSUFBSSxDQUFDZixpQkFBaUIsQ0FBQ0MsR0FBRyxDQUFDTDtRQUNsRCxJQUFJLENBQUNtQixnQkFBZ0I7WUFDbkIsTUFBTSxJQUFJd0UsTUFBTSxnREFBZ0QzRjtRQUNsRTtRQUNBLE9BQU9tQjtJQUNUO0FBQ0YsRUFDQSxrREFBa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3BhZ2luYXRlZF9xdWVyeV9jbGllbnQuanM/NjNmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQge1xuICBzZXJpYWxpemVQYWdpbmF0ZWRQYXRoQW5kQXJncyxcbiAgY2Fub25pY2FsaXplVWRmUGF0aFxufSBmcm9tIFwiLi91ZGZfcGF0aF91dGlscy5qc1wiO1xuaW1wb3J0IHtcbiAgYXNQYWdpbmF0aW9uUmVzdWx0XG59IGZyb20gXCIuL3BhZ2luYXRpb24uanNcIjtcbmltcG9ydCB7IExvbmcgfSBmcm9tIFwiLi4vLi4vdmVuZG9yL2xvbmcuanNcIjtcbmV4cG9ydCBjbGFzcyBQYWdpbmF0ZWRRdWVyeUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgb25UcmFuc2l0aW9uKSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5vblRyYW5zaXRpb24gPSBvblRyYW5zaXRpb247XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInBhZ2luYXRlZFF1ZXJ5U2V0XCIsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIC8vIGhvbGQgb250byBhIHJlYWwgVHJhbnNpdGlvbiBzbyB3ZSBjYW4gY29uc3RydWN0IHN5bnRoZXRpYyBvbmVzIHdpdGggdGhhdCB0aW1lc3RhbXBcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibGFzdFRyYW5zaXRpb25Uc1wiKTtcbiAgICB0aGlzLmxhc3RUcmFuc2l0aW9uVHMgPSBMb25nLmZyb21OdW1iZXIoMCk7XG4gICAgdGhpcy5jbGllbnQuYWRkT25UcmFuc2l0aW9uSGFuZGxlcihcbiAgICAgICh0cmFuc2l0aW9uKSA9PiB0aGlzLm9uQmFzZVRyYW5zaXRpb24odHJhbnNpdGlvbilcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gYSBwYWdpbmF0ZWQgcXVlcnkuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHBhZ2luYXRlZCBxdWVyeSBmdW5jdGlvblxuICAgKiBAcGFyYW0gYXJncyAtIEFyZ3VtZW50cyBmb3IgdGhlIHF1ZXJ5IChleGNsdWRpbmcgcGFnaW5hdGlvbk9wdHMpXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUGFnaW5hdGlvbiBvcHRpb25zIGluY2x1ZGluZyBpbml0aWFsTnVtSXRlbXNcbiAgICogQHJldHVybnMgT2JqZWN0IHdpdGggcGFnaW5hdGVkUXVlcnlUb2tlbiBhbmQgdW5zdWJzY3JpYmUgZnVuY3Rpb25cbiAgICovXG4gIHN1YnNjcmliZShuYW1lLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY2Fub25pY2FsaXplZFVkZlBhdGggPSBjYW5vbmljYWxpemVVZGZQYXRoKG5hbWUpO1xuICAgIGNvbnN0IHRva2VuID0gc2VyaWFsaXplUGFnaW5hdGVkUGF0aEFuZEFyZ3MoXG4gICAgICBjYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgIGFyZ3MsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9ICgpID0+IHRoaXMucmVtb3ZlUGFnaW5hdGVkUXVlcnlTdWJzY3JpYmVyKHRva2VuKTtcbiAgICBjb25zdCBleGlzdGluZ0VudHJ5ID0gdGhpcy5wYWdpbmF0ZWRRdWVyeVNldC5nZXQodG9rZW4pO1xuICAgIGlmIChleGlzdGluZ0VudHJ5KSB7XG4gICAgICBleGlzdGluZ0VudHJ5Lm51bVN1YnNjcmliZXJzICs9IDE7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYWdpbmF0ZWRRdWVyeVRva2VuOiB0b2tlbixcbiAgICAgICAgdW5zdWJzY3JpYmVcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMucGFnaW5hdGVkUXVlcnlTZXQuc2V0KHRva2VuLCB7XG4gICAgICB0b2tlbixcbiAgICAgIGNhbm9uaWNhbGl6ZWRVZGZQYXRoLFxuICAgICAgYXJncyxcbiAgICAgIG51bVN1YnNjcmliZXJzOiAxLFxuICAgICAgb3B0aW9uczogeyBpbml0aWFsTnVtSXRlbXM6IG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zIH0sXG4gICAgICBuZXh0UGFnZUtleTogMCxcbiAgICAgIHBhZ2VLZXlzOiBbXSxcbiAgICAgIHBhZ2VLZXlUb1F1ZXJ5OiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgb25nb2luZ1NwbGl0czogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgIHNraXA6IGZhbHNlLFxuICAgICAgaWQ6IG9wdGlvbnMuaWRcbiAgICB9KTtcbiAgICB0aGlzLmFkZFBhZ2VUb1BhZ2luYXRlZFF1ZXJ5KHRva2VuLCBudWxsLCBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2luYXRlZFF1ZXJ5VG9rZW46IHRva2VuLFxuICAgICAgdW5zdWJzY3JpYmVcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgY3VycmVudCByZXN1bHRzIGZvciBhIHBhZ2luYXRlZCBxdWVyeSBiYXNlZCBvbiBsb2NhbCBzdGF0ZS5cbiAgICpcbiAgICogVGhyb3dzIGFuIGVycm9yIHdoZW4gb25lIG9mIHRoZSBwYWdlcyBoYXMgZXJyb3JlZC5cbiAgICovXG4gIGxvY2FsUXVlcnlSZXN1bHQobmFtZSwgYXJncywgb3B0aW9ucykge1xuICAgIGNvbnN0IGNhbm9uaWNhbGl6ZWRVZGZQYXRoID0gY2Fub25pY2FsaXplVWRmUGF0aChuYW1lKTtcbiAgICBjb25zdCB0b2tlbiA9IHNlcmlhbGl6ZVBhZ2luYXRlZFBhdGhBbmRBcmdzKFxuICAgICAgY2Fub25pY2FsaXplZFVkZlBhdGgsXG4gICAgICBhcmdzLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4odG9rZW4pO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGxvY2FsUXVlcnlSZXN1bHRCeVRva2VuKHRva2VuKSB7XG4gICAgY29uc3QgcGFnaW5hdGVkUXVlcnkgPSB0aGlzLnBhZ2luYXRlZFF1ZXJ5U2V0LmdldCh0b2tlbik7XG4gICAgaWYgKCFwYWdpbmF0ZWRRdWVyeSkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgY29uc3QgYWN0aXZlUGFnZXMgPSB0aGlzLmFjdGl2ZVBhZ2VRdWVyeVRva2VucyhwYWdpbmF0ZWRRdWVyeSk7XG4gICAgaWYgKGFjdGl2ZVBhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgIHN0YXR1czogXCJMb2FkaW5nRmlyc3RQYWdlXCIsXG4gICAgICAgIGxvYWRNb3JlOiAobnVtSXRlbXMpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkTW9yZU9mUGFnaW5hdGVkUXVlcnkodG9rZW4sIG51bUl0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGFsbFJlc3VsdHMgPSBbXTtcbiAgICBsZXQgaGFzVW5kZWZpbmVkID0gZmFsc2U7XG4gICAgbGV0IGlzRG9uZSA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgcGFnZVRva2VuIG9mIGFjdGl2ZVBhZ2VzKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihwYWdlVG9rZW4pO1xuICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGhhc1VuZGVmaW5lZCA9IHRydWU7XG4gICAgICAgIGlzRG9uZSA9IGZhbHNlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhZ2luYXRpb25SZXN1bHQgPSBhc1BhZ2luYXRpb25SZXN1bHQocmVzdWx0KTtcbiAgICAgIGFsbFJlc3VsdHMgPSBhbGxSZXN1bHRzLmNvbmNhdChwYWdpbmF0aW9uUmVzdWx0LnBhZ2UpO1xuICAgICAgaXNEb25lID0gISFwYWdpbmF0aW9uUmVzdWx0LmlzRG9uZTtcbiAgICB9XG4gICAgbGV0IHN0YXR1cztcbiAgICBpZiAoaGFzVW5kZWZpbmVkKSB7XG4gICAgICBzdGF0dXMgPSBhbGxSZXN1bHRzLmxlbmd0aCA9PT0gMCA/IFwiTG9hZGluZ0ZpcnN0UGFnZVwiIDogXCJMb2FkaW5nTW9yZVwiO1xuICAgIH0gZWxzZSBpZiAoaXNEb25lKSB7XG4gICAgICBzdGF0dXMgPSBcIkV4aGF1c3RlZFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0dXMgPSBcIkNhbkxvYWRNb3JlXCI7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICByZXN1bHRzOiBhbGxSZXN1bHRzLFxuICAgICAgc3RhdHVzLFxuICAgICAgbG9hZE1vcmU6IChudW1JdGVtcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkTW9yZU9mUGFnaW5hdGVkUXVlcnkodG9rZW4sIG51bUl0ZW1zKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIG9uQmFzZVRyYW5zaXRpb24odHJhbnNpdGlvbikge1xuICAgIGNvbnN0IGNoYW5nZWRCYXNlVG9rZW5zID0gdHJhbnNpdGlvbi5xdWVyaWVzLm1hcCgocSkgPT4gcS50b2tlbik7XG4gICAgY29uc3QgY2hhbmdlZCA9IHRoaXMucXVlcmllc0NvbnRhaW5pbmdUb2tlbnMoY2hhbmdlZEJhc2VUb2tlbnMpO1xuICAgIGxldCBwYWdpbmF0ZWRRdWVyaWVzID0gW107XG4gICAgaWYgKGNoYW5nZWQubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5wcm9jZXNzUGFnaW5hdGVkUXVlcnlTcGxpdHMoXG4gICAgICAgIGNoYW5nZWQsXG4gICAgICAgICh0b2tlbikgPT4gdGhpcy5jbGllbnQubG9jYWxRdWVyeVJlc3VsdEJ5VG9rZW4odG9rZW4pXG4gICAgICApO1xuICAgICAgcGFnaW5hdGVkUXVlcmllcyA9IGNoYW5nZWQubWFwKCh0b2tlbikgPT4gKHtcbiAgICAgICAgdG9rZW4sXG4gICAgICAgIG1vZGlmaWNhdGlvbjoge1xuICAgICAgICAgIGtpbmQ6IFwiVXBkYXRlZFwiLFxuICAgICAgICAgIHJlc3VsdDogdGhpcy5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbih0b2tlbilcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH1cbiAgICBjb25zdCBleHRlbmRlZFRyYW5zaXRpb24gPSB7XG4gICAgICAuLi50cmFuc2l0aW9uLFxuICAgICAgcGFnaW5hdGVkUXVlcmllc1xuICAgIH07XG4gICAgdGhpcy5vblRyYW5zaXRpb24oZXh0ZW5kZWRUcmFuc2l0aW9uKTtcbiAgfVxuICAvKipcbiAgICogTG9hZCBtb3JlIGl0ZW1zIGZvciBhIHBhZ2luYXRlZCBxdWVyeS5cbiAgICpcbiAgICogVGhpcyAqYWx3YXlzKiBjYXVzZXMgYSB0cmFuc2l0aW9uLCB0aGUgc3RhdHVzIG9mIHRoZSBxdWVyeVxuICAgKiBoYXMgcHJvYmFibHkgY2hhbmdlZCBmcm9tIFwiQ2FuTG9hZE1vcmVcIiB0byBcIkxvYWRpbmdNb3JlXCIuXG4gICAqIERhdGEgbWlnaHQgaGF2ZSBjaGFuZ2VkIHRvbzogbWF5YmUgYSBzdWJzY3JpcHRpb24gdG8gdGhpcyBwYWdlXG4gICAqIHF1ZXJ5IGFscmVhZHkgZXhpc3RzICh1bmxpa2VseSBidXQgcG9zc2libGUpIG9yIHRoaXMgcGFnZSBxdWVyeVxuICAgKiBoYXMgYW4gb3B0aW1pc3RpYyB1cGRhdGUgcHJvdmlkaW5nIHNvbWUgaW5pdGlhbCBkYXRhLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGxvYWRNb3JlT2ZQYWdpbmF0ZWRRdWVyeSh0b2tlbiwgbnVtSXRlbXMpIHtcbiAgICB0aGlzLm11c3RHZXRQYWdpbmF0ZWRRdWVyeSh0b2tlbik7XG4gICAgY29uc3QgbGFzdFBhZ2VUb2tlbiA9IHRoaXMucXVlcnlUb2tlbkZvckxhc3RQYWdlT2ZQYWdpbmF0ZWRRdWVyeSh0b2tlbik7XG4gICAgY29uc3QgbGFzdFBhZ2VSZXN1bHQgPSB0aGlzLmNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbihsYXN0UGFnZVRva2VuKTtcbiAgICBpZiAoIWxhc3RQYWdlUmVzdWx0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHBhZ2luYXRpb25SZXN1bHQgPSBhc1BhZ2luYXRpb25SZXN1bHQobGFzdFBhZ2VSZXN1bHQpO1xuICAgIGlmIChwYWdpbmF0aW9uUmVzdWx0LmlzRG9uZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmFkZFBhZ2VUb1BhZ2luYXRlZFF1ZXJ5KFxuICAgICAgdG9rZW4sXG4gICAgICBwYWdpbmF0aW9uUmVzdWx0LmNvbnRpbnVlQ3Vyc29yLFxuICAgICAgbnVtSXRlbXNcbiAgICApO1xuICAgIGNvbnN0IGxvYWRNb3JlVHJhbnNpdGlvbiA9IHtcbiAgICAgIHRpbWVzdGFtcDogdGhpcy5sYXN0VHJhbnNpdGlvblRzLFxuICAgICAgcmVmbGVjdGVkTXV0YXRpb25zOiBbXSxcbiAgICAgIHF1ZXJpZXM6IFtdLFxuICAgICAgcGFnaW5hdGVkUXVlcmllczogW1xuICAgICAgICB7XG4gICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgbW9kaWZpY2F0aW9uOiB7XG4gICAgICAgICAgICBraW5kOiBcIlVwZGF0ZWRcIixcbiAgICAgICAgICAgIHJlc3VsdDogdGhpcy5sb2NhbFF1ZXJ5UmVzdWx0QnlUb2tlbih0b2tlbilcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICAgIHRoaXMub25UcmFuc2l0aW9uKGxvYWRNb3JlVHJhbnNpdGlvbik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcXVlcmllc0NvbnRhaW5pbmdUb2tlbnMocXVlcnlUb2tlbnMpIHtcbiAgICBpZiAocXVlcnlUb2tlbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGNoYW5nZWQgPSBbXTtcbiAgICBjb25zdCBxdWVyeVRva2VuU2V0ID0gbmV3IFNldChxdWVyeVRva2Vucyk7XG4gICAgZm9yIChjb25zdCBbcGFnaW5hdGVkVG9rZW4sIHBhZ2luYXRlZFF1ZXJ5XSBvZiB0aGlzLnBhZ2luYXRlZFF1ZXJ5U2V0KSB7XG4gICAgICBmb3IgKGNvbnN0IHBhZ2VUb2tlbiBvZiB0aGlzLmFsbFF1ZXJ5VG9rZW5zKHBhZ2luYXRlZFF1ZXJ5KSkge1xuICAgICAgICBpZiAocXVlcnlUb2tlblNldC5oYXMocGFnZVRva2VuKSkge1xuICAgICAgICAgIGNoYW5nZWQucHVzaChwYWdpbmF0ZWRUb2tlbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG4gIH1cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJvY2Vzc1BhZ2luYXRlZFF1ZXJ5U3BsaXRzKGNoYW5nZWQsIGdldFJlc3VsdCkge1xuICAgIGZvciAoY29uc3QgcGFnaW5hdGVkUXVlcnlUb2tlbiBvZiBjaGFuZ2VkKSB7XG4gICAgICBjb25zdCBwYWdpbmF0ZWRRdWVyeSA9IHRoaXMubXVzdEdldFBhZ2luYXRlZFF1ZXJ5KHBhZ2luYXRlZFF1ZXJ5VG9rZW4pO1xuICAgICAgY29uc3QgeyBvbmdvaW5nU3BsaXRzLCBwYWdlS2V5VG9RdWVyeSwgcGFnZUtleXMgfSA9IHBhZ2luYXRlZFF1ZXJ5O1xuICAgICAgZm9yIChjb25zdCBbcGFnZUtleSwgW3NwbGl0S2V5MSwgc3BsaXRLZXkyXV0gb2Ygb25nb2luZ1NwbGl0cykge1xuICAgICAgICBjb25zdCBib3RoTmV3UGFnZXNMb2FkZWQgPSBnZXRSZXN1bHQocGFnZUtleVRvUXVlcnkuZ2V0KHNwbGl0S2V5MSkucXVlcnlUb2tlbikgIT09IHZvaWQgMCAmJiBnZXRSZXN1bHQocGFnZUtleVRvUXVlcnkuZ2V0KHNwbGl0S2V5MikucXVlcnlUb2tlbikgIT09IHZvaWQgMDtcbiAgICAgICAgaWYgKGJvdGhOZXdQYWdlc0xvYWRlZCkge1xuICAgICAgICAgIHRoaXMuY29tcGxldGVQYWdpbmF0ZWRRdWVyeVNwbGl0KFxuICAgICAgICAgICAgcGFnaW5hdGVkUXVlcnksXG4gICAgICAgICAgICBwYWdlS2V5LFxuICAgICAgICAgICAgc3BsaXRLZXkxLFxuICAgICAgICAgICAgc3BsaXRLZXkyXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBwYWdlS2V5IG9mIHBhZ2VLZXlzKSB7XG4gICAgICAgIGlmIChvbmdvaW5nU3BsaXRzLmhhcyhwYWdlS2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhZ2VUb2tlbiA9IHBhZ2VLZXlUb1F1ZXJ5LmdldChwYWdlS2V5KS5xdWVyeVRva2VuO1xuICAgICAgICBjb25zdCBwYWdlUmVzdWx0ID0gZ2V0UmVzdWx0KHBhZ2VUb2tlbik7XG4gICAgICAgIGlmICghcGFnZVJlc3VsdCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGFzUGFnaW5hdGlvblJlc3VsdChwYWdlUmVzdWx0KTtcbiAgICAgICAgY29uc3Qgc2hvdWxkU3BsaXQgPSByZXN1bHQuc3BsaXRDdXJzb3IgJiYgKHJlc3VsdC5wYWdlU3RhdHVzID09PSBcIlNwbGl0UmVjb21tZW5kZWRcIiB8fCByZXN1bHQucGFnZVN0YXR1cyA9PT0gXCJTcGxpdFJlcXVpcmVkXCIgfHwgLy8gVGhpcyBjbGllbnQtZHJpdmVuIHBhZ2Ugc3BsaXR0aW5nIGNvbmRpdGlvbiB3aWxsIGNoYW5nZSBpbiB0aGUgZnV0dXJlLlxuICAgICAgICByZXN1bHQucGFnZS5sZW5ndGggPiBwYWdpbmF0ZWRRdWVyeS5vcHRpb25zLmluaXRpYWxOdW1JdGVtcyAqIDIpO1xuICAgICAgICBpZiAoc2hvdWxkU3BsaXQpIHtcbiAgICAgICAgICB0aGlzLnNwbGl0UGFnaW5hdGVkUXVlcnlQYWdlKFxuICAgICAgICAgICAgcGFnaW5hdGVkUXVlcnksXG4gICAgICAgICAgICBwYWdlS2V5LFxuICAgICAgICAgICAgcmVzdWx0LnNwbGl0Q3Vyc29yLFxuICAgICAgICAgICAgLy8gd2UganVzdCBjaGVja2VkXG4gICAgICAgICAgICByZXN1bHQuY29udGludWVDdXJzb3JcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNwbGl0UGFnaW5hdGVkUXVlcnlQYWdlKHBhZ2luYXRlZFF1ZXJ5LCBwYWdlS2V5LCBzcGxpdEN1cnNvciwgY29udGludWVDdXJzb3IpIHtcbiAgICBjb25zdCBzcGxpdEtleTEgPSBwYWdpbmF0ZWRRdWVyeS5uZXh0UGFnZUtleSsrO1xuICAgIGNvbnN0IHNwbGl0S2V5MiA9IHBhZ2luYXRlZFF1ZXJ5Lm5leHRQYWdlS2V5Kys7XG4gICAgY29uc3QgcGFnaW5hdGlvbk9wdHMgPSB7XG4gICAgICBjdXJzb3I6IGNvbnRpbnVlQ3Vyc29yLFxuICAgICAgbnVtSXRlbXM6IHBhZ2luYXRlZFF1ZXJ5Lm9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zLFxuICAgICAgaWQ6IHBhZ2luYXRlZFF1ZXJ5LmlkXG4gICAgfTtcbiAgICBjb25zdCBmaXJzdFN1YnNjcmlwdGlvbiA9IHRoaXMuY2xpZW50LnN1YnNjcmliZShcbiAgICAgIHBhZ2luYXRlZFF1ZXJ5LmNhbm9uaWNhbGl6ZWRVZGZQYXRoLFxuICAgICAge1xuICAgICAgICAuLi5wYWdpbmF0ZWRRdWVyeS5hcmdzLFxuICAgICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAgIC4uLnBhZ2luYXRpb25PcHRzLFxuICAgICAgICAgIGN1cnNvcjogbnVsbCxcbiAgICAgICAgICAvLyBTdGFydCBmcm9tIGJlZ2lubmluZyBmb3IgZmlyc3Qgc3BsaXRcbiAgICAgICAgICBlbmRDdXJzb3I6IHNwbGl0Q3Vyc29yXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHBhZ2luYXRlZFF1ZXJ5LnBhZ2VLZXlUb1F1ZXJ5LnNldChzcGxpdEtleTEsIGZpcnN0U3Vic2NyaXB0aW9uKTtcbiAgICBjb25zdCBzZWNvbmRTdWJzY3JpcHRpb24gPSB0aGlzLmNsaWVudC5zdWJzY3JpYmUoXG4gICAgICBwYWdpbmF0ZWRRdWVyeS5jYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgIHtcbiAgICAgICAgLi4ucGFnaW5hdGVkUXVlcnkuYXJncyxcbiAgICAgICAgcGFnaW5hdGlvbk9wdHM6IHtcbiAgICAgICAgICAuLi5wYWdpbmF0aW9uT3B0cyxcbiAgICAgICAgICBjdXJzb3I6IHNwbGl0Q3Vyc29yLFxuICAgICAgICAgIGVuZEN1cnNvcjogY29udGludWVDdXJzb3JcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgcGFnaW5hdGVkUXVlcnkucGFnZUtleVRvUXVlcnkuc2V0KHNwbGl0S2V5Miwgc2Vjb25kU3Vic2NyaXB0aW9uKTtcbiAgICBwYWdpbmF0ZWRRdWVyeS5vbmdvaW5nU3BsaXRzLnNldChwYWdlS2V5LCBbc3BsaXRLZXkxLCBzcGxpdEtleTJdKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBhZGRQYWdlVG9QYWdpbmF0ZWRRdWVyeSh0b2tlbiwgY29udGludWVDdXJzb3IsIG51bUl0ZW1zKSB7XG4gICAgY29uc3QgcGFnaW5hdGVkUXVlcnkgPSB0aGlzLm11c3RHZXRQYWdpbmF0ZWRRdWVyeSh0b2tlbik7XG4gICAgY29uc3QgcGFnZUtleSA9IHBhZ2luYXRlZFF1ZXJ5Lm5leHRQYWdlS2V5Kys7XG4gICAgY29uc3QgcGFnaW5hdGlvbk9wdHMgPSB7XG4gICAgICBjdXJzb3I6IGNvbnRpbnVlQ3Vyc29yLFxuICAgICAgbnVtSXRlbXMsXG4gICAgICBpZDogcGFnaW5hdGVkUXVlcnkuaWRcbiAgICB9O1xuICAgIGNvbnN0IHBhZ2VBcmdzID0ge1xuICAgICAgLi4ucGFnaW5hdGVkUXVlcnkuYXJncyxcbiAgICAgIHBhZ2luYXRpb25PcHRzXG4gICAgfTtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSB0aGlzLmNsaWVudC5zdWJzY3JpYmUoXG4gICAgICBwYWdpbmF0ZWRRdWVyeS5jYW5vbmljYWxpemVkVWRmUGF0aCxcbiAgICAgIHBhZ2VBcmdzXG4gICAgKTtcbiAgICBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5cy5wdXNoKHBhZ2VLZXkpO1xuICAgIHBhZ2luYXRlZFF1ZXJ5LnBhZ2VLZXlUb1F1ZXJ5LnNldChwYWdlS2V5LCBzdWJzY3JpcHRpb24pO1xuICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gIH1cbiAgcmVtb3ZlUGFnaW5hdGVkUXVlcnlTdWJzY3JpYmVyKHRva2VuKSB7XG4gICAgY29uc3QgcGFnaW5hdGVkUXVlcnkgPSB0aGlzLnBhZ2luYXRlZFF1ZXJ5U2V0LmdldCh0b2tlbik7XG4gICAgaWYgKCFwYWdpbmF0ZWRRdWVyeSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwYWdpbmF0ZWRRdWVyeS5udW1TdWJzY3JpYmVycyAtPSAxO1xuICAgIGlmIChwYWdpbmF0ZWRRdWVyeS5udW1TdWJzY3JpYmVycyA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBzdWJzY3JpcHRpb24gb2YgcGFnaW5hdGVkUXVlcnkucGFnZUtleVRvUXVlcnkudmFsdWVzKCkpIHtcbiAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgICB0aGlzLnBhZ2luYXRlZFF1ZXJ5U2V0LmRlbGV0ZSh0b2tlbik7XG4gIH1cbiAgY29tcGxldGVQYWdpbmF0ZWRRdWVyeVNwbGl0KHBhZ2luYXRlZFF1ZXJ5LCBwYWdlS2V5LCBzcGxpdEtleTEsIHNwbGl0S2V5Mikge1xuICAgIGNvbnN0IG9yaWdpbmFsUXVlcnkgPSBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5VG9RdWVyeS5nZXQocGFnZUtleSk7XG4gICAgcGFnaW5hdGVkUXVlcnkucGFnZUtleVRvUXVlcnkuZGVsZXRlKHBhZ2VLZXkpO1xuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBhZ2luYXRlZFF1ZXJ5LnBhZ2VLZXlzLmluZGV4T2YocGFnZUtleSk7XG4gICAgcGFnaW5hdGVkUXVlcnkucGFnZUtleXMuc3BsaWNlKHBhZ2VJbmRleCwgMSwgc3BsaXRLZXkxLCBzcGxpdEtleTIpO1xuICAgIHBhZ2luYXRlZFF1ZXJ5Lm9uZ29pbmdTcGxpdHMuZGVsZXRlKHBhZ2VLZXkpO1xuICAgIG9yaWdpbmFsUXVlcnkudW5zdWJzY3JpYmUoKTtcbiAgfVxuICAvKiogVGhlIHF1ZXJ5IHRva2VucyBmb3IgYWxsIGFjdGl2ZSBwYWdlcywgaW4gcmVzdWx0IG9yZGVyICovXG4gIGFjdGl2ZVBhZ2VRdWVyeVRva2VucyhwYWdpbmF0ZWRRdWVyeSkge1xuICAgIHJldHVybiBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5cy5tYXAoXG4gICAgICAocGFnZUtleSkgPT4gcGFnaW5hdGVkUXVlcnkucGFnZUtleVRvUXVlcnkuZ2V0KHBhZ2VLZXkpLnF1ZXJ5VG9rZW5cbiAgICApO1xuICB9XG4gIGFsbFF1ZXJ5VG9rZW5zKHBhZ2luYXRlZFF1ZXJ5KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20ocGFnaW5hdGVkUXVlcnkucGFnZUtleVRvUXVlcnkudmFsdWVzKCkpLm1hcChcbiAgICAgIChzdWIpID0+IHN1Yi5xdWVyeVRva2VuXG4gICAgKTtcbiAgfVxuICBxdWVyeVRva2VuRm9yTGFzdFBhZ2VPZlBhZ2luYXRlZFF1ZXJ5KHRva2VuKSB7XG4gICAgY29uc3QgcGFnaW5hdGVkUXVlcnkgPSB0aGlzLm11c3RHZXRQYWdpbmF0ZWRRdWVyeSh0b2tlbik7XG4gICAgY29uc3QgbGFzdFBhZ2VLZXkgPSBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5c1twYWdpbmF0ZWRRdWVyeS5wYWdlS2V5cy5sZW5ndGggLSAxXTtcbiAgICBpZiAobGFzdFBhZ2VLZXkgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBwYWdlcyBmb3IgcGFnaW5hdGVkIHF1ZXJ5ICR7dG9rZW59YCk7XG4gICAgfVxuICAgIHJldHVybiBwYWdpbmF0ZWRRdWVyeS5wYWdlS2V5VG9RdWVyeS5nZXQobGFzdFBhZ2VLZXkpLnF1ZXJ5VG9rZW47XG4gIH1cbiAgbXVzdEdldFBhZ2luYXRlZFF1ZXJ5KHRva2VuKSB7XG4gICAgY29uc3QgcGFnaW5hdGVkUXVlcnkgPSB0aGlzLnBhZ2luYXRlZFF1ZXJ5U2V0LmdldCh0b2tlbik7XG4gICAgaWYgKCFwYWdpbmF0ZWRRdWVyeSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicGFnaW5hdGVkIHF1ZXJ5IG5vIGxvbmdlciBleGlzdHMgZm9yIHRva2VuIFwiICsgdG9rZW4pO1xuICAgIH1cbiAgICByZXR1cm4gcGFnaW5hdGVkUXVlcnk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2luYXRlZF9xdWVyeV9jbGllbnQuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJzZXJpYWxpemVQYWdpbmF0ZWRQYXRoQW5kQXJncyIsImNhbm9uaWNhbGl6ZVVkZlBhdGgiLCJhc1BhZ2luYXRpb25SZXN1bHQiLCJMb25nIiwiUGFnaW5hdGVkUXVlcnlDbGllbnQiLCJjb25zdHJ1Y3RvciIsImNsaWVudCIsIm9uVHJhbnNpdGlvbiIsIk1hcCIsImxhc3RUcmFuc2l0aW9uVHMiLCJmcm9tTnVtYmVyIiwiYWRkT25UcmFuc2l0aW9uSGFuZGxlciIsInRyYW5zaXRpb24iLCJvbkJhc2VUcmFuc2l0aW9uIiwic3Vic2NyaWJlIiwibmFtZSIsImFyZ3MiLCJvcHRpb25zIiwiY2Fub25pY2FsaXplZFVkZlBhdGgiLCJ0b2tlbiIsInVuc3Vic2NyaWJlIiwicmVtb3ZlUGFnaW5hdGVkUXVlcnlTdWJzY3JpYmVyIiwiZXhpc3RpbmdFbnRyeSIsInBhZ2luYXRlZFF1ZXJ5U2V0IiwiZ2V0IiwibnVtU3Vic2NyaWJlcnMiLCJwYWdpbmF0ZWRRdWVyeVRva2VuIiwic2V0IiwiaW5pdGlhbE51bUl0ZW1zIiwibmV4dFBhZ2VLZXkiLCJwYWdlS2V5cyIsInBhZ2VLZXlUb1F1ZXJ5Iiwib25nb2luZ1NwbGl0cyIsInNraXAiLCJpZCIsImFkZFBhZ2VUb1BhZ2luYXRlZFF1ZXJ5IiwibG9jYWxRdWVyeVJlc3VsdCIsImxvY2FsUXVlcnlSZXN1bHRCeVRva2VuIiwicGFnaW5hdGVkUXVlcnkiLCJhY3RpdmVQYWdlcyIsImFjdGl2ZVBhZ2VRdWVyeVRva2VucyIsImxlbmd0aCIsInJlc3VsdHMiLCJzdGF0dXMiLCJsb2FkTW9yZSIsIm51bUl0ZW1zIiwibG9hZE1vcmVPZlBhZ2luYXRlZFF1ZXJ5IiwiYWxsUmVzdWx0cyIsImhhc1VuZGVmaW5lZCIsImlzRG9uZSIsInBhZ2VUb2tlbiIsInJlc3VsdCIsInBhZ2luYXRpb25SZXN1bHQiLCJjb25jYXQiLCJwYWdlIiwiY2hhbmdlZEJhc2VUb2tlbnMiLCJxdWVyaWVzIiwibWFwIiwicSIsImNoYW5nZWQiLCJxdWVyaWVzQ29udGFpbmluZ1Rva2VucyIsInBhZ2luYXRlZFF1ZXJpZXMiLCJwcm9jZXNzUGFnaW5hdGVkUXVlcnlTcGxpdHMiLCJtb2RpZmljYXRpb24iLCJraW5kIiwiZXh0ZW5kZWRUcmFuc2l0aW9uIiwibXVzdEdldFBhZ2luYXRlZFF1ZXJ5IiwibGFzdFBhZ2VUb2tlbiIsInF1ZXJ5VG9rZW5Gb3JMYXN0UGFnZU9mUGFnaW5hdGVkUXVlcnkiLCJsYXN0UGFnZVJlc3VsdCIsImNvbnRpbnVlQ3Vyc29yIiwibG9hZE1vcmVUcmFuc2l0aW9uIiwidGltZXN0YW1wIiwicmVmbGVjdGVkTXV0YXRpb25zIiwicXVlcnlUb2tlbnMiLCJxdWVyeVRva2VuU2V0IiwiU2V0IiwicGFnaW5hdGVkVG9rZW4iLCJhbGxRdWVyeVRva2VucyIsImhhcyIsInB1c2giLCJnZXRSZXN1bHQiLCJwYWdlS2V5Iiwic3BsaXRLZXkxIiwic3BsaXRLZXkyIiwiYm90aE5ld1BhZ2VzTG9hZGVkIiwicXVlcnlUb2tlbiIsImNvbXBsZXRlUGFnaW5hdGVkUXVlcnlTcGxpdCIsInBhZ2VSZXN1bHQiLCJzaG91bGRTcGxpdCIsInNwbGl0Q3Vyc29yIiwicGFnZVN0YXR1cyIsInNwbGl0UGFnaW5hdGVkUXVlcnlQYWdlIiwicGFnaW5hdGlvbk9wdHMiLCJjdXJzb3IiLCJmaXJzdFN1YnNjcmlwdGlvbiIsImVuZEN1cnNvciIsInNlY29uZFN1YnNjcmlwdGlvbiIsInBhZ2VBcmdzIiwic3Vic2NyaXB0aW9uIiwidmFsdWVzIiwiZGVsZXRlIiwib3JpZ2luYWxRdWVyeSIsInBhZ2VJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJBcnJheSIsImZyb20iLCJzdWIiLCJsYXN0UGFnZUtleSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/pagination.js":
/*!*****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/pagination.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asPaginationArgs: () => (/* binding */ asPaginationArgs),\n/* harmony export */   asPaginationResult: () => (/* binding */ asPaginationResult)\n/* harmony export */ });\n\nfunction asPaginationArgs(value) {\n    if (typeof value.paginationOpts.numItems !== \"number\") {\n        throw new Error(`Not valid paginated query args: ${JSON.stringify(value)}`);\n    }\n    return value;\n}\nfunction asPaginationResult(value) {\n    if (typeof value !== \"object\" || value === null || !Array.isArray(value.page) || typeof value.isDone !== \"boolean\" || typeof value.continueCursor !== \"string\") {\n        throw new Error(`Not a valid paginated query result: ${value?.toString()}`);\n    }\n    return value;\n} //# sourceMappingURL=pagination.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9wYWdpbmF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDTixTQUFTQSxpQkFBaUJDLEtBQUs7SUFDcEMsSUFBSSxPQUFPQSxNQUFNQyxjQUFjLENBQUNDLFFBQVEsS0FBSyxVQUFVO1FBQ3JELE1BQU0sSUFBSUMsTUFBTSxDQUFDLGdDQUFnQyxFQUFFQyxLQUFLQyxTQUFTLENBQUNMLE9BQU8sQ0FBQztJQUM1RTtJQUNBLE9BQU9BO0FBQ1Q7QUFDTyxTQUFTTSxtQkFBbUJOLEtBQUs7SUFDdEMsSUFBSSxPQUFPQSxVQUFVLFlBQVlBLFVBQVUsUUFBUSxDQUFDTyxNQUFNQyxPQUFPLENBQUNSLE1BQU1TLElBQUksS0FBSyxPQUFPVCxNQUFNVSxNQUFNLEtBQUssYUFBYSxPQUFPVixNQUFNVyxjQUFjLEtBQUssVUFBVTtRQUM5SixNQUFNLElBQUlSLE1BQU0sQ0FBQyxvQ0FBb0MsRUFBRUgsT0FBT1ksV0FBVyxDQUFDO0lBQzVFO0lBQ0EsT0FBT1o7QUFDVCxFQUNBLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvcGFnaW5hdGlvbi5qcz81OGU3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIGFzUGFnaW5hdGlvbkFyZ3ModmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZS5wYWdpbmF0aW9uT3B0cy5udW1JdGVtcyAhPT0gXCJudW1iZXJcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihgTm90IHZhbGlkIHBhZ2luYXRlZCBxdWVyeSBhcmdzOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNQYWdpbmF0aW9uUmVzdWx0KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgdmFsdWUgPT09IG51bGwgfHwgIUFycmF5LmlzQXJyYXkodmFsdWUucGFnZSkgfHwgdHlwZW9mIHZhbHVlLmlzRG9uZSAhPT0gXCJib29sZWFuXCIgfHwgdHlwZW9mIHZhbHVlLmNvbnRpbnVlQ3Vyc29yICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBOb3QgYSB2YWxpZCBwYWdpbmF0ZWQgcXVlcnkgcmVzdWx0OiAke3ZhbHVlPy50b1N0cmluZygpfWApO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2luYXRpb24uanMubWFwXG4iXSwibmFtZXMiOlsiYXNQYWdpbmF0aW9uQXJncyIsInZhbHVlIiwicGFnaW5hdGlvbk9wdHMiLCJudW1JdGVtcyIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsImFzUGFnaW5hdGlvblJlc3VsdCIsIkFycmF5IiwiaXNBcnJheSIsInBhZ2UiLCJpc0RvbmUiLCJjb250aW51ZUN1cnNvciIsInRvU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/pagination.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/protocol.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/protocol.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeClientMessage: () => (/* binding */ encodeClientMessage),\n/* harmony export */   longToU64: () => (/* binding */ longToU64),\n/* harmony export */   parseServerMessage: () => (/* binding */ parseServerMessage),\n/* harmony export */   u64ToLong: () => (/* binding */ u64ToLong)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _vendor_long_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../vendor/long.js */ \"(ssr)/./node_modules/convex/dist/esm/vendor/long.js\");\n\n\n\nfunction u64ToLong(encoded) {\n    const integerBytes = _values_index_js__WEBPACK_IMPORTED_MODULE_0__.Base64.toByteArray(encoded);\n    return _vendor_long_js__WEBPACK_IMPORTED_MODULE_1__.Long.fromBytesLE(Array.from(integerBytes));\n}\nfunction longToU64(raw) {\n    const integerBytes = new Uint8Array(raw.toBytesLE());\n    return _values_index_js__WEBPACK_IMPORTED_MODULE_0__.Base64.fromByteArray(integerBytes);\n}\nfunction parseServerMessage(encoded) {\n    switch(encoded.type){\n        case \"FatalError\":\n        case \"AuthError\":\n        case \"ActionResponse\":\n        case \"TransitionChunk\":\n        case \"Ping\":\n            {\n                return {\n                    ...encoded\n                };\n            }\n        case \"MutationResponse\":\n            {\n                if (encoded.success) {\n                    return {\n                        ...encoded,\n                        ts: u64ToLong(encoded.ts)\n                    };\n                } else {\n                    return {\n                        ...encoded\n                    };\n                }\n            }\n        case \"Transition\":\n            {\n                return {\n                    ...encoded,\n                    startVersion: {\n                        ...encoded.startVersion,\n                        ts: u64ToLong(encoded.startVersion.ts)\n                    },\n                    endVersion: {\n                        ...encoded.endVersion,\n                        ts: u64ToLong(encoded.endVersion.ts)\n                    }\n                };\n            }\n        default:\n            {\n                encoded;\n            }\n    }\n    return void 0;\n}\nfunction encodeClientMessage(message) {\n    switch(message.type){\n        case \"Authenticate\":\n        case \"ModifyQuerySet\":\n        case \"Mutation\":\n        case \"Action\":\n        case \"Event\":\n            {\n                return {\n                    ...message\n                };\n            }\n        case \"Connect\":\n            {\n                if (message.maxObservedTimestamp !== void 0) {\n                    return {\n                        ...message,\n                        maxObservedTimestamp: longToU64(message.maxObservedTimestamp)\n                    };\n                } else {\n                    return {\n                        ...message,\n                        maxObservedTimestamp: void 0\n                    };\n                }\n            }\n        default:\n            {\n                message;\n            }\n    }\n    return void 0;\n} //# sourceMappingURL=protocol.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9wcm90b2NvbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUNrQztBQUNIO0FBQ3JDLFNBQVNFLFVBQVVDLE9BQU87SUFDL0IsTUFBTUMsZUFBZUosZ0VBQWtCLENBQUNHO0lBQ3hDLE9BQU9GLGlEQUFJQSxDQUFDSyxXQUFXLENBQUNDLE1BQU1DLElBQUksQ0FBQ0o7QUFDckM7QUFDTyxTQUFTSyxVQUFVQyxHQUFHO0lBQzNCLE1BQU1OLGVBQWUsSUFBSU8sV0FBV0QsSUFBSUUsU0FBUztJQUNqRCxPQUFPWixrRUFBb0IsQ0FBQ0k7QUFDOUI7QUFDTyxTQUFTVSxtQkFBbUJYLE9BQU87SUFDeEMsT0FBUUEsUUFBUVksSUFBSTtRQUNsQixLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztZQUFRO2dCQUNYLE9BQU87b0JBQUUsR0FBR1osT0FBTztnQkFBQztZQUN0QjtRQUNBLEtBQUs7WUFBb0I7Z0JBQ3ZCLElBQUlBLFFBQVFhLE9BQU8sRUFBRTtvQkFDbkIsT0FBTzt3QkFBRSxHQUFHYixPQUFPO3dCQUFFYyxJQUFJZixVQUFVQyxRQUFRYyxFQUFFO29CQUFFO2dCQUNqRCxPQUFPO29CQUNMLE9BQU87d0JBQUUsR0FBR2QsT0FBTztvQkFBQztnQkFDdEI7WUFDRjtRQUNBLEtBQUs7WUFBYztnQkFDakIsT0FBTztvQkFDTCxHQUFHQSxPQUFPO29CQUNWZSxjQUFjO3dCQUNaLEdBQUdmLFFBQVFlLFlBQVk7d0JBQ3ZCRCxJQUFJZixVQUFVQyxRQUFRZSxZQUFZLENBQUNELEVBQUU7b0JBQ3ZDO29CQUNBRSxZQUFZO3dCQUNWLEdBQUdoQixRQUFRZ0IsVUFBVTt3QkFDckJGLElBQUlmLFVBQVVDLFFBQVFnQixVQUFVLENBQUNGLEVBQUU7b0JBQ3JDO2dCQUNGO1lBQ0Y7UUFDQTtZQUFTO2dCQUNQZDtZQUNGO0lBQ0Y7SUFDQSxPQUFPLEtBQUs7QUFDZDtBQUNPLFNBQVNpQixvQkFBb0JDLE9BQU87SUFDekMsT0FBUUEsUUFBUU4sSUFBSTtRQUNsQixLQUFLO1FBQ0wsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1FBQ0wsS0FBSztZQUFTO2dCQUNaLE9BQU87b0JBQUUsR0FBR00sT0FBTztnQkFBQztZQUN0QjtRQUNBLEtBQUs7WUFBVztnQkFDZCxJQUFJQSxRQUFRQyxvQkFBb0IsS0FBSyxLQUFLLEdBQUc7b0JBQzNDLE9BQU87d0JBQ0wsR0FBR0QsT0FBTzt3QkFDVkMsc0JBQXNCYixVQUFVWSxRQUFRQyxvQkFBb0I7b0JBQzlEO2dCQUNGLE9BQU87b0JBQ0wsT0FBTzt3QkFBRSxHQUFHRCxPQUFPO3dCQUFFQyxzQkFBc0IsS0FBSztvQkFBRTtnQkFDcEQ7WUFDRjtRQUNBO1lBQVM7Z0JBQ1BEO1lBQ0Y7SUFDRjtJQUNBLE9BQU8sS0FBSztBQUNkLEVBQ0Esb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9wcm90b2NvbC5qcz8yNTI0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgQmFzZTY0IH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgTG9uZyB9IGZyb20gXCIuLi8uLi92ZW5kb3IvbG9uZy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHU2NFRvTG9uZyhlbmNvZGVkKSB7XG4gIGNvbnN0IGludGVnZXJCeXRlcyA9IEJhc2U2NC50b0J5dGVBcnJheShlbmNvZGVkKTtcbiAgcmV0dXJuIExvbmcuZnJvbUJ5dGVzTEUoQXJyYXkuZnJvbShpbnRlZ2VyQnl0ZXMpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsb25nVG9VNjQocmF3KSB7XG4gIGNvbnN0IGludGVnZXJCeXRlcyA9IG5ldyBVaW50OEFycmF5KHJhdy50b0J5dGVzTEUoKSk7XG4gIHJldHVybiBCYXNlNjQuZnJvbUJ5dGVBcnJheShpbnRlZ2VyQnl0ZXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2VydmVyTWVzc2FnZShlbmNvZGVkKSB7XG4gIHN3aXRjaCAoZW5jb2RlZC50eXBlKSB7XG4gICAgY2FzZSBcIkZhdGFsRXJyb3JcIjpcbiAgICBjYXNlIFwiQXV0aEVycm9yXCI6XG4gICAgY2FzZSBcIkFjdGlvblJlc3BvbnNlXCI6XG4gICAgY2FzZSBcIlRyYW5zaXRpb25DaHVua1wiOlxuICAgIGNhc2UgXCJQaW5nXCI6IHtcbiAgICAgIHJldHVybiB7IC4uLmVuY29kZWQgfTtcbiAgICB9XG4gICAgY2FzZSBcIk11dGF0aW9uUmVzcG9uc2VcIjoge1xuICAgICAgaWYgKGVuY29kZWQuc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4geyAuLi5lbmNvZGVkLCB0czogdTY0VG9Mb25nKGVuY29kZWQudHMpIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyAuLi5lbmNvZGVkIH07XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJUcmFuc2l0aW9uXCI6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVuY29kZWQsXG4gICAgICAgIHN0YXJ0VmVyc2lvbjoge1xuICAgICAgICAgIC4uLmVuY29kZWQuc3RhcnRWZXJzaW9uLFxuICAgICAgICAgIHRzOiB1NjRUb0xvbmcoZW5jb2RlZC5zdGFydFZlcnNpb24udHMpXG4gICAgICAgIH0sXG4gICAgICAgIGVuZFZlcnNpb246IHtcbiAgICAgICAgICAuLi5lbmNvZGVkLmVuZFZlcnNpb24sXG4gICAgICAgICAgdHM6IHU2NFRvTG9uZyhlbmNvZGVkLmVuZFZlcnNpb24udHMpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIGVuY29kZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlQ2xpZW50TWVzc2FnZShtZXNzYWdlKSB7XG4gIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgY2FzZSBcIkF1dGhlbnRpY2F0ZVwiOlxuICAgIGNhc2UgXCJNb2RpZnlRdWVyeVNldFwiOlxuICAgIGNhc2UgXCJNdXRhdGlvblwiOlxuICAgIGNhc2UgXCJBY3Rpb25cIjpcbiAgICBjYXNlIFwiRXZlbnRcIjoge1xuICAgICAgcmV0dXJuIHsgLi4ubWVzc2FnZSB9O1xuICAgIH1cbiAgICBjYXNlIFwiQ29ubmVjdFwiOiB7XG4gICAgICBpZiAobWVzc2FnZS5tYXhPYnNlcnZlZFRpbWVzdGFtcCAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgICBtYXhPYnNlcnZlZFRpbWVzdGFtcDogbG9uZ1RvVTY0KG1lc3NhZ2UubWF4T2JzZXJ2ZWRUaW1lc3RhbXApXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyAuLi5tZXNzYWdlLCBtYXhPYnNlcnZlZFRpbWVzdGFtcDogdm9pZCAwIH07XG4gICAgICB9XG4gICAgfVxuICAgIGRlZmF1bHQ6IHtcbiAgICAgIG1lc3NhZ2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm90b2NvbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJCYXNlNjQiLCJMb25nIiwidTY0VG9Mb25nIiwiZW5jb2RlZCIsImludGVnZXJCeXRlcyIsInRvQnl0ZUFycmF5IiwiZnJvbUJ5dGVzTEUiLCJBcnJheSIsImZyb20iLCJsb25nVG9VNjQiLCJyYXciLCJVaW50OEFycmF5IiwidG9CeXRlc0xFIiwiZnJvbUJ5dGVBcnJheSIsInBhcnNlU2VydmVyTWVzc2FnZSIsInR5cGUiLCJzdWNjZXNzIiwidHMiLCJzdGFydFZlcnNpb24iLCJlbmRWZXJzaW9uIiwiZW5jb2RlQ2xpZW50TWVzc2FnZSIsIm1lc3NhZ2UiLCJtYXhPYnNlcnZlZFRpbWVzdGFtcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/protocol.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js":
/*!***********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/remote_query_set.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RemoteQuerySet: () => (/* binding */ RemoteQuerySet)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _vendor_long_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../vendor/long.js */ \"(ssr)/./node_modules/convex/dist/esm/vendor/long.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nclass RemoteQuerySet {\n    constructor(queryPath, logger){\n        __publicField(this, \"version\");\n        __publicField(this, \"remoteQuerySet\");\n        __publicField(this, \"queryPath\");\n        __publicField(this, \"logger\");\n        this.version = {\n            querySet: 0,\n            ts: _vendor_long_js__WEBPACK_IMPORTED_MODULE_1__.Long.fromNumber(0),\n            identity: 0\n        };\n        this.remoteQuerySet = /* @__PURE__ */ new Map();\n        this.queryPath = queryPath;\n        this.logger = logger;\n    }\n    transition(transition) {\n        const start = transition.startVersion;\n        if (this.version.querySet !== start.querySet || this.version.ts.notEquals(start.ts) || this.version.identity !== start.identity) {\n            throw new Error(`Invalid start version: ${start.ts.toString()}:${start.querySet}:${start.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);\n        }\n        for (const modification of transition.modifications){\n            switch(modification.type){\n                case \"QueryUpdated\":\n                    {\n                        const queryPath = this.queryPath(modification.queryId);\n                        if (queryPath) {\n                            for (const line of modification.logLines){\n                                (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logForFunction)(this.logger, \"info\", \"query\", queryPath, line);\n                            }\n                        }\n                        const value = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(modification.value ?? null);\n                        this.remoteQuerySet.set(modification.queryId, {\n                            success: true,\n                            value,\n                            logLines: modification.logLines\n                        });\n                        break;\n                    }\n                case \"QueryFailed\":\n                    {\n                        const queryPath = this.queryPath(modification.queryId);\n                        if (queryPath) {\n                            for (const line of modification.logLines){\n                                (0,_logging_js__WEBPACK_IMPORTED_MODULE_2__.logForFunction)(this.logger, \"info\", \"query\", queryPath, line);\n                            }\n                        }\n                        const { errorData } = modification;\n                        this.remoteQuerySet.set(modification.queryId, {\n                            success: false,\n                            errorMessage: modification.errorMessage,\n                            errorData: errorData !== void 0 ? (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(errorData) : void 0,\n                            logLines: modification.logLines\n                        });\n                        break;\n                    }\n                case \"QueryRemoved\":\n                    {\n                        this.remoteQuerySet.delete(modification.queryId);\n                        break;\n                    }\n                default:\n                    {\n                        modification;\n                        throw new Error(`Invalid modification ${modification.type}`);\n                    }\n            }\n        }\n        this.version = transition.endVersion;\n    }\n    remoteQueryResults() {\n        return this.remoteQuerySet;\n    }\n    timestamp() {\n        return this.version.ts;\n    }\n} //# sourceMappingURL=remote_query_set.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9yZW1vdGVfcXVlcnlfc2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDbkQ7QUFDVDtBQUNHO0FBQ3hDLE1BQU1RO0lBQ1hDLFlBQVlDLFNBQVMsRUFBRUMsTUFBTSxDQUFFO1FBQzdCUCxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNRLE9BQU8sR0FBRztZQUFFQyxVQUFVO1lBQUdDLElBQUlSLGlEQUFJQSxDQUFDUyxVQUFVLENBQUM7WUFBSUMsVUFBVTtRQUFFO1FBQ2xFLElBQUksQ0FBQ0MsY0FBYyxHQUFHLGFBQWEsR0FBRyxJQUFJQztRQUMxQyxJQUFJLENBQUNSLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDQyxNQUFNLEdBQUdBO0lBQ2hCO0lBQ0FRLFdBQVdBLFVBQVUsRUFBRTtRQUNyQixNQUFNQyxRQUFRRCxXQUFXRSxZQUFZO1FBQ3JDLElBQUksSUFBSSxDQUFDVCxPQUFPLENBQUNDLFFBQVEsS0FBS08sTUFBTVAsUUFBUSxJQUFJLElBQUksQ0FBQ0QsT0FBTyxDQUFDRSxFQUFFLENBQUNRLFNBQVMsQ0FBQ0YsTUFBTU4sRUFBRSxLQUFLLElBQUksQ0FBQ0YsT0FBTyxDQUFDSSxRQUFRLEtBQUtJLE1BQU1KLFFBQVEsRUFBRTtZQUMvSCxNQUFNLElBQUlPLE1BQ1IsQ0FBQyx1QkFBdUIsRUFBRUgsTUFBTU4sRUFBRSxDQUFDVSxRQUFRLEdBQUcsQ0FBQyxFQUFFSixNQUFNUCxRQUFRLENBQUMsQ0FBQyxFQUFFTyxNQUFNSixRQUFRLENBQUMscUJBQXFCLEVBQUUsSUFBSSxDQUFDSixPQUFPLENBQUNFLEVBQUUsQ0FBQ1UsUUFBUSxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUNaLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUNELE9BQU8sQ0FBQ0ksUUFBUSxDQUFDLENBQUM7UUFFM0w7UUFDQSxLQUFLLE1BQU1TLGdCQUFnQk4sV0FBV08sYUFBYSxDQUFFO1lBQ25ELE9BQVFELGFBQWFFLElBQUk7Z0JBQ3ZCLEtBQUs7b0JBQWdCO3dCQUNuQixNQUFNakIsWUFBWSxJQUFJLENBQUNBLFNBQVMsQ0FBQ2UsYUFBYUcsT0FBTzt3QkFDckQsSUFBSWxCLFdBQVc7NEJBQ2IsS0FBSyxNQUFNbUIsUUFBUUosYUFBYUssUUFBUSxDQUFFO2dDQUN4Q3ZCLDJEQUFjQSxDQUFDLElBQUksQ0FBQ0ksTUFBTSxFQUFFLFFBQVEsU0FBU0QsV0FBV21COzRCQUMxRDt3QkFDRjt3QkFDQSxNQUFNN0IsUUFBUUssOERBQVlBLENBQUNvQixhQUFhekIsS0FBSyxJQUFJO3dCQUNqRCxJQUFJLENBQUNpQixjQUFjLENBQUNjLEdBQUcsQ0FBQ04sYUFBYUcsT0FBTyxFQUFFOzRCQUM1Q0ksU0FBUzs0QkFDVGhDOzRCQUNBOEIsVUFBVUwsYUFBYUssUUFBUTt3QkFDakM7d0JBQ0E7b0JBQ0Y7Z0JBQ0EsS0FBSztvQkFBZTt3QkFDbEIsTUFBTXBCLFlBQVksSUFBSSxDQUFDQSxTQUFTLENBQUNlLGFBQWFHLE9BQU87d0JBQ3JELElBQUlsQixXQUFXOzRCQUNiLEtBQUssTUFBTW1CLFFBQVFKLGFBQWFLLFFBQVEsQ0FBRTtnQ0FDeEN2QiwyREFBY0EsQ0FBQyxJQUFJLENBQUNJLE1BQU0sRUFBRSxRQUFRLFNBQVNELFdBQVdtQjs0QkFDMUQ7d0JBQ0Y7d0JBQ0EsTUFBTSxFQUFFSSxTQUFTLEVBQUUsR0FBR1I7d0JBQ3RCLElBQUksQ0FBQ1IsY0FBYyxDQUFDYyxHQUFHLENBQUNOLGFBQWFHLE9BQU8sRUFBRTs0QkFDNUNJLFNBQVM7NEJBQ1RFLGNBQWNULGFBQWFTLFlBQVk7NEJBQ3ZDRCxXQUFXQSxjQUFjLEtBQUssSUFBSTVCLDhEQUFZQSxDQUFDNEIsYUFBYSxLQUFLOzRCQUNqRUgsVUFBVUwsYUFBYUssUUFBUTt3QkFDakM7d0JBQ0E7b0JBQ0Y7Z0JBQ0EsS0FBSztvQkFBZ0I7d0JBQ25CLElBQUksQ0FBQ2IsY0FBYyxDQUFDa0IsTUFBTSxDQUFDVixhQUFhRyxPQUFPO3dCQUMvQztvQkFDRjtnQkFDQTtvQkFBUzt3QkFDUEg7d0JBQ0EsTUFBTSxJQUFJRixNQUFNLENBQUMscUJBQXFCLEVBQUVFLGFBQWFFLElBQUksQ0FBQyxDQUFDO29CQUM3RDtZQUNGO1FBQ0Y7UUFDQSxJQUFJLENBQUNmLE9BQU8sR0FBR08sV0FBV2lCLFVBQVU7SUFDdEM7SUFDQUMscUJBQXFCO1FBQ25CLE9BQU8sSUFBSSxDQUFDcEIsY0FBYztJQUM1QjtJQUNBcUIsWUFBWTtRQUNWLE9BQU8sSUFBSSxDQUFDMUIsT0FBTyxDQUFDRSxFQUFFO0lBQ3hCO0FBQ0YsRUFDQSw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vYnJvd3Nlci9zeW5jL3JlbW90ZV9xdWVyeV9zZXQuanM/YWNhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBqc29uVG9Db252ZXggfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBMb25nIH0gZnJvbSBcIi4uLy4uL3ZlbmRvci9sb25nLmpzXCI7XG5pbXBvcnQgeyBsb2dGb3JGdW5jdGlvbiB9IGZyb20gXCIuLi9sb2dnaW5nLmpzXCI7XG5leHBvcnQgY2xhc3MgUmVtb3RlUXVlcnlTZXQge1xuICBjb25zdHJ1Y3RvcihxdWVyeVBhdGgsIGxvZ2dlcikge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ2ZXJzaW9uXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZW1vdGVRdWVyeVNldFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicXVlcnlQYXRoXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJsb2dnZXJcIik7XG4gICAgdGhpcy52ZXJzaW9uID0geyBxdWVyeVNldDogMCwgdHM6IExvbmcuZnJvbU51bWJlcigwKSwgaWRlbnRpdHk6IDAgfTtcbiAgICB0aGlzLnJlbW90ZVF1ZXJ5U2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnF1ZXJ5UGF0aCA9IHF1ZXJ5UGF0aDtcbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgfVxuICB0cmFuc2l0aW9uKHRyYW5zaXRpb24pIHtcbiAgICBjb25zdCBzdGFydCA9IHRyYW5zaXRpb24uc3RhcnRWZXJzaW9uO1xuICAgIGlmICh0aGlzLnZlcnNpb24ucXVlcnlTZXQgIT09IHN0YXJ0LnF1ZXJ5U2V0IHx8IHRoaXMudmVyc2lvbi50cy5ub3RFcXVhbHMoc3RhcnQudHMpIHx8IHRoaXMudmVyc2lvbi5pZGVudGl0eSAhPT0gc3RhcnQuaWRlbnRpdHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEludmFsaWQgc3RhcnQgdmVyc2lvbjogJHtzdGFydC50cy50b1N0cmluZygpfToke3N0YXJ0LnF1ZXJ5U2V0fToke3N0YXJ0LmlkZW50aXR5fSwgdHJhbnNpdGlvbmluZyBmcm9tICR7dGhpcy52ZXJzaW9uLnRzLnRvU3RyaW5nKCl9OiR7dGhpcy52ZXJzaW9uLnF1ZXJ5U2V0fToke3RoaXMudmVyc2lvbi5pZGVudGl0eX1gXG4gICAgICApO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IG1vZGlmaWNhdGlvbiBvZiB0cmFuc2l0aW9uLm1vZGlmaWNhdGlvbnMpIHtcbiAgICAgIHN3aXRjaCAobW9kaWZpY2F0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcIlF1ZXJ5VXBkYXRlZFwiOiB7XG4gICAgICAgICAgY29uc3QgcXVlcnlQYXRoID0gdGhpcy5xdWVyeVBhdGgobW9kaWZpY2F0aW9uLnF1ZXJ5SWQpO1xuICAgICAgICAgIGlmIChxdWVyeVBhdGgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBtb2RpZmljYXRpb24ubG9nTGluZXMpIHtcbiAgICAgICAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcInF1ZXJ5XCIsIHF1ZXJ5UGF0aCwgbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHZhbHVlID0ganNvblRvQ29udmV4KG1vZGlmaWNhdGlvbi52YWx1ZSA/PyBudWxsKTtcbiAgICAgICAgICB0aGlzLnJlbW90ZVF1ZXJ5U2V0LnNldChtb2RpZmljYXRpb24ucXVlcnlJZCwge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbG9nTGluZXM6IG1vZGlmaWNhdGlvbi5sb2dMaW5lc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJRdWVyeUZhaWxlZFwiOiB7XG4gICAgICAgICAgY29uc3QgcXVlcnlQYXRoID0gdGhpcy5xdWVyeVBhdGgobW9kaWZpY2F0aW9uLnF1ZXJ5SWQpO1xuICAgICAgICAgIGlmIChxdWVyeVBhdGgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBtb2RpZmljYXRpb24ubG9nTGluZXMpIHtcbiAgICAgICAgICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiaW5mb1wiLCBcInF1ZXJ5XCIsIHF1ZXJ5UGF0aCwgbGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHsgZXJyb3JEYXRhIH0gPSBtb2RpZmljYXRpb247XG4gICAgICAgICAgdGhpcy5yZW1vdGVRdWVyeVNldC5zZXQobW9kaWZpY2F0aW9uLnF1ZXJ5SWQsIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBtb2RpZmljYXRpb24uZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgZXJyb3JEYXRhOiBlcnJvckRhdGEgIT09IHZvaWQgMCA/IGpzb25Ub0NvbnZleChlcnJvckRhdGEpIDogdm9pZCAwLFxuICAgICAgICAgICAgbG9nTGluZXM6IG1vZGlmaWNhdGlvbi5sb2dMaW5lc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJRdWVyeVJlbW92ZWRcIjoge1xuICAgICAgICAgIHRoaXMucmVtb3RlUXVlcnlTZXQuZGVsZXRlKG1vZGlmaWNhdGlvbi5xdWVyeUlkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgbW9kaWZpY2F0aW9uO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtb2RpZmljYXRpb24gJHttb2RpZmljYXRpb24udHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnZlcnNpb24gPSB0cmFuc2l0aW9uLmVuZFZlcnNpb247XG4gIH1cbiAgcmVtb3RlUXVlcnlSZXN1bHRzKCkge1xuICAgIHJldHVybiB0aGlzLnJlbW90ZVF1ZXJ5U2V0O1xuICB9XG4gIHRpbWVzdGFtcCgpIHtcbiAgICByZXR1cm4gdGhpcy52ZXJzaW9uLnRzO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW1vdGVfcXVlcnlfc2V0LmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwianNvblRvQ29udmV4IiwiTG9uZyIsImxvZ0ZvckZ1bmN0aW9uIiwiUmVtb3RlUXVlcnlTZXQiLCJjb25zdHJ1Y3RvciIsInF1ZXJ5UGF0aCIsImxvZ2dlciIsInZlcnNpb24iLCJxdWVyeVNldCIsInRzIiwiZnJvbU51bWJlciIsImlkZW50aXR5IiwicmVtb3RlUXVlcnlTZXQiLCJNYXAiLCJ0cmFuc2l0aW9uIiwic3RhcnQiLCJzdGFydFZlcnNpb24iLCJub3RFcXVhbHMiLCJFcnJvciIsInRvU3RyaW5nIiwibW9kaWZpY2F0aW9uIiwibW9kaWZpY2F0aW9ucyIsInR5cGUiLCJxdWVyeUlkIiwibGluZSIsImxvZ0xpbmVzIiwic2V0Iiwic3VjY2VzcyIsImVycm9yRGF0YSIsImVycm9yTWVzc2FnZSIsImRlbGV0ZSIsImVuZFZlcnNpb24iLCJyZW1vdGVRdWVyeVJlc3VsdHMiLCJ0aW1lc3RhbXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/remote_query_set.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/request_manager.js":
/*!**********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/request_manager.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestManager: () => (/* binding */ RequestManager)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _logging_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass RequestManager {\n    constructor(logger, markConnectionStateDirty){\n        this.logger = logger;\n        this.markConnectionStateDirty = markConnectionStateDirty;\n        __publicField(this, \"inflightRequests\");\n        __publicField(this, \"requestsOlderThanRestart\");\n        __publicField(this, \"inflightMutationsCount\", 0);\n        __publicField(this, \"inflightActionsCount\", 0);\n        this.inflightRequests = /* @__PURE__ */ new Map();\n        this.requestsOlderThanRestart = /* @__PURE__ */ new Set();\n    }\n    request(message, sent) {\n        const result = new Promise((resolve)=>{\n            const status = sent ? \"Requested\" : \"NotSent\";\n            this.inflightRequests.set(message.requestId, {\n                message,\n                status: {\n                    status,\n                    requestedAt: /* @__PURE__ */ new Date(),\n                    onResult: resolve\n                }\n            });\n            if (message.type === \"Mutation\") {\n                this.inflightMutationsCount++;\n            } else if (message.type === \"Action\") {\n                this.inflightActionsCount++;\n            }\n        });\n        this.markConnectionStateDirty();\n        return result;\n    }\n    /**\n   * Update the state after receiving a response.\n   *\n   * @returns A RequestId if the request is complete and its optimistic update\n   * can be dropped, null otherwise.\n   */ onResponse(response) {\n        const requestInfo = this.inflightRequests.get(response.requestId);\n        if (requestInfo === void 0) {\n            return null;\n        }\n        if (requestInfo.status.status === \"Completed\") {\n            return null;\n        }\n        const udfType = requestInfo.message.type === \"Mutation\" ? \"mutation\" : \"action\";\n        const udfPath = requestInfo.message.udfPath;\n        for (const line of response.logLines){\n            (0,_logging_js__WEBPACK_IMPORTED_MODULE_1__.logForFunction)(this.logger, \"info\", udfType, udfPath, line);\n        }\n        const status = requestInfo.status;\n        let result;\n        let onResolve;\n        if (response.success) {\n            result = {\n                success: true,\n                logLines: response.logLines,\n                value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(response.result)\n            };\n            onResolve = ()=>status.onResult(result);\n        } else {\n            const errorMessage = response.result;\n            const { errorData } = response;\n            (0,_logging_js__WEBPACK_IMPORTED_MODULE_1__.logForFunction)(this.logger, \"error\", udfType, udfPath, errorMessage);\n            result = {\n                success: false,\n                errorMessage,\n                errorData: errorData !== void 0 ? (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(errorData) : void 0,\n                logLines: response.logLines\n            };\n            onResolve = ()=>status.onResult(result);\n        }\n        if (response.type === \"ActionResponse\" || !response.success) {\n            onResolve();\n            this.inflightRequests.delete(response.requestId);\n            this.requestsOlderThanRestart.delete(response.requestId);\n            if (requestInfo.message.type === \"Action\") {\n                this.inflightActionsCount--;\n            } else if (requestInfo.message.type === \"Mutation\") {\n                this.inflightMutationsCount--;\n            }\n            this.markConnectionStateDirty();\n            return {\n                requestId: response.requestId,\n                result\n            };\n        }\n        requestInfo.status = {\n            status: \"Completed\",\n            result,\n            ts: response.ts,\n            onResolve\n        };\n        return null;\n    }\n    // Remove and returns completed requests.\n    removeCompleted(ts) {\n        const completeRequests = /* @__PURE__ */ new Map();\n        for (const [requestId, requestInfo] of this.inflightRequests.entries()){\n            const status = requestInfo.status;\n            if (status.status === \"Completed\" && status.ts.lessThanOrEqual(ts)) {\n                status.onResolve();\n                completeRequests.set(requestId, status.result);\n                if (requestInfo.message.type === \"Mutation\") {\n                    this.inflightMutationsCount--;\n                } else if (requestInfo.message.type === \"Action\") {\n                    this.inflightActionsCount--;\n                }\n                this.inflightRequests.delete(requestId);\n                this.requestsOlderThanRestart.delete(requestId);\n            }\n        }\n        if (completeRequests.size > 0) {\n            this.markConnectionStateDirty();\n        }\n        return completeRequests;\n    }\n    restart() {\n        this.requestsOlderThanRestart = new Set(this.inflightRequests.keys());\n        const allMessages = [];\n        for (const [requestId, value] of this.inflightRequests){\n            if (value.status.status === \"NotSent\") {\n                value.status.status = \"Requested\";\n                allMessages.push(value.message);\n                continue;\n            }\n            if (value.message.type === \"Mutation\") {\n                allMessages.push(value.message);\n            } else if (value.message.type === \"Action\") {\n                this.inflightRequests.delete(requestId);\n                this.requestsOlderThanRestart.delete(requestId);\n                this.inflightActionsCount--;\n                if (value.status.status === \"Completed\") {\n                    throw new Error(\"Action should never be in 'Completed' state\");\n                }\n                value.status.onResult({\n                    success: false,\n                    errorMessage: \"Connection lost while action was in flight\",\n                    logLines: []\n                });\n            }\n        }\n        this.markConnectionStateDirty();\n        return allMessages;\n    }\n    resume() {\n        const allMessages = [];\n        for (const [, value] of this.inflightRequests){\n            if (value.status.status === \"NotSent\") {\n                value.status.status = \"Requested\";\n                allMessages.push(value.message);\n                continue;\n            }\n        }\n        return allMessages;\n    }\n    /**\n   * @returns true if there are any requests that have been requested but have\n   * not be completed yet.\n   */ hasIncompleteRequests() {\n        for (const requestInfo of this.inflightRequests.values()){\n            if (requestInfo.status.status === \"Requested\") {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n   * @returns true if there are any inflight requests, including ones that have\n   * completed on the server, but have not been applied.\n   */ hasInflightRequests() {\n        return this.inflightRequests.size > 0;\n    }\n    /**\n   * @returns true if there are any inflight requests, that have been hanging around\n   * since prior to the most recent restart.\n   */ hasSyncedPastLastReconnect() {\n        return this.requestsOlderThanRestart.size === 0;\n    }\n    timeOfOldestInflightRequest() {\n        if (this.inflightRequests.size === 0) {\n            return null;\n        }\n        let oldestInflightRequest = Date.now();\n        for (const request of this.inflightRequests.values()){\n            if (request.status.status !== \"Completed\") {\n                if (request.status.requestedAt.getTime() < oldestInflightRequest) {\n                    oldestInflightRequest = request.status.requestedAt.getTime();\n                }\n            }\n        }\n        return new Date(oldestInflightRequest);\n    }\n    /**\n   * @returns The number of mutations currently in flight.\n   */ inflightMutations() {\n        return this.inflightMutationsCount;\n    }\n    /**\n   * @returns The number of actions currently in flight.\n   */ inflightActions() {\n        return this.inflightActionsCount;\n    }\n} //# sourceMappingURL=request_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9yZXF1ZXN0X21hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ25EO0FBQ047QUFDeEMsTUFBTU87SUFDWEMsWUFBWUMsTUFBTSxFQUFFQyx3QkFBd0IsQ0FBRTtRQUM1QyxJQUFJLENBQUNELE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLHdCQUF3QixHQUFHQTtRQUNoQ04sY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRSwwQkFBMEI7UUFDOUNBLGNBQWMsSUFBSSxFQUFFLHdCQUF3QjtRQUM1QyxJQUFJLENBQUNPLGdCQUFnQixHQUFHLGFBQWEsR0FBRyxJQUFJQztRQUM1QyxJQUFJLENBQUNDLHdCQUF3QixHQUFHLGFBQWEsR0FBRyxJQUFJQztJQUN0RDtJQUNBQyxRQUFRQyxPQUFPLEVBQUVDLElBQUksRUFBRTtRQUNyQixNQUFNQyxTQUFTLElBQUlDLFFBQVEsQ0FBQ0M7WUFDMUIsTUFBTUMsU0FBU0osT0FBTyxjQUFjO1lBQ3BDLElBQUksQ0FBQ04sZ0JBQWdCLENBQUNXLEdBQUcsQ0FBQ04sUUFBUU8sU0FBUyxFQUFFO2dCQUMzQ1A7Z0JBQ0FLLFFBQVE7b0JBQUVBO29CQUFRRyxhQUFhLGFBQWEsR0FBRyxJQUFJQztvQkFB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RCxnQkFBZ0IsQ0FBQ3FDLElBQUksS0FBSyxHQUFHO1lBQ3BDLE9BQU87UUFDVDtRQUNBLElBQUlZLHdCQUF3Qm5DLEtBQUtvQyxHQUFHO1FBQ3BDLEtBQUssTUFBTTlDLFdBQVcsSUFBSSxDQUFDSixnQkFBZ0IsQ0FBQzZDLE1BQU0sR0FBSTtZQUNwRCxJQUFJekMsUUFBUU0sTUFBTSxDQUFDQSxNQUFNLEtBQUssYUFBYTtnQkFDekMsSUFBSU4sUUFBUU0sTUFBTSxDQUFDRyxXQUFXLENBQUNzQyxPQUFPLEtBQUtGLHVCQUF1QjtvQkFDaEVBLHdCQUF3QjdDLFFBQVFNLE1BQU0sQ0FBQ0csV0FBVyxDQUFDc0MsT0FBTztnQkFDNUQ7WUFDRjtRQUNGO1FBQ0EsT0FBTyxJQUFJckMsS0FBS21DO0lBQ2xCO0lBQ0E7O0dBRUMsR0FDREcsb0JBQW9CO1FBQ2xCLE9BQU8sSUFBSSxDQUFDbkMsc0JBQXNCO0lBQ3BDO0lBQ0E7O0dBRUMsR0FDRG9DLGtCQUFrQjtRQUNoQixPQUFPLElBQUksQ0FBQ25DLG9CQUFvQjtJQUNsQztBQUNGLEVBQ0EsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9yZXF1ZXN0X21hbmFnZXIuanM/Mjc2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBqc29uVG9Db252ZXggfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBsb2dGb3JGdW5jdGlvbiB9IGZyb20gXCIuLi9sb2dnaW5nLmpzXCI7XG5leHBvcnQgY2xhc3MgUmVxdWVzdE1hbmFnZXIge1xuICBjb25zdHJ1Y3Rvcihsb2dnZXIsIG1hcmtDb25uZWN0aW9uU3RhdGVEaXJ0eSkge1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIHRoaXMubWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5ID0gbWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5O1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJpbmZsaWdodFJlcXVlc3RzXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJyZXF1ZXN0c09sZGVyVGhhblJlc3RhcnRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImluZmxpZ2h0TXV0YXRpb25zQ291bnRcIiwgMCk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImluZmxpZ2h0QWN0aW9uc0NvdW50XCIsIDApO1xuICAgIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICB9XG4gIHJlcXVlc3QobWVzc2FnZSwgc2VudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCBzdGF0dXMgPSBzZW50ID8gXCJSZXF1ZXN0ZWRcIiA6IFwiTm90U2VudFwiO1xuICAgICAgdGhpcy5pbmZsaWdodFJlcXVlc3RzLnNldChtZXNzYWdlLnJlcXVlc3RJZCwge1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBzdGF0dXM6IHsgc3RhdHVzLCByZXF1ZXN0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksIG9uUmVzdWx0OiByZXNvbHZlIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJNdXRhdGlvblwiKSB7XG4gICAgICAgIHRoaXMuaW5mbGlnaHRNdXRhdGlvbnNDb3VudCsrO1xuICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiQWN0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5pbmZsaWdodEFjdGlvbnNDb3VudCsrO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMubWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBzdGF0ZSBhZnRlciByZWNlaXZpbmcgYSByZXNwb25zZS5cbiAgICpcbiAgICogQHJldHVybnMgQSBSZXF1ZXN0SWQgaWYgdGhlIHJlcXVlc3QgaXMgY29tcGxldGUgYW5kIGl0cyBvcHRpbWlzdGljIHVwZGF0ZVxuICAgKiBjYW4gYmUgZHJvcHBlZCwgbnVsbCBvdGhlcndpc2UuXG4gICAqL1xuICBvblJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuZ2V0KHJlc3BvbnNlLnJlcXVlc3RJZCk7XG4gICAgaWYgKHJlcXVlc3RJbmZvID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdEluZm8uc3RhdHVzLnN0YXR1cyA9PT0gXCJDb21wbGV0ZWRcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHVkZlR5cGUgPSByZXF1ZXN0SW5mby5tZXNzYWdlLnR5cGUgPT09IFwiTXV0YXRpb25cIiA/IFwibXV0YXRpb25cIiA6IFwiYWN0aW9uXCI7XG4gICAgY29uc3QgdWRmUGF0aCA9IHJlcXVlc3RJbmZvLm1lc3NhZ2UudWRmUGF0aDtcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgcmVzcG9uc2UubG9nTGluZXMpIHtcbiAgICAgIGxvZ0ZvckZ1bmN0aW9uKHRoaXMubG9nZ2VyLCBcImluZm9cIiwgdWRmVHlwZSwgdWRmUGF0aCwgbGluZSk7XG4gICAgfVxuICAgIGNvbnN0IHN0YXR1cyA9IHJlcXVlc3RJbmZvLnN0YXR1cztcbiAgICBsZXQgcmVzdWx0O1xuICAgIGxldCBvblJlc29sdmU7XG4gICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgbG9nTGluZXM6IHJlc3BvbnNlLmxvZ0xpbmVzLFxuICAgICAgICB2YWx1ZToganNvblRvQ29udmV4KHJlc3BvbnNlLnJlc3VsdClcbiAgICAgIH07XG4gICAgICBvblJlc29sdmUgPSAoKSA9PiBzdGF0dXMub25SZXN1bHQocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gcmVzcG9uc2UucmVzdWx0O1xuICAgICAgY29uc3QgeyBlcnJvckRhdGEgfSA9IHJlc3BvbnNlO1xuICAgICAgbG9nRm9yRnVuY3Rpb24odGhpcy5sb2dnZXIsIFwiZXJyb3JcIiwgdWRmVHlwZSwgdWRmUGF0aCwgZXJyb3JNZXNzYWdlKTtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yTWVzc2FnZSxcbiAgICAgICAgZXJyb3JEYXRhOiBlcnJvckRhdGEgIT09IHZvaWQgMCA/IGpzb25Ub0NvbnZleChlcnJvckRhdGEpIDogdm9pZCAwLFxuICAgICAgICBsb2dMaW5lczogcmVzcG9uc2UubG9nTGluZXNcbiAgICAgIH07XG4gICAgICBvblJlc29sdmUgPSAoKSA9PiBzdGF0dXMub25SZXN1bHQocmVzdWx0KTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLnR5cGUgPT09IFwiQWN0aW9uUmVzcG9uc2VcIiB8fCAhcmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgb25SZXNvbHZlKCk7XG4gICAgICB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuZGVsZXRlKHJlc3BvbnNlLnJlcXVlc3RJZCk7XG4gICAgICB0aGlzLnJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydC5kZWxldGUocmVzcG9uc2UucmVxdWVzdElkKTtcbiAgICAgIGlmIChyZXF1ZXN0SW5mby5tZXNzYWdlLnR5cGUgPT09IFwiQWN0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5pbmZsaWdodEFjdGlvbnNDb3VudC0tO1xuICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0SW5mby5tZXNzYWdlLnR5cGUgPT09IFwiTXV0YXRpb25cIikge1xuICAgICAgICB0aGlzLmluZmxpZ2h0TXV0YXRpb25zQ291bnQtLTtcbiAgICAgIH1cbiAgICAgIHRoaXMubWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5KCk7XG4gICAgICByZXR1cm4geyByZXF1ZXN0SWQ6IHJlc3BvbnNlLnJlcXVlc3RJZCwgcmVzdWx0IH07XG4gICAgfVxuICAgIHJlcXVlc3RJbmZvLnN0YXR1cyA9IHtcbiAgICAgIHN0YXR1czogXCJDb21wbGV0ZWRcIixcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRzOiByZXNwb25zZS50cyxcbiAgICAgIG9uUmVzb2x2ZVxuICAgIH07XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gUmVtb3ZlIGFuZCByZXR1cm5zIGNvbXBsZXRlZCByZXF1ZXN0cy5cbiAgcmVtb3ZlQ29tcGxldGVkKHRzKSB7XG4gICAgY29uc3QgY29tcGxldGVSZXF1ZXN0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBbcmVxdWVzdElkLCByZXF1ZXN0SW5mb10gb2YgdGhpcy5pbmZsaWdodFJlcXVlc3RzLmVudHJpZXMoKSkge1xuICAgICAgY29uc3Qgc3RhdHVzID0gcmVxdWVzdEluZm8uc3RhdHVzO1xuICAgICAgaWYgKHN0YXR1cy5zdGF0dXMgPT09IFwiQ29tcGxldGVkXCIgJiYgc3RhdHVzLnRzLmxlc3NUaGFuT3JFcXVhbCh0cykpIHtcbiAgICAgICAgc3RhdHVzLm9uUmVzb2x2ZSgpO1xuICAgICAgICBjb21wbGV0ZVJlcXVlc3RzLnNldChyZXF1ZXN0SWQsIHN0YXR1cy5yZXN1bHQpO1xuICAgICAgICBpZiAocmVxdWVzdEluZm8ubWVzc2FnZS50eXBlID09PSBcIk11dGF0aW9uXCIpIHtcbiAgICAgICAgICB0aGlzLmluZmxpZ2h0TXV0YXRpb25zQ291bnQtLTtcbiAgICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0SW5mby5tZXNzYWdlLnR5cGUgPT09IFwiQWN0aW9uXCIpIHtcbiAgICAgICAgICB0aGlzLmluZmxpZ2h0QWN0aW9uc0NvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbmZsaWdodFJlcXVlc3RzLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLnJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydC5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbXBsZXRlUmVxdWVzdHMuc2l6ZSA+IDApIHtcbiAgICAgIHRoaXMubWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5KCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wbGV0ZVJlcXVlc3RzO1xuICB9XG4gIHJlc3RhcnQoKSB7XG4gICAgdGhpcy5yZXF1ZXN0c09sZGVyVGhhblJlc3RhcnQgPSBuZXcgU2V0KHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5rZXlzKCkpO1xuICAgIGNvbnN0IGFsbE1lc3NhZ2VzID0gW107XG4gICAgZm9yIChjb25zdCBbcmVxdWVzdElkLCB2YWx1ZV0gb2YgdGhpcy5pbmZsaWdodFJlcXVlc3RzKSB7XG4gICAgICBpZiAodmFsdWUuc3RhdHVzLnN0YXR1cyA9PT0gXCJOb3RTZW50XCIpIHtcbiAgICAgICAgdmFsdWUuc3RhdHVzLnN0YXR1cyA9IFwiUmVxdWVzdGVkXCI7XG4gICAgICAgIGFsbE1lc3NhZ2VzLnB1c2godmFsdWUubWVzc2FnZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbHVlLm1lc3NhZ2UudHlwZSA9PT0gXCJNdXRhdGlvblwiKSB7XG4gICAgICAgIGFsbE1lc3NhZ2VzLnB1c2godmFsdWUubWVzc2FnZSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLm1lc3NhZ2UudHlwZSA9PT0gXCJBY3Rpb25cIikge1xuICAgICAgICB0aGlzLmluZmxpZ2h0UmVxdWVzdHMuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgICAgIHRoaXMucmVxdWVzdHNPbGRlclRoYW5SZXN0YXJ0LmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgICAgICB0aGlzLmluZmxpZ2h0QWN0aW9uc0NvdW50LS07XG4gICAgICAgIGlmICh2YWx1ZS5zdGF0dXMuc3RhdHVzID09PSBcIkNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWN0aW9uIHNob3VsZCBuZXZlciBiZSBpbiAnQ29tcGxldGVkJyBzdGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZS5zdGF0dXMub25SZXN1bHQoe1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIGVycm9yTWVzc2FnZTogXCJDb25uZWN0aW9uIGxvc3Qgd2hpbGUgYWN0aW9uIHdhcyBpbiBmbGlnaHRcIixcbiAgICAgICAgICBsb2dMaW5lczogW11cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5KCk7XG4gICAgcmV0dXJuIGFsbE1lc3NhZ2VzO1xuICB9XG4gIHJlc3VtZSgpIHtcbiAgICBjb25zdCBhbGxNZXNzYWdlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgWywgdmFsdWVdIG9mIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cykge1xuICAgICAgaWYgKHZhbHVlLnN0YXR1cy5zdGF0dXMgPT09IFwiTm90U2VudFwiKSB7XG4gICAgICAgIHZhbHVlLnN0YXR1cy5zdGF0dXMgPSBcIlJlcXVlc3RlZFwiO1xuICAgICAgICBhbGxNZXNzYWdlcy5wdXNoKHZhbHVlLm1lc3NhZ2UpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFsbE1lc3NhZ2VzO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZXJlIGFyZSBhbnkgcmVxdWVzdHMgdGhhdCBoYXZlIGJlZW4gcmVxdWVzdGVkIGJ1dCBoYXZlXG4gICAqIG5vdCBiZSBjb21wbGV0ZWQgeWV0LlxuICAgKi9cbiAgaGFzSW5jb21wbGV0ZVJlcXVlc3RzKCkge1xuICAgIGZvciAoY29uc3QgcmVxdWVzdEluZm8gb2YgdGhpcy5pbmZsaWdodFJlcXVlc3RzLnZhbHVlcygpKSB7XG4gICAgICBpZiAocmVxdWVzdEluZm8uc3RhdHVzLnN0YXR1cyA9PT0gXCJSZXF1ZXN0ZWRcIikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZXJlIGFyZSBhbnkgaW5mbGlnaHQgcmVxdWVzdHMsIGluY2x1ZGluZyBvbmVzIHRoYXQgaGF2ZVxuICAgKiBjb21wbGV0ZWQgb24gdGhlIHNlcnZlciwgYnV0IGhhdmUgbm90IGJlZW4gYXBwbGllZC5cbiAgICovXG4gIGhhc0luZmxpZ2h0UmVxdWVzdHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5mbGlnaHRSZXF1ZXN0cy5zaXplID4gMDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGVyZSBhcmUgYW55IGluZmxpZ2h0IHJlcXVlc3RzLCB0aGF0IGhhdmUgYmVlbiBoYW5naW5nIGFyb3VuZFxuICAgKiBzaW5jZSBwcmlvciB0byB0aGUgbW9zdCByZWNlbnQgcmVzdGFydC5cbiAgICovXG4gIGhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0KCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydC5zaXplID09PSAwO1xuICB9XG4gIHRpbWVPZk9sZGVzdEluZmxpZ2h0UmVxdWVzdCgpIHtcbiAgICBpZiAodGhpcy5pbmZsaWdodFJlcXVlc3RzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgb2xkZXN0SW5mbGlnaHRSZXF1ZXN0ID0gRGF0ZS5ub3coKTtcbiAgICBmb3IgKGNvbnN0IHJlcXVlc3Qgb2YgdGhpcy5pbmZsaWdodFJlcXVlc3RzLnZhbHVlcygpKSB7XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMuc3RhdHVzICE9PSBcIkNvbXBsZXRlZFwiKSB7XG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cy5yZXF1ZXN0ZWRBdC5nZXRUaW1lKCkgPCBvbGRlc3RJbmZsaWdodFJlcXVlc3QpIHtcbiAgICAgICAgICBvbGRlc3RJbmZsaWdodFJlcXVlc3QgPSByZXF1ZXN0LnN0YXR1cy5yZXF1ZXN0ZWRBdC5nZXRUaW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRlKG9sZGVzdEluZmxpZ2h0UmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgbXV0YXRpb25zIGN1cnJlbnRseSBpbiBmbGlnaHQuXG4gICAqL1xuICBpbmZsaWdodE11dGF0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5pbmZsaWdodE11dGF0aW9uc0NvdW50O1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIGFjdGlvbnMgY3VycmVudGx5IGluIGZsaWdodC5cbiAgICovXG4gIGluZmxpZ2h0QWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5pbmZsaWdodEFjdGlvbnNDb3VudDtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdF9tYW5hZ2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwianNvblRvQ29udmV4IiwibG9nRm9yRnVuY3Rpb24iLCJSZXF1ZXN0TWFuYWdlciIsImNvbnN0cnVjdG9yIiwibG9nZ2VyIiwibWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5IiwiaW5mbGlnaHRSZXF1ZXN0cyIsIk1hcCIsInJlcXVlc3RzT2xkZXJUaGFuUmVzdGFydCIsIlNldCIsInJlcXVlc3QiLCJtZXNzYWdlIiwic2VudCIsInJlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwic3RhdHVzIiwic2V0IiwicmVxdWVzdElkIiwicmVxdWVzdGVkQXQiLCJEYXRlIiwib25SZXN1bHQiLCJ0eXBlIiwiaW5mbGlnaHRNdXRhdGlvbnNDb3VudCIsImluZmxpZ2h0QWN0aW9uc0NvdW50Iiwib25SZXNwb25zZSIsInJlc3BvbnNlIiwicmVxdWVzdEluZm8iLCJnZXQiLCJ1ZGZUeXBlIiwidWRmUGF0aCIsImxpbmUiLCJsb2dMaW5lcyIsIm9uUmVzb2x2ZSIsInN1Y2Nlc3MiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckRhdGEiLCJkZWxldGUiLCJ0cyIsInJlbW92ZUNvbXBsZXRlZCIsImNvbXBsZXRlUmVxdWVzdHMiLCJlbnRyaWVzIiwibGVzc1RoYW5PckVxdWFsIiwic2l6ZSIsInJlc3RhcnQiLCJrZXlzIiwiYWxsTWVzc2FnZXMiLCJwdXNoIiwiRXJyb3IiLCJyZXN1bWUiLCJoYXNJbmNvbXBsZXRlUmVxdWVzdHMiLCJ2YWx1ZXMiLCJoYXNJbmZsaWdodFJlcXVlc3RzIiwiaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QiLCJ0aW1lT2ZPbGRlc3RJbmZsaWdodFJlcXVlc3QiLCJvbGRlc3RJbmZsaWdodFJlcXVlc3QiLCJub3ciLCJnZXRUaW1lIiwiaW5mbGlnaHRNdXRhdGlvbnMiLCJpbmZsaWdodEFjdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/request_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/session.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/session.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   newSessionId: () => (/* binding */ newSessionId)\n/* harmony export */ });\n\nfunction newSessionId() {\n    return uuidv4();\n}\nfunction uuidv4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c)=>{\n        const r = Math.random() * 16 | 0, v = c === \"x\" ? r : r & 3 | 8;\n        return v.toString(16);\n    });\n} //# sourceMappingURL=session.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9zZXNzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNOLFNBQVNBO0lBQ2QsT0FBT0M7QUFDVDtBQUNBLFNBQVNBO0lBQ1AsT0FBTyx1Q0FBdUNDLE9BQU8sQ0FBQyxTQUFTLENBQUNDO1FBQzlELE1BQU1DLElBQUlDLEtBQUtDLE1BQU0sS0FBSyxLQUFLLEdBQUdDLElBQUlKLE1BQU0sTUFBTUMsSUFBSUEsSUFBSSxJQUFJO1FBQzlELE9BQU9HLEVBQUVDLFFBQVEsQ0FBQztJQUNwQjtBQUNGLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy9zZXNzaW9uLmpzP2UxMDIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgZnVuY3Rpb24gbmV3U2Vzc2lvbklkKCkge1xuICByZXR1cm4gdXVpZHY0KCk7XG59XG5mdW5jdGlvbiB1dWlkdjQoKSB7XG4gIHJldHVybiBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UoL1t4eV0vZywgKGMpID0+IHtcbiAgICBjb25zdCByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCwgdiA9IGMgPT09IFwieFwiID8gciA6IHIgJiAzIHwgODtcbiAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvbi5qcy5tYXBcbiJdLCJuYW1lcyI6WyJuZXdTZXNzaW9uSWQiLCJ1dWlkdjQiLCJyZXBsYWNlIiwiYyIsInIiLCJNYXRoIiwicmFuZG9tIiwidiIsInRvU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/session.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   canonicalizeUdfPath: () => (/* binding */ canonicalizeUdfPath),\n/* harmony export */   serializePaginatedPathAndArgs: () => (/* binding */ serializePaginatedPathAndArgs),\n/* harmony export */   serializePathAndArgs: () => (/* binding */ serializePathAndArgs),\n/* harmony export */   serializedQueryTokenIsPaginated: () => (/* binding */ serializedQueryTokenIsPaginated)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n\n\nfunction canonicalizeUdfPath(udfPath) {\n    const pieces = udfPath.split(\":\");\n    let moduleName;\n    let functionName;\n    if (pieces.length === 1) {\n        moduleName = pieces[0];\n        functionName = \"default\";\n    } else {\n        moduleName = pieces.slice(0, pieces.length - 1).join(\":\");\n        functionName = pieces[pieces.length - 1];\n    }\n    if (moduleName.endsWith(\".js\")) {\n        moduleName = moduleName.slice(0, -3);\n    }\n    return `${moduleName}:${functionName}`;\n}\nfunction serializePathAndArgs(udfPath, args) {\n    return JSON.stringify({\n        udfPath: canonicalizeUdfPath(udfPath),\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)\n    });\n}\nfunction serializePaginatedPathAndArgs(udfPath, args, options) {\n    const { initialNumItems, id } = options;\n    const result = JSON.stringify({\n        type: \"paginated\",\n        udfPath: canonicalizeUdfPath(udfPath),\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args),\n        options: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)({\n            initialNumItems,\n            id\n        })\n    });\n    return result;\n}\nfunction serializedQueryTokenIsPaginated(token) {\n    return JSON.parse(token).type === \"paginated\";\n} //# sourceMappingURL=udf_path_utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy91ZGZfcGF0aF91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFhO0FBQ3dDO0FBQzlDLFNBQVNDLG9CQUFvQkMsT0FBTztJQUN6QyxNQUFNQyxTQUFTRCxRQUFRRSxLQUFLLENBQUM7SUFDN0IsSUFBSUM7SUFDSixJQUFJQztJQUNKLElBQUlILE9BQU9JLE1BQU0sS0FBSyxHQUFHO1FBQ3ZCRixhQUFhRixNQUFNLENBQUMsRUFBRTtRQUN0QkcsZUFBZTtJQUNqQixPQUFPO1FBQ0xELGFBQWFGLE9BQU9LLEtBQUssQ0FBQyxHQUFHTCxPQUFPSSxNQUFNLEdBQUcsR0FBR0UsSUFBSSxDQUFDO1FBQ3JESCxlQUFlSCxNQUFNLENBQUNBLE9BQU9JLE1BQU0sR0FBRyxFQUFFO0lBQzFDO0lBQ0EsSUFBSUYsV0FBV0ssUUFBUSxDQUFDLFFBQVE7UUFDOUJMLGFBQWFBLFdBQVdHLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDcEM7SUFDQSxPQUFPLENBQUMsRUFBRUgsV0FBVyxDQUFDLEVBQUVDLGFBQWEsQ0FBQztBQUN4QztBQUNPLFNBQVNLLHFCQUFxQlQsT0FBTyxFQUFFVSxJQUFJO0lBQ2hELE9BQU9DLEtBQUtDLFNBQVMsQ0FBQztRQUNwQlosU0FBU0Qsb0JBQW9CQztRQUM3QlUsTUFBTVosOERBQVlBLENBQUNZO0lBQ3JCO0FBQ0Y7QUFDTyxTQUFTRyw4QkFBOEJiLE9BQU8sRUFBRVUsSUFBSSxFQUFFSSxPQUFPO0lBQ2xFLE1BQU0sRUFBRUMsZUFBZSxFQUFFQyxFQUFFLEVBQUUsR0FBR0Y7SUFDaEMsTUFBTUcsU0FBU04sS0FBS0MsU0FBUyxDQUFDO1FBQzVCTSxNQUFNO1FBQ05sQixTQUFTRCxvQkFBb0JDO1FBQzdCVSxNQUFNWiw4REFBWUEsQ0FBQ1k7UUFDbkJJLFNBQVNoQiw4REFBWUEsQ0FBQztZQUFFaUI7WUFBaUJDO1FBQUc7SUFDOUM7SUFDQSxPQUFPQztBQUNUO0FBQ08sU0FBU0UsZ0NBQWdDQyxLQUFLO0lBQ25ELE9BQU9ULEtBQUtVLEtBQUssQ0FBQ0QsT0FBT0YsSUFBSSxLQUFLO0FBQ3BDLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy91ZGZfcGF0aF91dGlscy5qcz8wNWEyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGNhbm9uaWNhbGl6ZVVkZlBhdGgodWRmUGF0aCkge1xuICBjb25zdCBwaWVjZXMgPSB1ZGZQYXRoLnNwbGl0KFwiOlwiKTtcbiAgbGV0IG1vZHVsZU5hbWU7XG4gIGxldCBmdW5jdGlvbk5hbWU7XG4gIGlmIChwaWVjZXMubGVuZ3RoID09PSAxKSB7XG4gICAgbW9kdWxlTmFtZSA9IHBpZWNlc1swXTtcbiAgICBmdW5jdGlvbk5hbWUgPSBcImRlZmF1bHRcIjtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGVOYW1lID0gcGllY2VzLnNsaWNlKDAsIHBpZWNlcy5sZW5ndGggLSAxKS5qb2luKFwiOlwiKTtcbiAgICBmdW5jdGlvbk5hbWUgPSBwaWVjZXNbcGllY2VzLmxlbmd0aCAtIDFdO1xuICB9XG4gIGlmIChtb2R1bGVOYW1lLmVuZHNXaXRoKFwiLmpzXCIpKSB7XG4gICAgbW9kdWxlTmFtZSA9IG1vZHVsZU5hbWUuc2xpY2UoMCwgLTMpO1xuICB9XG4gIHJldHVybiBgJHttb2R1bGVOYW1lfToke2Z1bmN0aW9uTmFtZX1gO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZVBhdGhBbmRBcmdzKHVkZlBhdGgsIGFyZ3MpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICB1ZGZQYXRoOiBjYW5vbmljYWxpemVVZGZQYXRoKHVkZlBhdGgpLFxuICAgIGFyZ3M6IGNvbnZleFRvSnNvbihhcmdzKVxuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVQYWdpbmF0ZWRQYXRoQW5kQXJncyh1ZGZQYXRoLCBhcmdzLCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgaW5pdGlhbE51bUl0ZW1zLCBpZCB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgIHR5cGU6IFwicGFnaW5hdGVkXCIsXG4gICAgdWRmUGF0aDogY2Fub25pY2FsaXplVWRmUGF0aCh1ZGZQYXRoKSxcbiAgICBhcmdzOiBjb252ZXhUb0pzb24oYXJncyksXG4gICAgb3B0aW9uczogY29udmV4VG9Kc29uKHsgaW5pdGlhbE51bUl0ZW1zLCBpZCB9KVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVkUXVlcnlUb2tlbklzUGFnaW5hdGVkKHRva2VuKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKHRva2VuKS50eXBlID09PSBcInBhZ2luYXRlZFwiO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dWRmX3BhdGhfdXRpbHMuanMubWFwXG4iXSwibmFtZXMiOlsiY29udmV4VG9Kc29uIiwiY2Fub25pY2FsaXplVWRmUGF0aCIsInVkZlBhdGgiLCJwaWVjZXMiLCJzcGxpdCIsIm1vZHVsZU5hbWUiLCJmdW5jdGlvbk5hbWUiLCJsZW5ndGgiLCJzbGljZSIsImpvaW4iLCJlbmRzV2l0aCIsInNlcmlhbGl6ZVBhdGhBbmRBcmdzIiwiYXJncyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXJpYWxpemVQYWdpbmF0ZWRQYXRoQW5kQXJncyIsIm9wdGlvbnMiLCJpbml0aWFsTnVtSXRlbXMiLCJpZCIsInJlc3VsdCIsInR5cGUiLCJzZXJpYWxpemVkUXVlcnlUb2tlbklzUGFnaW5hdGVkIiwidG9rZW4iLCJwYXJzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/udf_path_utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketManager: () => (/* binding */ WebSocketManager)\n/* harmony export */ });\n/* harmony import */ var _protocol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./protocol.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/protocol.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nconst CLOSE_NORMAL = 1e3;\nconst CLOSE_GOING_AWAY = 1001;\nconst CLOSE_NO_STATUS = 1005;\nconst CLOSE_NOT_FOUND = 4040;\nlet firstTime;\nfunction monotonicMillis() {\n    if (firstTime === void 0) {\n        firstTime = Date.now();\n    }\n    if (typeof performance === \"undefined\" || !performance.now) {\n        return Date.now();\n    }\n    return Math.round(firstTime + performance.now());\n}\nfunction prettyNow() {\n    return `t=${Math.round((monotonicMillis() - firstTime) / 100) / 10}s`;\n}\nconst serverDisconnectErrors = {\n    // A known error, e.g. during a restart or push\n    InternalServerError: {\n        timeout: 1e3\n    },\n    // ErrorMetadata::overloaded() messages that we realy should back off\n    SubscriptionsWorkerFullError: {\n        timeout: 3e3\n    },\n    TooManyConcurrentRequests: {\n        timeout: 3e3\n    },\n    CommitterFullError: {\n        timeout: 3e3\n    },\n    AwsTooManyRequestsException: {\n        timeout: 3e3\n    },\n    ExecuteFullError: {\n        timeout: 3e3\n    },\n    SystemTimeoutError: {\n        timeout: 3e3\n    },\n    ExpiredInQueue: {\n        timeout: 3e3\n    },\n    // ErrorMetadata::feature_temporarily_unavailable() that typically indicate a deploy just happened\n    VectorIndexesUnavailable: {\n        timeout: 1e3\n    },\n    SearchIndexesUnavailable: {\n        timeout: 1e3\n    },\n    TableSummariesUnavailable: {\n        timeout: 1e3\n    },\n    // More ErrorMetadata::overloaded()\n    VectorIndexTooLarge: {\n        timeout: 3e3\n    },\n    SearchIndexTooLarge: {\n        timeout: 3e3\n    },\n    TooManyWritesInTimePeriod: {\n        timeout: 3e3\n    }\n};\nfunction classifyDisconnectError(s) {\n    if (s === void 0) return \"Unknown\";\n    for (const prefix of Object.keys(serverDisconnectErrors)){\n        if (s.startsWith(prefix)) {\n            return prefix;\n        }\n    }\n    return \"Unknown\";\n}\nclass WebSocketManager {\n    constructor(uri, callbacks, webSocketConstructor, logger, markConnectionStateDirty, debug){\n        this.markConnectionStateDirty = markConnectionStateDirty;\n        this.debug = debug;\n        __publicField(this, \"socket\");\n        __publicField(this, \"connectionCount\");\n        __publicField(this, \"_hasEverConnected\", false);\n        __publicField(this, \"lastCloseReason\");\n        // State for assembling the split-up Transition currently being received.\n        __publicField(this, \"transitionChunkBuffer\", null);\n        /** Upon HTTPS/WSS failure, the first jittered backoff duration, in ms. */ __publicField(this, \"defaultInitialBackoff\");\n        /** We backoff exponentially, but we need to cap that--this is the jittered max. */ __publicField(this, \"maxBackoff\");\n        /** How many times have we failed consecutively? */ __publicField(this, \"retries\");\n        /** How long before lack of server response causes us to initiate a reconnect,\n     * in ms */ __publicField(this, \"serverInactivityThreshold\");\n        __publicField(this, \"reconnectDueToServerInactivityTimeout\");\n        __publicField(this, \"uri\");\n        __publicField(this, \"onOpen\");\n        __publicField(this, \"onResume\");\n        __publicField(this, \"onMessage\");\n        __publicField(this, \"webSocketConstructor\");\n        __publicField(this, \"logger\");\n        __publicField(this, \"onServerDisconnectError\");\n        this.webSocketConstructor = webSocketConstructor;\n        this.socket = {\n            state: \"disconnected\"\n        };\n        this.connectionCount = 0;\n        this.lastCloseReason = \"InitialConnect\";\n        this.defaultInitialBackoff = 1e3;\n        this.maxBackoff = 16e3;\n        this.retries = 0;\n        this.serverInactivityThreshold = 6e4;\n        this.reconnectDueToServerInactivityTimeout = null;\n        this.uri = uri;\n        this.onOpen = callbacks.onOpen;\n        this.onResume = callbacks.onResume;\n        this.onMessage = callbacks.onMessage;\n        this.onServerDisconnectError = callbacks.onServerDisconnectError;\n        this.logger = logger;\n        this.connect();\n    }\n    setSocketState(state) {\n        this.socket = state;\n        this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${\"paused\" in this.socket ? this.socket.paused : void 0}`);\n        this.markConnectionStateDirty();\n    }\n    assembleTransition(chunk) {\n        if (chunk.partNumber < 0 || chunk.partNumber >= chunk.totalParts || chunk.totalParts === 0 || this.transitionChunkBuffer && (this.transitionChunkBuffer.totalParts !== chunk.totalParts || this.transitionChunkBuffer.transitionId !== chunk.transitionId)) {\n            this.transitionChunkBuffer = null;\n            throw new Error(\"Invalid TransitionChunk\");\n        }\n        if (this.transitionChunkBuffer === null) {\n            this.transitionChunkBuffer = {\n                chunks: [],\n                totalParts: chunk.totalParts,\n                transitionId: chunk.transitionId\n            };\n        }\n        if (chunk.partNumber !== this.transitionChunkBuffer.chunks.length) {\n            const expectedLength = this.transitionChunkBuffer.chunks.length;\n            this.transitionChunkBuffer = null;\n            throw new Error(`TransitionChunk received out of order: expected part ${expectedLength}, got ${chunk.partNumber}`);\n        }\n        this.transitionChunkBuffer.chunks.push(chunk.chunk);\n        if (this.transitionChunkBuffer.chunks.length === chunk.totalParts) {\n            const fullJson = this.transitionChunkBuffer.chunks.join(\"\");\n            this.transitionChunkBuffer = null;\n            const transition = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.parseServerMessage)(JSON.parse(fullJson));\n            if (transition.type !== \"Transition\") {\n                throw new Error(`Expected Transition, got ${transition.type} after assembling chunks`);\n            }\n            return transition;\n        }\n        return null;\n    }\n    connect() {\n        if (this.socket.state === \"terminated\") {\n            return;\n        }\n        if (this.socket.state !== \"disconnected\" && this.socket.state !== \"stopped\") {\n            throw new Error(\"Didn't start connection from disconnected state: \" + this.socket.state);\n        }\n        const ws = new this.webSocketConstructor(this.uri);\n        this._logVerbose(\"constructed WebSocket\");\n        this.setSocketState({\n            state: \"connecting\",\n            ws,\n            paused: \"no\"\n        });\n        this.resetServerInactivityTimeout();\n        ws.onopen = ()=>{\n            this.logger.logVerbose(\"begin ws.onopen\");\n            if (this.socket.state !== \"connecting\") {\n                throw new Error(\"onopen called with socket not in connecting state\");\n            }\n            this.setSocketState({\n                state: \"ready\",\n                ws,\n                paused: this.socket.paused === \"yes\" ? \"uninitialized\" : \"no\"\n            });\n            this.resetServerInactivityTimeout();\n            if (this.socket.paused === \"no\") {\n                this._hasEverConnected = true;\n                this.onOpen({\n                    connectionCount: this.connectionCount,\n                    lastCloseReason: this.lastCloseReason,\n                    clientTs: monotonicMillis()\n                });\n            }\n            if (this.lastCloseReason !== \"InitialConnect\") {\n                if (this.lastCloseReason) {\n                    this.logger.log(\"WebSocket reconnected at\", prettyNow(), \"after disconnect due to\", this.lastCloseReason);\n                } else {\n                    this.logger.log(\"WebSocket reconnected at\", prettyNow());\n                }\n            }\n            this.connectionCount += 1;\n            this.lastCloseReason = null;\n        };\n        ws.onerror = (error)=>{\n            this.transitionChunkBuffer = null;\n            const message = error.message;\n            if (message) {\n                this.logger.log(`WebSocket error message: ${message}`);\n            }\n        };\n        ws.onmessage = (message)=>{\n            this.resetServerInactivityTimeout();\n            const messageLength = message.data.length;\n            let serverMessage = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.parseServerMessage)(JSON.parse(message.data));\n            this._logVerbose(`received ws message with type ${serverMessage.type}`);\n            if (serverMessage.type === \"Ping\") {\n                return;\n            }\n            if (serverMessage.type === \"TransitionChunk\") {\n                const transition = this.assembleTransition(serverMessage);\n                if (!transition) {\n                    return;\n                }\n                serverMessage = transition;\n                this._logVerbose(`assembled full ws message of type ${serverMessage.type}`);\n            }\n            if (this.transitionChunkBuffer !== null) {\n                this.transitionChunkBuffer = null;\n                this.logger.log(`Received unexpected ${serverMessage.type} while buffering TransitionChunks`);\n            }\n            if (serverMessage.type === \"Transition\") {\n                this.reportLargeTransition({\n                    messageLength,\n                    transition: serverMessage\n                });\n            }\n            const response = this.onMessage(serverMessage);\n            if (response.hasSyncedPastLastReconnect) {\n                this.retries = 0;\n                this.markConnectionStateDirty();\n            }\n        };\n        ws.onclose = (event)=>{\n            this._logVerbose(\"begin ws.onclose\");\n            this.transitionChunkBuffer = null;\n            if (this.lastCloseReason === null) {\n                this.lastCloseReason = event.reason || `closed with code ${event.code}`;\n            }\n            if (event.code !== CLOSE_NORMAL && event.code !== CLOSE_GOING_AWAY && // This commonly gets fired on mobile apps when the app is backgrounded\n            event.code !== CLOSE_NO_STATUS && event.code !== CLOSE_NOT_FOUND) {\n                let msg = `WebSocket closed with code ${event.code}`;\n                if (event.reason) {\n                    msg += `: ${event.reason}`;\n                }\n                this.logger.log(msg);\n                if (this.onServerDisconnectError && event.reason) {\n                    this.onServerDisconnectError(msg);\n                }\n            }\n            const reason = classifyDisconnectError(event.reason);\n            this.scheduleReconnect(reason);\n            return;\n        };\n    }\n    /**\n   * @returns The state of the {@link Socket}.\n   */ socketState() {\n        return this.socket.state;\n    }\n    /**\n   * @param message - A ClientMessage to send.\n   * @returns Whether the message (might have been) sent.\n   */ sendMessage(message) {\n        const messageForLog = {\n            type: message.type,\n            ...message.type === \"Authenticate\" && message.tokenType === \"User\" ? {\n                value: `...${message.value.slice(-7)}`\n            } : {}\n        };\n        if (this.socket.state === \"ready\" && this.socket.paused === \"no\") {\n            const encodedMessage = (0,_protocol_js__WEBPACK_IMPORTED_MODULE_0__.encodeClientMessage)(message);\n            const request = JSON.stringify(encodedMessage);\n            let sent = false;\n            try {\n                this.socket.ws.send(request);\n                sent = true;\n            } catch (error) {\n                this.logger.log(`Failed to send message on WebSocket, reconnecting: ${error}`);\n                this.closeAndReconnect(\"FailedToSendMessage\");\n            }\n            this._logVerbose(`${sent ? \"sent\" : \"failed to send\"} message with type ${message.type}: ${JSON.stringify(messageForLog)}`);\n            return true;\n        }\n        this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${\"paused\" in this.socket ? this.socket.paused : void 0}): ${JSON.stringify(messageForLog)}`);\n        return false;\n    }\n    resetServerInactivityTimeout() {\n        if (this.socket.state === \"terminated\") {\n            return;\n        }\n        if (this.reconnectDueToServerInactivityTimeout !== null) {\n            clearTimeout(this.reconnectDueToServerInactivityTimeout);\n            this.reconnectDueToServerInactivityTimeout = null;\n        }\n        this.reconnectDueToServerInactivityTimeout = setTimeout(()=>{\n            this.closeAndReconnect(\"InactiveServer\");\n        }, this.serverInactivityThreshold);\n    }\n    scheduleReconnect(reason) {\n        this.socket = {\n            state: \"disconnected\"\n        };\n        const backoff = this.nextBackoff(reason);\n        this.markConnectionStateDirty();\n        this.logger.log(`Attempting reconnect in ${Math.round(backoff)}ms`);\n        setTimeout(()=>this.connect(), backoff);\n    }\n    /**\n   * Close the WebSocket and schedule a reconnect.\n   *\n   * This should be used when we hit an error and would like to restart the session.\n   */ closeAndReconnect(closeReason) {\n        this._logVerbose(`begin closeAndReconnect with reason ${closeReason}`);\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"terminated\":\n            case \"stopped\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n                {\n                    this.lastCloseReason = closeReason;\n                    void this.close();\n                    this.scheduleReconnect(\"client\");\n                    return;\n                }\n            default:\n                {\n                    this.socket;\n                }\n        }\n    }\n    /**\n   * Close the WebSocket, being careful to clear the onclose handler to avoid re-entrant\n   * calls. Use this instead of directly calling `ws.close()`\n   *\n   * It is the callers responsibility to update the state after this method is called so that the\n   * closed socket is not accessible or used again after this method is called\n   */ close() {\n        this.transitionChunkBuffer = null;\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"terminated\":\n            case \"stopped\":\n                return Promise.resolve();\n            case \"connecting\":\n                {\n                    const ws = this.socket.ws;\n                    ws.onmessage = (_message)=>{\n                        this._logVerbose(\"Ignoring message received after close\");\n                    };\n                    return new Promise((r)=>{\n                        ws.onclose = ()=>{\n                            this._logVerbose(\"Closed after connecting\");\n                            r();\n                        };\n                        ws.onopen = ()=>{\n                            this._logVerbose(\"Opened after connecting\");\n                            ws.close();\n                        };\n                    });\n                }\n            case \"ready\":\n                {\n                    this._logVerbose(\"ws.close called\");\n                    const ws = this.socket.ws;\n                    ws.onmessage = (_message)=>{\n                        this._logVerbose(\"Ignoring message received after close\");\n                    };\n                    const result = new Promise((r)=>{\n                        ws.onclose = ()=>{\n                            r();\n                        };\n                    });\n                    ws.close();\n                    return result;\n                }\n            default:\n                {\n                    this.socket;\n                    return Promise.resolve();\n                }\n        }\n    }\n    /**\n   * Close the WebSocket and do not reconnect.\n   * @returns A Promise that resolves when the WebSocket `onClose` callback is called.\n   */ terminate() {\n        if (this.reconnectDueToServerInactivityTimeout) {\n            clearTimeout(this.reconnectDueToServerInactivityTimeout);\n        }\n        switch(this.socket.state){\n            case \"terminated\":\n            case \"stopped\":\n            case \"disconnected\":\n            case \"connecting\":\n            case \"ready\":\n                {\n                    const result = this.close();\n                    this.setSocketState({\n                        state: \"terminated\"\n                    });\n                    return result;\n                }\n            default:\n                {\n                    this.socket;\n                    throw new Error(`Invalid websocket state: ${this.socket.state}`);\n                }\n        }\n    }\n    stop() {\n        switch(this.socket.state){\n            case \"terminated\":\n                return Promise.resolve();\n            case \"connecting\":\n            case \"stopped\":\n            case \"disconnected\":\n            case \"ready\":\n                {\n                    const result = this.close();\n                    this.socket = {\n                        state: \"stopped\"\n                    };\n                    return result;\n                }\n            default:\n                {\n                    this.socket;\n                    return Promise.resolve();\n                }\n        }\n    }\n    /**\n   * Create a new WebSocket after a previous `stop()`, unless `terminate()` was\n   * called before.\n   */ tryRestart() {\n        switch(this.socket.state){\n            case \"stopped\":\n                break;\n            case \"terminated\":\n            case \"connecting\":\n            case \"ready\":\n            case \"disconnected\":\n                this.logger.logVerbose(\"Restart called without stopping first\");\n                return;\n            default:\n                {\n                    this.socket;\n                }\n        }\n        this.connect();\n    }\n    pause() {\n        switch(this.socket.state){\n            case \"disconnected\":\n            case \"stopped\":\n            case \"terminated\":\n                return;\n            case \"connecting\":\n            case \"ready\":\n                {\n                    this.socket = {\n                        ...this.socket,\n                        paused: \"yes\"\n                    };\n                    return;\n                }\n            default:\n                {\n                    this.socket;\n                    return;\n                }\n        }\n    }\n    /**\n   * Resume the state machine if previously paused.\n   */ resume() {\n        switch(this.socket.state){\n            case \"connecting\":\n                this.socket = {\n                    ...this.socket,\n                    paused: \"no\"\n                };\n                return;\n            case \"ready\":\n                if (this.socket.paused === \"uninitialized\") {\n                    this.socket = {\n                        ...this.socket,\n                        paused: \"no\"\n                    };\n                    this.onOpen({\n                        connectionCount: this.connectionCount,\n                        lastCloseReason: this.lastCloseReason,\n                        clientTs: monotonicMillis()\n                    });\n                } else if (this.socket.paused === \"yes\") {\n                    this.socket = {\n                        ...this.socket,\n                        paused: \"no\"\n                    };\n                    this.onResume();\n                }\n                return;\n            case \"terminated\":\n            case \"stopped\":\n            case \"disconnected\":\n                return;\n            default:\n                {\n                    this.socket;\n                }\n        }\n        this.connect();\n    }\n    connectionState() {\n        return {\n            isConnected: this.socket.state === \"ready\",\n            hasEverConnected: this._hasEverConnected,\n            connectionCount: this.connectionCount,\n            connectionRetries: this.retries\n        };\n    }\n    _logVerbose(message) {\n        this.logger.logVerbose(message);\n    }\n    nextBackoff(reason) {\n        const initialBackoff = reason === \"client\" ? 100 : reason === \"Unknown\" ? this.defaultInitialBackoff : serverDisconnectErrors[reason].timeout;\n        const baseBackoff = initialBackoff * Math.pow(2, this.retries);\n        this.retries += 1;\n        const actualBackoff = Math.min(baseBackoff, this.maxBackoff);\n        const jitter = actualBackoff * (Math.random() - 0.5);\n        return actualBackoff + jitter;\n    }\n    reportLargeTransition({ transition, messageLength }) {\n        if (transition.clientClockSkew === void 0 || transition.serverTs === void 0) {\n            return;\n        }\n        const transitionTransitTime = monotonicMillis() - // client time now\n        // clientClockSkew = (server time + upstream latency) - client time\n        // clientClockSkew is \"how many milliseconds behind (slow) is the client clock\"\n        // but the latency of the Connect message inflates this, making it appear further behind\n        transition.clientClockSkew - transition.serverTs / 1e6;\n        const prettyTransitionTime = `${Math.round(transitionTransitTime)}ms`;\n        const prettyMessageMB = `${Math.round(messageLength / 1e4) / 100}MB`;\n        const bytesPerSecond = messageLength / (transitionTransitTime / 1e3);\n        const prettyBytesPerSecond = `${Math.round(bytesPerSecond / 1e4) / 100}MB per second`;\n        this._logVerbose(`received ${prettyMessageMB} transition in ${prettyTransitionTime} at ${prettyBytesPerSecond}`);\n        if (messageLength > 2e7) {\n            this.logger.log(`received query results totaling more that 20MB (${prettyMessageMB}) which will take a long time to download on slower connections`);\n        } else if (transitionTransitTime > 2e4) {\n            this.logger.log(`received query results totaling ${prettyMessageMB} which took more than 20s to arrive (${prettyTransitionTime})`);\n        }\n        if (this.debug) {\n            this.sendMessage({\n                type: \"Event\",\n                eventType: \"ClientReceivedTransition\",\n                event: {\n                    transitionTransitTime,\n                    messageLength\n                }\n            });\n        }\n    }\n} //# sourceMappingURL=web_socket_manager.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2Jyb3dzZXIvc3luYy93ZWJfc29ja2V0X21hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFJakY7QUFDdkIsTUFBTU8sZUFBZTtBQUNyQixNQUFNQyxtQkFBbUI7QUFDekIsTUFBTUMsa0JBQWtCO0FBQ3hCLE1BQU1DLGtCQUFrQjtBQUN4QixJQUFJQztBQUNKLFNBQVNDO0lBQ1AsSUFBSUQsY0FBYyxLQUFLLEdBQUc7UUFDeEJBLFlBQVlFLEtBQUtDLEdBQUc7SUFDdEI7SUFDQSxJQUFJLE9BQU9DLGdCQUFnQixlQUFlLENBQUNBLFlBQVlELEdBQUcsRUFBRTtRQUMxRCxPQUFPRCxLQUFLQyxHQUFHO0lBQ2pCO0lBQ0EsT0FBT0UsS0FBS0MsS0FBSyxDQUFDTixZQUFZSSxZQUFZRCxHQUFHO0FBQy9DO0FBQ0EsU0FBU0k7SUFDUCxPQUFPLENBQUMsRUFBRSxFQUFFRixLQUFLQyxLQUFLLENBQUMsQ0FBQ0wsb0JBQW9CRCxTQUFRLElBQUssT0FBTyxHQUFHLENBQUMsQ0FBQztBQUN2RTtBQUNBLE1BQU1RLHlCQUF5QjtJQUM3QiwrQ0FBK0M7SUFDL0NDLHFCQUFxQjtRQUFFQyxTQUFTO0lBQUk7SUFDcEMscUVBQXFFO0lBQ3JFQyw4QkFBOEI7UUFBRUQsU0FBUztJQUFJO0lBQzdDRSwyQkFBMkI7UUFBRUYsU0FBUztJ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QVcsQ0FDZCxDQUFDLFNBQVMsRUFBRW9GLGdCQUFnQixlQUFlLEVBQUVELHFCQUFxQixJQUFJLEVBQUVHLHFCQUFxQixDQUFDO1FBRWhHLElBQUl4RCxnQkFBZ0IsS0FBSztZQUN2QixJQUFJLENBQUNoRCxNQUFNLENBQUMyQyxHQUFHLENBQ2IsQ0FBQyxnREFBZ0QsRUFBRTJELGdCQUFnQiwrREFBK0QsQ0FBQztRQUV2SSxPQUFPLElBQUlGLHdCQUF3QixLQUFLO1lBQ3RDLElBQUksQ0FBQ3BHLE1BQU0sQ0FBQzJDLEdBQUcsQ0FDYixDQUFDLGdDQUFnQyxFQUFFMkQsZ0JBQWdCLHFDQUFxQyxFQUFFRCxxQkFBcUIsQ0FBQyxDQUFDO1FBRXJIO1FBQ0EsSUFBSSxJQUFJLENBQUNuRyxLQUFLLEVBQUU7WUFDZCxJQUFJLENBQUMyRCxXQUFXLENBQUM7Z0JBQ2Z6QixNQUFNO2dCQUNOcUUsV0FBVztnQkFDWGxELE9BQU87b0JBQUU2QztvQkFBdUJwRDtnQkFBYztZQUNoRDtRQUNGO0lBQ0Y7QUFDRixFQUNBLDhDQUE4QyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9icm93c2VyL3N5bmMvd2ViX3NvY2tldF9tYW5hZ2VyLmpzPzEzYjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHtcbiAgZW5jb2RlQ2xpZW50TWVzc2FnZSxcbiAgcGFyc2VTZXJ2ZXJNZXNzYWdlXG59IGZyb20gXCIuL3Byb3RvY29sLmpzXCI7XG5jb25zdCBDTE9TRV9OT1JNQUwgPSAxZTM7XG5jb25zdCBDTE9TRV9HT0lOR19BV0FZID0gMTAwMTtcbmNvbnN0IENMT1NFX05PX1NUQVRVUyA9IDEwMDU7XG5jb25zdCBDTE9TRV9OT1RfRk9VTkQgPSA0MDQwO1xubGV0IGZpcnN0VGltZTtcbmZ1bmN0aW9uIG1vbm90b25pY01pbGxpcygpIHtcbiAgaWYgKGZpcnN0VGltZSA9PT0gdm9pZCAwKSB7XG4gICAgZmlyc3RUaW1lID0gRGF0ZS5ub3coKTtcbiAgfVxuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSBcInVuZGVmaW5lZFwiIHx8ICFwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxuICByZXR1cm4gTWF0aC5yb3VuZChmaXJzdFRpbWUgKyBwZXJmb3JtYW5jZS5ub3coKSk7XG59XG5mdW5jdGlvbiBwcmV0dHlOb3coKSB7XG4gIHJldHVybiBgdD0ke01hdGgucm91bmQoKG1vbm90b25pY01pbGxpcygpIC0gZmlyc3RUaW1lKSAvIDEwMCkgLyAxMH1zYDtcbn1cbmNvbnN0IHNlcnZlckRpc2Nvbm5lY3RFcnJvcnMgPSB7XG4gIC8vIEEga25vd24gZXJyb3IsIGUuZy4gZHVyaW5nIGEgcmVzdGFydCBvciBwdXNoXG4gIEludGVybmFsU2VydmVyRXJyb3I6IHsgdGltZW91dDogMWUzIH0sXG4gIC8vIEVycm9yTWV0YWRhdGE6Om92ZXJsb2FkZWQoKSBtZXNzYWdlcyB0aGF0IHdlIHJlYWx5IHNob3VsZCBiYWNrIG9mZlxuICBTdWJzY3JpcHRpb25zV29ya2VyRnVsbEVycm9yOiB7IHRpbWVvdXQ6IDNlMyB9LFxuICBUb29NYW55Q29uY3VycmVudFJlcXVlc3RzOiB7IHRpbWVvdXQ6IDNlMyB9LFxuICBDb21taXR0ZXJGdWxsRXJyb3I6IHsgdGltZW91dDogM2UzIH0sXG4gIEF3c1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbjogeyB0aW1lb3V0OiAzZTMgfSxcbiAgRXhlY3V0ZUZ1bGxFcnJvcjogeyB0aW1lb3V0OiAzZTMgfSxcbiAgU3lzdGVtVGltZW91dEVycm9yOiB7IHRpbWVvdXQ6IDNlMyB9LFxuICBFeHBpcmVkSW5RdWV1ZTogeyB0aW1lb3V0OiAzZTMgfSxcbiAgLy8gRXJyb3JNZXRhZGF0YTo6ZmVhdHVyZV90ZW1wb3JhcmlseV91bmF2YWlsYWJsZSgpIHRoYXQgdHlwaWNhbGx5IGluZGljYXRlIGEgZGVwbG95IGp1c3QgaGFwcGVuZWRcbiAgVmVjdG9ySW5kZXhlc1VuYXZhaWxhYmxlOiB7IHRpbWVvdXQ6IDFlMyB9LFxuICBTZWFyY2hJbmRleGVzVW5hdmFpbGFibGU6IHsgdGltZW91dDogMWUzIH0sXG4gIFRhYmxlU3VtbWFyaWVzVW5hdmFpbGFibGU6IHsgdGltZW91dDogMWUzIH0sXG4gIC8vIE1vcmUgRXJyb3JNZXRhZGF0YTo6b3ZlcmxvYWRlZCgpXG4gIFZlY3RvckluZGV4VG9vTGFyZ2U6IHsgdGltZW91dDogM2UzIH0sXG4gIFNlYXJjaEluZGV4VG9vTGFyZ2U6IHsgdGltZW91dDogM2UzIH0sXG4gIFRvb01hbnlXcml0ZXNJblRpbWVQZXJpb2Q6IHsgdGltZW91dDogM2UzIH1cbn07XG5mdW5jdGlvbiBjbGFzc2lmeURpc2Nvbm5lY3RFcnJvcihzKSB7XG4gIGlmIChzID09PSB2b2lkIDApIHJldHVybiBcIlVua25vd25cIjtcbiAgZm9yIChjb25zdCBwcmVmaXggb2YgT2JqZWN0LmtleXMoXG4gICAgc2VydmVyRGlzY29ubmVjdEVycm9yc1xuICApKSB7XG4gICAgaWYgKHMuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICByZXR1cm4gcHJlZml4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJVbmtub3duXCI7XG59XG5leHBvcnQgY2xhc3MgV2ViU29ja2V0TWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKHVyaSwgY2FsbGJhY2tzLCB3ZWJTb2NrZXRDb25zdHJ1Y3RvciwgbG9nZ2VyLCBtYXJrQ29ubmVjdGlvblN0YXRlRGlydHksIGRlYnVnKSB7XG4gICAgdGhpcy5tYXJrQ29ubmVjdGlvblN0YXRlRGlydHkgPSBtYXJrQ29ubmVjdGlvblN0YXRlRGlydHk7XG4gICAgdGhpcy5kZWJ1ZyA9IGRlYnVnO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzb2NrZXRcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNvbm5lY3Rpb25Db3VudFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2hhc0V2ZXJDb25uZWN0ZWRcIiwgZmFsc2UpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJsYXN0Q2xvc2VSZWFzb25cIik7XG4gICAgLy8gU3RhdGUgZm9yIGFzc2VtYmxpbmcgdGhlIHNwbGl0LXVwIFRyYW5zaXRpb24gY3VycmVudGx5IGJlaW5nIHJlY2VpdmVkLlxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ0cmFuc2l0aW9uQ2h1bmtCdWZmZXJcIiwgbnVsbCk7XG4gICAgLyoqIFVwb24gSFRUUFMvV1NTIGZhaWx1cmUsIHRoZSBmaXJzdCBqaXR0ZXJlZCBiYWNrb2ZmIGR1cmF0aW9uLCBpbiBtcy4gKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZGVmYXVsdEluaXRpYWxCYWNrb2ZmXCIpO1xuICAgIC8qKiBXZSBiYWNrb2ZmIGV4cG9uZW50aWFsbHksIGJ1dCB3ZSBuZWVkIHRvIGNhcCB0aGF0LS10aGlzIGlzIHRoZSBqaXR0ZXJlZCBtYXguICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm1heEJhY2tvZmZcIik7XG4gICAgLyoqIEhvdyBtYW55IHRpbWVzIGhhdmUgd2UgZmFpbGVkIGNvbnNlY3V0aXZlbHk/ICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJldHJpZXNcIik7XG4gICAgLyoqIEhvdyBsb25nIGJlZm9yZSBsYWNrIG9mIHNlcnZlciByZXNwb25zZSBjYXVzZXMgdXMgdG8gaW5pdGlhdGUgYSByZWNvbm5lY3QsXG4gICAgICogaW4gbXMgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2VydmVySW5hY3Rpdml0eVRocmVzaG9sZFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidXJpXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvbk9wZW5cIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9uUmVzdW1lXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJvbk1lc3NhZ2VcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIndlYlNvY2tldENvbnN0cnVjdG9yXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJsb2dnZXJcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9uU2VydmVyRGlzY29ubmVjdEVycm9yXCIpO1xuICAgIHRoaXMud2ViU29ja2V0Q29uc3RydWN0b3IgPSB3ZWJTb2NrZXRDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnNvY2tldCA9IHsgc3RhdGU6IFwiZGlzY29ubmVjdGVkXCIgfTtcbiAgICB0aGlzLmNvbm5lY3Rpb25Db3VudCA9IDA7XG4gICAgdGhpcy5sYXN0Q2xvc2VSZWFzb24gPSBcIkluaXRpYWxDb25uZWN0XCI7XG4gICAgdGhpcy5kZWZhdWx0SW5pdGlhbEJhY2tvZmYgPSAxZTM7XG4gICAgdGhpcy5tYXhCYWNrb2ZmID0gMTZlMztcbiAgICB0aGlzLnJldHJpZXMgPSAwO1xuICAgIHRoaXMuc2VydmVySW5hY3Rpdml0eVRocmVzaG9sZCA9IDZlNDtcbiAgICB0aGlzLnJlY29ubmVjdER1ZVRvU2VydmVySW5hY3Rpdml0eVRpbWVvdXQgPSBudWxsO1xuICAgIHRoaXMudXJpID0gdXJpO1xuICAgIHRoaXMub25PcGVuID0gY2FsbGJhY2tzLm9uT3BlbjtcbiAgICB0aGlzLm9uUmVzdW1lID0gY2FsbGJhY2tzLm9uUmVzdW1lO1xuICAgIHRoaXMub25NZXNzYWdlID0gY2FsbGJhY2tzLm9uTWVzc2FnZTtcbiAgICB0aGlzLm9uU2VydmVyRGlzY29ubmVjdEVycm9yID0gY2FsbGJhY2tzLm9uU2VydmVyRGlzY29ubmVjdEVycm9yO1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICAgIHRoaXMuY29ubmVjdCgpO1xuICB9XG4gIHNldFNvY2tldFN0YXRlKHN0YXRlKSB7XG4gICAgdGhpcy5zb2NrZXQgPSBzdGF0ZTtcbiAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgYHNvY2tldCBzdGF0ZSBjaGFuZ2VkOiAke3RoaXMuc29ja2V0LnN0YXRlfSwgcGF1c2VkOiAke1wicGF1c2VkXCIgaW4gdGhpcy5zb2NrZXQgPyB0aGlzLnNvY2tldC5wYXVzZWQgOiB2b2lkIDB9YFxuICAgICk7XG4gICAgdGhpcy5tYXJrQ29ubmVjdGlvblN0YXRlRGlydHkoKTtcbiAgfVxuICBhc3NlbWJsZVRyYW5zaXRpb24oY2h1bmspIHtcbiAgICBpZiAoY2h1bmsucGFydE51bWJlciA8IDAgfHwgY2h1bmsucGFydE51bWJlciA+PSBjaHVuay50b3RhbFBhcnRzIHx8IGNodW5rLnRvdGFsUGFydHMgPT09IDAgfHwgdGhpcy50cmFuc2l0aW9uQ2h1bmtCdWZmZXIgJiYgKHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyLnRvdGFsUGFydHMgIT09IGNodW5rLnRvdGFsUGFydHMgfHwgdGhpcy50cmFuc2l0aW9uQ2h1bmtCdWZmZXIudHJhbnNpdGlvbklkICE9PSBjaHVuay50cmFuc2l0aW9uSWQpKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlciA9IG51bGw7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFRyYW5zaXRpb25DaHVua1wiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID09PSBudWxsKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlciA9IHtcbiAgICAgICAgY2h1bmtzOiBbXSxcbiAgICAgICAgdG90YWxQYXJ0czogY2h1bmsudG90YWxQYXJ0cyxcbiAgICAgICAgdHJhbnNpdGlvbklkOiBjaHVuay50cmFuc2l0aW9uSWRcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChjaHVuay5wYXJ0TnVtYmVyICE9PSB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlci5jaHVua3MubGVuZ3RoKSB7XG4gICAgICBjb25zdCBleHBlY3RlZExlbmd0aCA9IHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyLmNodW5rcy5sZW5ndGg7XG4gICAgICB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlciA9IG51bGw7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBUcmFuc2l0aW9uQ2h1bmsgcmVjZWl2ZWQgb3V0IG9mIG9yZGVyOiBleHBlY3RlZCBwYXJ0ICR7ZXhwZWN0ZWRMZW5ndGh9LCBnb3QgJHtjaHVuay5wYXJ0TnVtYmVyfWBcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyLmNodW5rcy5wdXNoKGNodW5rLmNodW5rKTtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uQ2h1bmtCdWZmZXIuY2h1bmtzLmxlbmd0aCA9PT0gY2h1bmsudG90YWxQYXJ0cykge1xuICAgICAgY29uc3QgZnVsbEpzb24gPSB0aGlzLnRyYW5zaXRpb25DaHVua0J1ZmZlci5jaHVua3Muam9pbihcIlwiKTtcbiAgICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID0gbnVsbDtcbiAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSBwYXJzZVNlcnZlck1lc3NhZ2UoSlNPTi5wYXJzZShmdWxsSnNvbikpO1xuICAgICAgaWYgKHRyYW5zaXRpb24udHlwZSAhPT0gXCJUcmFuc2l0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBFeHBlY3RlZCBUcmFuc2l0aW9uLCBnb3QgJHt0cmFuc2l0aW9uLnR5cGV9IGFmdGVyIGFzc2VtYmxpbmcgY2h1bmtzYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYW5zaXRpb247XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbm5lY3QoKSB7XG4gICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlID09PSBcInRlcm1pbmF0ZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zb2NrZXQuc3RhdGUgIT09IFwiZGlzY29ubmVjdGVkXCIgJiYgdGhpcy5zb2NrZXQuc3RhdGUgIT09IFwic3RvcHBlZFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRGlkbid0IHN0YXJ0IGNvbm5lY3Rpb24gZnJvbSBkaXNjb25uZWN0ZWQgc3RhdGU6IFwiICsgdGhpcy5zb2NrZXQuc3RhdGVcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHdzID0gbmV3IHRoaXMud2ViU29ja2V0Q29uc3RydWN0b3IodGhpcy51cmkpO1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJjb25zdHJ1Y3RlZCBXZWJTb2NrZXRcIik7XG4gICAgdGhpcy5zZXRTb2NrZXRTdGF0ZSh7XG4gICAgICBzdGF0ZTogXCJjb25uZWN0aW5nXCIsXG4gICAgICB3cyxcbiAgICAgIHBhdXNlZDogXCJub1wiXG4gICAgfSk7XG4gICAgdGhpcy5yZXNldFNlcnZlckluYWN0aXZpdHlUaW1lb3V0KCk7XG4gICAgd3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIubG9nVmVyYm9zZShcImJlZ2luIHdzLm9ub3BlblwiKTtcbiAgICAgIGlmICh0aGlzLnNvY2tldC5zdGF0ZSAhPT0gXCJjb25uZWN0aW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwib25vcGVuIGNhbGxlZCB3aXRoIHNvY2tldCBub3QgaW4gY29ubmVjdGluZyBzdGF0ZVwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U29ja2V0U3RhdGUoe1xuICAgICAgICBzdGF0ZTogXCJyZWFkeVwiLFxuICAgICAgICB3cyxcbiAgICAgICAgcGF1c2VkOiB0aGlzLnNvY2tldC5wYXVzZWQgPT09IFwieWVzXCIgPyBcInVuaW5pdGlhbGl6ZWRcIiA6IFwibm9cIlxuICAgICAgfSk7XG4gICAgICB0aGlzLnJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKTtcbiAgICAgIGlmICh0aGlzLnNvY2tldC5wYXVzZWQgPT09IFwibm9cIikge1xuICAgICAgICB0aGlzLl9oYXNFdmVyQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vbk9wZW4oe1xuICAgICAgICAgIGNvbm5lY3Rpb25Db3VudDogdGhpcy5jb25uZWN0aW9uQ291bnQsXG4gICAgICAgICAgbGFzdENsb3NlUmVhc29uOiB0aGlzLmxhc3RDbG9zZVJlYXNvbixcbiAgICAgICAgICBjbGllbnRUczogbW9ub3RvbmljTWlsbGlzKClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5sYXN0Q2xvc2VSZWFzb24gIT09IFwiSW5pdGlhbENvbm5lY3RcIikge1xuICAgICAgICBpZiAodGhpcy5sYXN0Q2xvc2VSZWFzb24pIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci5sb2coXG4gICAgICAgICAgICBcIldlYlNvY2tldCByZWNvbm5lY3RlZCBhdFwiLFxuICAgICAgICAgICAgcHJldHR5Tm93KCksXG4gICAgICAgICAgICBcImFmdGVyIGRpc2Nvbm5lY3QgZHVlIHRvXCIsXG4gICAgICAgICAgICB0aGlzLmxhc3RDbG9zZVJlYXNvblxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIubG9nKFwiV2ViU29ja2V0IHJlY29ubmVjdGVkIGF0XCIsIHByZXR0eU5vdygpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5jb25uZWN0aW9uQ291bnQgKz0gMTtcbiAgICAgIHRoaXMubGFzdENsb3NlUmVhc29uID0gbnVsbDtcbiAgICB9O1xuICAgIHdzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID0gbnVsbDtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKGBXZWJTb2NrZXQgZXJyb3IgbWVzc2FnZTogJHttZXNzYWdlfWApO1xuICAgICAgfVxuICAgIH07XG4gICAgd3Mub25tZXNzYWdlID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgIHRoaXMucmVzZXRTZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCgpO1xuICAgICAgY29uc3QgbWVzc2FnZUxlbmd0aCA9IG1lc3NhZ2UuZGF0YS5sZW5ndGg7XG4gICAgICBsZXQgc2VydmVyTWVzc2FnZSA9IHBhcnNlU2VydmVyTWVzc2FnZShKU09OLnBhcnNlKG1lc3NhZ2UuZGF0YSkpO1xuICAgICAgdGhpcy5fbG9nVmVyYm9zZShgcmVjZWl2ZWQgd3MgbWVzc2FnZSB3aXRoIHR5cGUgJHtzZXJ2ZXJNZXNzYWdlLnR5cGV9YCk7XG4gICAgICBpZiAoc2VydmVyTWVzc2FnZS50eXBlID09PSBcIlBpbmdcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2VydmVyTWVzc2FnZS50eXBlID09PSBcIlRyYW5zaXRpb25DaHVua1wiKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB0aGlzLmFzc2VtYmxlVHJhbnNpdGlvbihzZXJ2ZXJNZXNzYWdlKTtcbiAgICAgICAgaWYgKCF0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlcnZlck1lc3NhZ2UgPSB0cmFuc2l0aW9uO1xuICAgICAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgICAgIGBhc3NlbWJsZWQgZnVsbCB3cyBtZXNzYWdlIG9mIHR5cGUgJHtzZXJ2ZXJNZXNzYWdlLnR5cGV9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICAgIGBSZWNlaXZlZCB1bmV4cGVjdGVkICR7c2VydmVyTWVzc2FnZS50eXBlfSB3aGlsZSBidWZmZXJpbmcgVHJhbnNpdGlvbkNodW5rc2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzZXJ2ZXJNZXNzYWdlLnR5cGUgPT09IFwiVHJhbnNpdGlvblwiKSB7XG4gICAgICAgIHRoaXMucmVwb3J0TGFyZ2VUcmFuc2l0aW9uKHtcbiAgICAgICAgICBtZXNzYWdlTGVuZ3RoLFxuICAgICAgICAgIHRyYW5zaXRpb246IHNlcnZlck1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZSA9IHRoaXMub25NZXNzYWdlKHNlcnZlck1lc3NhZ2UpO1xuICAgICAgaWYgKHJlc3BvbnNlLmhhc1N5bmNlZFBhc3RMYXN0UmVjb25uZWN0KSB7XG4gICAgICAgIHRoaXMucmV0cmllcyA9IDA7XG4gICAgICAgIHRoaXMubWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5KCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3cy5vbmNsb3NlID0gKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFwiYmVnaW4gd3Mub25jbG9zZVwiKTtcbiAgICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID0gbnVsbDtcbiAgICAgIGlmICh0aGlzLmxhc3RDbG9zZVJlYXNvbiA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLmxhc3RDbG9zZVJlYXNvbiA9IGV2ZW50LnJlYXNvbiB8fCBgY2xvc2VkIHdpdGggY29kZSAke2V2ZW50LmNvZGV9YDtcbiAgICAgIH1cbiAgICAgIGlmIChldmVudC5jb2RlICE9PSBDTE9TRV9OT1JNQUwgJiYgZXZlbnQuY29kZSAhPT0gQ0xPU0VfR09JTkdfQVdBWSAmJiAvLyBUaGlzIGNvbW1vbmx5IGdldHMgZmlyZWQgb24gbW9iaWxlIGFwcHMgd2hlbiB0aGUgYXBwIGlzIGJhY2tncm91bmRlZFxuICAgICAgZXZlbnQuY29kZSAhPT0gQ0xPU0VfTk9fU1RBVFVTICYmIGV2ZW50LmNvZGUgIT09IENMT1NFX05PVF9GT1VORCkge1xuICAgICAgICBsZXQgbXNnID0gYFdlYlNvY2tldCBjbG9zZWQgd2l0aCBjb2RlICR7ZXZlbnQuY29kZX1gO1xuICAgICAgICBpZiAoZXZlbnQucmVhc29uKSB7XG4gICAgICAgICAgbXNnICs9IGA6ICR7ZXZlbnQucmVhc29ufWA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKG1zZyk7XG4gICAgICAgIGlmICh0aGlzLm9uU2VydmVyRGlzY29ubmVjdEVycm9yICYmIGV2ZW50LnJlYXNvbikge1xuICAgICAgICAgIHRoaXMub25TZXJ2ZXJEaXNjb25uZWN0RXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgcmVhc29uID0gY2xhc3NpZnlEaXNjb25uZWN0RXJyb3IoZXZlbnQucmVhc29uKTtcbiAgICAgIHRoaXMuc2NoZWR1bGVSZWNvbm5lY3QocmVhc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgc3RhdGUgb2YgdGhlIHtAbGluayBTb2NrZXR9LlxuICAgKi9cbiAgc29ja2V0U3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc29ja2V0LnN0YXRlO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIEEgQ2xpZW50TWVzc2FnZSB0byBzZW5kLlxuICAgKiBAcmV0dXJucyBXaGV0aGVyIHRoZSBtZXNzYWdlIChtaWdodCBoYXZlIGJlZW4pIHNlbnQuXG4gICAqL1xuICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgY29uc3QgbWVzc2FnZUZvckxvZyA9IHtcbiAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgIC4uLm1lc3NhZ2UudHlwZSA9PT0gXCJBdXRoZW50aWNhdGVcIiAmJiBtZXNzYWdlLnRva2VuVHlwZSA9PT0gXCJVc2VyXCIgPyB7XG4gICAgICAgIHZhbHVlOiBgLi4uJHttZXNzYWdlLnZhbHVlLnNsaWNlKC03KX1gXG4gICAgICB9IDoge31cbiAgICB9O1xuICAgIGlmICh0aGlzLnNvY2tldC5zdGF0ZSA9PT0gXCJyZWFkeVwiICYmIHRoaXMuc29ja2V0LnBhdXNlZCA9PT0gXCJub1wiKSB7XG4gICAgICBjb25zdCBlbmNvZGVkTWVzc2FnZSA9IGVuY29kZUNsaWVudE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gSlNPTi5zdHJpbmdpZnkoZW5jb2RlZE1lc3NhZ2UpO1xuICAgICAgbGV0IHNlbnQgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuc29ja2V0LndzLnNlbmQocmVxdWVzdCk7XG4gICAgICAgIHNlbnQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICAgIGBGYWlsZWQgdG8gc2VuZCBtZXNzYWdlIG9uIFdlYlNvY2tldCwgcmVjb25uZWN0aW5nOiAke2Vycm9yfWBcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jbG9zZUFuZFJlY29ubmVjdChcIkZhaWxlZFRvU2VuZE1lc3NhZ2VcIik7XG4gICAgICB9XG4gICAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgICBgJHtzZW50ID8gXCJzZW50XCIgOiBcImZhaWxlZCB0byBzZW5kXCJ9IG1lc3NhZ2Ugd2l0aCB0eXBlICR7bWVzc2FnZS50eXBlfTogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBtZXNzYWdlRm9yTG9nXG4gICAgICAgICl9YFxuICAgICAgKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9sb2dWZXJib3NlKFxuICAgICAgYG1lc3NhZ2Ugbm90IHNlbnQgKHNvY2tldCBzdGF0ZTogJHt0aGlzLnNvY2tldC5zdGF0ZX0sIHBhdXNlZDogJHtcInBhdXNlZFwiIGluIHRoaXMuc29ja2V0ID8gdGhpcy5zb2NrZXQucGF1c2VkIDogdm9pZCAwfSk6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIG1lc3NhZ2VGb3JMb2dcbiAgICAgICl9YFxuICAgICk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJlc2V0U2VydmVySW5hY3Rpdml0eVRpbWVvdXQoKSB7XG4gICAgaWYgKHRoaXMuc29ja2V0LnN0YXRlID09PSBcInRlcm1pbmF0ZWRcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3REdWVUb1NlcnZlckluYWN0aXZpdHlUaW1lb3V0KTtcbiAgICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZUFuZFJlY29ubmVjdChcIkluYWN0aXZlU2VydmVyXCIpO1xuICAgIH0sIHRoaXMuc2VydmVySW5hY3Rpdml0eVRocmVzaG9sZCk7XG4gIH1cbiAgc2NoZWR1bGVSZWNvbm5lY3QocmVhc29uKSB7XG4gICAgdGhpcy5zb2NrZXQgPSB7IHN0YXRlOiBcImRpc2Nvbm5lY3RlZFwiIH07XG4gICAgY29uc3QgYmFja29mZiA9IHRoaXMubmV4dEJhY2tvZmYocmVhc29uKTtcbiAgICB0aGlzLm1hcmtDb25uZWN0aW9uU3RhdGVEaXJ0eSgpO1xuICAgIHRoaXMubG9nZ2VyLmxvZyhgQXR0ZW1wdGluZyByZWNvbm5lY3QgaW4gJHtNYXRoLnJvdW5kKGJhY2tvZmYpfW1zYCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmNvbm5lY3QoKSwgYmFja29mZik7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBXZWJTb2NrZXQgYW5kIHNjaGVkdWxlIGEgcmVjb25uZWN0LlxuICAgKlxuICAgKiBUaGlzIHNob3VsZCBiZSB1c2VkIHdoZW4gd2UgaGl0IGFuIGVycm9yIGFuZCB3b3VsZCBsaWtlIHRvIHJlc3RhcnQgdGhlIHNlc3Npb24uXG4gICAqL1xuICBjbG9zZUFuZFJlY29ubmVjdChjbG9zZVJlYXNvbikge1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoYGJlZ2luIGNsb3NlQW5kUmVjb25uZWN0IHdpdGggcmVhc29uICR7Y2xvc2VSZWFzb259YCk7XG4gICAgc3dpdGNoICh0aGlzLnNvY2tldC5zdGF0ZSkge1xuICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJjb25uZWN0aW5nXCI6XG4gICAgICBjYXNlIFwicmVhZHlcIjoge1xuICAgICAgICB0aGlzLmxhc3RDbG9zZVJlYXNvbiA9IGNsb3NlUmVhc29uO1xuICAgICAgICB2b2lkIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZVJlY29ubmVjdChcImNsaWVudFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aGlzLnNvY2tldDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIHRoZSBXZWJTb2NrZXQsIGJlaW5nIGNhcmVmdWwgdG8gY2xlYXIgdGhlIG9uY2xvc2UgaGFuZGxlciB0byBhdm9pZCByZS1lbnRyYW50XG4gICAqIGNhbGxzLiBVc2UgdGhpcyBpbnN0ZWFkIG9mIGRpcmVjdGx5IGNhbGxpbmcgYHdzLmNsb3NlKClgXG4gICAqXG4gICAqIEl0IGlzIHRoZSBjYWxsZXJzIHJlc3BvbnNpYmlsaXR5IHRvIHVwZGF0ZSB0aGUgc3RhdGUgYWZ0ZXIgdGhpcyBtZXRob2QgaXMgY2FsbGVkIHNvIHRoYXQgdGhlXG4gICAqIGNsb3NlZCBzb2NrZXQgaXMgbm90IGFjY2Vzc2libGUgb3IgdXNlZCBhZ2FpbiBhZnRlciB0aGlzIG1ldGhvZCBpcyBjYWxsZWRcbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMudHJhbnNpdGlvbkNodW5rQnVmZmVyID0gbnVsbDtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwidGVybWluYXRlZFwiOlxuICAgICAgY2FzZSBcInN0b3BwZWRcIjpcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjoge1xuICAgICAgICBjb25zdCB3cyA9IHRoaXMuc29ja2V0LndzO1xuICAgICAgICB3cy5vbm1lc3NhZ2UgPSAoX21lc3NhZ2UpID0+IHtcbiAgICAgICAgICB0aGlzLl9sb2dWZXJib3NlKFwiSWdub3JpbmcgbWVzc2FnZSByZWNlaXZlZCBhZnRlciBjbG9zZVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyKSA9PiB7XG4gICAgICAgICAgd3Mub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJDbG9zZWQgYWZ0ZXIgY29ubmVjdGluZ1wiKTtcbiAgICAgICAgICAgIHIoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHdzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXCJPcGVuZWQgYWZ0ZXIgY29ubmVjdGluZ1wiKTtcbiAgICAgICAgICAgIHdzLmNsb3NlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjYXNlIFwicmVhZHlcIjoge1xuICAgICAgICB0aGlzLl9sb2dWZXJib3NlKFwid3MuY2xvc2UgY2FsbGVkXCIpO1xuICAgICAgICBjb25zdCB3cyA9IHRoaXMuc29ja2V0LndzO1xuICAgICAgICB3cy5vbm1lc3NhZ2UgPSAoX21lc3NhZ2UpID0+IHtcbiAgICAgICAgICB0aGlzLl9sb2dWZXJib3NlKFwiSWdub3JpbmcgbWVzc2FnZSByZWNlaXZlZCBhZnRlciBjbG9zZVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFByb21pc2UoKHIpID0+IHtcbiAgICAgICAgICB3cy5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgcigpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB3cy5jbG9zZSgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICB0aGlzLnNvY2tldDtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2xvc2UgdGhlIFdlYlNvY2tldCBhbmQgZG8gbm90IHJlY29ubmVjdC5cbiAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgV2ViU29ja2V0IGBvbkNsb3NlYCBjYWxsYmFjayBpcyBjYWxsZWQuXG4gICAqL1xuICB0ZXJtaW5hdGUoKSB7XG4gICAgaWYgKHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVjb25uZWN0RHVlVG9TZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5zb2NrZXQuc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgIGNhc2UgXCJyZWFkeVwiOiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zZXRTb2NrZXRTdGF0ZSh7IHN0YXRlOiBcInRlcm1pbmF0ZWRcIiB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhpcy5zb2NrZXQ7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgSW52YWxpZCB3ZWJzb2NrZXQgc3RhdGU6ICR7dGhpcy5zb2NrZXQuc3RhdGV9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIHN3aXRjaCAodGhpcy5zb2NrZXQuc3RhdGUpIHtcbiAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIGNhc2UgXCJjb25uZWN0aW5nXCI6XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgY2FzZSBcImRpc2Nvbm5lY3RlZFwiOlxuICAgICAgY2FzZSBcInJlYWR5XCI6IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5jbG9zZSgpO1xuICAgICAgICB0aGlzLnNvY2tldCA9IHsgc3RhdGU6IFwic3RvcHBlZFwiIH07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRoaXMuc29ja2V0O1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgV2ViU29ja2V0IGFmdGVyIGEgcHJldmlvdXMgYHN0b3AoKWAsIHVubGVzcyBgdGVybWluYXRlKClgIHdhc1xuICAgKiBjYWxsZWQgYmVmb3JlLlxuICAgKi9cbiAgdHJ5UmVzdGFydCgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0ZXJtaW5hdGVkXCI6XG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgY2FzZSBcInJlYWR5XCI6XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZ1ZlcmJvc2UoXCJSZXN0YXJ0IGNhbGxlZCB3aXRob3V0IHN0b3BwaW5nIGZpcnN0XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRoaXMuc29ja2V0O1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNvbm5lY3QoKTtcbiAgfVxuICBwYXVzZSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICBjYXNlIFwic3RvcHBlZFwiOlxuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcImNvbm5lY3RpbmdcIjpcbiAgICAgIGNhc2UgXCJyZWFkeVwiOiB7XG4gICAgICAgIHRoaXMuc29ja2V0ID0geyAuLi50aGlzLnNvY2tldCwgcGF1c2VkOiBcInllc1wiIH07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhpcy5zb2NrZXQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlc3VtZSB0aGUgc3RhdGUgbWFjaGluZSBpZiBwcmV2aW91c2x5IHBhdXNlZC5cbiAgICovXG4gIHJlc3VtZSgpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc29ja2V0LnN0YXRlKSB7XG4gICAgICBjYXNlIFwiY29ubmVjdGluZ1wiOlxuICAgICAgICB0aGlzLnNvY2tldCA9IHsgLi4udGhpcy5zb2NrZXQsIHBhdXNlZDogXCJub1wiIH07XG4gICAgICAgIHJldHVybjtcbiAgICAgIGNhc2UgXCJyZWFkeVwiOlxuICAgICAgICBpZiAodGhpcy5zb2NrZXQucGF1c2VkID09PSBcInVuaW5pdGlhbGl6ZWRcIikge1xuICAgICAgICAgIHRoaXMuc29ja2V0ID0geyAuLi50aGlzLnNvY2tldCwgcGF1c2VkOiBcIm5vXCIgfTtcbiAgICAgICAgICB0aGlzLm9uT3Blbih7XG4gICAgICAgICAgICBjb25uZWN0aW9uQ291bnQ6IHRoaXMuY29ubmVjdGlvbkNvdW50LFxuICAgICAgICAgICAgbGFzdENsb3NlUmVhc29uOiB0aGlzLmxhc3RDbG9zZVJlYXNvbixcbiAgICAgICAgICAgIGNsaWVudFRzOiBtb25vdG9uaWNNaWxsaXMoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc29ja2V0LnBhdXNlZCA9PT0gXCJ5ZXNcIikge1xuICAgICAgICAgIHRoaXMuc29ja2V0ID0geyAuLi50aGlzLnNvY2tldCwgcGF1c2VkOiBcIm5vXCIgfTtcbiAgICAgICAgICB0aGlzLm9uUmVzdW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgY2FzZSBcInRlcm1pbmF0ZWRcIjpcbiAgICAgIGNhc2UgXCJzdG9wcGVkXCI6XG4gICAgICBjYXNlIFwiZGlzY29ubmVjdGVkXCI6XG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhpcy5zb2NrZXQ7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY29ubmVjdCgpO1xuICB9XG4gIGNvbm5lY3Rpb25TdGF0ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuc29ja2V0LnN0YXRlID09PSBcInJlYWR5XCIsXG4gICAgICBoYXNFdmVyQ29ubmVjdGVkOiB0aGlzLl9oYXNFdmVyQ29ubmVjdGVkLFxuICAgICAgY29ubmVjdGlvbkNvdW50OiB0aGlzLmNvbm5lY3Rpb25Db3VudCxcbiAgICAgIGNvbm5lY3Rpb25SZXRyaWVzOiB0aGlzLnJldHJpZXNcbiAgICB9O1xuICB9XG4gIF9sb2dWZXJib3NlKG1lc3NhZ2UpIHtcbiAgICB0aGlzLmxvZ2dlci5sb2dWZXJib3NlKG1lc3NhZ2UpO1xuICB9XG4gIG5leHRCYWNrb2ZmKHJlYXNvbikge1xuICAgIGNvbnN0IGluaXRpYWxCYWNrb2ZmID0gcmVhc29uID09PSBcImNsaWVudFwiID8gMTAwIDogcmVhc29uID09PSBcIlVua25vd25cIiA/IHRoaXMuZGVmYXVsdEluaXRpYWxCYWNrb2ZmIDogc2VydmVyRGlzY29ubmVjdEVycm9yc1tyZWFzb25dLnRpbWVvdXQ7XG4gICAgY29uc3QgYmFzZUJhY2tvZmYgPSBpbml0aWFsQmFja29mZiAqIE1hdGgucG93KDIsIHRoaXMucmV0cmllcyk7XG4gICAgdGhpcy5yZXRyaWVzICs9IDE7XG4gICAgY29uc3QgYWN0dWFsQmFja29mZiA9IE1hdGgubWluKGJhc2VCYWNrb2ZmLCB0aGlzLm1heEJhY2tvZmYpO1xuICAgIGNvbnN0IGppdHRlciA9IGFjdHVhbEJhY2tvZmYgKiAoTWF0aC5yYW5kb20oKSAtIDAuNSk7XG4gICAgcmV0dXJuIGFjdHVhbEJhY2tvZmYgKyBqaXR0ZXI7XG4gIH1cbiAgcmVwb3J0TGFyZ2VUcmFuc2l0aW9uKHtcbiAgICB0cmFuc2l0aW9uLFxuICAgIG1lc3NhZ2VMZW5ndGhcbiAgfSkge1xuICAgIGlmICh0cmFuc2l0aW9uLmNsaWVudENsb2NrU2tldyA9PT0gdm9pZCAwIHx8IHRyYW5zaXRpb24uc2VydmVyVHMgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0cmFuc2l0aW9uVHJhbnNpdFRpbWUgPSBtb25vdG9uaWNNaWxsaXMoKSAtIC8vIGNsaWVudCB0aW1lIG5vd1xuICAgIC8vIGNsaWVudENsb2NrU2tldyA9IChzZXJ2ZXIgdGltZSArIHVwc3RyZWFtIGxhdGVuY3kpIC0gY2xpZW50IHRpbWVcbiAgICAvLyBjbGllbnRDbG9ja1NrZXcgaXMgXCJob3cgbWFueSBtaWxsaXNlY29uZHMgYmVoaW5kIChzbG93KSBpcyB0aGUgY2xpZW50IGNsb2NrXCJcbiAgICAvLyBidXQgdGhlIGxhdGVuY3kgb2YgdGhlIENvbm5lY3QgbWVzc2FnZSBpbmZsYXRlcyB0aGlzLCBtYWtpbmcgaXQgYXBwZWFyIGZ1cnRoZXIgYmVoaW5kXG4gICAgdHJhbnNpdGlvbi5jbGllbnRDbG9ja1NrZXcgLSB0cmFuc2l0aW9uLnNlcnZlclRzIC8gMWU2O1xuICAgIGNvbnN0IHByZXR0eVRyYW5zaXRpb25UaW1lID0gYCR7TWF0aC5yb3VuZCh0cmFuc2l0aW9uVHJhbnNpdFRpbWUpfW1zYDtcbiAgICBjb25zdCBwcmV0dHlNZXNzYWdlTUIgPSBgJHtNYXRoLnJvdW5kKG1lc3NhZ2VMZW5ndGggLyAxZTQpIC8gMTAwfU1CYDtcbiAgICBjb25zdCBieXRlc1BlclNlY29uZCA9IG1lc3NhZ2VMZW5ndGggLyAodHJhbnNpdGlvblRyYW5zaXRUaW1lIC8gMWUzKTtcbiAgICBjb25zdCBwcmV0dHlCeXRlc1BlclNlY29uZCA9IGAke01hdGgucm91bmQoYnl0ZXNQZXJTZWNvbmQgLyAxZTQpIC8gMTAwfU1CIHBlciBzZWNvbmRgO1xuICAgIHRoaXMuX2xvZ1ZlcmJvc2UoXG4gICAgICBgcmVjZWl2ZWQgJHtwcmV0dHlNZXNzYWdlTUJ9IHRyYW5zaXRpb24gaW4gJHtwcmV0dHlUcmFuc2l0aW9uVGltZX0gYXQgJHtwcmV0dHlCeXRlc1BlclNlY29uZH1gXG4gICAgKTtcbiAgICBpZiAobWVzc2FnZUxlbmd0aCA+IDJlNykge1xuICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICBgcmVjZWl2ZWQgcXVlcnkgcmVzdWx0cyB0b3RhbGluZyBtb3JlIHRoYXQgMjBNQiAoJHtwcmV0dHlNZXNzYWdlTUJ9KSB3aGljaCB3aWxsIHRha2UgYSBsb25nIHRpbWUgdG8gZG93bmxvYWQgb24gc2xvd2VyIGNvbm5lY3Rpb25zYFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRyYW5zaXRpb25UcmFuc2l0VGltZSA+IDJlNCkge1xuICAgICAgdGhpcy5sb2dnZXIubG9nKFxuICAgICAgICBgcmVjZWl2ZWQgcXVlcnkgcmVzdWx0cyB0b3RhbGluZyAke3ByZXR0eU1lc3NhZ2VNQn0gd2hpY2ggdG9vayBtb3JlIHRoYW4gMjBzIHRvIGFycml2ZSAoJHtwcmV0dHlUcmFuc2l0aW9uVGltZX0pYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICB0eXBlOiBcIkV2ZW50XCIsXG4gICAgICAgIGV2ZW50VHlwZTogXCJDbGllbnRSZWNlaXZlZFRyYW5zaXRpb25cIixcbiAgICAgICAgZXZlbnQ6IHsgdHJhbnNpdGlvblRyYW5zaXRUaW1lLCBtZXNzYWdlTGVuZ3RoIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViX3NvY2tldF9tYW5hZ2VyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiZW5jb2RlQ2xpZW50TWVzc2FnZSIsInBhcnNlU2VydmVyTWVzc2FnZSIsIkNMT1NFX05PUk1BTCIsIkNMT1NFX0dPSU5HX0FXQVkiLCJDTE9TRV9OT19TVEFUVVMiLCJDTE9TRV9OT1RfRk9VTkQiLCJmaXJzdFRpbWUiLCJtb25vdG9uaWNNaWxsaXMiLCJEYXRlIiwibm93IiwicGVyZm9ybWFuY2UiLCJNYXRoIiwicm91bmQiLCJwcmV0dHlOb3ciLCJzZXJ2ZXJEaXNjb25uZWN0RXJyb3JzIiwiSW50ZXJuYWxTZXJ2ZXJFcnJvciIsInRpbWVvdXQiLCJTdWJzY3JpcHRpb25zV29ya2VyRnVsbEVycm9yIiwiVG9vTWFueUNvbmN1cnJlbnRSZXF1ZXN0cyIsIkNvbW1pdHRlckZ1bGxFcnJvciIsIkF3c1Rvb01hbnlSZXF1ZXN0c0V4Y2VwdGlvbiIsIkV4ZWN1dGVGdWxsRXJyb3IiLCJTeXN0ZW1UaW1lb3V0RXJyb3IiLCJFeHBpcmVkSW5RdWV1ZSIsIlZlY3RvckluZGV4ZXNVbmF2YWlsYWJsZSIsIlNlYXJjaEluZGV4ZXNVbmF2YWlsYWJsZSIsIlRhYmxlU3VtbWFyaWVzVW5hdmFpbGFibGUiLCJWZWN0b3JJbmRleFRvb0xhcmdlIiwiU2VhcmNoSW5kZXhUb29MYXJnZSIsIlRvb01hbnlXcml0ZXNJblRpbWVQZXJpb2QiLCJjbGFzc2lmeURpc2Nvbm5lY3RFcnJvciIsInMiLCJwcmVmaXgiLCJrZXlzIiwic3RhcnRzV2l0aCIsIldlYlNvY2tldE1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsInVyaSIsImNhbGxiYWNrcyIsIndlYlNvY2tldENvbnN0cnVjdG9yIiwibG9nZ2VyIiwibWFya0Nvbm5lY3Rpb25TdGF0ZURpcnR5IiwiZGVidWciLCJzb2NrZXQiLCJzdGF0ZSIsImNvbm5lY3Rpb25Db3VudCIsImxhc3RDbG9zZVJlYXNvbiIsImRlZmF1bHRJbml0aWFsQmFja29mZiIsIm1heEJhY2tvZmYiLCJyZXRyaWVzIiwic2VydmVySW5hY3Rpdml0eVRocmVzaG9sZCIsInJlY29ubmVjdER1ZVRvU2VydmVySW5hY3Rpdml0eVRpbWVvdXQiLCJvbk9wZW4iLCJvblJlc3VtZSIsIm9uTWVzc2FnZSIsIm9uU2VydmVyRGlzY29ubmVjdEVycm9yIiwiY29ubmVjdCIsInNldFNvY2tldFN0YXRlIiwiX2xvZ1ZlcmJvc2UiLCJwYXVzZWQiLCJhc3NlbWJsZVRyYW5zaXRpb24iLCJjaHVuayIsInBhcnROdW1iZXIiLCJ0b3RhbFBhcnRzIiwidHJhbnNpdGlvbkNodW5rQnVmZmVyIiwidHJhbnNpdGlvbklkIiwiRXJyb3IiLCJjaHVua3MiLCJsZW5ndGgiLCJleHBlY3RlZExlbmd0aCIsInB1c2giLCJmdWxsSnNvbiIsImpvaW4iLCJ0cmFuc2l0aW9uIiwiSlNPTiIsInBhcnNlIiwidHlwZSIsIndzIiwicmVzZXRTZXJ2ZXJJbmFjdGl2aXR5VGltZW91dCIsIm9ub3BlbiIsImxvZ1ZlcmJvc2UiLCJfaGFzRXZlckNvbm5lY3RlZCIsImNsaWVudFRzIiwibG9nIiwib25lcnJvciIsImVycm9yIiwibWVzc2FnZSIsIm9ubWVzc2FnZSIsIm1lc3NhZ2VMZW5ndGgiLCJkYXRhIiwic2VydmVyTWVzc2FnZSIsInJlcG9ydExhcmdlVHJhbnNpdGlvbiIsInJlc3BvbnNlIiwiaGFzU3luY2VkUGFzdExhc3RSZWNvbm5lY3QiLCJvbmNsb3NlIiwiZXZlbnQiLCJyZWFzb24iLCJjb2RlIiwibXNnIiwic2NoZWR1bGVSZWNvbm5lY3QiLCJzb2NrZXRTdGF0ZSIsInNlbmRNZXNzYWdlIiwibWVzc2FnZUZvckxvZyIsInRva2VuVHlwZSIsInNsaWNlIiwiZW5jb2RlZE1lc3NhZ2UiLCJyZXF1ZXN0Iiwic3RyaW5naWZ5Iiwic2VudCIsInNlbmQiLCJjbG9zZUFuZFJlY29ubmVjdCIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJiYWNrb2ZmIiwibmV4dEJhY2tvZmYiLCJjbG9zZVJlYXNvbiIsImNsb3NlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJfbWVzc2FnZSIsInIiLCJyZXN1bHQiLCJ0ZXJtaW5hdGUiLCJzdG9wIiwidHJ5UmVzdGFydCIsInBhdXNlIiwicmVzdW1lIiwiY29ubmVjdGlvblN0YXRlIiwiaXNDb25uZWN0ZWQiLCJoYXNFdmVyQ29ubmVjdGVkIiwiY29ubmVjdGlvblJldHJpZXMiLCJpbml0aWFsQmFja29mZiIsImJhc2VCYWNrb2ZmIiwicG93IiwiYWN0dWFsQmFja29mZiIsIm1pbiIsImppdHRlciIsInJhbmRvbSIsImNsaWVudENsb2NrU2tldyIsInNlcnZlclRzIiwidHJhbnNpdGlvblRyYW5zaXRUaW1lIiwicHJldHR5VHJhbnNpdGlvblRpbWUiLCJwcmV0dHlNZXNzYWdlTUIiLCJieXRlc1BlclNlY29uZCIsInByZXR0eUJ5dGVzUGVyU2Vjb25kIiwiZXZlbnRUeXBlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/browser/sync/web_socket_manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/common/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/common/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isSimpleObject: () => (/* binding */ isSimpleObject),\n/* harmony export */   parseArgs: () => (/* binding */ parseArgs),\n/* harmony export */   validateDeploymentUrl: () => (/* binding */ validateDeploymentUrl)\n/* harmony export */ });\n\nfunction parseArgs(args) {\n    if (args === void 0) {\n        return {};\n    }\n    if (!isSimpleObject(args)) {\n        throw new Error(`The arguments to a Convex function must be an object. Received: ${args}`);\n    }\n    return args;\n}\nfunction validateDeploymentUrl(deploymentUrl) {\n    if (typeof deploymentUrl === \"undefined\") {\n        throw new Error(`Client created with undefined deployment address. If you used an environment variable, check that it's set.`);\n    }\n    if (typeof deploymentUrl !== \"string\") {\n        throw new Error(`Invalid deployment address: found ${deploymentUrl}\".`);\n    }\n    if (!(deploymentUrl.startsWith(\"http:\") || deploymentUrl.startsWith(\"https:\"))) {\n        throw new Error(`Invalid deployment address: Must start with \"https://\" or \"http://\". Found \"${deploymentUrl}\".`);\n    }\n    try {\n        new URL(deploymentUrl);\n    } catch  {\n        throw new Error(`Invalid deployment address: \"${deploymentUrl}\" is not a valid URL. If you believe this URL is correct, use the \\`skipConvexDeploymentUrlCheck\\` option to bypass this.`);\n    }\n    if (deploymentUrl.endsWith(\".convex.site\")) {\n        throw new Error(`Invalid deployment address: \"${deploymentUrl}\" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \\`skipConvexDeploymentUrlCheck\\` option to bypass this.`);\n    }\n}\nfunction isSimpleObject(value) {\n    const isObject = typeof value === \"object\";\n    const prototype = Object.getPrototypeOf(value);\n    const isSimple = prototype === null || prototype === Object.prototype || // Objects generated from other contexts (e.g. across Node.js `vm` modules) will not satisfy the previous\n    // conditions but are still simple objects.\n    prototype?.constructor?.name === \"Object\";\n    return isObject && isSimple;\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2NvbW1vbi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTtBQUNOLFNBQVNBLFVBQVVDLElBQUk7SUFDNUIsSUFBSUEsU0FBUyxLQUFLLEdBQUc7UUFDbkIsT0FBTyxDQUFDO0lBQ1Y7SUFDQSxJQUFJLENBQUNDLGVBQWVELE9BQU87UUFDekIsTUFBTSxJQUFJRSxNQUNSLENBQUMsZ0VBQWdFLEVBQUVGLEtBQUssQ0FBQztJQUU3RTtJQUNBLE9BQU9BO0FBQ1Q7QUFDTyxTQUFTRyxzQkFBc0JDLGFBQWE7SUFDakQsSUFBSSxPQUFPQSxrQkFBa0IsYUFBYTtRQUN4QyxNQUFNLElBQUlGLE1BQ1IsQ0FBQywyR0FBMkcsQ0FBQztJQUVqSDtJQUNBLElBQUksT0FBT0Usa0JBQWtCLFVBQVU7UUFDckMsTUFBTSxJQUFJRixNQUNSLENBQUMsa0NBQWtDLEVBQUVFLGNBQWMsRUFBRSxDQUFDO0lBRTFEO0lBQ0EsSUFBSSxDQUFFQSxDQUFBQSxjQUFjQyxVQUFVLENBQUMsWUFBWUQsY0FBY0MsVUFBVSxDQUFDLFNBQVEsR0FBSTtRQUM5RSxNQUFNLElBQUlILE1BQ1IsQ0FBQyw0RUFBNEUsRUFBRUUsY0FBYyxFQUFFLENBQUM7SUFFcEc7SUFDQSxJQUFJO1FBQ0YsSUFBSUUsSUFBSUY7SUFDVixFQUFFLE9BQU07UUFDTixNQUFNLElBQUlGLE1BQ1IsQ0FBQyw2QkFBNkIsRUFBRUUsY0FBYyx5SEFBeUgsQ0FBQztJQUU1SztJQUNBLElBQUlBLGNBQWNHLFFBQVEsQ0FBQyxpQkFBaUI7UUFDMUMsTUFBTSxJQUFJTCxNQUNSLENBQUMsNkJBQTZCLEVBQUVFLGNBQWMsc05BQXNOLENBQUM7SUFFelE7QUFDRjtBQUNPLFNBQVNILGVBQWVPLEtBQUs7SUFDbEMsTUFBTUMsV0FBVyxPQUFPRCxVQUFVO0lBQ2xDLE1BQU1FLFlBQVlDLE9BQU9DLGNBQWMsQ0FBQ0o7SUFDeEMsTUFBTUssV0FBV0gsY0FBYyxRQUFRQSxjQUFjQyxPQUFPRCxTQUFTLElBQUkseUdBQXlHO0lBQ2xMLDJDQUEyQztJQUMzQ0EsV0FBV0ksYUFBYUMsU0FBUztJQUNqQyxPQUFPTixZQUFZSTtBQUNyQixFQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9jb21tb24vaW5kZXguanM/YjMxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFyZ3MoYXJncykge1xuICBpZiAoYXJncyA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGlmICghaXNTaW1wbGVPYmplY3QoYXJncykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVGhlIGFyZ3VtZW50cyB0byBhIENvbnZleCBmdW5jdGlvbiBtdXN0IGJlIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7YXJnc31gXG4gICAgKTtcbiAgfVxuICByZXR1cm4gYXJncztcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZURlcGxveW1lbnRVcmwoZGVwbG95bWVudFVybCkge1xuICBpZiAodHlwZW9mIGRlcGxveW1lbnRVcmwgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ2xpZW50IGNyZWF0ZWQgd2l0aCB1bmRlZmluZWQgZGVwbG95bWVudCBhZGRyZXNzLiBJZiB5b3UgdXNlZCBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZSwgY2hlY2sgdGhhdCBpdCdzIHNldC5gXG4gICAgKTtcbiAgfVxuICBpZiAodHlwZW9mIGRlcGxveW1lbnRVcmwgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgSW52YWxpZCBkZXBsb3ltZW50IGFkZHJlc3M6IGZvdW5kICR7ZGVwbG95bWVudFVybH1cIi5gXG4gICAgKTtcbiAgfVxuICBpZiAoIShkZXBsb3ltZW50VXJsLnN0YXJ0c1dpdGgoXCJodHRwOlwiKSB8fCBkZXBsb3ltZW50VXJsLnN0YXJ0c1dpdGgoXCJodHRwczpcIikpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgZGVwbG95bWVudCBhZGRyZXNzOiBNdXN0IHN0YXJ0IHdpdGggXCJodHRwczovL1wiIG9yIFwiaHR0cDovL1wiLiBGb3VuZCBcIiR7ZGVwbG95bWVudFVybH1cIi5gXG4gICAgKTtcbiAgfVxuICB0cnkge1xuICAgIG5ldyBVUkwoZGVwbG95bWVudFVybCk7XG4gIH0gY2F0Y2gge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGRlcGxveW1lbnQgYWRkcmVzczogXCIke2RlcGxveW1lbnRVcmx9XCIgaXMgbm90IGEgdmFsaWQgVVJMLiBJZiB5b3UgYmVsaWV2ZSB0aGlzIFVSTCBpcyBjb3JyZWN0LCB1c2UgdGhlIFxcYHNraXBDb252ZXhEZXBsb3ltZW50VXJsQ2hlY2tcXGAgb3B0aW9uIHRvIGJ5cGFzcyB0aGlzLmBcbiAgICApO1xuICB9XG4gIGlmIChkZXBsb3ltZW50VXJsLmVuZHNXaXRoKFwiLmNvbnZleC5zaXRlXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgZGVwbG95bWVudCBhZGRyZXNzOiBcIiR7ZGVwbG95bWVudFVybH1cIiBlbmRzIHdpdGggLmNvbnZleC5zaXRlLCB3aGljaCBpcyB1c2VkIGZvciBIVFRQIEFjdGlvbnMuIENvbnZleCBkZXBsb3ltZW50IFVSTHMgdHlwaWNhbGx5IGVuZCB3aXRoIC5jb252ZXguY2xvdWQ/IElmIHlvdSBiZWxpZXZlIHRoaXMgVVJMIGlzIGNvcnJlY3QsIHVzZSB0aGUgXFxgc2tpcENvbnZleERlcGxveW1lbnRVcmxDaGVja1xcYCBvcHRpb24gdG8gYnlwYXNzIHRoaXMuYFxuICAgICk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1NpbXBsZU9iamVjdCh2YWx1ZSkge1xuICBjb25zdCBpc09iamVjdCA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIjtcbiAgY29uc3QgcHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgY29uc3QgaXNTaW1wbGUgPSBwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8IC8vIE9iamVjdHMgZ2VuZXJhdGVkIGZyb20gb3RoZXIgY29udGV4dHMgKGUuZy4gYWNyb3NzIE5vZGUuanMgYHZtYCBtb2R1bGVzKSB3aWxsIG5vdCBzYXRpc2Z5IHRoZSBwcmV2aW91c1xuICAvLyBjb25kaXRpb25zIGJ1dCBhcmUgc3RpbGwgc2ltcGxlIG9iamVjdHMuXG4gIHByb3RvdHlwZT8uY29uc3RydWN0b3I/Lm5hbWUgPT09IFwiT2JqZWN0XCI7XG4gIHJldHVybiBpc09iamVjdCAmJiBpc1NpbXBsZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbInBhcnNlQXJncyIsImFyZ3MiLCJpc1NpbXBsZU9iamVjdCIsIkVycm9yIiwidmFsaWRhdGVEZXBsb3ltZW50VXJsIiwiZGVwbG95bWVudFVybCIsInN0YXJ0c1dpdGgiLCJVUkwiLCJlbmRzV2l0aCIsInZhbHVlIiwiaXNPYmplY3QiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImlzU2ltcGxlIiwiY29uc3RydWN0b3IiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/common/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/index.js":
/*!***********************************************!*\
  !*** ./node_modules/convex/dist/esm/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n\nconst version = \"1.30.0\"; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNOLE1BQU1BLFVBQVUsU0FBUyxDQUNoQyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vaW5kZXguanM/ZGE4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydCBjb25zdCB2ZXJzaW9uID0gXCIxLjMwLjBcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbInZlcnNpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/ConvexAuthState.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexProviderWithAuth: () => (/* binding */ ConvexProviderWithAuth),\n/* harmony export */   useConvexAuth: () => (/* binding */ useConvexAuth)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n\n\n\nconst ConvexAuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction useConvexAuth() {\n    const authContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ConvexAuthContext);\n    if (authContext === void 0) {\n        throw new Error(\"Could not find `ConvexProviderWithAuth` (or `ConvexProviderWithClerk` or `ConvexProviderWithAuth0`) as an ancestor component. This component may be missing, or you might have two instances of the `convex/react` module loaded in your project.\");\n    }\n    return authContext;\n}\nfunction ConvexProviderWithAuth({ children, client, useAuth }) {\n    const { isLoading: authProviderLoading, isAuthenticated: authProviderAuthenticated, fetchAccessToken } = useAuth();\n    const [isConvexAuthenticated, setIsConvexAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    if (authProviderLoading && isConvexAuthenticated !== null) {\n        setIsConvexAuthenticated(null);\n    }\n    if (!authProviderLoading && !authProviderAuthenticated && isConvexAuthenticated !== false) {\n        setIsConvexAuthenticated(false);\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthContext.Provider, {\n        value: {\n            isLoading: isConvexAuthenticated === null,\n            isAuthenticated: authProviderAuthenticated && (isConvexAuthenticated ?? false)\n        }\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthStateFirstEffect, {\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    }), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_client_js__WEBPACK_IMPORTED_MODULE_1__.ConvexProvider, {\n        client\n    }, children), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ConvexAuthStateLastEffect, {\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    }));\n}\nfunction ConvexAuthStateFirstEffect({ authProviderAuthenticated, fetchAccessToken, authProviderLoading, client, setIsConvexAuthenticated }) {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let isThisEffectRelevant = true;\n        if (authProviderAuthenticated) {\n            client.setAuth(fetchAccessToken, (backendReportsIsAuthenticated)=>{\n                if (isThisEffectRelevant) {\n                    setIsConvexAuthenticated(()=>backendReportsIsAuthenticated);\n                }\n            });\n            return ()=>{\n                isThisEffectRelevant = false;\n                setIsConvexAuthenticated((isConvexAuthenticated)=>isConvexAuthenticated ? false : null);\n            };\n        }\n    }, [\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    ]);\n    return null;\n}\nfunction ConvexAuthStateLastEffect({ authProviderAuthenticated, fetchAccessToken, authProviderLoading, client, setIsConvexAuthenticated }) {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (authProviderAuthenticated) {\n            return ()=>{\n                client.clearAuth();\n                setIsConvexAuthenticated(()=>null);\n            };\n        }\n    }, [\n        authProviderAuthenticated,\n        fetchAccessToken,\n        authProviderLoading,\n        client,\n        setIsConvexAuthenticated\n    ]);\n    return null;\n} //# sourceMappingURL=ConvexAuthState.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L0NvbnZleEF1dGhTdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWE7QUFNRTtBQUM4QjtBQUM3QyxNQUFNTSxrQ0FBb0JMLG9EQUFhQSxDQUFDLEtBQUs7QUFDdEMsU0FBU007SUFDZCxNQUFNQyxjQUFjTixpREFBVUEsQ0FBQ0k7SUFDL0IsSUFBSUUsZ0JBQWdCLEtBQUssR0FBRztRQUMxQixNQUFNLElBQUlDLE1BQ1I7SUFFSjtJQUNBLE9BQU9EO0FBQ1Q7QUFDTyxTQUFTRSx1QkFBdUIsRUFDckNDLFFBQVEsRUFDUkMsTUFBTSxFQUNOQyxPQUFPLEVBQ1I7SUFDQyxNQUFNLEVBQ0pDLFdBQVdDLG1CQUFtQixFQUM5QkMsaUJBQWlCQyx5QkFBeUIsRUFDMUNDLGdCQUFnQixFQUNqQixHQUFHTDtJQUNKLE1BQU0sQ0FBQ00sdUJBQXVCQyx5QkFBeUIsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ25FLElBQUlXLHVCQUF1QkksMEJBQTBCLE1BQU07UUFDekRDLHlCQUF5QjtJQUMzQjtJQUNBLElBQUksQ0FBQ0wsdUJBQXVCLENBQUNFLDZCQUE2QkUsMEJBQTBCLE9BQU87UUFDekZDLHlCQUF5QjtJQUMzQjtJQUNBLE9BQU8sYUFBYSxpQkFBR3BCLGdEQUFtQixDQUN4Q00sa0JBQWtCZ0IsUUFBUSxFQUMxQjtRQUNFQyxPQUFPO1lBQ0xULFdBQVdLLDBCQUEwQjtZQUNyQ0gsaUJBQWlCQyw2QkFBOEJFLENBQUFBLHlCQUF5QixLQUFJO1FBQzlFO0lBQ0YsR0FDQSxhQUFhLGlCQUFHbkIsZ0RBQW1CLENBQ2pDd0IsNEJBQ0E7UUFDRVA7UUFDQUM7UUFDQUg7UUFDQUg7UUFDQVE7SUFDRixJQUVGLGFBQWEsaUJBQUdwQixnREFBbUIsQ0FBQ0ssc0RBQWNBLEVBQUU7UUFBRU87SUFBTyxHQUFHRCxXQUNoRSxhQUFhLGlCQUFHWCxnREFBbUIsQ0FDakN5QiwyQkFDQTtRQUNFUjtRQUNBQztRQUNBSDtRQUNBSDtRQUNBUTtJQUNGO0FBR047QUFDQSxTQUFTSSwyQkFBMkIsRUFDbENQLHlCQUF5QixFQUN6QkMsZ0JBQWdCLEVBQ2hCSCxtQkFBbUIsRUFDbkJILE1BQU0sRUFDTlEsd0JBQXdCLEVBQ3pCO0lBQ0NqQixnREFBU0EsQ0FBQztRQUNSLElBQUl1Qix1QkFBdUI7UUFDM0IsSUFBSVQsMkJBQTJCO1lBQzdCTCxPQUFPZSxPQUFPLENBQUNULGtCQUFrQixDQUFDVTtnQkFDaEMsSUFBSUYsc0JBQXNCO29CQUN4Qk4seUJBQXlCLElBQU1RO2dCQUNqQztZQUNGO1lBQ0EsT0FBTztnQkFDTEYsdUJBQXVCO2dCQUN2Qk4seUJBQ0UsQ0FBQ0Qsd0JBQTBCQSx3QkFBd0IsUUFBUTtZQUUvRDtRQUNGO0lBQ0YsR0FBRztRQUNERjtRQUNBQztRQUNBSDtRQUNBSDtRQUNBUTtLQUNEO0lBQ0QsT0FBTztBQUNUO0FBQ0EsU0FBU0ssMEJBQTBCLEVBQ2pDUix5QkFBeUIsRUFDekJDLGdCQUFnQixFQUNoQkgsbUJBQW1CLEVBQ25CSCxNQUFNLEVBQ05RLHdCQUF3QixFQUN6QjtJQUNDakIsZ0RBQVNBLENBQUM7UUFDUixJQUFJYywyQkFBMkI7WUFDN0IsT0FBTztnQkFDTEwsT0FBT2lCLFNBQVM7Z0JBQ2hCVCx5QkFBeUIsSUFBTTtZQUNqQztRQUNGO0lBQ0YsR0FBRztRQUNESDtRQUNBQztRQUNBSDtRQUNBSDtRQUNBUTtLQUNEO0lBQ0QsT0FBTztBQUNULEVBQ0EsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L0NvbnZleEF1dGhTdGF0ZS5qcz9jYWE0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IFJlYWN0LCB7XG4gIGNyZWF0ZUNvbnRleHQsXG4gIHVzZUNvbnRleHQsXG4gIHVzZUVmZmVjdCxcbiAgdXNlU3RhdGVcbn0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDb252ZXhQcm92aWRlciB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuY29uc3QgQ29udmV4QXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0KHZvaWQgMCk7XG5leHBvcnQgZnVuY3Rpb24gdXNlQ29udmV4QXV0aCgpIHtcbiAgY29uc3QgYXV0aENvbnRleHQgPSB1c2VDb250ZXh0KENvbnZleEF1dGhDb250ZXh0KTtcbiAgaWYgKGF1dGhDb250ZXh0ID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIGBDb252ZXhQcm92aWRlcldpdGhBdXRoYCAob3IgYENvbnZleFByb3ZpZGVyV2l0aENsZXJrYCBvciBgQ29udmV4UHJvdmlkZXJXaXRoQXV0aDBgKSBhcyBhbiBhbmNlc3RvciBjb21wb25lbnQuIFRoaXMgY29tcG9uZW50IG1heSBiZSBtaXNzaW5nLCBvciB5b3UgbWlnaHQgaGF2ZSB0d28gaW5zdGFuY2VzIG9mIHRoZSBgY29udmV4L3JlYWN0YCBtb2R1bGUgbG9hZGVkIGluIHlvdXIgcHJvamVjdC5cIlxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGF1dGhDb250ZXh0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIENvbnZleFByb3ZpZGVyV2l0aEF1dGgoe1xuICBjaGlsZHJlbixcbiAgY2xpZW50LFxuICB1c2VBdXRoXG59KSB7XG4gIGNvbnN0IHtcbiAgICBpc0xvYWRpbmc6IGF1dGhQcm92aWRlckxvYWRpbmcsXG4gICAgaXNBdXRoZW50aWNhdGVkOiBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkLFxuICAgIGZldGNoQWNjZXNzVG9rZW5cbiAgfSA9IHVzZUF1dGgoKTtcbiAgY29uc3QgW2lzQ29udmV4QXV0aGVudGljYXRlZCwgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBpZiAoYXV0aFByb3ZpZGVyTG9hZGluZyAmJiBpc0NvbnZleEF1dGhlbnRpY2F0ZWQgIT09IG51bGwpIHtcbiAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQobnVsbCk7XG4gIH1cbiAgaWYgKCFhdXRoUHJvdmlkZXJMb2FkaW5nICYmICFhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkICYmIGlzQ29udmV4QXV0aGVudGljYXRlZCAhPT0gZmFsc2UpIHtcbiAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQoZmFsc2UpO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICBDb252ZXhBdXRoQ29udGV4dC5Qcm92aWRlcixcbiAgICB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICBpc0xvYWRpbmc6IGlzQ29udmV4QXV0aGVudGljYXRlZCA9PT0gbnVsbCxcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkICYmIChpc0NvbnZleEF1dGhlbnRpY2F0ZWQgPz8gZmFsc2UpXG4gICAgICB9XG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIENvbnZleEF1dGhTdGF0ZUZpcnN0RWZmZWN0LFxuICAgICAge1xuICAgICAgICBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkLFxuICAgICAgICBmZXRjaEFjY2Vzc1Rva2VuLFxuICAgICAgICBhdXRoUHJvdmlkZXJMb2FkaW5nLFxuICAgICAgICBjbGllbnQsXG4gICAgICAgIHNldElzQ29udmV4QXV0aGVudGljYXRlZFxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udmV4UHJvdmlkZXIsIHsgY2xpZW50IH0sIGNoaWxkcmVuKSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIENvbnZleEF1dGhTdGF0ZUxhc3RFZmZlY3QsXG4gICAgICB7XG4gICAgICAgIGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQsXG4gICAgICAgIGZldGNoQWNjZXNzVG9rZW4sXG4gICAgICAgIGF1dGhQcm92aWRlckxvYWRpbmcsXG4gICAgICAgIGNsaWVudCxcbiAgICAgICAgc2V0SXNDb252ZXhBdXRoZW50aWNhdGVkXG4gICAgICB9XG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gQ29udmV4QXV0aFN0YXRlRmlyc3RFZmZlY3Qoe1xuICBhdXRoUHJvdmlkZXJBdXRoZW50aWNhdGVkLFxuICBmZXRjaEFjY2Vzc1Rva2VuLFxuICBhdXRoUHJvdmlkZXJMb2FkaW5nLFxuICBjbGllbnQsXG4gIHNldElzQ29udmV4QXV0aGVudGljYXRlZFxufSkge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpc1RoaXNFZmZlY3RSZWxldmFudCA9IHRydWU7XG4gICAgaWYgKGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQpIHtcbiAgICAgIGNsaWVudC5zZXRBdXRoKGZldGNoQWNjZXNzVG9rZW4sIChiYWNrZW5kUmVwb3J0c0lzQXV0aGVudGljYXRlZCkgPT4ge1xuICAgICAgICBpZiAoaXNUaGlzRWZmZWN0UmVsZXZhbnQpIHtcbiAgICAgICAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQoKCkgPT4gYmFja2VuZFJlcG9ydHNJc0F1dGhlbnRpY2F0ZWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlzVGhpc0VmZmVjdFJlbGV2YW50ID0gZmFsc2U7XG4gICAgICAgIHNldElzQ29udmV4QXV0aGVudGljYXRlZChcbiAgICAgICAgICAoaXNDb252ZXhBdXRoZW50aWNhdGVkKSA9PiBpc0NvbnZleEF1dGhlbnRpY2F0ZWQgPyBmYWxzZSA6IG51bGxcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbXG4gICAgYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCxcbiAgICBmZXRjaEFjY2Vzc1Rva2VuLFxuICAgIGF1dGhQcm92aWRlckxvYWRpbmcsXG4gICAgY2xpZW50LFxuICAgIHNldElzQ29udmV4QXV0aGVudGljYXRlZFxuICBdKTtcbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBDb252ZXhBdXRoU3RhdGVMYXN0RWZmZWN0KHtcbiAgYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCxcbiAgZmV0Y2hBY2Nlc3NUb2tlbixcbiAgYXV0aFByb3ZpZGVyTG9hZGluZyxcbiAgY2xpZW50LFxuICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWRcbn0pIHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCkge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY2xpZW50LmNsZWFyQXV0aCgpO1xuICAgICAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQoKCkgPT4gbnVsbCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW1xuICAgIGF1dGhQcm92aWRlckF1dGhlbnRpY2F0ZWQsXG4gICAgZmV0Y2hBY2Nlc3NUb2tlbixcbiAgICBhdXRoUHJvdmlkZXJMb2FkaW5nLFxuICAgIGNsaWVudCxcbiAgICBzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWRcbiAgXSk7XG4gIHJldHVybiBudWxsO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udmV4QXV0aFN0YXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIkNvbnZleFByb3ZpZGVyIiwiQ29udmV4QXV0aENvbnRleHQiLCJ1c2VDb252ZXhBdXRoIiwiYXV0aENvbnRleHQiLCJFcnJvciIsIkNvbnZleFByb3ZpZGVyV2l0aEF1dGgiLCJjaGlsZHJlbiIsImNsaWVudCIsInVzZUF1dGgiLCJpc0xvYWRpbmciLCJhdXRoUHJvdmlkZXJMb2FkaW5nIiwiaXNBdXRoZW50aWNhdGVkIiwiYXV0aFByb3ZpZGVyQXV0aGVudGljYXRlZCIsImZldGNoQWNjZXNzVG9rZW4iLCJpc0NvbnZleEF1dGhlbnRpY2F0ZWQiLCJzZXRJc0NvbnZleEF1dGhlbnRpY2F0ZWQiLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIkNvbnZleEF1dGhTdGF0ZUZpcnN0RWZmZWN0IiwiQ29udmV4QXV0aFN0YXRlTGFzdEVmZmVjdCIsImlzVGhpc0VmZmVjdFJlbGV2YW50Iiwic2V0QXV0aCIsImJhY2tlbmRSZXBvcnRzSXNBdXRoZW50aWNhdGVkIiwiY2xlYXJBdXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/auth_helpers.js":
/*!************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/auth_helpers.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthLoading: () => (/* binding */ AuthLoading),\n/* harmony export */   Authenticated: () => (/* binding */ Authenticated),\n/* harmony export */   Unauthenticated: () => (/* binding */ Unauthenticated)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConvexAuthState.js */ \"(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\");\n\n\n\nfunction Authenticated({ children }) {\n    const { isLoading, isAuthenticated } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (isLoading || !isAuthenticated) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nfunction Unauthenticated({ children }) {\n    const { isLoading, isAuthenticated } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (isLoading || isAuthenticated) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nfunction AuthLoading({ children }) {\n    const { isLoading } = (0,_ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_1__.useConvexAuth)();\n    if (!isLoading) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n} //# sourceMappingURL=auth_helpers.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2F1dGhfaGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFhO0FBQ2E7QUFDMkI7QUFDOUMsU0FBU0UsY0FBYyxFQUFFQyxRQUFRLEVBQUU7SUFDeEMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLGVBQWUsRUFBRSxHQUFHSixrRUFBYUE7SUFDcEQsSUFBSUcsYUFBYSxDQUFDQyxpQkFBaUI7UUFDakMsT0FBTztJQUNUO0lBQ0EsT0FBTyxhQUFhLGlCQUFHTCxnREFBbUIsQ0FBQ0EsMkNBQWMsRUFBRSxNQUFNRztBQUNuRTtBQUNPLFNBQVNLLGdCQUFnQixFQUFFTCxRQUFRLEVBQUU7SUFDMUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLGVBQWUsRUFBRSxHQUFHSixrRUFBYUE7SUFDcEQsSUFBSUcsYUFBYUMsaUJBQWlCO1FBQ2hDLE9BQU87SUFDVDtJQUNBLE9BQU8sYUFBYSxpQkFBR0wsZ0RBQW1CLENBQUNBLDJDQUFjLEVBQUUsTUFBTUc7QUFDbkU7QUFDTyxTQUFTTSxZQUFZLEVBQUVOLFFBQVEsRUFBRTtJQUN0QyxNQUFNLEVBQUVDLFNBQVMsRUFBRSxHQUFHSCxrRUFBYUE7SUFDbkMsSUFBSSxDQUFDRyxXQUFXO1FBQ2QsT0FBTztJQUNUO0lBQ0EsT0FBTyxhQUFhLGlCQUFHSixnREFBbUIsQ0FBQ0EsMkNBQWMsRUFBRSxNQUFNRztBQUNuRSxFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9yZWFjdC9hdXRoX2hlbHBlcnMuanM/YTJkZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnZleEF1dGggfSBmcm9tIFwiLi9Db252ZXhBdXRoU3RhdGUuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBBdXRoZW50aWNhdGVkKHsgY2hpbGRyZW4gfSkge1xuICBjb25zdCB7IGlzTG9hZGluZywgaXNBdXRoZW50aWNhdGVkIH0gPSB1c2VDb252ZXhBdXRoKCk7XG4gIGlmIChpc0xvYWRpbmcgfHwgIWlzQXV0aGVudGljYXRlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgY2hpbGRyZW4pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIFVuYXV0aGVudGljYXRlZCh7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgeyBpc0xvYWRpbmcsIGlzQXV0aGVudGljYXRlZCB9ID0gdXNlQ29udmV4QXV0aCgpO1xuICBpZiAoaXNMb2FkaW5nIHx8IGlzQXV0aGVudGljYXRlZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgY2hpbGRyZW4pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhMb2FkaW5nKHsgY2hpbGRyZW4gfSkge1xuICBjb25zdCB7IGlzTG9hZGluZyB9ID0gdXNlQ29udmV4QXV0aCgpO1xuICBpZiAoIWlzTG9hZGluZykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgY2hpbGRyZW4pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0aF9oZWxwZXJzLmpzLm1hcFxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlQ29udmV4QXV0aCIsIkF1dGhlbnRpY2F0ZWQiLCJjaGlsZHJlbiIsImlzTG9hZGluZyIsImlzQXV0aGVudGljYXRlZCIsImNyZWF0ZUVsZW1lbnQiLCJGcmFnbWVudCIsIlVuYXV0aGVudGljYXRlZCIsIkF1dGhMb2FkaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/auth_helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/client.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/client.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexProvider: () => (/* binding */ ConvexProvider),\n/* harmony export */   ConvexReactClient: () => (/* binding */ ConvexReactClient),\n/* harmony export */   createMutation: () => (/* binding */ createMutation),\n/* harmony export */   useAction: () => (/* binding */ useAction),\n/* harmony export */   useConvex: () => (/* binding */ useConvex),\n/* harmony export */   useConvexConnectionState: () => (/* binding */ useConvexConnectionState),\n/* harmony export */   useMutation: () => (/* binding */ useMutation),\n/* harmony export */   useQuery: () => (/* binding */ useQuery)\n/* harmony export */ });\n/* harmony import */ var _browser_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../browser/index.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./use_subscription.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _browser_logging_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../browser/logging.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/logging.js\");\n/* harmony import */ var _browser_sync_paginated_query_client_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../browser/sync/paginated_query_client.js */ \"(ssr)/./node_modules/convex/dist/esm/browser/sync/paginated_query_client.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\n\n\n\n\nconst DEFAULT_EXTEND_SUBSCRIPTION_FOR = 5e3;\nif (typeof react__WEBPACK_IMPORTED_MODULE_1__ === \"undefined\") {\n    throw new Error(\"Required dependency 'react' not found\");\n}\nfunction createMutation(mutationReference, client, update) {\n    function mutation(args) {\n        assertNotAccidentalArgument(args);\n        return client.mutation(mutationReference, args, {\n            optimisticUpdate: update\n        });\n    }\n    mutation.withOptimisticUpdate = function withOptimisticUpdate(optimisticUpdate) {\n        if (update !== void 0) {\n            throw new Error(`Already specified optimistic update for mutation ${(0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutationReference)}`);\n        }\n        return createMutation(mutationReference, client, optimisticUpdate);\n    };\n    return mutation;\n}\nfunction createAction(actionReference, client) {\n    return function(args) {\n        return client.action(actionReference, args);\n    };\n}\nclass ConvexReactClient {\n    /**\n   * @param address - The url of your Convex deployment, often provided\n   * by an environment variable. E.g. `https://small-mouse-123.convex.cloud`.\n   * @param options - See {@link ConvexReactClientOptions} for a full description.\n   */ constructor(address, options){\n        __publicField(this, \"address\");\n        __publicField(this, \"cachedSync\");\n        __publicField(this, \"cachedPaginatedQueryClient\");\n        __publicField(this, \"listeners\");\n        __publicField(this, \"options\");\n        // \"closed\" means this client is done, not just that the underlying WS connection is closed.\n        __publicField(this, \"closed\", false);\n        __publicField(this, \"_logger\");\n        __publicField(this, \"adminAuth\");\n        __publicField(this, \"fakeUserIdentity\");\n        if (address === void 0) {\n            throw new Error(\"No address provided to ConvexReactClient.\\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.\");\n        }\n        if (typeof address !== \"string\") {\n            throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof address} instead.`);\n        }\n        if (!address.includes(\"://\")) {\n            throw new Error(\"Provided address was not an absolute URL.\");\n        }\n        this.address = address;\n        this.listeners = /* @__PURE__ */ new Map();\n        this._logger = options?.logger === false ? (0,_browser_logging_js__WEBPACK_IMPORTED_MODULE_7__.instantiateNoopLogger)({\n            verbose: options?.verbose ?? false\n        }) : options?.logger !== true && options?.logger ? options.logger : (0,_browser_logging_js__WEBPACK_IMPORTED_MODULE_7__.instantiateDefaultLogger)({\n            verbose: options?.verbose ?? false\n        });\n        this.options = {\n            ...options,\n            logger: this._logger\n        };\n    }\n    /**\n   * Return the address for this client, useful for creating a new client.\n   *\n   * Not guaranteed to match the address with which this client was constructed:\n   * it may be canonicalized.\n   */ get url() {\n        return this.address;\n    }\n    /**\n   * Lazily instantiate the `BaseConvexClient` so we don't create the WebSocket\n   * when server-side rendering.\n   *\n   * @internal\n   */ get sync() {\n        if (this.closed) {\n            throw new Error(\"ConvexReactClient has already been closed.\");\n        }\n        if (this.cachedSync) {\n            return this.cachedSync;\n        }\n        this.cachedSync = new _browser_index_js__WEBPACK_IMPORTED_MODULE_0__.BaseConvexClient(this.address, ()=>{}, // Use the PaginatedQueryClient's transition instead.\n        this.options);\n        if (this.adminAuth) {\n            this.cachedSync.setAdminAuth(this.adminAuth, this.fakeUserIdentity);\n        }\n        this.cachedPaginatedQueryClient = new _browser_sync_paginated_query_client_js__WEBPACK_IMPORTED_MODULE_8__.PaginatedQueryClient(this.cachedSync, (transition)=>this.handleTransition(transition));\n        return this.cachedSync;\n    }\n    /**\n   * Lazily instantiate the `PaginatedQueryClient` so we don't create it\n   * when server-side rendering.\n   *\n   * @internal\n   */ get paginatedQueryClient() {\n        this.sync;\n        if (this.cachedPaginatedQueryClient) {\n            return this.cachedPaginatedQueryClient;\n        }\n        throw new Error(\"Should already be instantiated\");\n    }\n    /**\n   * Set the authentication token to be used for subsequent queries and mutations.\n   * `fetchToken` will be called automatically again if a token expires.\n   * `fetchToken` should return `null` if the token cannot be retrieved, for example\n   * when the user's rights were permanently revoked.\n   * @param fetchToken - an async function returning the JWT-encoded OpenID Connect Identity Token\n   * @param onChange - a callback that will be called when the authentication status changes\n   */ setAuth(fetchToken, onChange) {\n        if (typeof fetchToken === \"string\") {\n            throw new Error(\"Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.\");\n        }\n        this.sync.setAuth(fetchToken, onChange ?? (()=>{}));\n    }\n    /**\n   * Clear the current authentication token if set.\n   */ clearAuth() {\n        this.sync.clearAuth();\n    }\n    /**\n   * @internal\n   */ setAdminAuth(token, identity) {\n        this.adminAuth = token;\n        this.fakeUserIdentity = identity;\n        if (this.closed) {\n            throw new Error(\"ConvexReactClient has already been closed.\");\n        }\n        if (this.cachedSync) {\n            this.sync.setAdminAuth(token, identity);\n        }\n    }\n    /**\n   * Construct a new {@link Watch} on a Convex query function.\n   *\n   * **Most application code should not call this method directly. Instead use\n   * the {@link useQuery} hook.**\n   *\n   * The act of creating a watch does nothing, a Watch is stateless.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link WatchQueryOptions} options object for this query.\n   *\n   * @returns The {@link Watch} object.\n   */ watchQuery(query, ...argsAndOptions) {\n        const [args, options] = argsAndOptions;\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(query);\n        return {\n            onUpdate: (callback)=>{\n                const { queryToken, unsubscribe } = this.sync.subscribe(name, args, options);\n                const currentListeners = this.listeners.get(queryToken);\n                if (currentListeners !== void 0) {\n                    currentListeners.add(callback);\n                } else {\n                    this.listeners.set(queryToken, /* @__PURE__ */ new Set([\n                        callback\n                    ]));\n                }\n                return ()=>{\n                    if (this.closed) {\n                        return;\n                    }\n                    const currentListeners2 = this.listeners.get(queryToken);\n                    currentListeners2.delete(callback);\n                    if (currentListeners2.size === 0) {\n                        this.listeners.delete(queryToken);\n                    }\n                    unsubscribe();\n                };\n            },\n            localQueryResult: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.localQueryResult(name, args);\n                }\n                return void 0;\n            },\n            localQueryLogs: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.localQueryLogs(name, args);\n                }\n                return void 0;\n            },\n            journal: ()=>{\n                if (this.cachedSync) {\n                    return this.cachedSync.queryJournal(name, args);\n                }\n                return void 0;\n            }\n        };\n    }\n    // Let's try out a queryOptions-style API.\n    // This method is similar to the React Query API `queryClient.prefetchQuery()`.\n    // In the future an ensureQueryData(): Promise<Data> method could exist.\n    /**\n   * Indicates likely future interest in a query subscription.\n   *\n   * The implementation currently immediately subscribes to a query. In the future this method\n   * may prioritize some queries over others, fetch the query result without subscribing, or\n   * do nothing in slow network connections or high load scenarios.\n   *\n   * To use this in a React component, call useQuery() and ignore the return value.\n   *\n   * @param queryOptions - A query (function reference from an api object) and its args, plus\n   * an optional extendSubscriptionFor for how long to subscribe to the query.\n   */ prewarmQuery(queryOptions) {\n        const extendSubscriptionFor = queryOptions.extendSubscriptionFor ?? DEFAULT_EXTEND_SUBSCRIPTION_FOR;\n        const watch = this.watchQuery(queryOptions.query, queryOptions.args || {});\n        const unsubscribe = watch.onUpdate(()=>{});\n        setTimeout(unsubscribe, extendSubscriptionFor);\n    }\n    /**\n   * Construct a new {@link PaginatedWatch} on a Convex paginated query function.\n   *\n   * **Most application code should not call this method directly. Instead use\n   * the {@link usePaginatedQuery} hook.**\n   *\n   * The act of creating a watch does nothing, a Watch is stateless.\n   *\n   * @param query - A {@link server.FunctionReference} for the public query to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link WatchPaginatedQueryOptions} options object for this query.\n   *\n   * @returns The {@link PaginatedWatch} object.\n   *\n   * @internal\n   */ watchPaginatedQuery(query, args, options) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(query);\n        return {\n            onUpdate: (callback)=>{\n                const { paginatedQueryToken, unsubscribe } = this.paginatedQueryClient.subscribe(name, args || {}, options);\n                const currentListeners = this.listeners.get(paginatedQueryToken);\n                if (currentListeners !== void 0) {\n                    currentListeners.add(callback);\n                } else {\n                    this.listeners.set(paginatedQueryToken, /* @__PURE__ */ new Set([\n                        callback\n                    ]));\n                }\n                return ()=>{\n                    if (this.closed) {\n                        return;\n                    }\n                    const currentListeners2 = this.listeners.get(paginatedQueryToken);\n                    currentListeners2.delete(callback);\n                    if (currentListeners2.size === 0) {\n                        this.listeners.delete(paginatedQueryToken);\n                    }\n                    unsubscribe();\n                };\n            },\n            localQueryResult: ()=>{\n                return this.paginatedQueryClient.localQueryResult(name, args, options);\n            }\n        };\n    }\n    /**\n   * Execute a mutation function.\n   *\n   * @param mutation - A {@link server.FunctionReference} for the public mutation\n   * to run.\n   * @param args - An arguments object for the mutation. If this is omitted,\n   * the arguments will be `{}`.\n   * @param options - A {@link MutationOptions} options object for the mutation.\n   * @returns A promise of the mutation's result.\n   */ mutation(mutation, ...argsAndOptions) {\n        const [args, options] = argsAndOptions;\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutation);\n        return this.sync.mutation(name, args, options);\n    }\n    /**\n   * Execute an action function.\n   *\n   * @param action - A {@link server.FunctionReference} for the public action\n   * to run.\n   * @param args - An arguments object for the action. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the action's result.\n   */ action(action, ...args) {\n        const name = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(action);\n        return this.sync.action(name, ...args);\n    }\n    /**\n   * Fetch a query result once.\n   *\n   * **Most application code should subscribe to queries instead, using\n   * the {@link useQuery} hook.**\n   *\n   * @param query - A {@link server.FunctionReference} for the public query\n   * to run.\n   * @param args - An arguments object for the query. If this is omitted,\n   * the arguments will be `{}`.\n   * @returns A promise of the query's result.\n   */ query(query, ...args) {\n        const watch = this.watchQuery(query, ...args);\n        const existingResult = watch.localQueryResult();\n        if (existingResult !== void 0) {\n            return Promise.resolve(existingResult);\n        }\n        return new Promise((resolve, reject)=>{\n            const unsubscribe = watch.onUpdate(()=>{\n                unsubscribe();\n                try {\n                    resolve(watch.localQueryResult());\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    }\n    /**\n   * Get the current {@link ConnectionState} between the client and the Convex\n   * backend.\n   *\n   * @returns The {@link ConnectionState} with the Convex backend.\n   */ connectionState() {\n        return this.sync.connectionState();\n    }\n    /**\n   * Subscribe to the {@link ConnectionState} between the client and the Convex\n   * backend, calling a callback each time it changes.\n   *\n   * Subscribed callbacks will be called when any part of ConnectionState changes.\n   * ConnectionState may grow in future versions (e.g. to provide a array of\n   * inflight requests) in which case callbacks would be called more frequently.\n   * ConnectionState may also *lose* properties in future versions as we figure\n   * out what information is most useful. As such this API is considered unstable.\n   *\n   * @returns An unsubscribe function to stop listening.\n   */ subscribeToConnectionState(cb) {\n        return this.sync.subscribeToConnectionState(cb);\n    }\n    /**\n   * Get the logger for this client.\n   *\n   * @returns The {@link Logger} for this client.\n   */ get logger() {\n        return this._logger;\n    }\n    /**\n   * Close any network handles associated with this client and stop all subscriptions.\n   *\n   * Call this method when you're done with a {@link ConvexReactClient} to\n   * dispose of its sockets and resources.\n   *\n   * @returns A `Promise` fulfilled when the connection has been completely closed.\n   */ async close() {\n        this.closed = true;\n        this.listeners = /* @__PURE__ */ new Map();\n        if (this.cachedPaginatedQueryClient) {\n            this.cachedPaginatedQueryClient = void 0;\n        }\n        if (this.cachedSync) {\n            const sync = this.cachedSync;\n            this.cachedSync = void 0;\n            await sync.close();\n        }\n    }\n    /**\n   * Handle transitions from both base client and paginated client.\n   * This ensures all transitions are processed synchronously and in order.\n   */ handleTransition(transition) {\n        const simple = transition.queries.map((q)=>q.token);\n        const paginated = transition.paginatedQueries.map((q)=>q.token);\n        this.transition([\n            ...simple,\n            ...paginated\n        ]);\n    }\n    transition(updatedQueries) {\n        for (const queryToken of updatedQueries){\n            const callbacks = this.listeners.get(queryToken);\n            if (callbacks) {\n                for (const callback of callbacks){\n                    callback();\n                }\n            }\n        }\n    }\n}\nconst ConvexContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createContext(void 0);\nfunction useConvex() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n}\nconst ConvexProvider = ({ client, children })=>{\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(ConvexContext.Provider, {\n        value: client\n    }, children);\n};\nfunction useQuery(query, ...args) {\n    const skip = args[0] === \"skip\";\n    const argsObject = args[0] === \"skip\" ? {} : (0,_common_index_js__WEBPACK_IMPORTED_MODULE_5__.parseArgs)(args[0]);\n    const queryReference = typeof query === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(query) : query;\n    const queryName = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(queryReference);\n    const queries = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>skip ? {} : {\n            query: {\n                query: queryReference,\n                args: argsObject\n            }\n        }, // Stringify args so args that are semantically the same don't trigger a\n    // rerender. Saves developers from adding `useMemo` on every args usage.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(argsObject)),\n        queryName,\n        skip\n    ]);\n    const results = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_3__.useQueries)(queries);\n    const result = results[\"query\"];\n    if (result instanceof Error) {\n        throw result;\n    }\n    return result;\n}\nfunction useMutation(mutation) {\n    const mutationReference = typeof mutation === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(mutation) : mutation;\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>createMutation(mutationReference, convex), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        convex,\n        (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(mutationReference)\n    ]);\n}\nfunction useAction(action) {\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    const actionReference = typeof action === \"string\" ? (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.makeFunctionReference)(action) : action;\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useAction` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>createAction(actionReference, convex), // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n        convex,\n        (0,_server_api_js__WEBPACK_IMPORTED_MODULE_6__.getFunctionName)(actionReference)\n    ]);\n}\nfunction useConvexConnectionState() {\n    const convex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ConvexContext);\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useConvexConnectionState` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    const getCurrentValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        return convex.connectionState();\n    }, [\n        convex\n    ]);\n    const subscribe = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((callback)=>{\n        return convex.subscribeToConnectionState(()=>{\n            callback();\n        });\n    }, [\n        convex\n    ]);\n    return (0,_use_subscription_js__WEBPACK_IMPORTED_MODULE_4__.useSubscription)({\n        getCurrentValue,\n        subscribe\n    });\n}\nfunction assertNotAccidentalArgument(value) {\n    if (typeof value === \"object\" && value !== null && \"bubbles\" in value && \"persist\" in value && \"isDefaultPrevented\" in value) {\n        throw new Error(`Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like \\`const handler = () => myMutation();\\` and using \\`handler\\` in the event handler.`);\n    }\n} //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBQ2IsSUFBSUEsWUFBWUMsT0FBT0MsY0FBYztBQUNyQyxJQUFJQyxrQkFBa0IsQ0FBQ0MsS0FBS0MsS0FBS0MsUUFBVUQsT0FBT0QsTUFBTUosVUFBVUksS0FBS0MsS0FBSztRQUFFRSxZQUFZO1FBQU1DLGNBQWM7UUFBTUMsVUFBVTtRQUFNSDtJQUFNLEtBQUtGLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHQztBQUMxSixJQUFJSSxnQkFBZ0IsQ0FBQ04sS0FBS0MsS0FBS0MsUUFBVUgsZ0JBQWdCQyxLQUFLLE9BQU9DLFFBQVEsV0FBV0EsTUFBTSxLQUFLQSxLQUFLQztBQUNqRDtBQUNTO0FBQ2Q7QUFDSjtBQUNVO0FBQ1Q7QUFJckI7QUFJSztBQUdvQjtBQUNuRCxNQUFNbUIsa0NBQWtDO0FBQ3hDLElBQUksT0FBT2Isa0NBQUtBLEtBQUssYUFBYTtJQUNoQyxNQUFNLElBQUljLE1BQU07QUFDbEI7QUFDTyxTQUFTQyxlQUFlQyxpQkFBaUIsRUFBRUMsTUFBTSxFQUFFQyxNQUFNO0lBQzlELFNBQVNDLFNBQVNDLElBQUk7UUFDcEJDLDRCQUE0QkQ7UUFDNUIsT0FBT0gsT0FBT0UsUUFBUSxDQUFDSCxtQkFBbUJJLE1BQU07WUFDOUNFLGtCQUFrQko7UUFDcEI7SUFDRjtJQUNBQyxTQUFTSSxvQkFBb0IsR0FBRyxTQUFTQSxxQkFBcUJELGdCQUFnQjtRQUM1RSxJQUFJSixXQUFXLEtBQUssR0FBRztZQUNyQixNQUFNLElBQUlKLE1BQ1IsQ0FBQyxpREFBaUQsRUFBRU4sK0RBQWVBLENBQ2pFUSxtQkFDQSxDQUFDO1FBRVA7UUFDQSxPQUFPRCxlQUFlQyxtQkFBbUJDLFFBQVFLO0lBQ25EO0lBQ0EsT0FBT0g7QUFDVDtBQUNBLFNBQVNLLGFBQWFDLGVBQWUsRUFBRVIsTUFBTTtJQUMzQyxPQUFPLFNBQVNHLElBQUk7UUFDbEIsT0FBT0gsT0FBT1MsTUFBTSxDQUFDRCxpQkFBaUJMO0lBQ3hDO0FBQ0Y7QUFDTyxNQUFNTztJQUNYOzs7O0dBSUMsR0FDREMsWUFBWUMsT0FBTyxFQUFFQyxPQUFPLENBQUU7UUFDNUJoQyxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsNEZBQTRGO1FBQzVGQSxjQUFjLElBQUksRUFBRSxVQUFVO1FBQzlCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUkrQixZQUFZLEtBQUssR0FBRztZQUN0QixNQUFNLElBQUlmLE1BQ1I7UUFFSjtRQUNBLElBQUksT0FBT2UsWUFBWSxVQUFVO1lBQy9CLE1BQU0sSUFBSWYsTUFDUixDQUFDLHlHQUF5RyxFQUFFLE9BQU9lLFFBQVEsU0FBUyxDQUFDO1FBRXpJO1FBQ0EsSUFBSSxDQUFDQSxRQUFRRSxRQUFRLENBQUMsUUFBUTtZQUM1QixNQUFNLElBQUlqQixNQUFNO1FBQ2xCO1FBQ0EsSUFBSSxDQUFDZSxPQUFPLEdBQUdBO1FBQ2YsSUFBSSxDQUFDRyxTQUFTLEdBQUcsYUFBYSxHQUFHLElBQUlDO1FBQ3JDLElBQUksQ0FBQ0MsT0FBTyxHQUFHSixTQUFTSyxXQUFXLFFBQVF4QiwwRUFBcUJBLENBQUM7WUFBRXlCLFNBQVNOLFNBQVNNLFdBQVc7UUFBTSxLQUFLTixTQUFTSyxXQUFXLFFBQVFMLFNBQVNLLFNBQVNMLFFBQVFLLE1BQU0sR0FBR3pCLDZFQUF3QkEsQ0FBQztZQUFFMEIsU0FBU04sU0FBU00sV0FBVztRQUFNO1FBQ3hPLElBQUksQ0FBQ04sT0FBTyxHQUFHO1lBQUUsR0FBR0EsT0FBTztZQUFFSyxRQUFRLElBQUksQ0FBQ0QsT0FBTztRQUFDO0lBQ3BEO0lBQ0E7Ozs7O0dBS0MsR0FDRCxJQUFJRyxNQUFNO1FBQ1IsT0FBTyxJQUFJLENBQUNSLE9BQU87SUFDckI7SUFDQTs7Ozs7R0FLQyxHQUNELElBQUlTLE9BQU87UUFDVCxJQUFJLElBQUksQ0FBQ0MsTUFBTSxFQUFFO1lBQ2YsTUFBTSxJQUFJekIsTUFBTTtRQUNsQjtRQUNBLElBQUksSUFBSSxDQUFDMEIsVUFBVSxFQUFFO1lBQ25CLE9BQU8sSUFBSSxDQUFDQSxVQUFVO1FBQ3hCO1FBQ0EsSUFBSSxDQUFDQSxVQUFVLEdBQUcsSUFBSXpDLCtEQUFnQkEsQ0FDcEMsSUFBSSxDQUFDOEIsT0FBTyxFQUNaLEtBQ0EsR0FDQSxxREFBcUQ7UUFDckQsSUFBSSxDQUFDQyxPQUFPO1FBRWQsSUFBSSxJQUFJLENBQUNXLFNBQVMsRUFBRTtZQUNsQixJQUFJLENBQUNELFVBQVUsQ0FBQ0UsWUFBWSxDQUFDLElBQUksQ0FBQ0QsU0FBUyxFQUFFLElBQUksQ0FBQ0UsZ0JBQWdCO1FBQ3BFO1FBQ0EsSUFBSSxDQUFDQywwQkFBMEIsR0FBRyxJQUFJaEMseUZBQW9CQSxDQUN4RCxJQUFJLENBQUM0QixVQUFVLEVBQ2YsQ0FBQ0ssYUFBZSxJQUFJLENBQUNDLGdCQUFnQixDQUFDRDtRQUV4QyxPQUFPLElBQUksQ0FBQ0wsVUFBVTtJQUN4QjtJQUNBOzs7OztHQUtDLEdBQ0QsSUFBSU8sdUJBQXVCO1FBQ3pCLElBQUksQ0FBQ1QsSUFBSTtRQUNULElBQUksSUFBSSxDQUFDTSwwQkFBMEIsRUFBRTtZQUNuQyxPQUFPLElBQUksQ0FBQ0EsMEJBQTBCO1FBQ3hDO1FBQ0EsTUFBTSxJQUFJOUIsTUFBTTtJQUNsQjtJQUNBOzs7Ozs7O0dBT0MsR0FDRGtDLFFBQVFDLFVBQVUsRUFBRUMsUUFBUSxFQUFFO1FBQzVCLElBQUksT0FBT0QsZUFBZSxVQUFVO1lBQ2xDLE1BQU0sSUFBSW5DLE1BQ1I7UUFFSjtRQUNBLElBQUksQ0FBQ3dCLElBQUksQ0FBQ1UsT0FBTyxDQUNmQyxZQUNBQyxZQUFhLE1BQ2I7SUFFSjtJQUNBOztHQUVDLEdBQ0RDLFlBQVk7UUFDVixJQUFJLENBQUNiLElBQUksQ0FBQ2EsU0FBUztJQUNyQjtJQUNBOztHQUVDLEdBQ0RULGFBQWFVLEtBQUssRUFBRUMsUUFBUSxFQUFFO1FBQzVCLElBQUksQ0FBQ1osU0FBUyxHQUFHVztRQUNqQixJQUFJLENBQUNULGdCQUFnQixHQUFHVTtRQUN4QixJQUFJLElBQUksQ0FBQ2QsTUFBTSxFQUFFO1lBQ2YsTUFBTSxJQUFJekIsTUFBTTtRQUNsQjtRQUNBLElBQUksSUFBSSxDQUFDMEIsVUFBVSxFQUFFO1lBQ25CLElBQUksQ0FBQ0YsSUFBSSxDQUFDSSxZQUFZLENBQUNVLE9BQU9DO1FBQ2hDO0lBQ0Y7SUFDQTs7Ozs7Ozs7Ozs7Ozs7R0FjQyxHQUNEQyxXQUFXQyxLQUFLLEVBQUUsR0FBR0MsY0FBYyxFQUFFO1FBQ25DLE1BQU0sQ0FBQ3BDLE1BQU1VLFFBQVEsR0FBRzBCO1FBQ3hCLE1BQU1DLE9BQU9qRCwrREFBZUEsQ0FBQytDO1FBQzdCLE9BQU87WUFDTEcsVUFBVSxDQUFDQztnQkFDVCxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsV0FBVyxFQUFFLEdBQUcsSUFBSSxDQUFDdkIsSUFBSSxDQUFDd0IsU0FBUyxDQUNyREwsTUFDQXJDLE1BQ0FVO2dCQUVGLE1BQU1pQyxtQkFBbUIsSUFBSSxDQUFDL0IsU0FBUyxDQUFDZ0MsR0FBRyxDQUFDSjtnQkFDNUMsSUFBSUcscUJBQXFCLEtBQUssR0FBRztvQkFDL0JBLGlCQUFpQkUsR0FBRyxDQUFDTjtnQkFDdkIsT0FBTztvQkFDTCxJQUFJLENBQUMzQixTQUFTLENBQUNrQyxHQUFHLENBQUNOLFlBQVksYUFBYSxHQUFHLElBQUlPLElBQUk7d0JBQUNSO3FCQUFTO2dCQUNuRTtnQkFDQSxPQUFPO29CQUNMLElBQUksSUFBSSxDQUFDcEIsTUFBTSxFQUFFO3dCQUNmO29CQUNGO29CQUNBLE1BQU02QixvQkFBb0IsSUFBSSxDQUFDcEMsU0FBUyxDQUFDZ0MsR0FBRyxDQUFDSjtvQkFDN0NRLGtCQUFrQkMsTUFBTSxDQUFDVjtvQkFDekIsSUFBSVMsa0JBQWtCRSxJQUFJLEtBQUssR0FBRzt3QkFDaEMsSUFBSSxDQUFDdEMsU0FBUyxDQUFDcUMsTUFBTSxDQUFDVDtvQkFDeEI7b0JBQ0FDO2dCQUNGO1lBQ0Y7WUFDQVUsa0JBQWtCO2dCQUNoQixJQUFJLElBQUksQ0FBQy9CLFVBQVUsRUFBRTtvQkFDbkIsT0FBTyxJQUFJLENBQUNBLFVBQVUsQ0FBQytCLGdCQUFnQixDQUFDZCxNQUFNckM7Z0JBQ2hEO2dCQUNBLE9BQU8sS0FBSztZQUNkO1lBQ0FvRCxnQkFBZ0I7Z0JBQ2QsSUFBSSxJQUFJLENBQUNoQyxVQUFVLEVBQUU7b0JBQ25CLE9BQU8sSUFBSSxDQUFDQSxVQUFVLENBQUNnQyxjQUFjLENBQUNmLE1BQU1yQztnQkFDOUM7Z0JBQ0EsT0FBTyxLQUFLO1lBQ2Q7WUFDQXFELFNBQVM7Z0JBQ1AsSUFBSSxJQUFJLENBQUNqQyxVQUFVLEVBQUU7b0JBQ25CLE9BQU8sSUFBSSxDQUFDQSxVQUFVLENBQUNrQyxZQUFZLENBQUNqQixNQUFNckM7Z0JBQzVDO2dCQUNBLE9BQU8sS0FBSztZQUNkO1FBQ0Y7SUFDRjtJQUNBLDBDQUEwQztJQUMxQywrRUFBK0U7SUFDL0Usd0VBQXdFO0lBQ3hFOzs7Ozs7Ozs7OztHQVdDLEdBQ0R1RCxhQUFhQyxZQUFZLEVBQUU7UUFDekIsTUFBTUMsd0JBQXdCRCxhQUFhQyxxQkFBcUIsSUFBSWhFO1FBQ3BFLE1BQU1pRSxRQUFRLElBQUksQ0FBQ3hCLFVBQVUsQ0FBQ3NCLGFBQWFyQixLQUFLLEVBQUVxQixhQUFheEQsSUFBSSxJQUFJLENBQUM7UUFDeEUsTUFBTXlDLGNBQWNpQixNQUFNcEIsUUFBUSxDQUFDLEtBQ25DO1FBQ0FxQixXQUFXbEIsYUFBYWdCO0lBQzFCO0lBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7R0FnQkMsR0FDREcsb0JBQW9CekIsS0FBSyxFQUFFbkMsSUFBSSxFQUFFVSxPQUFPLEVBQUU7UUFDeEMsTUFBTTJCLE9BQU9qRCwrREFBZUEsQ0FBQytDO1FBQzdCLE9BQU87WUFDTEcsVUFBVSxDQUFDQztnQkFDVCxNQUFNLEVBQUVzQixtQkFBbUIsRUFBRXBCLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQ2Qsb0JBQW9CLENBQUNlLFNBQVMsQ0FBQ0wsTUFBTXJDLFFBQVEsQ0FBQyxHQUFHVTtnQkFDbkcsTUFBTWlDLG1CQUFtQixJQUFJLENBQUMvQixTQUFTLENBQUNnQyxHQUFHLENBQUNpQjtnQkFDNUMsSUFBSWxCLHFCQUFxQixLQUFLLEdBQUc7b0JBQy9CQSxpQkFBaUJFLEdBQUcsQ0FBQ047Z0JBQ3ZCLE9BQU87b0JBQ0wsSUFBSSxDQUFDM0IsU0FBUyxDQUFDa0MsR0FBRyxDQUFDZSxxQkFBcUIsYUFBYSxHQUFHLElBQUlkLElBQUk7d0JBQUNSO3FCQUFTO2dCQUM1RTtnQkFDQSxPQUFPO29CQUNMLElBQUksSUFBSSxDQUFDcEIsTUFBTSxFQUFFO3dCQUNmO29CQUNGO29CQUNBLE1BQU02QixvQkFBb0IsSUFBSSxDQUFDcEMsU0FBUyxDQUFDZ0MsR0FBRyxDQUFDaUI7b0JBQzdDYixrQkFBa0JDLE1BQU0sQ0FBQ1Y7b0JBQ3pCLElBQUlTLGtCQUFrQkUsSUFBSSxLQUFLLEdBQUc7d0JBQ2hDLElBQUksQ0FBQ3RDLFNBQVMsQ0FBQ3FDLE1BQU0sQ0FBQ1k7b0JBQ3hCO29CQUNBcEI7Z0JBQ0Y7WUFDRjtZQUNBVSxrQkFBa0I7Z0JBQ2hCLE9BQU8sSUFBSSxDQUFDeEIsb0JBQW9CLENBQUN3QixnQkFBZ0IsQ0FBQ2QsTUFBTXJDLE1BQU1VO1lBQ2hFO1FBQ0Y7SUFDRjtJQUNBOzs7Ozs7Ozs7R0FTQyxHQUNEWCxTQUFTQSxRQUFRLEVBQUUsR0FBR3FDLGNBQWMsRUFBRTtRQUNwQyxNQUFNLENBQUNwQyxNQUFNVSxRQUFRLEdBQUcwQjtRQUN4QixNQUFNQyxPQUFPakQsK0RBQWVBLENBQUNXO1FBQzdCLE9BQU8sSUFBSSxDQUFDbUIsSUFBSSxDQUFDbkIsUUFBUSxDQUFDc0MsTUFBTXJDLE1BQU1VO0lBQ3hDO0lBQ0E7Ozs7Ozs7O0dBUUMsR0FDREosT0FBT0EsTUFBTSxFQUFFLEdBQUdOLElBQUksRUFBRTtRQUN0QixNQUFNcUMsT0FBT2pELCtEQUFlQSxDQUFDa0I7UUFDN0IsT0FBTyxJQUFJLENBQUNZLElBQUksQ0FBQ1osTUFBTSxDQUFDK0IsU0FBU3JDO0lBQ25DO0lBQ0E7Ozs7Ozs7Ozs7O0dBV0MsR0FDRG1DLE1BQU1BLEtBQUssRUFBRSxHQUFHbkMsSUFBSSxFQUFFO1FBQ3BCLE1BQU0wRCxRQUFRLElBQUksQ0FBQ3hCLFVBQVUsQ0FBQ0MsVUFBVW5DO1FBQ3hDLE1BQU04RCxpQkFBaUJKLE1BQU1QLGdCQUFnQjtRQUM3QyxJQUFJVyxtQkFBbUIsS0FBSyxHQUFHO1lBQzdCLE9BQU9DLFFBQVFDLE9BQU8sQ0FBQ0Y7UUFDekI7UUFDQSxPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDM0IsTUFBTXhCLGNBQWNpQixNQUFNcEIsUUFBUSxDQUFDO2dCQUNqQ0c7Z0JBQ0EsSUFBSTtvQkFDRnVCLFFBQVFOLE1BQU1QLGdCQUFnQjtnQkFDaEMsRUFBRSxPQUFPZSxHQUFHO29CQUNWRCxPQUFPQztnQkFDVDtZQUNGO1FBQ0Y7SUFDRjtJQUNBOzs7OztHQUtDLEdBQ0RDLGtCQUFrQjtRQUNoQixPQUFPLElBQUksQ0FBQ2pELElBQUksQ0FBQ2lELGVBQWU7SUFDbEM7SUFDQTs7Ozs7Ozs7Ozs7R0FXQyxHQUNEQywyQkFBMkJDLEVBQUUsRUFBRTtRQUM3QixPQUFPLElBQUksQ0FBQ25ELElBQUksQ0FBQ2tELDBCQUEwQixDQUFDQztJQUM5QztJQUNBOzs7O0dBSUMsR0FDRCxJQUFJdEQsU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDRCxPQUFPO0lBQ3JCO0lBQ0E7Ozs7Ozs7R0FPQyxHQUNELE1BQU13RCxRQUFRO1FBQ1osSUFBSSxDQUFDbkQsTUFBTSxHQUFHO1FBQ2QsSUFBSSxDQUFDUCxTQUFTLEdBQUcsYUFBYSxHQUFHLElBQUlDO1FBQ3JDLElBQUksSUFBSSxDQUFDVywwQkFBMEIsRUFBRTtZQUNuQyxJQUFJLENBQUNBLDBCQUEwQixHQUFHLEtBQUs7UUFDekM7UUFDQSxJQUFJLElBQUksQ0FBQ0osVUFBVSxFQUFFO1lBQ25CLE1BQU1GLE9BQU8sSUFBSSxDQUFDRSxVQUFVO1lBQzVCLElBQUksQ0FBQ0EsVUFBVSxHQUFHLEtBQUs7WUFDdkIsTUFBTUYsS0FBS29ELEtBQUs7UUFDbEI7SUFDRjtJQUNBOzs7R0FHQyxHQUNENUMsaUJBQWlCRCxVQUFVLEVBQUU7UUFDM0IsTUFBTThDLFNBQVM5QyxXQUFXK0MsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRTFDLEtBQUs7UUFDcEQsTUFBTTJDLFlBQVlsRCxXQUFXbUQsZ0JBQWdCLENBQUNILEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFMUMsS0FBSztRQUNoRSxJQUFJLENBQUNQLFVBQVUsQ0FBQztlQUFJOEM7ZUFBV0k7U0FBVTtJQUMzQztJQUNBbEQsV0FBV29ELGNBQWMsRUFBRTtRQUN6QixLQUFLLE1BQU1yQyxjQUFjcUMsZUFBZ0I7WUFDdkMsTUFBTUMsWUFBWSxJQUFJLENBQUNsRSxTQUFTLENBQUNnQyxHQUFHLENBQUNKO1lBQ3JDLElBQUlzQyxXQUFXO2dCQUNiLEtBQUssTUFBTXZDLFlBQVl1QyxVQUFXO29CQUNoQ3ZDO2dCQUNGO1lBQ0Y7UUFDRjtJQUNGO0FBQ0Y7QUFDQSxNQUFNd0MsOEJBQWdCbkcsZ0RBQW1CLENBQ3ZDLEtBQUs7QUFHQSxTQUFTcUc7SUFDZCxPQUFPbkcsaURBQVVBLENBQUNpRztBQUNwQjtBQUNPLE1BQU1HLGlCQUFpQixDQUFDLEVBQUVyRixNQUFNLEVBQUVzRixRQUFRLEVBQUU7SUFDakQscUJBQU92RyxnREFBbUIsQ0FDeEJtRyxjQUFjTSxRQUFRLEVBQ3RCO1FBQUUvRyxPQUFPdUI7SUFBTyxHQUNoQnNGO0FBRUosRUFBRTtBQUNLLFNBQVNHLFNBQVNuRCxLQUFLLEVBQUUsR0FBR25DLElBQUk7SUFDckMsTUFBTXVGLE9BQU92RixJQUFJLENBQUMsRUFBRSxLQUFLO0lBQ3pCLE1BQU13RixhQUFheEYsSUFBSSxDQUFDLEVBQUUsS0FBSyxTQUFTLENBQUMsSUFBSWIsMkRBQVNBLENBQUNhLElBQUksQ0FBQyxFQUFFO0lBQzlELE1BQU15RixpQkFBaUIsT0FBT3RELFVBQVUsV0FBVzlDLHFFQUFxQkEsQ0FBQzhDLFNBQVNBO0lBQ2xGLE1BQU11RCxZQUFZdEcsK0RBQWVBLENBQUNxRztJQUNsQyxNQUFNakIsVUFBVXpGLDhDQUFPQSxDQUNyQixJQUFNd0csT0FBTyxDQUFDLElBQUk7WUFBRXBELE9BQU87Z0JBQUVBLE9BQU9zRDtnQkFBZ0J6RixNQUFNd0Y7WUFBVztRQUFFLEdBQ3ZFLHdFQUF3RTtJQUN4RSx3RUFBd0U7SUFDeEUsdURBQXVEO0lBQ3ZEO1FBQUNHLEtBQUtDLFNBQVMsQ0FBQzVHLDhEQUFZQSxDQUFDd0c7UUFBY0U7UUFBV0g7S0FBSztJQUU3RCxNQUFNTSxVQUFVNUcsMkRBQVVBLENBQUN1RjtJQUMzQixNQUFNc0IsU0FBU0QsT0FBTyxDQUFDLFFBQVE7SUFDL0IsSUFBSUMsa0JBQWtCcEcsT0FBTztRQUMzQixNQUFNb0c7SUFDUjtJQUNBLE9BQU9BO0FBQ1Q7QUFDTyxTQUFTQyxZQUFZaEcsUUFBUTtJQUNsQyxNQUFNSCxvQkFBb0IsT0FBT0csYUFBYSxXQUFXVixxRUFBcUJBLENBQUNVLFlBQVlBO0lBQzNGLE1BQU1pRyxTQUFTbEgsaURBQVVBLENBQUNpRztJQUMxQixJQUFJaUIsV0FBVyxLQUFLLEdBQUc7UUFDckIsTUFBTSxJQUFJdEcsTUFDUjtJQUVKO0lBQ0EsT0FBT1gsOENBQU9BLENBQ1osSUFBTVksZUFBZUMsbUJBQW1Cb0csU0FDeEMsdURBQXVEO0lBQ3ZEO1FBQUNBO1FBQVE1RywrREFBZUEsQ0FBQ1E7S0FBbUI7QUFFaEQ7QUFDTyxTQUFTcUcsVUFBVTNGLE1BQU07SUFDOUIsTUFBTTBGLFNBQVNsSCxpREFBVUEsQ0FBQ2lHO0lBQzFCLE1BQU0xRSxrQkFBa0IsT0FBT0MsV0FBVyxXQUFXakIscUVBQXFCQSxDQUFDaUIsVUFBVUE7SUFDckYsSUFBSTBGLFdBQVcsS0FBSyxHQUFHO1FBQ3JCLE1BQU0sSUFBSXRHLE1BQ1I7SUFFSjtJQUNBLE9BQU9YLDhDQUFPQSxDQUNaLElBQU1xQixhQUFhQyxpQkFBaUIyRixTQUNwQyx1REFBdUQ7SUFDdkQ7UUFBQ0E7UUFBUTVHLCtEQUFlQSxDQUFDaUI7S0FBaUI7QUFFOUM7QUFDTyxTQUFTNkY7SUFDZCxNQUFNRixTQUFTbEgsaURBQVVBLENBQUNpRztJQUMxQixJQUFJaUIsV0FBVyxLQUFLLEdBQUc7UUFDckIsTUFBTSxJQUFJdEcsTUFDUjtJQUVKO0lBQ0EsTUFBTXlHLGtCQUFrQnRILGtEQUFXQSxDQUFDO1FBQ2xDLE9BQU9tSCxPQUFPN0IsZUFBZTtJQUMvQixHQUFHO1FBQUM2QjtLQUFPO0lBQ1gsTUFBTXRELFlBQVk3RCxrREFBV0EsQ0FDM0IsQ0FBQzBEO1FBQ0MsT0FBT3lELE9BQU81QiwwQkFBMEIsQ0FBQztZQUN2QzdCO1FBQ0Y7SUFDRixHQUNBO1FBQUN5RDtLQUFPO0lBRVYsT0FBTzlHLHFFQUFlQSxDQUFDO1FBQUVpSDtRQUFpQnpEO0lBQVU7QUFDdEQ7QUFDQSxTQUFTekMsNEJBQTRCM0IsS0FBSztJQUN4QyxJQUFJLE9BQU9BLFVBQVUsWUFBWUEsVUFBVSxRQUFRLGFBQWFBLFNBQVMsYUFBYUEsU0FBUyx3QkFBd0JBLE9BQU87UUFDNUgsTUFBTSxJQUFJb0IsTUFDUixDQUFDLHdXQUF3VyxDQUFDO0lBRTlXO0FBQ0YsRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvY2xpZW50LmpzP2IzZjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsgQmFzZUNvbnZleENsaWVudCB9IGZyb20gXCIuLi9icm93c2VyL2luZGV4LmpzXCI7XG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiB9IGZyb20gXCIuLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHVzZVF1ZXJpZXMgfSBmcm9tIFwiLi91c2VfcXVlcmllcy5qc1wiO1xuaW1wb3J0IHsgdXNlU3Vic2NyaXB0aW9uIH0gZnJvbSBcIi4vdXNlX3N1YnNjcmlwdGlvbi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzIH0gZnJvbSBcIi4uL2NvbW1vbi9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgZ2V0RnVuY3Rpb25OYW1lLFxuICBtYWtlRnVuY3Rpb25SZWZlcmVuY2Vcbn0gZnJvbSBcIi4uL3NlcnZlci9hcGkuanNcIjtcbmltcG9ydCB7XG4gIGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcixcbiAgaW5zdGFudGlhdGVOb29wTG9nZ2VyXG59IGZyb20gXCIuLi9icm93c2VyL2xvZ2dpbmcuanNcIjtcbmltcG9ydCB7XG4gIFBhZ2luYXRlZFF1ZXJ5Q2xpZW50XG59IGZyb20gXCIuLi9icm93c2VyL3N5bmMvcGFnaW5hdGVkX3F1ZXJ5X2NsaWVudC5qc1wiO1xuY29uc3QgREVGQVVMVF9FWFRFTkRfU1VCU0NSSVBUSU9OX0ZPUiA9IDVlMztcbmlmICh0eXBlb2YgUmVhY3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiUmVxdWlyZWQgZGVwZW5kZW5jeSAncmVhY3QnIG5vdCBmb3VuZFwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNdXRhdGlvbihtdXRhdGlvblJlZmVyZW5jZSwgY2xpZW50LCB1cGRhdGUpIHtcbiAgZnVuY3Rpb24gbXV0YXRpb24oYXJncykge1xuICAgIGFzc2VydE5vdEFjY2lkZW50YWxBcmd1bWVudChhcmdzKTtcbiAgICByZXR1cm4gY2xpZW50Lm11dGF0aW9uKG11dGF0aW9uUmVmZXJlbmNlLCBhcmdzLCB7XG4gICAgICBvcHRpbWlzdGljVXBkYXRlOiB1cGRhdGVcbiAgICB9KTtcbiAgfVxuICBtdXRhdGlvbi53aXRoT3B0aW1pc3RpY1VwZGF0ZSA9IGZ1bmN0aW9uIHdpdGhPcHRpbWlzdGljVXBkYXRlKG9wdGltaXN0aWNVcGRhdGUpIHtcbiAgICBpZiAodXBkYXRlICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEFscmVhZHkgc3BlY2lmaWVkIG9wdGltaXN0aWMgdXBkYXRlIGZvciBtdXRhdGlvbiAke2dldEZ1bmN0aW9uTmFtZShcbiAgICAgICAgICBtdXRhdGlvblJlZmVyZW5jZVxuICAgICAgICApfWBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVNdXRhdGlvbihtdXRhdGlvblJlZmVyZW5jZSwgY2xpZW50LCBvcHRpbWlzdGljVXBkYXRlKTtcbiAgfTtcbiAgcmV0dXJuIG11dGF0aW9uO1xufVxuZnVuY3Rpb24gY3JlYXRlQWN0aW9uKGFjdGlvblJlZmVyZW5jZSwgY2xpZW50KSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmdzKSB7XG4gICAgcmV0dXJuIGNsaWVudC5hY3Rpb24oYWN0aW9uUmVmZXJlbmNlLCBhcmdzKTtcbiAgfTtcbn1cbmV4cG9ydCBjbGFzcyBDb252ZXhSZWFjdENsaWVudCB7XG4gIC8qKlxuICAgKiBAcGFyYW0gYWRkcmVzcyAtIFRoZSB1cmwgb2YgeW91ciBDb252ZXggZGVwbG95bWVudCwgb2Z0ZW4gcHJvdmlkZWRcbiAgICogYnkgYW4gZW52aXJvbm1lbnQgdmFyaWFibGUuIEUuZy4gYGh0dHBzOi8vc21hbGwtbW91c2UtMTIzLmNvbnZleC5jbG91ZGAuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gU2VlIHtAbGluayBDb252ZXhSZWFjdENsaWVudE9wdGlvbnN9IGZvciBhIGZ1bGwgZGVzY3JpcHRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhZGRyZXNzLCBvcHRpb25zKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImFkZHJlc3NcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNhY2hlZFN5bmNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImNhY2hlZFBhZ2luYXRlZFF1ZXJ5Q2xpZW50XCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJsaXN0ZW5lcnNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIm9wdGlvbnNcIik7XG4gICAgLy8gXCJjbG9zZWRcIiBtZWFucyB0aGlzIGNsaWVudCBpcyBkb25lLCBub3QganVzdCB0aGF0IHRoZSB1bmRlcmx5aW5nIFdTIGNvbm5lY3Rpb24gaXMgY2xvc2VkLlxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjbG9zZWRcIiwgZmFsc2UpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfbG9nZ2VyXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJhZG1pbkF1dGhcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImZha2VVc2VySWRlbnRpdHlcIik7XG4gICAgaWYgKGFkZHJlc3MgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk5vIGFkZHJlc3MgcHJvdmlkZWQgdG8gQ29udmV4UmVhY3RDbGllbnQuXFxuSWYgdHJ5aW5nIHRvIGRlcGxveSB0byBwcm9kdWN0aW9uLCBtYWtlIHN1cmUgdG8gZm9sbG93IGFsbCB0aGUgaW5zdHJ1Y3Rpb25zIGZvdW5kIGF0IGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3Byb2R1Y3Rpb24vaG9zdGluZy9cXG5JZiBydW5uaW5nIGxvY2FsbHksIG1ha2Ugc3VyZSB0byBydW4gYGNvbnZleCBkZXZgIGFuZCBlbnN1cmUgdGhlIC5lbnYubG9jYWwgZmlsZSBpcyBwb3B1bGF0ZWQuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYWRkcmVzcyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ29udmV4UmVhY3RDbGllbnQgcmVxdWlyZXMgYSBVUkwgbGlrZSAnaHR0cHM6Ly9oYXBweS1vdHRlci0xMjMuY29udmV4LmNsb3VkJywgcmVjZWl2ZWQgc29tZXRoaW5nIG9mIHR5cGUgJHt0eXBlb2YgYWRkcmVzc30gaW5zdGVhZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWFkZHJlc3MuaW5jbHVkZXMoXCI6Ly9cIikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb3ZpZGVkIGFkZHJlc3Mgd2FzIG5vdCBhbiBhYnNvbHV0ZSBVUkwuXCIpO1xuICAgIH1cbiAgICB0aGlzLmFkZHJlc3MgPSBhZGRyZXNzO1xuICAgIHRoaXMubGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLl9sb2dnZXIgPSBvcHRpb25zPy5sb2dnZXIgPT09IGZhbHNlID8gaW5zdGFudGlhdGVOb29wTG9nZ2VyKHsgdmVyYm9zZTogb3B0aW9ucz8udmVyYm9zZSA/PyBmYWxzZSB9KSA6IG9wdGlvbnM/LmxvZ2dlciAhPT0gdHJ1ZSAmJiBvcHRpb25zPy5sb2dnZXIgPyBvcHRpb25zLmxvZ2dlciA6IGluc3RhbnRpYXRlRGVmYXVsdExvZ2dlcih7IHZlcmJvc2U6IG9wdGlvbnM/LnZlcmJvc2UgPz8gZmFsc2UgfSk7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5vcHRpb25zLCBsb2dnZXI6IHRoaXMuX2xvZ2dlciB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGFkZHJlc3MgZm9yIHRoaXMgY2xpZW50LCB1c2VmdWwgZm9yIGNyZWF0aW5nIGEgbmV3IGNsaWVudC5cbiAgICpcbiAgICogTm90IGd1YXJhbnRlZWQgdG8gbWF0Y2ggdGhlIGFkZHJlc3Mgd2l0aCB3aGljaCB0aGlzIGNsaWVudCB3YXMgY29uc3RydWN0ZWQ6XG4gICAqIGl0IG1heSBiZSBjYW5vbmljYWxpemVkLlxuICAgKi9cbiAgZ2V0IHVybCgpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRyZXNzO1xuICB9XG4gIC8qKlxuICAgKiBMYXppbHkgaW5zdGFudGlhdGUgdGhlIGBCYXNlQ29udmV4Q2xpZW50YCBzbyB3ZSBkb24ndCBjcmVhdGUgdGhlIFdlYlNvY2tldFxuICAgKiB3aGVuIHNlcnZlci1zaWRlIHJlbmRlcmluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXQgc3luYygpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleFJlYWN0Q2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkU3luYztcbiAgICB9XG4gICAgdGhpcy5jYWNoZWRTeW5jID0gbmV3IEJhc2VDb252ZXhDbGllbnQoXG4gICAgICB0aGlzLmFkZHJlc3MsXG4gICAgICAoKSA9PiB7XG4gICAgICB9LFxuICAgICAgLy8gVXNlIHRoZSBQYWdpbmF0ZWRRdWVyeUNsaWVudCdzIHRyYW5zaXRpb24gaW5zdGVhZC5cbiAgICAgIHRoaXMub3B0aW9uc1xuICAgICk7XG4gICAgaWYgKHRoaXMuYWRtaW5BdXRoKSB7XG4gICAgICB0aGlzLmNhY2hlZFN5bmMuc2V0QWRtaW5BdXRoKHRoaXMuYWRtaW5BdXRoLCB0aGlzLmZha2VVc2VySWRlbnRpdHkpO1xuICAgIH1cbiAgICB0aGlzLmNhY2hlZFBhZ2luYXRlZFF1ZXJ5Q2xpZW50ID0gbmV3IFBhZ2luYXRlZFF1ZXJ5Q2xpZW50KFxuICAgICAgdGhpcy5jYWNoZWRTeW5jLFxuICAgICAgKHRyYW5zaXRpb24pID0+IHRoaXMuaGFuZGxlVHJhbnNpdGlvbih0cmFuc2l0aW9uKVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGVkU3luYztcbiAgfVxuICAvKipcbiAgICogTGF6aWx5IGluc3RhbnRpYXRlIHRoZSBgUGFnaW5hdGVkUXVlcnlDbGllbnRgIHNvIHdlIGRvbid0IGNyZWF0ZSBpdFxuICAgKiB3aGVuIHNlcnZlci1zaWRlIHJlbmRlcmluZy5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXQgcGFnaW5hdGVkUXVlcnlDbGllbnQoKSB7XG4gICAgdGhpcy5zeW5jO1xuICAgIGlmICh0aGlzLmNhY2hlZFBhZ2luYXRlZFF1ZXJ5Q2xpZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZWRQYWdpbmF0ZWRRdWVyeUNsaWVudDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU2hvdWxkIGFscmVhZHkgYmUgaW5zdGFudGlhdGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuIHRvIGJlIHVzZWQgZm9yIHN1YnNlcXVlbnQgcXVlcmllcyBhbmQgbXV0YXRpb25zLlxuICAgKiBgZmV0Y2hUb2tlbmAgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBhZ2FpbiBpZiBhIHRva2VuIGV4cGlyZXMuXG4gICAqIGBmZXRjaFRva2VuYCBzaG91bGQgcmV0dXJuIGBudWxsYCBpZiB0aGUgdG9rZW4gY2Fubm90IGJlIHJldHJpZXZlZCwgZm9yIGV4YW1wbGVcbiAgICogd2hlbiB0aGUgdXNlcidzIHJpZ2h0cyB3ZXJlIHBlcm1hbmVudGx5IHJldm9rZWQuXG4gICAqIEBwYXJhbSBmZXRjaFRva2VuIC0gYW4gYXN5bmMgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBKV1QtZW5jb2RlZCBPcGVuSUQgQ29ubmVjdCBJZGVudGl0eSBUb2tlblxuICAgKiBAcGFyYW0gb25DaGFuZ2UgLSBhIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgYXV0aGVudGljYXRpb24gc3RhdHVzIGNoYW5nZXNcbiAgICovXG4gIHNldEF1dGgoZmV0Y2hUb2tlbiwgb25DaGFuZ2UpIHtcbiAgICBpZiAodHlwZW9mIGZldGNoVG9rZW4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJQYXNzaW5nIGEgc3RyaW5nIHRvIENvbnZleFJlYWN0Q2xpZW50LnNldEF1dGggaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCwgcGxlYXNlIHVwZ3JhZGUgdG8gcGFzc2luZyBpbiBhbiBhc3luYyBmdW5jdGlvbiB0byBoYW5kbGUgcmVhdXRoZW50aWNhdGlvbi5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zeW5jLnNldEF1dGgoXG4gICAgICBmZXRjaFRva2VuLFxuICAgICAgb25DaGFuZ2UgPz8gKCgpID0+IHtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXIgdGhlIGN1cnJlbnQgYXV0aGVudGljYXRpb24gdG9rZW4gaWYgc2V0LlxuICAgKi9cbiAgY2xlYXJBdXRoKCkge1xuICAgIHRoaXMuc3luYy5jbGVhckF1dGgoKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRBZG1pbkF1dGgodG9rZW4sIGlkZW50aXR5KSB7XG4gICAgdGhpcy5hZG1pbkF1dGggPSB0b2tlbjtcbiAgICB0aGlzLmZha2VVc2VySWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbnZleFJlYWN0Q2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgdGhpcy5zeW5jLnNldEFkbWluQXV0aCh0b2tlbiwgaWRlbnRpdHkpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IHtAbGluayBXYXRjaH0gb24gYSBDb252ZXggcXVlcnkgZnVuY3Rpb24uXG4gICAqXG4gICAqICoqTW9zdCBhcHBsaWNhdGlvbiBjb2RlIHNob3VsZCBub3QgY2FsbCB0aGlzIG1ldGhvZCBkaXJlY3RseS4gSW5zdGVhZCB1c2VcbiAgICogdGhlIHtAbGluayB1c2VRdWVyeX0gaG9vay4qKlxuICAgKlxuICAgKiBUaGUgYWN0IG9mIGNyZWF0aW5nIGEgd2F0Y2ggZG9lcyBub3RoaW5nLCBhIFdhdGNoIGlzIHN0YXRlbGVzcy5cbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5IC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBxdWVyeSB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIHF1ZXJ5LiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIFdhdGNoUXVlcnlPcHRpb25zfSBvcHRpb25zIG9iamVjdCBmb3IgdGhpcyBxdWVyeS5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBXYXRjaH0gb2JqZWN0LlxuICAgKi9cbiAgd2F0Y2hRdWVyeShxdWVyeSwgLi4uYXJnc0FuZE9wdGlvbnMpIHtcbiAgICBjb25zdCBbYXJncywgb3B0aW9uc10gPSBhcmdzQW5kT3B0aW9ucztcbiAgICBjb25zdCBuYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgICByZXR1cm4ge1xuICAgICAgb25VcGRhdGU6IChjYWxsYmFjaykgPT4ge1xuICAgICAgICBjb25zdCB7IHF1ZXJ5VG9rZW4sIHVuc3Vic2NyaWJlIH0gPSB0aGlzLnN5bmMuc3Vic2NyaWJlKFxuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgYXJncyxcbiAgICAgICAgICBvcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQocXVlcnlUb2tlbik7XG4gICAgICAgIGlmIChjdXJyZW50TGlzdGVuZXJzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBjdXJyZW50TGlzdGVuZXJzLmFkZChjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHF1ZXJ5VG9rZW4sIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtjYWxsYmFja10pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjdXJyZW50TGlzdGVuZXJzMiA9IHRoaXMubGlzdGVuZXJzLmdldChxdWVyeVRva2VuKTtcbiAgICAgICAgICBjdXJyZW50TGlzdGVuZXJzMi5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgICAgIGlmIChjdXJyZW50TGlzdGVuZXJzMi5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUocXVlcnlUb2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgbG9jYWxRdWVyeVJlc3VsdDogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5jYWNoZWRTeW5jKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkU3luYy5sb2NhbFF1ZXJ5UmVzdWx0KG5hbWUsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9LFxuICAgICAgbG9jYWxRdWVyeUxvZ3M6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVkU3luYykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNhY2hlZFN5bmMubG9jYWxRdWVyeUxvZ3MobmFtZSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBqb3VybmFsOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlZFN5bmMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZWRTeW5jLnF1ZXJ5Sm91cm5hbChuYW1lLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLy8gTGV0J3MgdHJ5IG91dCBhIHF1ZXJ5T3B0aW9ucy1zdHlsZSBBUEkuXG4gIC8vIFRoaXMgbWV0aG9kIGlzIHNpbWlsYXIgdG8gdGhlIFJlYWN0IFF1ZXJ5IEFQSSBgcXVlcnlDbGllbnQucHJlZmV0Y2hRdWVyeSgpYC5cbiAgLy8gSW4gdGhlIGZ1dHVyZSBhbiBlbnN1cmVRdWVyeURhdGEoKTogUHJvbWlzZTxEYXRhPiBtZXRob2QgY291bGQgZXhpc3QuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgbGlrZWx5IGZ1dHVyZSBpbnRlcmVzdCBpbiBhIHF1ZXJ5IHN1YnNjcmlwdGlvbi5cbiAgICpcbiAgICogVGhlIGltcGxlbWVudGF0aW9uIGN1cnJlbnRseSBpbW1lZGlhdGVseSBzdWJzY3JpYmVzIHRvIGEgcXVlcnkuIEluIHRoZSBmdXR1cmUgdGhpcyBtZXRob2RcbiAgICogbWF5IHByaW9yaXRpemUgc29tZSBxdWVyaWVzIG92ZXIgb3RoZXJzLCBmZXRjaCB0aGUgcXVlcnkgcmVzdWx0IHdpdGhvdXQgc3Vic2NyaWJpbmcsIG9yXG4gICAqIGRvIG5vdGhpbmcgaW4gc2xvdyBuZXR3b3JrIGNvbm5lY3Rpb25zIG9yIGhpZ2ggbG9hZCBzY2VuYXJpb3MuXG4gICAqXG4gICAqIFRvIHVzZSB0aGlzIGluIGEgUmVhY3QgY29tcG9uZW50LCBjYWxsIHVzZVF1ZXJ5KCkgYW5kIGlnbm9yZSB0aGUgcmV0dXJuIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0gcXVlcnlPcHRpb25zIC0gQSBxdWVyeSAoZnVuY3Rpb24gcmVmZXJlbmNlIGZyb20gYW4gYXBpIG9iamVjdCkgYW5kIGl0cyBhcmdzLCBwbHVzXG4gICAqIGFuIG9wdGlvbmFsIGV4dGVuZFN1YnNjcmlwdGlvbkZvciBmb3IgaG93IGxvbmcgdG8gc3Vic2NyaWJlIHRvIHRoZSBxdWVyeS5cbiAgICovXG4gIHByZXdhcm1RdWVyeShxdWVyeU9wdGlvbnMpIHtcbiAgICBjb25zdCBleHRlbmRTdWJzY3JpcHRpb25Gb3IgPSBxdWVyeU9wdGlvbnMuZXh0ZW5kU3Vic2NyaXB0aW9uRm9yID8/IERFRkFVTFRfRVhURU5EX1NVQlNDUklQVElPTl9GT1I7XG4gICAgY29uc3Qgd2F0Y2ggPSB0aGlzLndhdGNoUXVlcnkocXVlcnlPcHRpb25zLnF1ZXJ5LCBxdWVyeU9wdGlvbnMuYXJncyB8fCB7fSk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB3YXRjaC5vblVwZGF0ZSgoKSA9PiB7XG4gICAgfSk7XG4gICAgc2V0VGltZW91dCh1bnN1YnNjcmliZSwgZXh0ZW5kU3Vic2NyaXB0aW9uRm9yKTtcbiAgfVxuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IHtAbGluayBQYWdpbmF0ZWRXYXRjaH0gb24gYSBDb252ZXggcGFnaW5hdGVkIHF1ZXJ5IGZ1bmN0aW9uLlxuICAgKlxuICAgKiAqKk1vc3QgYXBwbGljYXRpb24gY29kZSBzaG91bGQgbm90IGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHkuIEluc3RlYWQgdXNlXG4gICAqIHRoZSB7QGxpbmsgdXNlUGFnaW5hdGVkUXVlcnl9IGhvb2suKipcbiAgICpcbiAgICogVGhlIGFjdCBvZiBjcmVhdGluZyBhIHdhdGNoIGRvZXMgbm90aGluZywgYSBXYXRjaCBpcyBzdGF0ZWxlc3MuXG4gICAqXG4gICAqIEBwYXJhbSBxdWVyeSAtIEEge0BsaW5rIHNlcnZlci5GdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBwdWJsaWMgcXVlcnkgdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBxdWVyeS4gSWYgdGhpcyBpcyBvbWl0dGVkLFxuICAgKiB0aGUgYXJndW1lbnRzIHdpbGwgYmUgYHt9YC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBBIHtAbGluayBXYXRjaFBhZ2luYXRlZFF1ZXJ5T3B0aW9uc30gb3B0aW9ucyBvYmplY3QgZm9yIHRoaXMgcXVlcnkuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgUGFnaW5hdGVkV2F0Y2h9IG9iamVjdC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICB3YXRjaFBhZ2luYXRlZFF1ZXJ5KHF1ZXJ5LCBhcmdzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgbmFtZSA9IGdldEZ1bmN0aW9uTmFtZShxdWVyeSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9uVXBkYXRlOiAoY2FsbGJhY2spID0+IHtcbiAgICAgICAgY29uc3QgeyBwYWdpbmF0ZWRRdWVyeVRva2VuLCB1bnN1YnNjcmliZSB9ID0gdGhpcy5wYWdpbmF0ZWRRdWVyeUNsaWVudC5zdWJzY3JpYmUobmFtZSwgYXJncyB8fCB7fSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycy5nZXQocGFnaW5hdGVkUXVlcnlUb2tlbik7XG4gICAgICAgIGlmIChjdXJyZW50TGlzdGVuZXJzICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBjdXJyZW50TGlzdGVuZXJzLmFkZChjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KHBhZ2luYXRlZFF1ZXJ5VG9rZW4sIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtjYWxsYmFja10pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjdXJyZW50TGlzdGVuZXJzMiA9IHRoaXMubGlzdGVuZXJzLmdldChwYWdpbmF0ZWRRdWVyeVRva2VuKTtcbiAgICAgICAgICBjdXJyZW50TGlzdGVuZXJzMi5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgICAgIGlmIChjdXJyZW50TGlzdGVuZXJzMi5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUocGFnaW5hdGVkUXVlcnlUb2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgbG9jYWxRdWVyeVJlc3VsdDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wYWdpbmF0ZWRRdWVyeUNsaWVudC5sb2NhbFF1ZXJ5UmVzdWx0KG5hbWUsIGFyZ3MsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYSBtdXRhdGlvbiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG11dGF0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBtdXRhdGlvblxuICAgKiB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIG11dGF0aW9uLiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEEge0BsaW5rIE11dGF0aW9uT3B0aW9uc30gb3B0aW9ucyBvYmplY3QgZm9yIHRoZSBtdXRhdGlvbi5cbiAgICogQHJldHVybnMgQSBwcm9taXNlIG9mIHRoZSBtdXRhdGlvbidzIHJlc3VsdC5cbiAgICovXG4gIG11dGF0aW9uKG11dGF0aW9uLCAuLi5hcmdzQW5kT3B0aW9ucykge1xuICAgIGNvbnN0IFthcmdzLCBvcHRpb25zXSA9IGFyZ3NBbmRPcHRpb25zO1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUobXV0YXRpb24pO1xuICAgIHJldHVybiB0aGlzLnN5bmMubXV0YXRpb24obmFtZSwgYXJncywgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEV4ZWN1dGUgYW4gYWN0aW9uIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYWN0aW9uIC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBhY3Rpb25cbiAgICogdG8gcnVuLlxuICAgKiBAcGFyYW0gYXJncyAtIEFuIGFyZ3VtZW50cyBvYmplY3QgZm9yIHRoZSBhY3Rpb24uIElmIHRoaXMgaXMgb21pdHRlZCxcbiAgICogdGhlIGFyZ3VtZW50cyB3aWxsIGJlIGB7fWAuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgYWN0aW9uJ3MgcmVzdWx0LlxuICAgKi9cbiAgYWN0aW9uKGFjdGlvbiwgLi4uYXJncykge1xuICAgIGNvbnN0IG5hbWUgPSBnZXRGdW5jdGlvbk5hbWUoYWN0aW9uKTtcbiAgICByZXR1cm4gdGhpcy5zeW5jLmFjdGlvbihuYW1lLCAuLi5hcmdzKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBxdWVyeSByZXN1bHQgb25jZS5cbiAgICpcbiAgICogKipNb3N0IGFwcGxpY2F0aW9uIGNvZGUgc2hvdWxkIHN1YnNjcmliZSB0byBxdWVyaWVzIGluc3RlYWQsIHVzaW5nXG4gICAqIHRoZSB7QGxpbmsgdXNlUXVlcnl9IGhvb2suKipcbiAgICpcbiAgICogQHBhcmFtIHF1ZXJ5IC0gQSB7QGxpbmsgc2VydmVyLkZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIHB1YmxpYyBxdWVyeVxuICAgKiB0byBydW4uXG4gICAqIEBwYXJhbSBhcmdzIC0gQW4gYXJndW1lbnRzIG9iamVjdCBmb3IgdGhlIHF1ZXJ5LiBJZiB0aGlzIGlzIG9taXR0ZWQsXG4gICAqIHRoZSBhcmd1bWVudHMgd2lsbCBiZSBge31gLlxuICAgKiBAcmV0dXJucyBBIHByb21pc2Ugb2YgdGhlIHF1ZXJ5J3MgcmVzdWx0LlxuICAgKi9cbiAgcXVlcnkocXVlcnksIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB3YXRjaCA9IHRoaXMud2F0Y2hRdWVyeShxdWVyeSwgLi4uYXJncyk7XG4gICAgY29uc3QgZXhpc3RpbmdSZXN1bHQgPSB3YXRjaC5sb2NhbFF1ZXJ5UmVzdWx0KCk7XG4gICAgaWYgKGV4aXN0aW5nUmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXhpc3RpbmdSZXN1bHQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB3YXRjaC5vblVwZGF0ZSgoKSA9PiB7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzb2x2ZSh3YXRjaC5sb2NhbFF1ZXJ5UmVzdWx0KCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHtAbGluayBDb25uZWN0aW9uU3RhdGV9IGJldHdlZW4gdGhlIGNsaWVudCBhbmQgdGhlIENvbnZleFxuICAgKiBiYWNrZW5kLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIENvbm5lY3Rpb25TdGF0ZX0gd2l0aCB0aGUgQ29udmV4IGJhY2tlbmQuXG4gICAqL1xuICBjb25uZWN0aW9uU3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3luYy5jb25uZWN0aW9uU3RhdGUoKTtcbiAgfVxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSB7QGxpbmsgQ29ubmVjdGlvblN0YXRlfSBiZXR3ZWVuIHRoZSBjbGllbnQgYW5kIHRoZSBDb252ZXhcbiAgICogYmFja2VuZCwgY2FsbGluZyBhIGNhbGxiYWNrIGVhY2ggdGltZSBpdCBjaGFuZ2VzLlxuICAgKlxuICAgKiBTdWJzY3JpYmVkIGNhbGxiYWNrcyB3aWxsIGJlIGNhbGxlZCB3aGVuIGFueSBwYXJ0IG9mIENvbm5lY3Rpb25TdGF0ZSBjaGFuZ2VzLlxuICAgKiBDb25uZWN0aW9uU3RhdGUgbWF5IGdyb3cgaW4gZnV0dXJlIHZlcnNpb25zIChlLmcuIHRvIHByb3ZpZGUgYSBhcnJheSBvZlxuICAgKiBpbmZsaWdodCByZXF1ZXN0cykgaW4gd2hpY2ggY2FzZSBjYWxsYmFja3Mgd291bGQgYmUgY2FsbGVkIG1vcmUgZnJlcXVlbnRseS5cbiAgICogQ29ubmVjdGlvblN0YXRlIG1heSBhbHNvICpsb3NlKiBwcm9wZXJ0aWVzIGluIGZ1dHVyZSB2ZXJzaW9ucyBhcyB3ZSBmaWd1cmVcbiAgICogb3V0IHdoYXQgaW5mb3JtYXRpb24gaXMgbW9zdCB1c2VmdWwuIEFzIHN1Y2ggdGhpcyBBUEkgaXMgY29uc2lkZXJlZCB1bnN0YWJsZS5cbiAgICpcbiAgICogQHJldHVybnMgQW4gdW5zdWJzY3JpYmUgZnVuY3Rpb24gdG8gc3RvcCBsaXN0ZW5pbmcuXG4gICAqL1xuICBzdWJzY3JpYmVUb0Nvbm5lY3Rpb25TdGF0ZShjYikge1xuICAgIHJldHVybiB0aGlzLnN5bmMuc3Vic2NyaWJlVG9Db25uZWN0aW9uU3RhdGUoY2IpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGxvZ2dlciBmb3IgdGhpcyBjbGllbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgTG9nZ2VyfSBmb3IgdGhpcyBjbGllbnQuXG4gICAqL1xuICBnZXQgbG9nZ2VyKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2dnZXI7XG4gIH1cbiAgLyoqXG4gICAqIENsb3NlIGFueSBuZXR3b3JrIGhhbmRsZXMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgY2xpZW50IGFuZCBzdG9wIGFsbCBzdWJzY3JpcHRpb25zLlxuICAgKlxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHdoZW4geW91J3JlIGRvbmUgd2l0aCBhIHtAbGluayBDb252ZXhSZWFjdENsaWVudH0gdG9cbiAgICogZGlzcG9zZSBvZiBpdHMgc29ja2V0cyBhbmQgcmVzb3VyY2VzLlxuICAgKlxuICAgKiBAcmV0dXJucyBBIGBQcm9taXNlYCBmdWxmaWxsZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBoYXMgYmVlbiBjb21wbGV0ZWx5IGNsb3NlZC5cbiAgICovXG4gIGFzeW5jIGNsb3NlKCkge1xuICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgaWYgKHRoaXMuY2FjaGVkUGFnaW5hdGVkUXVlcnlDbGllbnQpIHtcbiAgICAgIHRoaXMuY2FjaGVkUGFnaW5hdGVkUXVlcnlDbGllbnQgPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhY2hlZFN5bmMpIHtcbiAgICAgIGNvbnN0IHN5bmMgPSB0aGlzLmNhY2hlZFN5bmM7XG4gICAgICB0aGlzLmNhY2hlZFN5bmMgPSB2b2lkIDA7XG4gICAgICBhd2FpdCBzeW5jLmNsb3NlKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBIYW5kbGUgdHJhbnNpdGlvbnMgZnJvbSBib3RoIGJhc2UgY2xpZW50IGFuZCBwYWdpbmF0ZWQgY2xpZW50LlxuICAgKiBUaGlzIGVuc3VyZXMgYWxsIHRyYW5zaXRpb25zIGFyZSBwcm9jZXNzZWQgc3luY2hyb25vdXNseSBhbmQgaW4gb3JkZXIuXG4gICAqL1xuICBoYW5kbGVUcmFuc2l0aW9uKHRyYW5zaXRpb24pIHtcbiAgICBjb25zdCBzaW1wbGUgPSB0cmFuc2l0aW9uLnF1ZXJpZXMubWFwKChxKSA9PiBxLnRva2VuKTtcbiAgICBjb25zdCBwYWdpbmF0ZWQgPSB0cmFuc2l0aW9uLnBhZ2luYXRlZFF1ZXJpZXMubWFwKChxKSA9PiBxLnRva2VuKTtcbiAgICB0aGlzLnRyYW5zaXRpb24oWy4uLnNpbXBsZSwgLi4ucGFnaW5hdGVkXSk7XG4gIH1cbiAgdHJhbnNpdGlvbih1cGRhdGVkUXVlcmllcykge1xuICAgIGZvciAoY29uc3QgcXVlcnlUb2tlbiBvZiB1cGRhdGVkUXVlcmllcykge1xuICAgICAgY29uc3QgY2FsbGJhY2tzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KHF1ZXJ5VG9rZW4pO1xuICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmNvbnN0IENvbnZleENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KFxuICB2b2lkIDBcbiAgLy8gaW4gdGhlIGZ1dHVyZSB0aGlzIHdpbGwgYmUgYSBtb2NrZWQgY2xpZW50IGZvciB0ZXN0aW5nXG4pO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnZleCgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoQ29udmV4Q29udGV4dCk7XG59XG5leHBvcnQgY29uc3QgQ29udmV4UHJvdmlkZXIgPSAoeyBjbGllbnQsIGNoaWxkcmVuIH0pID0+IHtcbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgQ29udmV4Q29udGV4dC5Qcm92aWRlcixcbiAgICB7IHZhbHVlOiBjbGllbnQgfSxcbiAgICBjaGlsZHJlblxuICApO1xufTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyeShxdWVyeSwgLi4uYXJncykge1xuICBjb25zdCBza2lwID0gYXJnc1swXSA9PT0gXCJza2lwXCI7XG4gIGNvbnN0IGFyZ3NPYmplY3QgPSBhcmdzWzBdID09PSBcInNraXBcIiA/IHt9IDogcGFyc2VBcmdzKGFyZ3NbMF0pO1xuICBjb25zdCBxdWVyeVJlZmVyZW5jZSA9IHR5cGVvZiBxdWVyeSA9PT0gXCJzdHJpbmdcIiA/IG1ha2VGdW5jdGlvblJlZmVyZW5jZShxdWVyeSkgOiBxdWVyeTtcbiAgY29uc3QgcXVlcnlOYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5UmVmZXJlbmNlKTtcbiAgY29uc3QgcXVlcmllcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gc2tpcCA/IHt9IDogeyBxdWVyeTogeyBxdWVyeTogcXVlcnlSZWZlcmVuY2UsIGFyZ3M6IGFyZ3NPYmplY3QgfSB9LFxuICAgIC8vIFN0cmluZ2lmeSBhcmdzIHNvIGFyZ3MgdGhhdCBhcmUgc2VtYW50aWNhbGx5IHRoZSBzYW1lIGRvbid0IHRyaWdnZXIgYVxuICAgIC8vIHJlcmVuZGVyLiBTYXZlcyBkZXZlbG9wZXJzIGZyb20gYWRkaW5nIGB1c2VNZW1vYCBvbiBldmVyeSBhcmdzIHVzYWdlLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBbSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGFyZ3NPYmplY3QpKSwgcXVlcnlOYW1lLCBza2lwXVxuICApO1xuICBjb25zdCByZXN1bHRzID0gdXNlUXVlcmllcyhxdWVyaWVzKTtcbiAgY29uc3QgcmVzdWx0ID0gcmVzdWx0c1tcInF1ZXJ5XCJdO1xuICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICB0aHJvdyByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VNdXRhdGlvbihtdXRhdGlvbikge1xuICBjb25zdCBtdXRhdGlvblJlZmVyZW5jZSA9IHR5cGVvZiBtdXRhdGlvbiA9PT0gXCJzdHJpbmdcIiA/IG1ha2VGdW5jdGlvblJlZmVyZW5jZShtdXRhdGlvbikgOiBtdXRhdGlvbjtcbiAgY29uc3QgY29udmV4ID0gdXNlQ29udGV4dChDb252ZXhDb250ZXh0KTtcbiAgaWYgKGNvbnZleCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDb3VsZCBub3QgZmluZCBDb252ZXggY2xpZW50ISBgdXNlTXV0YXRpb25gIG11c3QgYmUgdXNlZCBpbiB0aGUgUmVhY3QgY29tcG9uZW50IHRyZWUgdW5kZXIgYENvbnZleFByb3ZpZGVyYC4gRGlkIHlvdSBmb3JnZXQgaXQ/IFNlZSBodHRwczovL2RvY3MuY29udmV4LmRldi9xdWljay1zdGFydCNzZXQtdXAtY29udmV4LWluLXlvdXItcmVhY3QtYXBwXCJcbiAgICApO1xuICB9XG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+IGNyZWF0ZU11dGF0aW9uKG11dGF0aW9uUmVmZXJlbmNlLCBjb252ZXgpLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBbY29udmV4LCBnZXRGdW5jdGlvbk5hbWUobXV0YXRpb25SZWZlcmVuY2UpXVxuICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFjdGlvbihhY3Rpb24pIHtcbiAgY29uc3QgY29udmV4ID0gdXNlQ29udGV4dChDb252ZXhDb250ZXh0KTtcbiAgY29uc3QgYWN0aW9uUmVmZXJlbmNlID0gdHlwZW9mIGFjdGlvbiA9PT0gXCJzdHJpbmdcIiA/IG1ha2VGdW5jdGlvblJlZmVyZW5jZShhY3Rpb24pIDogYWN0aW9uO1xuICBpZiAoY29udmV4ID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIENvbnZleCBjbGllbnQhIGB1c2VBY3Rpb25gIG11c3QgYmUgdXNlZCBpbiB0aGUgUmVhY3QgY29tcG9uZW50IHRyZWUgdW5kZXIgYENvbnZleFByb3ZpZGVyYC4gRGlkIHlvdSBmb3JnZXQgaXQ/IFNlZSBodHRwczovL2RvY3MuY29udmV4LmRldi9xdWljay1zdGFydCNzZXQtdXAtY29udmV4LWluLXlvdXItcmVhY3QtYXBwXCJcbiAgICApO1xuICB9XG4gIHJldHVybiB1c2VNZW1vKFxuICAgICgpID0+IGNyZWF0ZUFjdGlvbihhY3Rpb25SZWZlcmVuY2UsIGNvbnZleCksXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIFtjb252ZXgsIGdldEZ1bmN0aW9uTmFtZShhY3Rpb25SZWZlcmVuY2UpXVxuICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnZleENvbm5lY3Rpb25TdGF0ZSgpIHtcbiAgY29uc3QgY29udmV4ID0gdXNlQ29udGV4dChDb252ZXhDb250ZXh0KTtcbiAgaWYgKGNvbnZleCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDb3VsZCBub3QgZmluZCBDb252ZXggY2xpZW50ISBgdXNlQ29udmV4Q29ubmVjdGlvblN0YXRlYCBtdXN0IGJlIHVzZWQgaW4gdGhlIFJlYWN0IGNvbXBvbmVudCB0cmVlIHVuZGVyIGBDb252ZXhQcm92aWRlcmAuIERpZCB5b3UgZm9yZ2V0IGl0PyBTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvcXVpY2stc3RhcnQjc2V0LXVwLWNvbnZleC1pbi15b3VyLXJlYWN0LWFwcFwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBnZXRDdXJyZW50VmFsdWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGNvbnZleC5jb25uZWN0aW9uU3RhdGUoKTtcbiAgfSwgW2NvbnZleF0pO1xuICBjb25zdCBzdWJzY3JpYmUgPSB1c2VDYWxsYmFjayhcbiAgICAoY2FsbGJhY2spID0+IHtcbiAgICAgIHJldHVybiBjb252ZXguc3Vic2NyaWJlVG9Db25uZWN0aW9uU3RhdGUoKCkgPT4ge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbY29udmV4XVxuICApO1xuICByZXR1cm4gdXNlU3Vic2NyaXB0aW9uKHsgZ2V0Q3VycmVudFZhbHVlLCBzdWJzY3JpYmUgfSk7XG59XG5mdW5jdGlvbiBhc3NlcnROb3RBY2NpZGVudGFsQXJndW1lbnQodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBcImJ1YmJsZXNcIiBpbiB2YWx1ZSAmJiBcInBlcnNpc3RcIiBpbiB2YWx1ZSAmJiBcImlzRGVmYXVsdFByZXZlbnRlZFwiIGluIHZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYENvbnZleCBmdW5jdGlvbiBjYWxsZWQgd2l0aCBTeW50aGV0aWNFdmVudCBvYmplY3QuIERpZCB5b3UgdXNlIGEgQ29udmV4IGZ1bmN0aW9uIGFzIGFuIGV2ZW50IGhhbmRsZXIgZGlyZWN0bHk/IEV2ZW50IGhhbmRsZXJzIGxpa2Ugb25DbGljayByZWNlaXZlIGFuIGV2ZW50IG9iamVjdCBhcyB0aGVpciBmaXJzdCBhcmd1bWVudC4gVGhlc2UgU3ludGhldGljRXZlbnQgb2JqZWN0cyBhcmUgbm90IHZhbGlkIENvbnZleCB2YWx1ZXMuIFRyeSB3cmFwcGluZyB0aGUgZnVuY3Rpb24gbGlrZSBcXGBjb25zdCBoYW5kbGVyID0gKCkgPT4gbXlNdXRhdGlvbigpO1xcYCBhbmQgdXNpbmcgXFxgaGFuZGxlclxcYCBpbiB0aGUgZXZlbnQgaGFuZGxlci5gXG4gICAgKTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiQmFzZUNvbnZleENsaWVudCIsIlJlYWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VDb250ZXh0IiwidXNlTWVtbyIsImNvbnZleFRvSnNvbiIsInVzZVF1ZXJpZXMiLCJ1c2VTdWJzY3JpcHRpb24iLCJwYXJzZUFyZ3MiLCJnZXRGdW5jdGlvbk5hbWUiLCJtYWtlRnVuY3Rpb25SZWZlcmVuY2UiLCJpbnN0YW50aWF0ZURlZmF1bHRMb2dnZXIiLCJpbnN0YW50aWF0ZU5vb3BMb2dnZXIiLCJQYWdpbmF0ZWRRdWVyeUNsaWVudCIsIkRFRkFVTFRfRVhURU5EX1NVQlNDUklQVElPTl9GT1IiLCJFcnJvciIsImNyZWF0ZU11dGF0aW9uIiwibXV0YXRpb25SZWZlcmVuY2UiLCJjbGllbnQiLCJ1cGRhdGUiLCJtdXRhdGlvbiIsImFyZ3MiLCJhc3NlcnROb3RBY2NpZGVudGFsQXJndW1lbnQiLCJvcHRpbWlzdGljVXBkYXRlIiwid2l0aE9wdGltaXN0aWNVcGRhdGUiLCJjcmVhdGVBY3Rpb24iLCJhY3Rpb25SZWZlcmVuY2UiLCJhY3Rpb24iLCJDb252ZXhSZWFjdENsaWVudCIsImNvbnN0cnVjdG9yIiwiYWRkcmVzcyIsIm9wdGlvbnMiLCJpbmNsdWRlcyIsImxpc3RlbmVycyIsIk1hcCIsIl9sb2dnZXIiLCJsb2dnZXIiLCJ2ZXJib3NlIiwidXJsIiwic3luYyIsImNsb3NlZCIsImNhY2hlZFN5bmMiLCJhZG1pbkF1dGgiLCJzZXRBZG1pbkF1dGgiLCJmYWtlVXNlcklkZW50aXR5IiwiY2FjaGVkUGFnaW5hdGVkUXVlcnlDbGllbnQiLCJ0cmFuc2l0aW9uIiwiaGFuZGxlVHJhbnNpdGlvbiIsInBhZ2luYXRlZFF1ZXJ5Q2xpZW50Iiwic2V0QXV0aCIsImZldGNoVG9rZW4iLCJvbkNoYW5nZSIsImNsZWFyQXV0aCIsInRva2VuIiwiaWRlbnRpdHkiLCJ3YXRjaFF1ZXJ5IiwicXVlcnkiLCJhcmdzQW5kT3B0aW9ucyIsIm5hbWUiLCJvblVwZGF0ZSIsImNhbGxiYWNrIiwicXVlcnlUb2tlbiIsInVuc3Vic2NyaWJlIiwic3Vic2NyaWJlIiwiY3VycmVudExpc3RlbmVycyIsImdldCIsImFkZCIsInNldCIsIlNldCIsImN1cnJlbnRMaXN0ZW5lcnMyIiwiZGVsZXRlIiwic2l6ZSIsImxvY2FsUXVlcnlSZXN1bHQiLCJsb2NhbFF1ZXJ5TG9ncyIsImpvdXJuYWwiLCJxdWVyeUpvdXJuYWwiLCJwcmV3YXJtUXVlcnkiLCJxdWVyeU9wdGlvbnMiLCJleHRlbmRTdWJzY3JpcHRpb25Gb3IiLCJ3YXRjaCIsInNldFRpbWVvdXQiLCJ3YXRjaFBhZ2luYXRlZFF1ZXJ5IiwicGFnaW5hdGVkUXVlcnlUb2tlbiIsImV4aXN0aW5nUmVzdWx0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlIiwiY29ubmVjdGlvblN0YXRlIiwic3Vic2NyaWJlVG9Db25uZWN0aW9uU3RhdGUiLCJjYiIsImNsb3NlIiwic2ltcGxlIiwicXVlcmllcyIsIm1hcCIsInEiLCJwYWdpbmF0ZWQiLCJwYWdpbmF0ZWRRdWVyaWVzIiwidXBkYXRlZFF1ZXJpZXMiLCJjYWxsYmFja3MiLCJDb252ZXhDb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnZleCIsIkNvbnZleFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJ1c2VRdWVyeSIsInNraXAiLCJhcmdzT2JqZWN0IiwicXVlcnlSZWZlcmVuY2UiLCJxdWVyeU5hbWUiLCJKU09OIiwic3RyaW5naWZ5IiwicmVzdWx0cyIsInJlc3VsdCIsInVzZU11dGF0aW9uIiwiY29udmV4IiwidXNlQWN0aW9uIiwidXNlQ29udmV4Q29ubmVjdGlvblN0YXRlIiwiZ2V0Q3VycmVudFZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/hydration.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/hydration.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePreloadedQuery: () => (/* binding */ usePreloadedQuery)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _react_client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../react/client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n\n\n\n\n\nfunction usePreloadedQuery(preloadedQuery) {\n    const args = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(preloadedQuery._argsJSON), [\n        preloadedQuery._argsJSON\n    ]);\n    const preloadedResult = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_3__.jsonToConvex)(preloadedQuery._valueJSON), [\n        preloadedQuery._valueJSON\n    ]);\n    const result = (0,_react_client_js__WEBPACK_IMPORTED_MODULE_1__.useQuery)((0,_server_api_js__WEBPACK_IMPORTED_MODULE_2__.makeFunctionReference)(preloadedQuery._name), args);\n    return result === void 0 ? preloadedResult : result;\n} //# sourceMappingURL=hydration.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2h5ZHJhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFhO0FBQ21CO0FBQ2M7QUFDVztBQUNQO0FBQzNDLFNBQVNJLGtCQUFrQkMsY0FBYztJQUM5QyxNQUFNQyxPQUFPTiw4Q0FBT0EsQ0FDbEIsSUFBTUcsOERBQVlBLENBQUNFLGVBQWVFLFNBQVMsR0FDM0M7UUFBQ0YsZUFBZUUsU0FBUztLQUFDO0lBRTVCLE1BQU1DLGtCQUFrQlIsOENBQU9BLENBQzdCLElBQU1HLDhEQUFZQSxDQUFDRSxlQUFlSSxVQUFVLEdBQzVDO1FBQUNKLGVBQWVJLFVBQVU7S0FBQztJQUU3QixNQUFNQyxTQUFTVCwwREFBUUEsQ0FDckJDLHFFQUFxQkEsQ0FBQ0csZUFBZU0sS0FBSyxHQUMxQ0w7SUFFRixPQUFPSSxXQUFXLEtBQUssSUFBSUYsa0JBQWtCRTtBQUMvQyxFQUNBLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9yZWFjdC9oeWRyYXRpb24uanM/ODIxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVF1ZXJ5IH0gZnJvbSBcIi4uL3JlYWN0L2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgbWFrZUZ1bmN0aW9uUmVmZXJlbmNlIH0gZnJvbSBcIi4uL3NlcnZlci9hcGkuanNcIjtcbmltcG9ydCB7IGpzb25Ub0NvbnZleCB9IGZyb20gXCIuLi92YWx1ZXMvaW5kZXguanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB1c2VQcmVsb2FkZWRRdWVyeShwcmVsb2FkZWRRdWVyeSkge1xuICBjb25zdCBhcmdzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBqc29uVG9Db252ZXgocHJlbG9hZGVkUXVlcnkuX2FyZ3NKU09OKSxcbiAgICBbcHJlbG9hZGVkUXVlcnkuX2FyZ3NKU09OXVxuICApO1xuICBjb25zdCBwcmVsb2FkZWRSZXN1bHQgPSB1c2VNZW1vKFxuICAgICgpID0+IGpzb25Ub0NvbnZleChwcmVsb2FkZWRRdWVyeS5fdmFsdWVKU09OKSxcbiAgICBbcHJlbG9hZGVkUXVlcnkuX3ZhbHVlSlNPTl1cbiAgKTtcbiAgY29uc3QgcmVzdWx0ID0gdXNlUXVlcnkoXG4gICAgbWFrZUZ1bmN0aW9uUmVmZXJlbmNlKHByZWxvYWRlZFF1ZXJ5Ll9uYW1lKSxcbiAgICBhcmdzXG4gICk7XG4gIHJldHVybiByZXN1bHQgPT09IHZvaWQgMCA/IHByZWxvYWRlZFJlc3VsdCA6IHJlc3VsdDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh5ZHJhdGlvbi5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlUXVlcnkiLCJtYWtlRnVuY3Rpb25SZWZlcmVuY2UiLCJqc29uVG9Db252ZXgiLCJ1c2VQcmVsb2FkZWRRdWVyeSIsInByZWxvYWRlZFF1ZXJ5IiwiYXJncyIsIl9hcmdzSlNPTiIsInByZWxvYWRlZFJlc3VsdCIsIl92YWx1ZUpTT04iLCJyZXN1bHQiLCJfbmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/hydration.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthLoading: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_3__.AuthLoading),\n/* harmony export */   Authenticated: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_3__.Authenticated),\n/* harmony export */   ConvexProvider: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.ConvexProvider),\n/* harmony export */   ConvexProviderWithAuth: () => (/* reexport safe */ _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_4__.ConvexProviderWithAuth),\n/* harmony export */   ConvexReactClient: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.ConvexReactClient),\n/* harmony export */   Unauthenticated: () => (/* reexport safe */ _auth_helpers_js__WEBPACK_IMPORTED_MODULE_3__.Unauthenticated),\n/* harmony export */   includePage: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.includePage),\n/* harmony export */   insertAtBottomIfLoaded: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.insertAtBottomIfLoaded),\n/* harmony export */   insertAtPosition: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.insertAtPosition),\n/* harmony export */   insertAtTop: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.insertAtTop),\n/* harmony export */   optimisticallyUpdateValueInPaginatedQuery: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.optimisticallyUpdateValueInPaginatedQuery),\n/* harmony export */   page: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.page),\n/* harmony export */   resetPaginationId: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.resetPaginationId),\n/* harmony export */   useAction: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useAction),\n/* harmony export */   useConvex: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useConvex),\n/* harmony export */   useConvexAuth: () => (/* reexport safe */ _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_4__.useConvexAuth),\n/* harmony export */   useConvexConnectionState: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useConvexConnectionState),\n/* harmony export */   useMutation: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useMutation),\n/* harmony export */   usePaginatedQuery: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.usePaginatedQuery),\n/* harmony export */   usePaginatedQueryInternal: () => (/* reexport safe */ _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__.usePaginatedQueryInternal),\n/* harmony export */   usePaginatedQuery_experimental: () => (/* reexport safe */ _use_paginated_query2_js__WEBPACK_IMPORTED_MODULE_1__.usePaginatedQuery_experimental),\n/* harmony export */   usePreloadedQuery: () => (/* reexport safe */ _hydration_js__WEBPACK_IMPORTED_MODULE_5__.usePreloadedQuery),\n/* harmony export */   useQueries: () => (/* reexport safe */ _use_queries_js__WEBPACK_IMPORTED_MODULE_2__.useQueries),\n/* harmony export */   useQuery: () => (/* reexport safe */ _client_js__WEBPACK_IMPORTED_MODULE_7__.useQuery),\n/* harmony export */   useSubscription: () => (/* reexport safe */ _use_subscription_js__WEBPACK_IMPORTED_MODULE_6__.useSubscription)\n/* harmony export */ });\n/* harmony import */ var _use_paginated_query_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./use_paginated_query.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query.js\");\n/* harmony import */ var _use_paginated_query2_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use_paginated_query2.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query2.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _auth_helpers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth_helpers.js */ \"(ssr)/./node_modules/convex/dist/esm/react/auth_helpers.js\");\n/* harmony import */ var _ConvexAuthState_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ConvexAuthState.js */ \"(ssr)/./node_modules/convex/dist/esm/react/ConvexAuthState.js\");\n/* harmony import */ var _hydration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hydration.js */ \"(ssr)/./node_modules/convex/dist/esm/react/hydration.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./use_subscription.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n\n\n\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBQzRCO0FBQ2tDO0FBQ2Q7QUFDZjtBQUNaO0FBQ0c7QUFDTjtBQUN5QjtBQVNuQyxDQUNyQixpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvaW5kZXguanM/MzU1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3VzZV9wYWdpbmF0ZWRfcXVlcnkuanNcIjtcbmV4cG9ydCB7IHVzZVBhZ2luYXRlZFF1ZXJ5X2V4cGVyaW1lbnRhbCB9IGZyb20gXCIuL3VzZV9wYWdpbmF0ZWRfcXVlcnkyLmpzXCI7XG5leHBvcnQgeyB1c2VQYWdpbmF0ZWRRdWVyeSB9IGZyb20gXCIuL3VzZV9wYWdpbmF0ZWRfcXVlcnkuanNcIjtcbmV4cG9ydCB7IHVzZVF1ZXJpZXMgfSBmcm9tIFwiLi91c2VfcXVlcmllcy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vYXV0aF9oZWxwZXJzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9Db252ZXhBdXRoU3RhdGUuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2h5ZHJhdGlvbi5qc1wiO1xuZXhwb3J0IHsgdXNlU3Vic2NyaXB0aW9uIH0gZnJvbSBcIi4vdXNlX3N1YnNjcmlwdGlvbi5qc1wiO1xuZXhwb3J0IHtcbiAgQ29udmV4UmVhY3RDbGllbnQsXG4gIHVzZUNvbnZleCxcbiAgQ29udmV4UHJvdmlkZXIsXG4gIHVzZVF1ZXJ5LFxuICB1c2VNdXRhdGlvbixcbiAgdXNlQWN0aW9uLFxuICB1c2VDb252ZXhDb25uZWN0aW9uU3RhdGVcbn0gZnJvbSBcIi4vY2xpZW50LmpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ1c2VQYWdpbmF0ZWRRdWVyeV9leHBlcmltZW50YWwiLCJ1c2VQYWdpbmF0ZWRRdWVyeSIsInVzZVF1ZXJpZXMiLCJ1c2VTdWJzY3JpcHRpb24iLCJDb252ZXhSZWFjdENsaWVudCIsInVzZUNvbnZleCIsIkNvbnZleFByb3ZpZGVyIiwidXNlUXVlcnkiLCJ1c2VNdXRhdGlvbiIsInVzZUFjdGlvbiIsInVzZUNvbnZleENvbm5lY3Rpb25TdGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/queries_observer.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/queries_observer.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueriesObserver: () => (/* binding */ QueriesObserver)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass QueriesObserver {\n    constructor(createWatch){\n        __publicField(this, \"createWatch\");\n        __publicField(this, \"queries\");\n        __publicField(this, \"listeners\");\n        this.createWatch = createWatch;\n        this.queries = {};\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    setQueries(newQueries) {\n        for (const identifier of Object.keys(newQueries)){\n            const { query, args, paginationOptions } = newQueries[identifier];\n            (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query);\n            if (this.queries[identifier] === void 0) {\n                this.addQuery(identifier, query, args, paginationOptions ? {\n                    paginationOptions\n                } : {});\n            } else {\n                const existingInfo = this.queries[identifier];\n                if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(existingInfo.query) || JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(args)) !== JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(existingInfo.args)) || JSON.stringify(paginationOptions) !== JSON.stringify(existingInfo.paginationOptions)) {\n                    this.removeQuery(identifier);\n                    this.addQuery(identifier, query, args, paginationOptions ? {\n                        paginationOptions\n                    } : {});\n                }\n            }\n        }\n        for (const identifier of Object.keys(this.queries)){\n            if (newQueries[identifier] === void 0) {\n                this.removeQuery(identifier);\n            }\n        }\n    }\n    subscribe(listener) {\n        this.listeners.add(listener);\n        return ()=>{\n            this.listeners.delete(listener);\n        };\n    }\n    getLocalResults(queries) {\n        const result = {};\n        for (const identifier of Object.keys(queries)){\n            const { query, args } = queries[identifier];\n            const paginationOptions = queries[identifier].paginationOptions;\n            (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query);\n            const watch = this.createWatch(query, args, paginationOptions ? {\n                paginationOptions\n            } : {});\n            let value;\n            try {\n                value = watch.localQueryResult();\n            } catch (e) {\n                if (e instanceof Error) {\n                    value = e;\n                } else {\n                    throw e;\n                }\n            }\n            result[identifier] = value;\n        }\n        return result;\n    }\n    setCreateWatch(createWatch) {\n        this.createWatch = createWatch;\n        for (const identifier of Object.keys(this.queries)){\n            const { query, args, watch, paginationOptions } = this.queries[identifier];\n            const journal = \"journal\" in watch ? watch.journal() : void 0;\n            this.removeQuery(identifier);\n            this.addQuery(identifier, query, args, {\n                ...journal ? {\n                    journal\n                } : [],\n                ...paginationOptions ? {\n                    paginationOptions\n                } : {}\n            });\n        }\n    }\n    destroy() {\n        for (const identifier of Object.keys(this.queries)){\n            this.removeQuery(identifier);\n        }\n        this.listeners = /* @__PURE__ */ new Set();\n    }\n    addQuery(identifier, query, args, { paginationOptions, journal }) {\n        if (this.queries[identifier] !== void 0) {\n            throw new Error(`Tried to add a new query with identifier ${identifier} when it already exists.`);\n        }\n        const watch = this.createWatch(query, args, {\n            ...journal ? {\n                journal\n            } : [],\n            ...paginationOptions ? {\n                paginationOptions\n            } : {}\n        });\n        const unsubscribe = watch.onUpdate(()=>this.notifyListeners());\n        this.queries[identifier] = {\n            query,\n            args,\n            watch,\n            unsubscribe,\n            ...paginationOptions ? {\n                paginationOptions\n            } : {}\n        };\n    }\n    removeQuery(identifier) {\n        const info = this.queries[identifier];\n        if (info === void 0) {\n            throw new Error(`No query found with identifier ${identifier}.`);\n        }\n        info.unsubscribe();\n        delete this.queries[identifier];\n    }\n    notifyListeners() {\n        for (const listener of this.listeners){\n            listener();\n        }\n    }\n} //# sourceMappingURL=queries_observer.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3F1ZXJpZXNfb2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ3REO0FBQ0M7QUFDNUMsTUFBTU87SUFDWEMsWUFBWUMsV0FBVyxDQUFFO1FBQ3ZCTCxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ0ssV0FBVyxHQUFHQTtRQUNuQixJQUFJLENBQUNDLE9BQU8sR0FBRyxDQUFDO1FBQ2hCLElBQUksQ0FBQ0MsU0FBUyxHQUFHLGFBQWEsR0FBRyxJQUFJQztJQUN2QztJQUNBQyxXQUFXQyxVQUFVLEVBQUU7UUFDckIsS0FBSyxNQUFNQyxjQUFjcEIsT0FBT3FCLElBQUksQ0FBQ0YsWUFBYTtZQUNoRCxNQUFNLEVBQUVHLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxpQkFBaUIsRUFBRSxHQUFHTCxVQUFVLENBQUNDLFdBQVc7WUFDakVULCtEQUFlQSxDQUFDVztZQUNoQixJQUFJLElBQUksQ0FBQ1AsT0FBTyxDQUFDSyxXQUFXLEtBQUssS0FBSyxHQUFHO2dCQUN2QyxJQUFJLENBQUNLLFFBQVEsQ0FDWEwsWUFDQUUsT0FDQUMsTUFDQUMsb0JBQW9CO29CQUFFQTtnQkFBa0IsSUFBSSxDQUFDO1lBRWpELE9BQU87Z0JBQ0ws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Q2pCaUIsT0FBTyxFQUNSLEVBQUU7UUFDRCxJQUFJLElBQUksQ0FBQzFCLE9BQU8sQ0FBQ0ssV0FBVyxLQUFLLEtBQUssR0FBRztZQUN2QyxNQUFNLElBQUltQixNQUNSLENBQUMseUNBQXlDLEVBQUVuQixXQUFXLHdCQUF3QixDQUFDO1FBRXBGO1FBQ0EsTUFBTWdCLFFBQVEsSUFBSSxDQUFDdEIsV0FBVyxDQUFDUSxPQUFPQyxNQUFNO1lBQzFDLEdBQUdrQixVQUFVO2dCQUFFQTtZQUFRLElBQUksRUFBRTtZQUM3QixHQUFHakIsb0JBQW9CO2dCQUFFQTtZQUFrQixJQUFJLENBQUMsQ0FBQztRQUNuRDtRQUNBLE1BQU1tQixjQUFjUCxNQUFNUSxRQUFRLENBQUMsSUFBTSxJQUFJLENBQUNDLGVBQWU7UUFDN0QsSUFBSSxDQUFDOUIsT0FBTyxDQUFDSyxXQUFXLEdBQUc7WUFDekJFO1lBQ0FDO1lBQ0FhO1lBQ0FPO1lBQ0EsR0FBR25CLG9CQUFvQjtnQkFBRUE7WUFBa0IsSUFBSSxDQUFDLENBQUM7UUFDbkQ7SUFDRjtJQUNBSyxZQUFZVCxVQUFVLEVBQUU7UUFDdEIsTUFBTTBCLE9BQU8sSUFBSSxDQUFDL0IsT0FBTyxDQUFDSyxXQUFXO1FBQ3JDLElBQUkwQixTQUFTLEtBQUssR0FBRztZQUNuQixNQUFNLElBQUlQLE1BQU0sQ0FBQywrQkFBK0IsRUFBRW5CLFdBQVcsQ0FBQyxDQUFDO1FBQ2pFO1FBQ0EwQixLQUFLSCxXQUFXO1FBQ2hCLE9BQU8sSUFBSSxDQUFDNUIsT0FBTyxDQUFDSyxXQUFXO0lBQ2pDO0lBQ0F5QixrQkFBa0I7UUFDaEIsS0FBSyxNQUFNZCxZQUFZLElBQUksQ0FBQ2YsU0FBUyxDQUFFO1lBQ3JDZTtRQUNGO0lBQ0Y7QUFDRixFQUNBLDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9yZWFjdC9xdWVyaWVzX29ic2VydmVyLmpzPzk0MmMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uIH0gZnJvbSBcIi4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0RnVuY3Rpb25OYW1lIH0gZnJvbSBcIi4uL3NlcnZlci9hcGkuanNcIjtcbmV4cG9ydCBjbGFzcyBRdWVyaWVzT2JzZXJ2ZXIge1xuICBjb25zdHJ1Y3RvcihjcmVhdGVXYXRjaCkge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjcmVhdGVXYXRjaFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicXVlcmllc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwibGlzdGVuZXJzXCIpO1xuICAgIHRoaXMuY3JlYXRlV2F0Y2ggPSBjcmVhdGVXYXRjaDtcbiAgICB0aGlzLnF1ZXJpZXMgPSB7fTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIH1cbiAgc2V0UXVlcmllcyhuZXdRdWVyaWVzKSB7XG4gICAgZm9yIChjb25zdCBpZGVudGlmaWVyIG9mIE9iamVjdC5rZXlzKG5ld1F1ZXJpZXMpKSB7XG4gICAgICBjb25zdCB7IHF1ZXJ5LCBhcmdzLCBwYWdpbmF0aW9uT3B0aW9ucyB9ID0gbmV3UXVlcmllc1tpZGVudGlmaWVyXTtcbiAgICAgIGdldEZ1bmN0aW9uTmFtZShxdWVyeSk7XG4gICAgICBpZiAodGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhpcy5hZGRRdWVyeShcbiAgICAgICAgICBpZGVudGlmaWVyLFxuICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgcGFnaW5hdGlvbk9wdGlvbnMgPyB7IHBhZ2luYXRpb25PcHRpb25zIH0gOiB7fVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbmZvID0gdGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdO1xuICAgICAgICBpZiAoZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KSAhPT0gZ2V0RnVuY3Rpb25OYW1lKGV4aXN0aW5nSW5mby5xdWVyeSkgfHwgSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGFyZ3MpKSAhPT0gSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGV4aXN0aW5nSW5mby5hcmdzKSkgfHwgSlNPTi5zdHJpbmdpZnkocGFnaW5hdGlvbk9wdGlvbnMpICE9PSBKU09OLnN0cmluZ2lmeShleGlzdGluZ0luZm8ucGFnaW5hdGlvbk9wdGlvbnMpKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVRdWVyeShpZGVudGlmaWVyKTtcbiAgICAgICAgICB0aGlzLmFkZFF1ZXJ5KFxuICAgICAgICAgICAgaWRlbnRpZmllcixcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgIHBhZ2luYXRpb25PcHRpb25zID8geyBwYWdpbmF0aW9uT3B0aW9ucyB9IDoge31cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyh0aGlzLnF1ZXJpZXMpKSB7XG4gICAgICBpZiAobmV3UXVlcmllc1tpZGVudGlmaWVyXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlUXVlcnkoaWRlbnRpZmllcik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIHRoaXMubGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfTtcbiAgfVxuICBnZXRMb2NhbFJlc3VsdHMocXVlcmllcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyhxdWVyaWVzKSkge1xuICAgICAgY29uc3QgeyBxdWVyeSwgYXJncyB9ID0gcXVlcmllc1tpZGVudGlmaWVyXTtcbiAgICAgIGNvbnN0IHBhZ2luYXRpb25PcHRpb25zID0gcXVlcmllc1tpZGVudGlmaWVyXS5wYWdpbmF0aW9uT3B0aW9ucztcbiAgICAgIGdldEZ1bmN0aW9uTmFtZShxdWVyeSk7XG4gICAgICBjb25zdCB3YXRjaCA9IHRoaXMuY3JlYXRlV2F0Y2goXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICBhcmdzLFxuICAgICAgICBwYWdpbmF0aW9uT3B0aW9ucyA/IHsgcGFnaW5hdGlvbk9wdGlvbnMgfSA6IHt9XG4gICAgICApO1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWUgPSB3YXRjaC5sb2NhbFF1ZXJ5UmVzdWx0KCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICB2YWx1ZSA9IGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0W2lkZW50aWZpZXJdID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgc2V0Q3JlYXRlV2F0Y2goY3JlYXRlV2F0Y2gpIHtcbiAgICB0aGlzLmNyZWF0ZVdhdGNoID0gY3JlYXRlV2F0Y2g7XG4gICAgZm9yIChjb25zdCBpZGVudGlmaWVyIG9mIE9iamVjdC5rZXlzKHRoaXMucXVlcmllcykpIHtcbiAgICAgIGNvbnN0IHsgcXVlcnksIGFyZ3MsIHdhdGNoLCBwYWdpbmF0aW9uT3B0aW9ucyB9ID0gdGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdO1xuICAgICAgY29uc3Qgam91cm5hbCA9IFwiam91cm5hbFwiIGluIHdhdGNoID8gd2F0Y2guam91cm5hbCgpIDogdm9pZCAwO1xuICAgICAgdGhpcy5yZW1vdmVRdWVyeShpZGVudGlmaWVyKTtcbiAgICAgIHRoaXMuYWRkUXVlcnkoaWRlbnRpZmllciwgcXVlcnksIGFyZ3MsIHtcbiAgICAgICAgLi4uam91cm5hbCA/IHsgam91cm5hbCB9IDogW10sXG4gICAgICAgIC4uLnBhZ2luYXRpb25PcHRpb25zID8geyBwYWdpbmF0aW9uT3B0aW9ucyB9IDoge31cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGZvciAoY29uc3QgaWRlbnRpZmllciBvZiBPYmplY3Qua2V5cyh0aGlzLnF1ZXJpZXMpKSB7XG4gICAgICB0aGlzLnJlbW92ZVF1ZXJ5KGlkZW50aWZpZXIpO1xuICAgIH1cbiAgICB0aGlzLmxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIH1cbiAgYWRkUXVlcnkoaWRlbnRpZmllciwgcXVlcnksIGFyZ3MsIHtcbiAgICBwYWdpbmF0aW9uT3B0aW9ucyxcbiAgICBqb3VybmFsXG4gIH0pIHtcbiAgICBpZiAodGhpcy5xdWVyaWVzW2lkZW50aWZpZXJdICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRyaWVkIHRvIGFkZCBhIG5ldyBxdWVyeSB3aXRoIGlkZW50aWZpZXIgJHtpZGVudGlmaWVyfSB3aGVuIGl0IGFscmVhZHkgZXhpc3RzLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHdhdGNoID0gdGhpcy5jcmVhdGVXYXRjaChxdWVyeSwgYXJncywge1xuICAgICAgLi4uam91cm5hbCA/IHsgam91cm5hbCB9IDogW10sXG4gICAgICAuLi5wYWdpbmF0aW9uT3B0aW9ucyA/IHsgcGFnaW5hdGlvbk9wdGlvbnMgfSA6IHt9XG4gICAgfSk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB3YXRjaC5vblVwZGF0ZSgoKSA9PiB0aGlzLm5vdGlmeUxpc3RlbmVycygpKTtcbiAgICB0aGlzLnF1ZXJpZXNbaWRlbnRpZmllcl0gPSB7XG4gICAgICBxdWVyeSxcbiAgICAgIGFyZ3MsXG4gICAgICB3YXRjaCxcbiAgICAgIHVuc3Vic2NyaWJlLFxuICAgICAgLi4ucGFnaW5hdGlvbk9wdGlvbnMgPyB7IHBhZ2luYXRpb25PcHRpb25zIH0gOiB7fVxuICAgIH07XG4gIH1cbiAgcmVtb3ZlUXVlcnkoaWRlbnRpZmllcikge1xuICAgIGNvbnN0IGluZm8gPSB0aGlzLnF1ZXJpZXNbaWRlbnRpZmllcl07XG4gICAgaWYgKGluZm8gPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBxdWVyeSBmb3VuZCB3aXRoIGlkZW50aWZpZXIgJHtpZGVudGlmaWVyfS5gKTtcbiAgICB9XG4gICAgaW5mby51bnN1YnNjcmliZSgpO1xuICAgIGRlbGV0ZSB0aGlzLnF1ZXJpZXNbaWRlbnRpZmllcl07XG4gIH1cbiAgbm90aWZ5TGlzdGVuZXJzKCkge1xuICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfVxuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyaWVzX29ic2VydmVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiY29udmV4VG9Kc29uIiwiZ2V0RnVuY3Rpb25OYW1lIiwiUXVlcmllc09ic2VydmVyIiwiY29uc3RydWN0b3IiLCJjcmVhdGVXYXRjaCIsInF1ZXJpZXMiLCJsaXN0ZW5lcnMiLCJTZXQiLCJzZXRRdWVyaWVzIiwibmV3UXVlcmllcyIsImlkZW50aWZpZXIiLCJrZXlzIiwicXVlcnkiLCJhcmdzIiwicGFnaW5hdGlvbk9wdGlvbnMiLCJhZGRRdWVyeSIsImV4aXN0aW5nSW5mbyIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW1vdmVRdWVyeSIsInN1YnNjcmliZSIsImxpc3RlbmVyIiwiYWRkIiwiZGVsZXRlIiwiZ2V0TG9jYWxSZXN1bHRzIiwicmVzdWx0Iiwid2F0Y2giLCJsb2NhbFF1ZXJ5UmVzdWx0IiwiZSIsIkVycm9yIiwic2V0Q3JlYXRlV2F0Y2giLCJqb3VybmFsIiwiZGVzdHJveSIsInVuc3Vic2NyaWJlIiwib25VcGRhdGUiLCJub3RpZnlMaXN0ZW5lcnMiLCJpbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/queries_observer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query.js":
/*!*******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_paginated_query.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   includePage: () => (/* binding */ includePage),\n/* harmony export */   insertAtBottomIfLoaded: () => (/* binding */ insertAtBottomIfLoaded),\n/* harmony export */   insertAtPosition: () => (/* binding */ insertAtPosition),\n/* harmony export */   insertAtTop: () => (/* binding */ insertAtTop),\n/* harmony export */   optimisticallyUpdateValueInPaginatedQuery: () => (/* binding */ optimisticallyUpdateValueInPaginatedQuery),\n/* harmony export */   page: () => (/* binding */ page),\n/* harmony export */   resetPaginationId: () => (/* binding */ resetPaginationId),\n/* harmony export */   usePaginatedQuery: () => (/* binding */ usePaginatedQuery),\n/* harmony export */   usePaginatedQueryInternal: () => (/* binding */ usePaginatedQueryInternal)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _values_compare_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../values/compare.js */ \"(ssr)/./node_modules/convex/dist/esm/values/compare.js\");\n\n\n\n\n\n\n\nconst splitQuery = (key, splitCursor, continueCursor)=>(prevState)=>{\n        const queries = {\n            ...prevState.queries\n        };\n        const splitKey1 = prevState.nextPageKey;\n        const splitKey2 = prevState.nextPageKey + 1;\n        const nextPageKey = prevState.nextPageKey + 2;\n        queries[splitKey1] = {\n            query: prevState.query,\n            args: {\n                ...prevState.args,\n                paginationOpts: {\n                    ...prevState.queries[key].args.paginationOpts,\n                    endCursor: splitCursor\n                }\n            }\n        };\n        queries[splitKey2] = {\n            query: prevState.query,\n            args: {\n                ...prevState.args,\n                paginationOpts: {\n                    ...prevState.queries[key].args.paginationOpts,\n                    cursor: splitCursor,\n                    endCursor: continueCursor\n                }\n            }\n        };\n        const ongoingSplits = {\n            ...prevState.ongoingSplits\n        };\n        ongoingSplits[key] = [\n            splitKey1,\n            splitKey2\n        ];\n        return {\n            ...prevState,\n            nextPageKey,\n            queries,\n            ongoingSplits\n        };\n    };\nconst completeSplitQuery = (key)=>(prevState)=>{\n        const completedSplit = prevState.ongoingSplits[key];\n        if (completedSplit === void 0) {\n            return prevState;\n        }\n        const queries = {\n            ...prevState.queries\n        };\n        delete queries[key];\n        const ongoingSplits = {\n            ...prevState.ongoingSplits\n        };\n        delete ongoingSplits[key];\n        let pageKeys = prevState.pageKeys.slice();\n        const pageIndex = prevState.pageKeys.findIndex((v)=>v === key);\n        if (pageIndex >= 0) {\n            pageKeys = [\n                ...prevState.pageKeys.slice(0, pageIndex),\n                ...completedSplit,\n                ...prevState.pageKeys.slice(pageIndex + 1)\n            ];\n        }\n        return {\n            ...prevState,\n            queries,\n            pageKeys,\n            ongoingSplits\n        };\n    };\nfunction usePaginatedQuery(query, args, options) {\n    const { user } = usePaginatedQueryInternal(query, args, options);\n    return user;\n}\nconst includePage = Symbol(\"includePageKeys\");\nconst page = Symbol(\"page\");\nfunction usePaginatedQueryInternal(query, args, options) {\n    if (typeof options?.initialNumItems !== \"number\" || options.initialNumItems < 0) {\n        throw new Error(`\\`options.initialNumItems\\` must be a positive number. Received \\`${options?.initialNumItems}\\`.`);\n    }\n    const skip = args === \"skip\";\n    const argsObject = skip ? {} : args;\n    const queryName = (0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(query);\n    const createInitialState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return ()=>{\n            const id = nextPaginationId();\n            return {\n                query,\n                args: argsObject,\n                id,\n                nextPageKey: 1,\n                pageKeys: skip ? [] : [\n                    0\n                ],\n                queries: skip ? {} : {\n                    0: {\n                        query,\n                        args: {\n                            ...argsObject,\n                            paginationOpts: {\n                                numItems: options.initialNumItems,\n                                cursor: null,\n                                id\n                            }\n                        }\n                    }\n                },\n                ongoingSplits: {},\n                skip\n            };\n        };\n    }, [\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(argsObject)),\n        queryName,\n        options.initialNumItems,\n        skip\n    ]);\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(createInitialState);\n    let currState = state;\n    if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionName)(state.query) || JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(argsObject)) !== JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(state.args)) || skip !== state.skip) {\n        currState = createInitialState();\n        setState(currState);\n    }\n    const convexClient = (0,_client_js__WEBPACK_IMPORTED_MODULE_4__.useConvex)();\n    const logger = convexClient.logger;\n    const resultsObject = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_2__.useQueries)(currState.queries);\n    const isIncludingPageKeys = options[includePage] ?? false;\n    const [results, maybeLastResult] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        let currResult = void 0;\n        const allItems = [];\n        for (const pageKey of currState.pageKeys){\n            currResult = resultsObject[pageKey];\n            if (currResult === void 0) {\n                break;\n            }\n            if (currResult instanceof Error) {\n                if (currResult.message.includes(\"InvalidCursor\") || currResult instanceof _values_index_js__WEBPACK_IMPORTED_MODULE_1__.ConvexError && typeof currResult.data === \"object\" && currResult.data?.isConvexSystemError === true && currResult.data?.paginationError === \"InvalidCursor\") {\n                    logger.warn(\"usePaginatedQuery hit error, resetting pagination state: \" + currResult.message);\n                    setState(createInitialState);\n                    return [\n                        [],\n                        void 0\n                    ];\n                } else {\n                    throw currResult;\n                }\n            }\n            const ongoingSplit = currState.ongoingSplits[pageKey];\n            if (ongoingSplit !== void 0) {\n                if (resultsObject[ongoingSplit[0]] !== void 0 && resultsObject[ongoingSplit[1]] !== void 0) {\n                    setState(completeSplitQuery(pageKey));\n                }\n            } else if (currResult.splitCursor && (currResult.pageStatus === \"SplitRecommended\" || currResult.pageStatus === \"SplitRequired\" || currResult.page.length > options.initialNumItems * 2)) {\n                setState(splitQuery(pageKey, currResult.splitCursor, currResult.continueCursor));\n            }\n            if (currResult.pageStatus === \"SplitRequired\") {\n                return [\n                    allItems,\n                    void 0\n                ];\n            }\n            allItems.push(...isIncludingPageKeys ? currResult.page.map((i)=>({\n                    ...i,\n                    [page]: pageKey.toString()\n                })) : currResult.page);\n        }\n        return [\n            allItems,\n            currResult\n        ];\n    }, [\n        resultsObject,\n        currState.pageKeys,\n        currState.ongoingSplits,\n        options.initialNumItems,\n        createInitialState,\n        logger,\n        isIncludingPageKeys\n    ]);\n    const statusObject = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        if (maybeLastResult === void 0) {\n            if (currState.nextPageKey === 1) {\n                return {\n                    status: \"LoadingFirstPage\",\n                    isLoading: true,\n                    loadMore: (_numItems)=>{}\n                };\n            } else {\n                return {\n                    status: \"LoadingMore\",\n                    isLoading: true,\n                    loadMore: (_numItems)=>{}\n                };\n            }\n        }\n        if (maybeLastResult.isDone) {\n            return {\n                status: \"Exhausted\",\n                isLoading: false,\n                loadMore: (_numItems)=>{}\n            };\n        }\n        const continueCursor = maybeLastResult.continueCursor;\n        let alreadyLoadingMore = false;\n        return {\n            status: \"CanLoadMore\",\n            isLoading: false,\n            loadMore: (numItems)=>{\n                if (!alreadyLoadingMore) {\n                    alreadyLoadingMore = true;\n                    setState((prevState)=>{\n                        const pageKeys = [\n                            ...prevState.pageKeys,\n                            prevState.nextPageKey\n                        ];\n                        const queries = {\n                            ...prevState.queries\n                        };\n                        queries[prevState.nextPageKey] = {\n                            query: prevState.query,\n                            args: {\n                                ...prevState.args,\n                                paginationOpts: {\n                                    numItems,\n                                    cursor: continueCursor,\n                                    id: prevState.id\n                                }\n                            }\n                        };\n                        return {\n                            ...prevState,\n                            nextPageKey: prevState.nextPageKey + 1,\n                            pageKeys,\n                            queries\n                        };\n                    });\n                }\n            }\n        };\n    }, [\n        maybeLastResult,\n        currState.nextPageKey\n    ]);\n    return {\n        user: {\n            results,\n            ...statusObject\n        },\n        internal: {\n            state: currState\n        }\n    };\n}\nlet paginationId = 0;\nfunction nextPaginationId() {\n    paginationId++;\n    return paginationId;\n}\nfunction resetPaginationId() {\n    paginationId = 0;\n}\nfunction optimisticallyUpdateValueInPaginatedQuery(localStore, query, args, updateValue) {\n    const expectedArgs = JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(args));\n    for (const queryResult of localStore.getAllQueries(query)){\n        if (queryResult.value !== void 0) {\n            const { paginationOpts: _, ...innerArgs } = queryResult.args;\n            if (JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_1__.convexToJson)(innerArgs)) === expectedArgs) {\n                const value = queryResult.value;\n                if (typeof value === \"object\" && value !== null && Array.isArray(value.page)) {\n                    localStore.setQuery(query, queryResult.args, {\n                        ...value,\n                        page: value.page.map(updateValue)\n                    });\n                }\n            }\n        }\n    }\n}\nfunction insertAtTop(options) {\n    const { paginatedQuery, argsToMatch, localQueryStore, item } = options;\n    const queries = localQueryStore.getAllQueries(paginatedQuery);\n    const queriesThatMatch = queries.filter((q)=>{\n        if (argsToMatch === void 0) {\n            return true;\n        }\n        return Object.keys(argsToMatch).every(// @ts-expect-error -- This should be safe since both should be plain objects\n        (k)=>(0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(argsToMatch[k], q.args[k]) === 0);\n    });\n    const firstPage = queriesThatMatch.find((q)=>q.args.paginationOpts.cursor === null);\n    if (firstPage === void 0 || firstPage.value === void 0) {\n        return;\n    }\n    localQueryStore.setQuery(paginatedQuery, firstPage.args, {\n        ...firstPage.value,\n        page: [\n            item,\n            ...firstPage.value.page\n        ]\n    });\n}\nfunction insertAtBottomIfLoaded(options) {\n    const { paginatedQuery, localQueryStore, item, argsToMatch } = options;\n    const queries = localQueryStore.getAllQueries(paginatedQuery);\n    const queriesThatMatch = queries.filter((q)=>{\n        if (argsToMatch === void 0) {\n            return true;\n        }\n        return Object.keys(argsToMatch).every(// @ts-expect-error -- This should be safe since both should be plain objects\n        (k)=>(0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(argsToMatch[k], q.args[k]) === 0);\n    });\n    const lastPage = queriesThatMatch.find((q)=>q.value !== void 0 && q.value.isDone);\n    if (lastPage === void 0) {\n        return;\n    }\n    localQueryStore.setQuery(paginatedQuery, lastPage.args, {\n        ...lastPage.value,\n        page: [\n            ...lastPage.value.page,\n            item\n        ]\n    });\n}\nfunction insertAtPosition(options) {\n    const { paginatedQuery, sortOrder, sortKeyFromItem, localQueryStore, item, argsToMatch } = options;\n    const queries = localQueryStore.getAllQueries(paginatedQuery);\n    const queryGroups = {};\n    for (const query of queries){\n        if (argsToMatch !== void 0 && !Object.keys(argsToMatch).every((k)=>// @ts-ignore why is this not working?\n            argsToMatch[k] === query.args[k])) {\n            continue;\n        }\n        const key = JSON.stringify(Object.fromEntries(Object.entries(query.args).map(([k, v])=>[\n                k,\n                k === \"paginationOpts\" ? v.id : v\n            ])));\n        queryGroups[key] ?? (queryGroups[key] = []);\n        queryGroups[key].push(query);\n    }\n    for (const pageQueries of Object.values(queryGroups)){\n        insertAtPositionInPages({\n            pageQueries,\n            paginatedQuery,\n            sortOrder,\n            sortKeyFromItem,\n            localQueryStore,\n            item\n        });\n    }\n}\nfunction insertAtPositionInPages(options) {\n    const { pageQueries, sortOrder, sortKeyFromItem, localQueryStore, item, paginatedQuery } = options;\n    const insertedKey = sortKeyFromItem(item);\n    const loadedPages = pageQueries.filter((q)=>q.value !== void 0 && q.value.page.length > 0);\n    const sortedPages = loadedPages.sort((a, b)=>{\n        const aKey = sortKeyFromItem(a.value.page[0]);\n        const bKey = sortKeyFromItem(b.value.page[0]);\n        if (sortOrder === \"asc\") {\n            return (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(aKey, bKey);\n        } else {\n            return (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(bKey, aKey);\n        }\n    });\n    const firstLoadedPage = sortedPages[0];\n    if (firstLoadedPage === void 0) {\n        return;\n    }\n    const firstPageKey = sortKeyFromItem(firstLoadedPage.value.page[0]);\n    const isBeforeFirstPage = sortOrder === \"asc\" ? (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(insertedKey, firstPageKey) <= 0 : (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(insertedKey, firstPageKey) >= 0;\n    if (isBeforeFirstPage) {\n        if (firstLoadedPage.args.paginationOpts.cursor === null) {\n            localQueryStore.setQuery(paginatedQuery, firstLoadedPage.args, {\n                ...firstLoadedPage.value,\n                page: [\n                    item,\n                    ...firstLoadedPage.value.page\n                ]\n            });\n        } else {\n            return;\n        }\n        return;\n    }\n    const lastLoadedPage = sortedPages[sortedPages.length - 1];\n    if (lastLoadedPage === void 0) {\n        return;\n    }\n    const lastPageKey = sortKeyFromItem(lastLoadedPage.value.page[lastLoadedPage.value.page.length - 1]);\n    const isAfterLastPage = sortOrder === \"asc\" ? (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(insertedKey, lastPageKey) >= 0 : (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(insertedKey, lastPageKey) <= 0;\n    if (isAfterLastPage) {\n        if (lastLoadedPage.value.isDone) {\n            localQueryStore.setQuery(paginatedQuery, lastLoadedPage.args, {\n                ...lastLoadedPage.value,\n                page: [\n                    ...lastLoadedPage.value.page,\n                    item\n                ]\n            });\n        }\n        return;\n    }\n    const successorPageIndex = sortedPages.findIndex((p)=>sortOrder === \"asc\" ? (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(sortKeyFromItem(p.value.page[0]), insertedKey) > 0 : (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(sortKeyFromItem(p.value.page[0]), insertedKey) < 0);\n    const pageToUpdate = successorPageIndex === -1 ? sortedPages[sortedPages.length - 1] : sortedPages[successorPageIndex - 1];\n    if (pageToUpdate === void 0) {\n        return;\n    }\n    const indexWithinPage = pageToUpdate.value.page.findIndex((e)=>sortOrder === \"asc\" ? (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(sortKeyFromItem(e), insertedKey) >= 0 : (0,_values_compare_js__WEBPACK_IMPORTED_MODULE_5__.compareValues)(sortKeyFromItem(e), insertedKey) <= 0);\n    const newPage = indexWithinPage === -1 ? [\n        ...pageToUpdate.value.page,\n        item\n    ] : [\n        ...pageToUpdate.value.page.slice(0, indexWithinPage),\n        item,\n        ...pageToUpdate.value.page.slice(indexWithinPage)\n    ];\n    localQueryStore.setQuery(paginatedQuery, pageToUpdate.args, {\n        ...pageToUpdate.value,\n        page: newPage\n    });\n} //# sourceMappingURL=use_paginated_query.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9wYWdpbmF0ZWRfcXVlcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWE7QUFDNkI7QUFDcUI7QUFDakI7QUFHcEI7QUFDYztBQUNhO0FBQ3JELE1BQU1RLGFBQWEsQ0FBQ0MsS0FBS0MsYUFBYUMsaUJBQW1CLENBQUNDO1FBQ3hELE1BQU1DLFVBQVU7WUFBRSxHQUFHRCxVQUFVQyxPQUFPO1FBQUM7UUFDdkMsTUFBTUMsWUFBWUYsVUFBVUcsV0FBVztRQUN2QyxNQUFNQyxZQUFZSixVQUFVRyxXQUFXLEdBQUc7UUFDMUMsTUFBTUEsY0FBY0gsVUFBVUcsV0FBVyxHQUFHO1FBQzVDRixPQUFPLENBQUNDLFVBQVUsR0FBRztZQUNuQkcsT0FBT0wsVUFBVUssS0FBSztZQUN0QkMsTUFBTTtnQkFDSixHQUFHTixVQUFVTSxJQUFJO2dCQUNqQkMsZ0JBQWdCO29CQUNkLEdBQUdQLFVBQVVDLE9BQU8sQ0FBQ0osSUFBSSxDQUFDUyxJQUFJLENBQUNDLGNBQWM7b0JBQzdDQyxXQUFXVjtnQkFDYjtZQUNGO1FBQ0Y7UUFDQUcsT0FBTyxDQUFDRyxVQUFVLEdBQUc7WUFDbkJDLE9BQU9MLFVBQVVLLEtBQUs7WUFDdEJDLE1BQU07Z0JBQ0osR0FBR04sVUFBVU0sSUFBSTtnQkFDakJDLGdCQUFnQjtvQkFDZCxHQUFHUCxVQUFVQyxPQUFPLENBQUNKLElBQUksQ0FBQ1MsSUFBSSxDQUFDQyxjQUFjO29CQUM3Q0UsUUFBUVg7b0JBQ1JVLFdBQVdUO2dCQUNiO1lBQ0Y7UUFDRjtRQUNBLE1BQU1XLGdCQUFnQjtZQUFFLEdBQUdWLFVBQVVVLGFBQWE7UUFBQztRQUNuREEsYUFBYSxDQUFDYixJQUFJLEdBQUc7WUFBQ0s7WUFBV0U7U0FBVTtRQUMzQyxPQUFPO1lBQ0wsR0FBR0osU0FBUztZQUNaRztZQUNBRjtZQUNBUztRQUNGO0lBQ0Y7QUFDQSxNQUFNQyxxQkFBcUIsQ0FB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QUlELGFBQWEvQyxLQUFLLENBQUNyRCxJQUFJO1FBQUUrRDtLQUFLLEdBQUc7V0FDekVxQyxhQUFhL0MsS0FBSyxDQUFDckQsSUFBSSxDQUFDVixLQUFLLENBQUMsR0FBRytHO1FBQ3BDdEM7V0FDR3FDLGFBQWEvQyxLQUFLLENBQUNyRCxJQUFJLENBQUNWLEtBQUssQ0FBQytHO0tBQ2xDO0lBQ0R2QyxnQkFBZ0JKLFFBQVEsQ0FBQ0UsZ0JBQWdCd0MsYUFBYXRILElBQUksRUFBRTtRQUMxRCxHQUFHc0gsYUFBYS9DLEtBQUs7UUFDckJyRCxNQUFNdUc7SUFDUjtBQUNGLEVBQ0EsK0NBQStDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9wYWdpbmF0ZWRfcXVlcnkuanM/MzZlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDb252ZXhFcnJvciwgY29udmV4VG9Kc29uIH0gZnJvbSBcIi4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdXNlUXVlcmllcyB9IGZyb20gXCIuL3VzZV9xdWVyaWVzLmpzXCI7XG5pbXBvcnQge1xuICBnZXRGdW5jdGlvbk5hbWVcbn0gZnJvbSBcIi4uL3NlcnZlci9hcGkuanNcIjtcbmltcG9ydCB7IHVzZUNvbnZleCB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgY29tcGFyZVZhbHVlcyB9IGZyb20gXCIuLi92YWx1ZXMvY29tcGFyZS5qc1wiO1xuY29uc3Qgc3BsaXRRdWVyeSA9IChrZXksIHNwbGl0Q3Vyc29yLCBjb250aW51ZUN1cnNvcikgPT4gKHByZXZTdGF0ZSkgPT4ge1xuICBjb25zdCBxdWVyaWVzID0geyAuLi5wcmV2U3RhdGUucXVlcmllcyB9O1xuICBjb25zdCBzcGxpdEtleTEgPSBwcmV2U3RhdGUubmV4dFBhZ2VLZXk7XG4gIGNvbnN0IHNwbGl0S2V5MiA9IHByZXZTdGF0ZS5uZXh0UGFnZUtleSArIDE7XG4gIGNvbnN0IG5leHRQYWdlS2V5ID0gcHJldlN0YXRlLm5leHRQYWdlS2V5ICsgMjtcbiAgcXVlcmllc1tzcGxpdEtleTFdID0ge1xuICAgIHF1ZXJ5OiBwcmV2U3RhdGUucXVlcnksXG4gICAgYXJnczoge1xuICAgICAgLi4ucHJldlN0YXRlLmFyZ3MsXG4gICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAuLi5wcmV2U3RhdGUucXVlcmllc1trZXldLmFyZ3MucGFnaW5hdGlvbk9wdHMsXG4gICAgICAgIGVuZEN1cnNvcjogc3BsaXRDdXJzb3JcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHF1ZXJpZXNbc3BsaXRLZXkyXSA9IHtcbiAgICBxdWVyeTogcHJldlN0YXRlLnF1ZXJ5LFxuICAgIGFyZ3M6IHtcbiAgICAgIC4uLnByZXZTdGF0ZS5hcmdzLFxuICAgICAgcGFnaW5hdGlvbk9wdHM6IHtcbiAgICAgICAgLi4ucHJldlN0YXRlLnF1ZXJpZXNba2V5XS5hcmdzLnBhZ2luYXRpb25PcHRzLFxuICAgICAgICBjdXJzb3I6IHNwbGl0Q3Vyc29yLFxuICAgICAgICBlbmRDdXJzb3I6IGNvbnRpbnVlQ3Vyc29yXG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBvbmdvaW5nU3BsaXRzID0geyAuLi5wcmV2U3RhdGUub25nb2luZ1NwbGl0cyB9O1xuICBvbmdvaW5nU3BsaXRzW2tleV0gPSBbc3BsaXRLZXkxLCBzcGxpdEtleTJdO1xuICByZXR1cm4ge1xuICAgIC4uLnByZXZTdGF0ZSxcbiAgICBuZXh0UGFnZUtleSxcbiAgICBxdWVyaWVzLFxuICAgIG9uZ29pbmdTcGxpdHNcbiAgfTtcbn07XG5jb25zdCBjb21wbGV0ZVNwbGl0UXVlcnkgPSAoa2V5KSA9PiAocHJldlN0YXRlKSA9PiB7XG4gIGNvbnN0IGNvbXBsZXRlZFNwbGl0ID0gcHJldlN0YXRlLm9uZ29pbmdTcGxpdHNba2V5XTtcbiAgaWYgKGNvbXBsZXRlZFNwbGl0ID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gcHJldlN0YXRlO1xuICB9XG4gIGNvbnN0IHF1ZXJpZXMgPSB7IC4uLnByZXZTdGF0ZS5xdWVyaWVzIH07XG4gIGRlbGV0ZSBxdWVyaWVzW2tleV07XG4gIGNvbnN0IG9uZ29pbmdTcGxpdHMgPSB7IC4uLnByZXZTdGF0ZS5vbmdvaW5nU3BsaXRzIH07XG4gIGRlbGV0ZSBvbmdvaW5nU3BsaXRzW2tleV07XG4gIGxldCBwYWdlS2V5cyA9IHByZXZTdGF0ZS5wYWdlS2V5cy5zbGljZSgpO1xuICBjb25zdCBwYWdlSW5kZXggPSBwcmV2U3RhdGUucGFnZUtleXMuZmluZEluZGV4KCh2KSA9PiB2ID09PSBrZXkpO1xuICBpZiAocGFnZUluZGV4ID49IDApIHtcbiAgICBwYWdlS2V5cyA9IFtcbiAgICAgIC4uLnByZXZTdGF0ZS5wYWdlS2V5cy5zbGljZSgwLCBwYWdlSW5kZXgpLFxuICAgICAgLi4uY29tcGxldGVkU3BsaXQsXG4gICAgICAuLi5wcmV2U3RhdGUucGFnZUtleXMuc2xpY2UocGFnZUluZGV4ICsgMSlcbiAgICBdO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4ucHJldlN0YXRlLFxuICAgIHF1ZXJpZXMsXG4gICAgcGFnZUtleXMsXG4gICAgb25nb2luZ1NwbGl0c1xuICB9O1xufTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VQYWdpbmF0ZWRRdWVyeShxdWVyeSwgYXJncywgb3B0aW9ucykge1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZVBhZ2luYXRlZFF1ZXJ5SW50ZXJuYWwocXVlcnksIGFyZ3MsIG9wdGlvbnMpO1xuICByZXR1cm4gdXNlcjtcbn1cbmV4cG9ydCBjb25zdCBpbmNsdWRlUGFnZSA9IFN5bWJvbChcImluY2x1ZGVQYWdlS2V5c1wiKTtcbmV4cG9ydCBjb25zdCBwYWdlID0gU3ltYm9sKFwicGFnZVwiKTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VQYWdpbmF0ZWRRdWVyeUludGVybmFsKHF1ZXJ5LCBhcmdzLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucz8uaW5pdGlhbE51bUl0ZW1zICE9PSBcIm51bWJlclwiIHx8IG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zIDwgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBcXGBvcHRpb25zLmluaXRpYWxOdW1JdGVtc1xcYCBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBSZWNlaXZlZCBcXGAke29wdGlvbnM/LmluaXRpYWxOdW1JdGVtc31cXGAuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qgc2tpcCA9IGFyZ3MgPT09IFwic2tpcFwiO1xuICBjb25zdCBhcmdzT2JqZWN0ID0gc2tpcCA/IHt9IDogYXJncztcbiAgY29uc3QgcXVlcnlOYW1lID0gZ2V0RnVuY3Rpb25OYW1lKHF1ZXJ5KTtcbiAgY29uc3QgY3JlYXRlSW5pdGlhbFN0YXRlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IGlkID0gbmV4dFBhZ2luYXRpb25JZCgpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGFyZ3M6IGFyZ3NPYmplY3QsXG4gICAgICAgIGlkLFxuICAgICAgICBuZXh0UGFnZUtleTogMSxcbiAgICAgICAgcGFnZUtleXM6IHNraXAgPyBbXSA6IFswXSxcbiAgICAgICAgcXVlcmllczogc2tpcCA/IHt9IDoge1xuICAgICAgICAgIDA6IHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAuLi5hcmdzT2JqZWN0LFxuICAgICAgICAgICAgICBwYWdpbmF0aW9uT3B0czoge1xuICAgICAgICAgICAgICAgIG51bUl0ZW1zOiBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyxcbiAgICAgICAgICAgICAgICBjdXJzb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgaWRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25nb2luZ1NwbGl0czoge30sXG4gICAgICAgIHNraXBcbiAgICAgIH07XG4gICAgfTtcbiAgfSwgW1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oYXJnc09iamVjdCkpLFxuICAgIHF1ZXJ5TmFtZSxcbiAgICBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyxcbiAgICBza2lwXG4gIF0pO1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKGNyZWF0ZUluaXRpYWxTdGF0ZSk7XG4gIGxldCBjdXJyU3RhdGUgPSBzdGF0ZTtcbiAgaWYgKGdldEZ1bmN0aW9uTmFtZShxdWVyeSkgIT09IGdldEZ1bmN0aW9uTmFtZShzdGF0ZS5xdWVyeSkgfHwgSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGFyZ3NPYmplY3QpKSAhPT0gSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKHN0YXRlLmFyZ3MpKSB8fCBza2lwICE9PSBzdGF0ZS5za2lwKSB7XG4gICAgY3VyclN0YXRlID0gY3JlYXRlSW5pdGlhbFN0YXRlKCk7XG4gICAgc2V0U3RhdGUoY3VyclN0YXRlKTtcbiAgfVxuICBjb25zdCBjb252ZXhDbGllbnQgPSB1c2VDb252ZXgoKTtcbiAgY29uc3QgbG9nZ2VyID0gY29udmV4Q2xpZW50LmxvZ2dlcjtcbiAgY29uc3QgcmVzdWx0c09iamVjdCA9IHVzZVF1ZXJpZXMoY3VyclN0YXRlLnF1ZXJpZXMpO1xuICBjb25zdCBpc0luY2x1ZGluZ1BhZ2VLZXlzID0gb3B0aW9uc1tpbmNsdWRlUGFnZV0gPz8gZmFsc2U7XG4gIGNvbnN0IFtyZXN1bHRzLCBtYXliZUxhc3RSZXN1bHRdID0gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGN1cnJSZXN1bHQgPSB2b2lkIDA7XG4gICAgY29uc3QgYWxsSXRlbXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHBhZ2VLZXkgb2YgY3VyclN0YXRlLnBhZ2VLZXlzKSB7XG4gICAgICBjdXJyUmVzdWx0ID0gcmVzdWx0c09iamVjdFtwYWdlS2V5XTtcbiAgICAgIGlmIChjdXJyUmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoY3VyclJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGlmIChjdXJyUmVzdWx0Lm1lc3NhZ2UuaW5jbHVkZXMoXCJJbnZhbGlkQ3Vyc29yXCIpIHx8IGN1cnJSZXN1bHQgaW5zdGFuY2VvZiBDb252ZXhFcnJvciAmJiB0eXBlb2YgY3VyclJlc3VsdC5kYXRhID09PSBcIm9iamVjdFwiICYmIGN1cnJSZXN1bHQuZGF0YT8uaXNDb252ZXhTeXN0ZW1FcnJvciA9PT0gdHJ1ZSAmJiBjdXJyUmVzdWx0LmRhdGE/LnBhZ2luYXRpb25FcnJvciA9PT0gXCJJbnZhbGlkQ3Vyc29yXCIpIHtcbiAgICAgICAgICBsb2dnZXIud2FybihcbiAgICAgICAgICAgIFwidXNlUGFnaW5hdGVkUXVlcnkgaGl0IGVycm9yLCByZXNldHRpbmcgcGFnaW5hdGlvbiBzdGF0ZTogXCIgKyBjdXJyUmVzdWx0Lm1lc3NhZ2VcbiAgICAgICAgICApO1xuICAgICAgICAgIHNldFN0YXRlKGNyZWF0ZUluaXRpYWxTdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIFtbXSwgdm9pZCAwXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBjdXJyUmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBvbmdvaW5nU3BsaXQgPSBjdXJyU3RhdGUub25nb2luZ1NwbGl0c1twYWdlS2V5XTtcbiAgICAgIGlmIChvbmdvaW5nU3BsaXQgIT09IHZvaWQgMCkge1xuICAgICAgICBpZiAocmVzdWx0c09iamVjdFtvbmdvaW5nU3BsaXRbMF1dICE9PSB2b2lkIDAgJiYgcmVzdWx0c09iamVjdFtvbmdvaW5nU3BsaXRbMV1dICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBzZXRTdGF0ZShjb21wbGV0ZVNwbGl0UXVlcnkocGFnZUtleSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGN1cnJSZXN1bHQuc3BsaXRDdXJzb3IgJiYgKGN1cnJSZXN1bHQucGFnZVN0YXR1cyA9PT0gXCJTcGxpdFJlY29tbWVuZGVkXCIgfHwgY3VyclJlc3VsdC5wYWdlU3RhdHVzID09PSBcIlNwbGl0UmVxdWlyZWRcIiB8fCBjdXJyUmVzdWx0LnBhZ2UubGVuZ3RoID4gb3B0aW9ucy5pbml0aWFsTnVtSXRlbXMgKiAyKSkge1xuICAgICAgICBzZXRTdGF0ZShcbiAgICAgICAgICBzcGxpdFF1ZXJ5KFxuICAgICAgICAgICAgcGFnZUtleSxcbiAgICAgICAgICAgIGN1cnJSZXN1bHQuc3BsaXRDdXJzb3IsXG4gICAgICAgICAgICBjdXJyUmVzdWx0LmNvbnRpbnVlQ3Vyc29yXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJSZXN1bHQucGFnZVN0YXR1cyA9PT0gXCJTcGxpdFJlcXVpcmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFthbGxJdGVtcywgdm9pZCAwXTtcbiAgICAgIH1cbiAgICAgIGFsbEl0ZW1zLnB1c2goXG4gICAgICAgIC4uLmlzSW5jbHVkaW5nUGFnZUtleXMgPyBjdXJyUmVzdWx0LnBhZ2UubWFwKChpKSA9PiAoe1xuICAgICAgICAgIC4uLmksXG4gICAgICAgICAgW3BhZ2VdOiBwYWdlS2V5LnRvU3RyaW5nKClcbiAgICAgICAgfSkpIDogY3VyclJlc3VsdC5wYWdlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gW2FsbEl0ZW1zLCBjdXJyUmVzdWx0XTtcbiAgfSwgW1xuICAgIHJlc3VsdHNPYmplY3QsXG4gICAgY3VyclN0YXRlLnBhZ2VLZXlzLFxuICAgIGN1cnJTdGF0ZS5vbmdvaW5nU3BsaXRzLFxuICAgIG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zLFxuICAgIGNyZWF0ZUluaXRpYWxTdGF0ZSxcbiAgICBsb2dnZXIsXG4gICAgaXNJbmNsdWRpbmdQYWdlS2V5c1xuICBdKTtcbiAgY29uc3Qgc3RhdHVzT2JqZWN0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKG1heWJlTGFzdFJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICBpZiAoY3VyclN0YXRlLm5leHRQYWdlS2V5ID09PSAxKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzOiBcIkxvYWRpbmdGaXJzdFBhZ2VcIixcbiAgICAgICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICAgICAgbG9hZE1vcmU6IChfbnVtSXRlbXMpID0+IHtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1czogXCJMb2FkaW5nTW9yZVwiLFxuICAgICAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgICAgICBsb2FkTW9yZTogKF9udW1JdGVtcykgPT4ge1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1heWJlTGFzdFJlc3VsdC5pc0RvbmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogXCJFeGhhdXN0ZWRcIixcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgbG9hZE1vcmU6IChfbnVtSXRlbXMpID0+IHtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgY29udGludWVDdXJzb3IgPSBtYXliZUxhc3RSZXN1bHQuY29udGludWVDdXJzb3I7XG4gICAgbGV0IGFscmVhZHlMb2FkaW5nTW9yZSA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IFwiQ2FuTG9hZE1vcmVcIixcbiAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICBsb2FkTW9yZTogKG51bUl0ZW1zKSA9PiB7XG4gICAgICAgIGlmICghYWxyZWFkeUxvYWRpbmdNb3JlKSB7XG4gICAgICAgICAgYWxyZWFkeUxvYWRpbmdNb3JlID0gdHJ1ZTtcbiAgICAgICAgICBzZXRTdGF0ZSgocHJldlN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYWdlS2V5cyA9IFsuLi5wcmV2U3RhdGUucGFnZUtleXMsIHByZXZTdGF0ZS5uZXh0UGFnZUtleV07XG4gICAgICAgICAgICBjb25zdCBxdWVyaWVzID0geyAuLi5wcmV2U3RhdGUucXVlcmllcyB9O1xuICAgICAgICAgICAgcXVlcmllc1twcmV2U3RhdGUubmV4dFBhZ2VLZXldID0ge1xuICAgICAgICAgICAgICBxdWVyeTogcHJldlN0YXRlLnF1ZXJ5LFxuICAgICAgICAgICAgICBhcmdzOiB7XG4gICAgICAgICAgICAgICAgLi4ucHJldlN0YXRlLmFyZ3MsXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbk9wdHM6IHtcbiAgICAgICAgICAgICAgICAgIG51bUl0ZW1zLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBjb250aW51ZUN1cnNvcixcbiAgICAgICAgICAgICAgICAgIGlkOiBwcmV2U3RhdGUuaWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAuLi5wcmV2U3RhdGUsXG4gICAgICAgICAgICAgIG5leHRQYWdlS2V5OiBwcmV2U3RhdGUubmV4dFBhZ2VLZXkgKyAxLFxuICAgICAgICAgICAgICBwYWdlS2V5cyxcbiAgICAgICAgICAgICAgcXVlcmllc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0sIFttYXliZUxhc3RSZXN1bHQsIGN1cnJTdGF0ZS5uZXh0UGFnZUtleV0pO1xuICByZXR1cm4ge1xuICAgIHVzZXI6IHtcbiAgICAgIHJlc3VsdHMsXG4gICAgICAuLi5zdGF0dXNPYmplY3RcbiAgICB9LFxuICAgIGludGVybmFsOiB7IHN0YXRlOiBjdXJyU3RhdGUgfVxuICB9O1xufVxubGV0IHBhZ2luYXRpb25JZCA9IDA7XG5mdW5jdGlvbiBuZXh0UGFnaW5hdGlvbklkKCkge1xuICBwYWdpbmF0aW9uSWQrKztcbiAgcmV0dXJuIHBhZ2luYXRpb25JZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNldFBhZ2luYXRpb25JZCgpIHtcbiAgcGFnaW5hdGlvbklkID0gMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcHRpbWlzdGljYWxseVVwZGF0ZVZhbHVlSW5QYWdpbmF0ZWRRdWVyeShsb2NhbFN0b3JlLCBxdWVyeSwgYXJncywgdXBkYXRlVmFsdWUpIHtcbiAgY29uc3QgZXhwZWN0ZWRBcmdzID0gSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKGFyZ3MpKTtcbiAgZm9yIChjb25zdCBxdWVyeVJlc3VsdCBvZiBsb2NhbFN0b3JlLmdldEFsbFF1ZXJpZXMocXVlcnkpKSB7XG4gICAgaWYgKHF1ZXJ5UmVzdWx0LnZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IHsgcGFnaW5hdGlvbk9wdHM6IF8sIC4uLmlubmVyQXJncyB9ID0gcXVlcnlSZXN1bHQuYXJncztcbiAgICAgIGlmIChKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24oaW5uZXJBcmdzKSkgPT09IGV4cGVjdGVkQXJncykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5UmVzdWx0LnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmIEFycmF5LmlzQXJyYXkodmFsdWUucGFnZSkpIHtcbiAgICAgICAgICBsb2NhbFN0b3JlLnNldFF1ZXJ5KHF1ZXJ5LCBxdWVyeVJlc3VsdC5hcmdzLCB7XG4gICAgICAgICAgICAuLi52YWx1ZSxcbiAgICAgICAgICAgIHBhZ2U6IHZhbHVlLnBhZ2UubWFwKHVwZGF0ZVZhbHVlKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0QXRUb3Aob3B0aW9ucykge1xuICBjb25zdCB7IHBhZ2luYXRlZFF1ZXJ5LCBhcmdzVG9NYXRjaCwgbG9jYWxRdWVyeVN0b3JlLCBpdGVtIH0gPSBvcHRpb25zO1xuICBjb25zdCBxdWVyaWVzID0gbG9jYWxRdWVyeVN0b3JlLmdldEFsbFF1ZXJpZXMocGFnaW5hdGVkUXVlcnkpO1xuICBjb25zdCBxdWVyaWVzVGhhdE1hdGNoID0gcXVlcmllcy5maWx0ZXIoKHEpID0+IHtcbiAgICBpZiAoYXJnc1RvTWF0Y2ggPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhhcmdzVG9NYXRjaCkuZXZlcnkoXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0tIFRoaXMgc2hvdWxkIGJlIHNhZmUgc2luY2UgYm90aCBzaG91bGQgYmUgcGxhaW4gb2JqZWN0c1xuICAgICAgKGspID0+IGNvbXBhcmVWYWx1ZXMoYXJnc1RvTWF0Y2hba10sIHEuYXJnc1trXSkgPT09IDBcbiAgICApO1xuICB9KTtcbiAgY29uc3QgZmlyc3RQYWdlID0gcXVlcmllc1RoYXRNYXRjaC5maW5kKFxuICAgIChxKSA9PiBxLmFyZ3MucGFnaW5hdGlvbk9wdHMuY3Vyc29yID09PSBudWxsXG4gICk7XG4gIGlmIChmaXJzdFBhZ2UgPT09IHZvaWQgMCB8fCBmaXJzdFBhZ2UudmFsdWUgPT09IHZvaWQgMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsb2NhbFF1ZXJ5U3RvcmUuc2V0UXVlcnkocGFnaW5hdGVkUXVlcnksIGZpcnN0UGFnZS5hcmdzLCB7XG4gICAgLi4uZmlyc3RQYWdlLnZhbHVlLFxuICAgIHBhZ2U6IFtpdGVtLCAuLi5maXJzdFBhZ2UudmFsdWUucGFnZV1cbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0QXRCb3R0b21JZkxvYWRlZChvcHRpb25zKSB7XG4gIGNvbnN0IHsgcGFnaW5hdGVkUXVlcnksIGxvY2FsUXVlcnlTdG9yZSwgaXRlbSwgYXJnc1RvTWF0Y2ggfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHF1ZXJpZXMgPSBsb2NhbFF1ZXJ5U3RvcmUuZ2V0QWxsUXVlcmllcyhwYWdpbmF0ZWRRdWVyeSk7XG4gIGNvbnN0IHF1ZXJpZXNUaGF0TWF0Y2ggPSBxdWVyaWVzLmZpbHRlcigocSkgPT4ge1xuICAgIGlmIChhcmdzVG9NYXRjaCA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGFyZ3NUb01hdGNoKS5ldmVyeShcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLS0gVGhpcyBzaG91bGQgYmUgc2FmZSBzaW5jZSBib3RoIHNob3VsZCBiZSBwbGFpbiBvYmplY3RzXG4gICAgICAoaykgPT4gY29tcGFyZVZhbHVlcyhhcmdzVG9NYXRjaFtrXSwgcS5hcmdzW2tdKSA9PT0gMFxuICAgICk7XG4gIH0pO1xuICBjb25zdCBsYXN0UGFnZSA9IHF1ZXJpZXNUaGF0TWF0Y2guZmluZChcbiAgICAocSkgPT4gcS52YWx1ZSAhPT0gdm9pZCAwICYmIHEudmFsdWUuaXNEb25lXG4gICk7XG4gIGlmIChsYXN0UGFnZSA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxvY2FsUXVlcnlTdG9yZS5zZXRRdWVyeShwYWdpbmF0ZWRRdWVyeSwgbGFzdFBhZ2UuYXJncywge1xuICAgIC4uLmxhc3RQYWdlLnZhbHVlLFxuICAgIHBhZ2U6IFsuLi5sYXN0UGFnZS52YWx1ZS5wYWdlLCBpdGVtXVxuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRBdFBvc2l0aW9uKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHBhZ2luYXRlZFF1ZXJ5LFxuICAgIHNvcnRPcmRlcixcbiAgICBzb3J0S2V5RnJvbUl0ZW0sXG4gICAgbG9jYWxRdWVyeVN0b3JlLFxuICAgIGl0ZW0sXG4gICAgYXJnc1RvTWF0Y2hcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHF1ZXJpZXMgPSBsb2NhbFF1ZXJ5U3RvcmUuZ2V0QWxsUXVlcmllcyhwYWdpbmF0ZWRRdWVyeSk7XG4gIGNvbnN0IHF1ZXJ5R3JvdXBzID0ge307XG4gIGZvciAoY29uc3QgcXVlcnkgb2YgcXVlcmllcykge1xuICAgIGlmIChhcmdzVG9NYXRjaCAhPT0gdm9pZCAwICYmICFPYmplY3Qua2V5cyhhcmdzVG9NYXRjaCkuZXZlcnkoXG4gICAgICAoaykgPT4gKFxuICAgICAgICAvLyBAdHMtaWdub3JlIHdoeSBpcyB0aGlzIG5vdCB3b3JraW5nP1xuICAgICAgICBhcmdzVG9NYXRjaFtrXSA9PT0gcXVlcnkuYXJnc1trXVxuICAgICAgKVxuICAgICkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmVudHJpZXMocXVlcnkuYXJncykubWFwKChbaywgdl0pID0+IFtcbiAgICAgICAgICBrLFxuICAgICAgICAgIGsgPT09IFwicGFnaW5hdGlvbk9wdHNcIiA/IHYuaWQgOiB2XG4gICAgICAgIF0pXG4gICAgICApXG4gICAgKTtcbiAgICBxdWVyeUdyb3Vwc1trZXldID8/IChxdWVyeUdyb3Vwc1trZXldID0gW10pO1xuICAgIHF1ZXJ5R3JvdXBzW2tleV0ucHVzaChxdWVyeSk7XG4gIH1cbiAgZm9yIChjb25zdCBwYWdlUXVlcmllcyBvZiBPYmplY3QudmFsdWVzKHF1ZXJ5R3JvdXBzKSkge1xuICAgIGluc2VydEF0UG9zaXRpb25JblBhZ2VzKHtcbiAgICAgIHBhZ2VRdWVyaWVzLFxuICAgICAgcGFnaW5hdGVkUXVlcnksXG4gICAgICBzb3J0T3JkZXIsXG4gICAgICBzb3J0S2V5RnJvbUl0ZW0sXG4gICAgICBsb2NhbFF1ZXJ5U3RvcmUsXG4gICAgICBpdGVtXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGluc2VydEF0UG9zaXRpb25JblBhZ2VzKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHBhZ2VRdWVyaWVzLFxuICAgIHNvcnRPcmRlcixcbiAgICBzb3J0S2V5RnJvbUl0ZW0sXG4gICAgbG9jYWxRdWVyeVN0b3JlLFxuICAgIGl0ZW0sXG4gICAgcGFnaW5hdGVkUXVlcnlcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGluc2VydGVkS2V5ID0gc29ydEtleUZyb21JdGVtKGl0ZW0pO1xuICBjb25zdCBsb2FkZWRQYWdlcyA9IHBhZ2VRdWVyaWVzLmZpbHRlcihcbiAgICAocSkgPT4gcS52YWx1ZSAhPT0gdm9pZCAwICYmIHEudmFsdWUucGFnZS5sZW5ndGggPiAwXG4gICk7XG4gIGNvbnN0IHNvcnRlZFBhZ2VzID0gbG9hZGVkUGFnZXMuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IGFLZXkgPSBzb3J0S2V5RnJvbUl0ZW0oYS52YWx1ZS5wYWdlWzBdKTtcbiAgICBjb25zdCBiS2V5ID0gc29ydEtleUZyb21JdGVtKGIudmFsdWUucGFnZVswXSk7XG4gICAgaWYgKHNvcnRPcmRlciA9PT0gXCJhc2NcIikge1xuICAgICAgcmV0dXJuIGNvbXBhcmVWYWx1ZXMoYUtleSwgYktleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb21wYXJlVmFsdWVzKGJLZXksIGFLZXkpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGZpcnN0TG9hZGVkUGFnZSA9IHNvcnRlZFBhZ2VzWzBdO1xuICBpZiAoZmlyc3RMb2FkZWRQYWdlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZmlyc3RQYWdlS2V5ID0gc29ydEtleUZyb21JdGVtKGZpcnN0TG9hZGVkUGFnZS52YWx1ZS5wYWdlWzBdKTtcbiAgY29uc3QgaXNCZWZvcmVGaXJzdFBhZ2UgPSBzb3J0T3JkZXIgPT09IFwiYXNjXCIgPyBjb21wYXJlVmFsdWVzKGluc2VydGVkS2V5LCBmaXJzdFBhZ2VLZXkpIDw9IDAgOiBjb21wYXJlVmFsdWVzKGluc2VydGVkS2V5LCBmaXJzdFBhZ2VLZXkpID49IDA7XG4gIGlmIChpc0JlZm9yZUZpcnN0UGFnZSkge1xuICAgIGlmIChmaXJzdExvYWRlZFBhZ2UuYXJncy5wYWdpbmF0aW9uT3B0cy5jdXJzb3IgPT09IG51bGwpIHtcbiAgICAgIGxvY2FsUXVlcnlTdG9yZS5zZXRRdWVyeShwYWdpbmF0ZWRRdWVyeSwgZmlyc3RMb2FkZWRQYWdlLmFyZ3MsIHtcbiAgICAgICAgLi4uZmlyc3RMb2FkZWRQYWdlLnZhbHVlLFxuICAgICAgICBwYWdlOiBbaXRlbSwgLi4uZmlyc3RMb2FkZWRQYWdlLnZhbHVlLnBhZ2VdXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbGFzdExvYWRlZFBhZ2UgPSBzb3J0ZWRQYWdlc1tzb3J0ZWRQYWdlcy5sZW5ndGggLSAxXTtcbiAgaWYgKGxhc3RMb2FkZWRQYWdlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbGFzdFBhZ2VLZXkgPSBzb3J0S2V5RnJvbUl0ZW0oXG4gICAgbGFzdExvYWRlZFBhZ2UudmFsdWUucGFnZVtsYXN0TG9hZGVkUGFnZS52YWx1ZS5wYWdlLmxlbmd0aCAtIDFdXG4gICk7XG4gIGNvbnN0IGlzQWZ0ZXJMYXN0UGFnZSA9IHNvcnRPcmRlciA9PT0gXCJhc2NcIiA/IGNvbXBhcmVWYWx1ZXMoaW5zZXJ0ZWRLZXksIGxhc3RQYWdlS2V5KSA+PSAwIDogY29tcGFyZVZhbHVlcyhpbnNlcnRlZEtleSwgbGFzdFBhZ2VLZXkpIDw9IDA7XG4gIGlmIChpc0FmdGVyTGFzdFBhZ2UpIHtcbiAgICBpZiAobGFzdExvYWRlZFBhZ2UudmFsdWUuaXNEb25lKSB7XG4gICAgICBsb2NhbFF1ZXJ5U3RvcmUuc2V0UXVlcnkocGFnaW5hdGVkUXVlcnksIGxhc3RMb2FkZWRQYWdlLmFyZ3MsIHtcbiAgICAgICAgLi4ubGFzdExvYWRlZFBhZ2UudmFsdWUsXG4gICAgICAgIHBhZ2U6IFsuLi5sYXN0TG9hZGVkUGFnZS52YWx1ZS5wYWdlLCBpdGVtXVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzdWNjZXNzb3JQYWdlSW5kZXggPSBzb3J0ZWRQYWdlcy5maW5kSW5kZXgoXG4gICAgKHApID0+IHNvcnRPcmRlciA9PT0gXCJhc2NcIiA/IGNvbXBhcmVWYWx1ZXMoc29ydEtleUZyb21JdGVtKHAudmFsdWUucGFnZVswXSksIGluc2VydGVkS2V5KSA+IDAgOiBjb21wYXJlVmFsdWVzKHNvcnRLZXlGcm9tSXRlbShwLnZhbHVlLnBhZ2VbMF0pLCBpbnNlcnRlZEtleSkgPCAwXG4gICk7XG4gIGNvbnN0IHBhZ2VUb1VwZGF0ZSA9IHN1Y2Nlc3NvclBhZ2VJbmRleCA9PT0gLTEgPyBzb3J0ZWRQYWdlc1tzb3J0ZWRQYWdlcy5sZW5ndGggLSAxXSA6IHNvcnRlZFBhZ2VzW3N1Y2Nlc3NvclBhZ2VJbmRleCAtIDFdO1xuICBpZiAocGFnZVRvVXBkYXRlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaW5kZXhXaXRoaW5QYWdlID0gcGFnZVRvVXBkYXRlLnZhbHVlLnBhZ2UuZmluZEluZGV4KFxuICAgIChlKSA9PiBzb3J0T3JkZXIgPT09IFwiYXNjXCIgPyBjb21wYXJlVmFsdWVzKHNvcnRLZXlGcm9tSXRlbShlKSwgaW5zZXJ0ZWRLZXkpID49IDAgOiBjb21wYXJlVmFsdWVzKHNvcnRLZXlGcm9tSXRlbShlKSwgaW5zZXJ0ZWRLZXkpIDw9IDBcbiAgKTtcbiAgY29uc3QgbmV3UGFnZSA9IGluZGV4V2l0aGluUGFnZSA9PT0gLTEgPyBbLi4ucGFnZVRvVXBkYXRlLnZhbHVlLnBhZ2UsIGl0ZW1dIDogW1xuICAgIC4uLnBhZ2VUb1VwZGF0ZS52YWx1ZS5wYWdlLnNsaWNlKDAsIGluZGV4V2l0aGluUGFnZSksXG4gICAgaXRlbSxcbiAgICAuLi5wYWdlVG9VcGRhdGUudmFsdWUucGFnZS5zbGljZShpbmRleFdpdGhpblBhZ2UpXG4gIF07XG4gIGxvY2FsUXVlcnlTdG9yZS5zZXRRdWVyeShwYWdpbmF0ZWRRdWVyeSwgcGFnZVRvVXBkYXRlLmFyZ3MsIHtcbiAgICAuLi5wYWdlVG9VcGRhdGUudmFsdWUsXG4gICAgcGFnZTogbmV3UGFnZVxuICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZV9wYWdpbmF0ZWRfcXVlcnkuanMubWFwXG4iXSwibmFtZXMiOlsidXNlTWVtbyIsInVzZVN0YXRlIiwiQ29udmV4RXJyb3IiLCJjb252ZXhUb0pzb24iLCJ1c2VRdWVyaWVzIiwiZ2V0RnVuY3Rpb25OYW1lIiwidXNlQ29udmV4IiwiY29tcGFyZVZhbHVlcyIsInNwbGl0UXVlcnkiLCJrZXkiLCJzcGxpdEN1cnNvciIsImNvbnRpbnVlQ3Vyc29yIiwicHJldlN0YXRlIiwicXVlcmllcyIsInNwbGl0S2V5MSIsIm5leHRQYWdlS2V5Iiwic3BsaXRLZXkyIiwicXVlcnkiLCJhcmdzIiwicGFnaW5hdGlvbk9wdHMiLCJlbmRDdXJzb3IiLCJjdXJzb3IiLCJvbmdvaW5nU3BsaXRzIiwiY29tcGxldGVTcGxpdFF1ZXJ5IiwiY29tcGxldGVkU3BsaXQiLCJwYWdlS2V5cyIsInNsaWNlIiwicGFnZUluZGV4IiwiZmluZEluZGV4IiwidiIsInVzZVBhZ2luYXRlZFF1ZXJ5Iiwib3B0aW9ucyIsInVzZXIiLCJ1c2VQYWdpbmF0ZWRRdWVyeUludGVybmFsIiwiaW5jbHVkZVBhZ2UiLCJTeW1ib2wiLCJwYWdlIiwiaW5pdGlhbE51bUl0ZW1zIiwiRXJyb3IiLCJza2lwIiwiYXJnc09iamVjdCIsInF1ZXJ5TmFtZSIsImNyZWF0ZUluaXRpYWxTdGF0ZSIsImlkIiwibmV4dFBhZ2luYXRpb25JZCIsIm51bUl0ZW1zIiwiSlNPTiIsInN0cmluZ2lmeSIsInN0YXRlIiwic2V0U3RhdGUiLCJjdXJyU3RhdGUiLCJjb252ZXhDbGllbnQiLCJsb2dnZXIiLCJyZXN1bHRzT2JqZWN0IiwiaXNJbmNsdWRpbmdQYWdlS2V5cyIsInJlc3VsdHMiLCJtYXliZUxhc3RSZXN1bHQiLCJjdXJyUmVzdWx0IiwiYWxsSXRlbXMiLCJwYWdlS2V5IiwibWVzc2FnZSIsImluY2x1ZGVzIiwiZGF0YSIsImlzQ29udmV4U3lzdGVtRXJyb3IiLCJwYWdpbmF0aW9uRXJyb3IiLCJ3YXJuIiwib25nb2luZ1NwbGl0IiwicGFnZVN0YXR1cyIsImxlbmd0aCIsInB1c2giLCJtYXAiLCJpIiwidG9TdHJpbmciLCJzdGF0dXNPYmplY3QiLCJzdGF0dXMiLCJpc0xvYWRpbmciLCJsb2FkTW9yZSIsIl9udW1JdGVtcyIsImlzRG9uZSIsImFscmVhZHlMb2FkaW5nTW9yZSIsImludGVybmFsIiwicGFnaW5hdGlvbklkIiwicmVzZXRQYWdpbmF0aW9uSWQiLCJvcHRpbWlzdGljYWxseVVwZGF0ZVZhbHVlSW5QYWdpbmF0ZWRRdWVyeSIsImxvY2FsU3RvcmUiLCJ1cGRhdGVWYWx1ZSIsImV4cGVjdGVkQXJncyIsInF1ZXJ5UmVzdWx0IiwiZ2V0QWxsUXVlcmllcyIsInZhbHVlIiwiXyIsImlubmVyQXJncyIsIkFycmF5IiwiaXNBcnJheSIsInNldFF1ZXJ5IiwiaW5zZXJ0QXRUb3AiLCJwYWdpbmF0ZWRRdWVyeSIsImFyZ3NUb01hdGNoIiwibG9jYWxRdWVyeVN0b3JlIiwiaXRlbSIsInF1ZXJpZXNUaGF0TWF0Y2giLCJmaWx0ZXIiLCJxIiwiT2JqZWN0Iiwia2V5cyIsImV2ZXJ5IiwiayIsImZpcnN0UGFnZSIsImZpbmQiLCJpbnNlcnRBdEJvdHRvbUlmTG9hZGVkIiwibGFzdFBhZ2UiLCJpbnNlcnRBdFBvc2l0aW9uIiwic29ydE9yZGVyIiwic29ydEtleUZyb21JdGVtIiwicXVlcnlHcm91cHMiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJwYWdlUXVlcmllcyIsInZhbHVlcyIsImluc2VydEF0UG9zaXRpb25JblBhZ2VzIiwiaW5zZXJ0ZWRLZXkiLCJsb2FkZWRQYWdlcyIsInNvcnRlZFBhZ2VzIiwic29ydCIsImEiLCJiIiwiYUtleSIsImJLZXkiLCJmaXJzdExvYWRlZFBhZ2UiLCJmaXJzdFBhZ2VLZXkiLCJpc0JlZm9yZUZpcnN0UGFnZSIsImxhc3RMb2FkZWRQYWdlIiwibGFzdFBhZ2VLZXkiLCJpc0FmdGVyTGFzdFBhZ2UiLCJzdWNjZXNzb3JQYWdlSW5kZXgiLCJwIiwicGFnZVRvVXBkYXRlIiwiaW5kZXhXaXRoaW5QYWdlIiwiZSIsIm5ld1BhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query2.js":
/*!********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_paginated_query2.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resetPaginationId: () => (/* binding */ resetPaginationId),\n/* harmony export */   usePaginatedQuery_experimental: () => (/* binding */ usePaginatedQuery_experimental)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _use_queries_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use_queries.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\");\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n\n\n\n\n\n\n\nfunction usePaginatedQuery_experimental(query, args, options) {\n    if (typeof options?.initialNumItems !== \"number\" || options.initialNumItems < 0) {\n        throw new Error(`\\`options.initialNumItems\\` must be a positive number. Received \\`${options?.initialNumItems}\\`.`);\n    }\n    const skip = args === \"skip\";\n    const argsObject = skip ? {} : args;\n    const convexClient = (0,_client_js__WEBPACK_IMPORTED_MODULE_5__.useConvex)();\n    const logger = convexClient.logger;\n    const createInitialState = ()=>{\n        const id = nextPaginationId();\n        return {\n            query,\n            args: argsObject,\n            id,\n            // Queries will contain zero or one queries forever.\n            queries: skip ? {} : {\n                paginatedQuery: {\n                    query,\n                    args: {\n                        ...argsObject\n                    },\n                    paginationOptions: {\n                        initialNumItems: options.initialNumItems,\n                        id\n                    }\n                }\n            },\n            skip\n        };\n    };\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(createInitialState);\n    let currState = state;\n    if ((0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(query) !== (0,_server_api_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionName)(state.query) || JSON.stringify((0,_values_value_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(argsObject)) !== JSON.stringify((0,_values_value_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(state.args)) || skip !== state.skip) {\n        currState = createInitialState();\n        setState(currState);\n    }\n    const resultsObject = (0,_use_queries_js__WEBPACK_IMPORTED_MODULE_3__.useQueries)(currState.queries);\n    if (!(\"paginatedQuery\" in resultsObject)) {\n        if (!skip) {\n            throw new Error(\"Why is it missing?\");\n        }\n        return {\n            results: [],\n            status: \"LoadingFirstPage\",\n            isLoading: true,\n            loadMore: function skipNOP(_numItems) {\n                return false;\n            }\n        };\n    }\n    const result = resultsObject.paginatedQuery;\n    if (result === void 0) {\n        return {\n            results: [],\n            loadMore: ()=>false,\n            isLoading: true,\n            status: \"LoadingFirstPage\"\n        };\n    }\n    if (result instanceof Error) {\n        if (result.message.includes(\"InvalidCursor\") || result instanceof _values_errors_js__WEBPACK_IMPORTED_MODULE_4__.ConvexError && typeof result.data === \"object\" && result.data?.isConvexSystemError === true && result.data?.paginationError === \"InvalidCursor\") {\n            logger.warn(\"usePaginatedQuery hit error, resetting pagination state: \" + result.message);\n            setState(createInitialState);\n            return {\n                results: [],\n                loadMore: ()=>false,\n                isLoading: true,\n                status: \"LoadingFirstPage\"\n            };\n        } else {\n            throw result;\n        }\n    }\n    return {\n        ...result,\n        loadMore: (num)=>{\n            return result.loadMore(num);\n        },\n        isLoading: result.status === \"LoadingFirstPage\" ? true : result.status === \"LoadingMore\" ? true : false\n    };\n}\nlet paginationId = 0;\nfunction nextPaginationId() {\n    paginationId++;\n    return paginationId;\n}\nfunction resetPaginationId() {\n    paginationId = 0;\n} //# sourceMappingURL=use_paginated_query2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9wYWdpbmF0ZWRfcXVlcnkyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWE7QUFDb0I7QUFDa0I7QUFDRDtBQUNKO0FBQ0k7QUFDVjtBQUNqQyxTQUFTTSwrQkFBK0JDLEtBQUssRUFBRUMsSUFBSSxFQUFFQyxPQUFPO0lBQ2pFLElBQUksT0FBT0EsU0FBU0Msb0JBQW9CLFlBQVlELFFBQVFDLGVBQWUsR0FBRyxHQUFHO1FBQy9FLE1BQU0sSUFBSUMsTUFDUixDQUFDLGtFQUFrRSxFQUFFRixTQUFTQyxnQkFBZ0IsR0FBRyxDQUFDO0lBRXRHO0lBQ0EsTUFBTUUsT0FBT0osU0FBUztJQUN0QixNQUFNSyxhQUFhRCxPQUFPLENBQUMsSUFBSUo7SUFDL0IsTUFBTU0sZUFBZVQscURBQVNBO0lBQzlCLE1BQU1VLFNBQVNELGFBQWFDLE1BQU07SUFDbEMsTUFBTUMscUJBQXFCO1FBQ3pCLE1BQU1DLEtBQUtDO1FBQ1gsT0FBTztZQUNMWDtZQUNBQyxNQUFNSztZQUNOSTtZQUNBLG9EQUFvRDtZQUNwREUsU0FBU1AsT0FBTyxDQUFDLElBQUk7Z0JBQ25CUSxnQkFBZ0I7b0JBQ2RiO29CQUNBQyxNQUFNO3dCQUNKLEdBQUdLLFVBQVU7b0JBQ2Y7b0JBQ0FRLG1CQUFtQjt3QkFDakJYLGlCQUFpQkQsUUFBUUMsZUFBZTt3QkFDeENPO29CQUNGO2dCQUNGO1lBQ0Y7WUFDQUw7UUFDRjtJQUNGO0lBQ0EsTUFBTSxDQUFDVSxPQUFPQyxTQUFTLEdBQUd2QiwrQ0FBUUEsQ0FBQ2dCO0lBQ25DLElBQUlRLFlBQVlGO0lBQ2hCLElBQUlyQiwrREFBZUEsQ0FBQ00sV0FBV04sK0RBQWVBLENBQUNxQixNQUFNZixLQUFLLEtBQUtrQixLQUFLQyxTQUFTLENBQUN4Qiw4REFBWUEsQ0FBQ1csaUJBQWlCWSxLQUFLQyxTQUFTLENBQUN4Qiw4REFBWUEsQ0FBQ29CLE1BQU1kLElBQUksTUFBTUksU0FBU1UsTUFBTVYsSUFBSSxFQUFFO1FBQzNLWSxZQUFZUjtRQUNaTyxTQUFTQztJQUNYO0lBQ0EsTUFBTUcsZ0JBQWdCeEIsMkRBQVVBLENBQUNxQixVQUFVTCxPQUFPO0lBQ2xELElBQUksQ0FBRSxxQkFBb0JRLGFBQVksR0FBSTtRQUN4QyxJQUFJLENBQUNmLE1BQU07WUFDVCxNQUFNLElBQUlELE1BQU07UUFDbEI7UUFDQSxPQUFPO1lBQ0xpQixTQUFTLEVBQUU7WUFDWEMsUUFBUTtZQUNSQyxXQUFXO1lBQ1hDLFVBQVUsU0FBU0MsUUFBUUMsU0FBUztnQkFDbEMsT0FBTztZQUNUO1FBQ0Y7SUFDRjtJQUNBLE1BQU1DLFNBQVNQLGNBQWNQLGNBQWM7SUFDM0MsSUFBSWMsV0FBVyxLQUFLLEdBQUc7UUFDckIsT0FBTztZQUNMTixTQUFTLEVBQUU7WUFDWEcsVUFBVSxJQUFNO1lBQ2hCRCxXQUFXO1lBQ1hELFFBQVE7UUFDVjtJQUNGO0lBQ0EsSUFBSUssa0JBQWtCdkIsT0FBTztRQUMzQixJQUFJdUIsT0FBT0MsT0FBTyxDQUFDQyxRQUFRLENBQUMsb0JBQW9CRixrQkFBa0I5QiwwREFBV0EsSUFBSSxPQUFPOEIsT0FBT0csSUFBSSxLQUFLLFlBQVlILE9BQU9HLElBQUksRUFBRUMsd0JBQXdCLFFBQVFKLE9BQU9HLElBQUksRUFBRUUsb0JBQW9CLGlCQUFpQjtZQUNqTnhCLE9BQU95QixJQUFJLENBQ1QsOERBQThETixPQUFPQyxPQUFPO1lBRTlFWixTQUFTUDtZQUNULE9BQU87Z0JBQ0xZLFNBQVMsRUFBRTtnQkFDWEcsVUFBVSxJQUFNO2dCQUNoQkQsV0FBVztnQkFDWEQsUUFBUTtZQUNWO1FBQ0YsT0FBTztZQUNMLE1BQU1LO1FBQ1I7SUFDRjtJQUNBLE9BQU87UUFDTCxHQUFHQSxNQUFNO1FBQ1RILFVBQVUsQ0FBQ1U7WUFDVCxPQUFPUCxPQUFPSCxRQUFRLENBQUNVO1FBQ3pCO1FBQ0FYLFdBQVdJLE9BQU9MLE1BQU0sS0FBSyxxQkFBcUIsT0FBT0ssT0FBT0wsTUFBTSxLQUFLLGdCQUFnQixPQUFPO0lBQ3BHO0FBQ0Y7QUFDQSxJQUFJYSxlQUFlO0FBQ25CLFNBQVN4QjtJQUNQd0I7SUFDQSxPQUFPQTtBQUNUO0FBQ08sU0FBU0M7SUFDZEQsZUFBZTtBQUNqQixFQUNBLGdEQUFnRCIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9yZWFjdC91c2VfcGFnaW5hdGVkX3F1ZXJ5Mi5qcz84MmQ3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi9zZXJ2ZXIvYXBpLmpzXCI7XG5pbXBvcnQgeyBjb252ZXhUb0pzb24gfSBmcm9tIFwiLi4vdmFsdWVzL3ZhbHVlLmpzXCI7XG5pbXBvcnQgeyB1c2VRdWVyaWVzIH0gZnJvbSBcIi4vdXNlX3F1ZXJpZXMuanNcIjtcbmltcG9ydCB7IENvbnZleEVycm9yIH0gZnJvbSBcIi4uL3ZhbHVlcy9lcnJvcnMuanNcIjtcbmltcG9ydCB7IHVzZUNvbnZleCB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBhZ2luYXRlZFF1ZXJ5X2V4cGVyaW1lbnRhbChxdWVyeSwgYXJncywgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnM/LmluaXRpYWxOdW1JdGVtcyAhPT0gXCJudW1iZXJcIiB8fCBvcHRpb25zLmluaXRpYWxOdW1JdGVtcyA8IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgXFxgb3B0aW9ucy5pbml0aWFsTnVtSXRlbXNcXGAgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci4gUmVjZWl2ZWQgXFxgJHtvcHRpb25zPy5pbml0aWFsTnVtSXRlbXN9XFxgLmBcbiAgICApO1xuICB9XG4gIGNvbnN0IHNraXAgPSBhcmdzID09PSBcInNraXBcIjtcbiAgY29uc3QgYXJnc09iamVjdCA9IHNraXAgPyB7fSA6IGFyZ3M7XG4gIGNvbnN0IGNvbnZleENsaWVudCA9IHVzZUNvbnZleCgpO1xuICBjb25zdCBsb2dnZXIgPSBjb252ZXhDbGllbnQubG9nZ2VyO1xuICBjb25zdCBjcmVhdGVJbml0aWFsU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgaWQgPSBuZXh0UGFnaW5hdGlvbklkKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgYXJnczogYXJnc09iamVjdCxcbiAgICAgIGlkLFxuICAgICAgLy8gUXVlcmllcyB3aWxsIGNvbnRhaW4gemVybyBvciBvbmUgcXVlcmllcyBmb3JldmVyLlxuICAgICAgcXVlcmllczogc2tpcCA/IHt9IDoge1xuICAgICAgICBwYWdpbmF0ZWRRdWVyeToge1xuICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgIGFyZ3M6IHtcbiAgICAgICAgICAgIC4uLmFyZ3NPYmplY3RcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBhZ2luYXRpb25PcHRpb25zOiB7XG4gICAgICAgICAgICBpbml0aWFsTnVtSXRlbXM6IG9wdGlvbnMuaW5pdGlhbE51bUl0ZW1zLFxuICAgICAgICAgICAgaWRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBza2lwXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZShjcmVhdGVJbml0aWFsU3RhdGUpO1xuICBsZXQgY3VyclN0YXRlID0gc3RhdGU7XG4gIGlmIChnZXRGdW5jdGlvbk5hbWUocXVlcnkpICE9PSBnZXRGdW5jdGlvbk5hbWUoc3RhdGUucXVlcnkpIHx8IEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihhcmdzT2JqZWN0KSkgIT09IEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihzdGF0ZS5hcmdzKSkgfHwgc2tpcCAhPT0gc3RhdGUuc2tpcCkge1xuICAgIGN1cnJTdGF0ZSA9IGNyZWF0ZUluaXRpYWxTdGF0ZSgpO1xuICAgIHNldFN0YXRlKGN1cnJTdGF0ZSk7XG4gIH1cbiAgY29uc3QgcmVzdWx0c09iamVjdCA9IHVzZVF1ZXJpZXMoY3VyclN0YXRlLnF1ZXJpZXMpO1xuICBpZiAoIShcInBhZ2luYXRlZFF1ZXJ5XCIgaW4gcmVzdWx0c09iamVjdCkpIHtcbiAgICBpZiAoIXNraXApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldoeSBpcyBpdCBtaXNzaW5nP1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgc3RhdHVzOiBcIkxvYWRpbmdGaXJzdFBhZ2VcIixcbiAgICAgIGlzTG9hZGluZzogdHJ1ZSxcbiAgICAgIGxvYWRNb3JlOiBmdW5jdGlvbiBza2lwTk9QKF9udW1JdGVtcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSByZXN1bHRzT2JqZWN0LnBhZ2luYXRlZFF1ZXJ5O1xuICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdWx0czogW10sXG4gICAgICBsb2FkTW9yZTogKCkgPT4gZmFsc2UsXG4gICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICBzdGF0dXM6IFwiTG9hZGluZ0ZpcnN0UGFnZVwiXG4gICAgfTtcbiAgfVxuICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBpZiAocmVzdWx0Lm1lc3NhZ2UuaW5jbHVkZXMoXCJJbnZhbGlkQ3Vyc29yXCIpIHx8IHJlc3VsdCBpbnN0YW5jZW9mIENvbnZleEVycm9yICYmIHR5cGVvZiByZXN1bHQuZGF0YSA9PT0gXCJvYmplY3RcIiAmJiByZXN1bHQuZGF0YT8uaXNDb252ZXhTeXN0ZW1FcnJvciA9PT0gdHJ1ZSAmJiByZXN1bHQuZGF0YT8ucGFnaW5hdGlvbkVycm9yID09PSBcIkludmFsaWRDdXJzb3JcIikge1xuICAgICAgbG9nZ2VyLndhcm4oXG4gICAgICAgIFwidXNlUGFnaW5hdGVkUXVlcnkgaGl0IGVycm9yLCByZXNldHRpbmcgcGFnaW5hdGlvbiBzdGF0ZTogXCIgKyByZXN1bHQubWVzc2FnZVxuICAgICAgKTtcbiAgICAgIHNldFN0YXRlKGNyZWF0ZUluaXRpYWxTdGF0ZSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHRzOiBbXSxcbiAgICAgICAgbG9hZE1vcmU6ICgpID0+IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IHRydWUsXG4gICAgICAgIHN0YXR1czogXCJMb2FkaW5nRmlyc3RQYWdlXCJcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5yZXN1bHQsXG4gICAgbG9hZE1vcmU6IChudW0pID0+IHtcbiAgICAgIHJldHVybiByZXN1bHQubG9hZE1vcmUobnVtKTtcbiAgICB9LFxuICAgIGlzTG9hZGluZzogcmVzdWx0LnN0YXR1cyA9PT0gXCJMb2FkaW5nRmlyc3RQYWdlXCIgPyB0cnVlIDogcmVzdWx0LnN0YXR1cyA9PT0gXCJMb2FkaW5nTW9yZVwiID8gdHJ1ZSA6IGZhbHNlXG4gIH07XG59XG5sZXQgcGFnaW5hdGlvbklkID0gMDtcbmZ1bmN0aW9uIG5leHRQYWdpbmF0aW9uSWQoKSB7XG4gIHBhZ2luYXRpb25JZCsrO1xuICByZXR1cm4gcGFnaW5hdGlvbklkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0UGFnaW5hdGlvbklkKCkge1xuICBwYWdpbmF0aW9uSWQgPSAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlX3BhZ2luYXRlZF9xdWVyeTIuanMubWFwXG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJnZXRGdW5jdGlvbk5hbWUiLCJjb252ZXhUb0pzb24iLCJ1c2VRdWVyaWVzIiwiQ29udmV4RXJyb3IiLCJ1c2VDb252ZXgiLCJ1c2VQYWdpbmF0ZWRRdWVyeV9leHBlcmltZW50YWwiLCJxdWVyeSIsImFyZ3MiLCJvcHRpb25zIiwiaW5pdGlhbE51bUl0ZW1zIiwiRXJyb3IiLCJza2lwIiwiYXJnc09iamVjdCIsImNvbnZleENsaWVudCIsImxvZ2dlciIsImNyZWF0ZUluaXRpYWxTdGF0ZSIsImlkIiwibmV4dFBhZ2luYXRpb25JZCIsInF1ZXJpZXMiLCJwYWdpbmF0ZWRRdWVyeSIsInBhZ2luYXRpb25PcHRpb25zIiwic3RhdGUiLCJzZXRTdGF0ZSIsImN1cnJTdGF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXN1bHRzT2JqZWN0IiwicmVzdWx0cyIsInN0YXR1cyIsImlzTG9hZGluZyIsImxvYWRNb3JlIiwic2tpcE5PUCIsIl9udW1JdGVtcyIsInJlc3VsdCIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImRhdGEiLCJpc0NvbnZleFN5c3RlbUVycm9yIiwicGFnaW5hdGlvbkVycm9yIiwid2FybiIsIm51bSIsInBhZ2luYXRpb25JZCIsInJlc2V0UGFnaW5hdGlvbklkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_paginated_query2.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_queries.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_queries.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useQueries: () => (/* binding */ useQueries),\n/* harmony export */   useQueriesHelper: () => (/* binding */ useQueriesHelper)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./client.js */ \"(ssr)/./node_modules/convex/dist/esm/react/client.js\");\n/* harmony import */ var _queries_observer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queries_observer.js */ \"(ssr)/./node_modules/convex/dist/esm/react/queries_observer.js\");\n/* harmony import */ var _use_subscription_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./use_subscription.js */ \"(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\");\n\n\n\n\n\nfunction useQueries(queries) {\n    const convex = (0,_client_js__WEBPACK_IMPORTED_MODULE_1__.useConvex)();\n    if (convex === void 0) {\n        throw new Error(\"Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app\");\n    }\n    const createWatch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return (query, args, { journal, paginationOptions })=>{\n            if (paginationOptions) {\n                return convex.watchPaginatedQuery(query, args, paginationOptions);\n            } else {\n                return convex.watchQuery(query, args, journal ? {\n                    journal\n                } : {});\n            }\n        };\n    }, [\n        convex\n    ]);\n    return useQueriesHelper(queries, createWatch);\n}\nfunction useQueriesHelper(queries, createWatch) {\n    const [observer] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>new _queries_observer_js__WEBPACK_IMPORTED_MODULE_2__.QueriesObserver(createWatch));\n    if (observer.createWatch !== createWatch) {\n        observer.setCreateWatch(createWatch);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>()=>observer.destroy(), [\n        observer\n    ]);\n    const subscription = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            getCurrentValue: ()=>{\n                return observer.getLocalResults(queries);\n            },\n            subscribe: (callback)=>{\n                observer.setQueries(queries);\n                return observer.subscribe(callback);\n            }\n        }), [\n        observer,\n        queries\n    ]);\n    return (0,_use_subscription_js__WEBPACK_IMPORTED_MODULE_3__.useSubscription)(subscription);\n} //# sourceMappingURL=use_queries.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9xdWVyaWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFhO0FBQ3dDO0FBQ2I7QUFDZ0I7QUFDQTtBQUNqRCxTQUFTTSxXQUFXQyxPQUFPO0lBQ2hDLE1BQU1DLFNBQVNMLHFEQUFTQTtJQUN4QixJQUFJSyxXQUFXLEtBQUssR0FBRztRQUNyQixNQUFNLElBQUlDLE1BQ1I7SUFFSjtJQUNBLE1BQU1DLGNBQWNULDhDQUFPQSxDQUFDO1FBQzFCLE9BQU8sQ0FBQ1UsT0FBT0MsTUFBTSxFQUNuQkMsT0FBTyxFQUNQQyxpQkFBaUIsRUFDbEI7WUFDQyxJQUFJQSxtQkFBbUI7Z0JBQ3JCLE9BQU9OLE9BQU9PLG1CQUFtQixDQUFDSixPQUFPQyxNQUFNRTtZQUNqRCxPQUFPO2dCQUNMLE9BQU9OLE9BQU9RLFVBQVUsQ0FBQ0wsT0FBT0MsTUFBTUMsVUFBVTtvQkFBRUE7Z0JBQVEsSUFBSSxDQUFDO1lBQ2pFO1FBQ0Y7SUFDRixHQUFHO1FBQUNMO0tBQU87SUFDWCxPQUFPUyxpQkFBaUJWLFNBQVNHO0FBQ25DO0FBQ08sU0FBU08saUJBQWlCVixPQUFPLEVBQUVHLFdBQVc7SUFDbkQsTUFBTSxDQUFDUSxTQUFTLEdBQUdoQiwrQ0FBUUEsQ0FBQyxJQUFNLElBQUlFLGlFQUFlQSxDQUFDTTtJQUN0RCxJQUFJUSxTQUFTUixXQUFXLEtBQUtBLGFBQWE7UUFDeENRLFNBQVNDLGNBQWMsQ0FBQ1Q7SUFDMUI7SUFDQVYsZ0RBQVNBLENBQUMsSUFBTSxJQUFNa0IsU0FBU0UsT0FBTyxJQUFJO1FBQUNGO0tBQVM7SUFDcEQsTUFBTUcsZUFBZXBCLDhDQUFPQSxDQUMxQixJQUFPO1lBQ0xxQixpQkFBaUI7Z0JBQ2YsT0FBT0osU0FBU0ssZUFBZSxDQUFDaEI7WUFDbEM7WUFDQWlCLFdBQVcsQ0FBQ0M7Z0JBQ1ZQLFNBQVNRLFVBQVUsQ0FBQ25CO2dCQUNwQixPQUFPVyxTQUFTTSxTQUFTLENBQUNDO1lBQzVCO1FBQ0YsSUFDQTtRQUFDUDtRQUFVWDtLQUFRO0lBRXJCLE9BQU9GLHFFQUFlQSxDQUFDZ0I7QUFDekIsRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvdXNlX3F1ZXJpZXMuanM/OGUyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnZleCB9IGZyb20gXCIuL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgUXVlcmllc09ic2VydmVyIH0gZnJvbSBcIi4vcXVlcmllc19vYnNlcnZlci5qc1wiO1xuaW1wb3J0IHsgdXNlU3Vic2NyaXB0aW9uIH0gZnJvbSBcIi4vdXNlX3N1YnNjcmlwdGlvbi5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJpZXMocXVlcmllcykge1xuICBjb25zdCBjb252ZXggPSB1c2VDb252ZXgoKTtcbiAgaWYgKGNvbnZleCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDb3VsZCBub3QgZmluZCBDb252ZXggY2xpZW50ISBgdXNlUXVlcnlgIG11c3QgYmUgdXNlZCBpbiB0aGUgUmVhY3QgY29tcG9uZW50IHRyZWUgdW5kZXIgYENvbnZleFByb3ZpZGVyYC4gRGlkIHlvdSBmb3JnZXQgaXQ/IFNlZSBodHRwczovL2RvY3MuY29udmV4LmRldi9xdWljay1zdGFydCNzZXQtdXAtY29udmV4LWluLXlvdXItcmVhY3QtYXBwXCJcbiAgICApO1xuICB9XG4gIGNvbnN0IGNyZWF0ZVdhdGNoID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIChxdWVyeSwgYXJncywge1xuICAgICAgam91cm5hbCxcbiAgICAgIHBhZ2luYXRpb25PcHRpb25zXG4gICAgfSkgPT4ge1xuICAgICAgaWYgKHBhZ2luYXRpb25PcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBjb252ZXgud2F0Y2hQYWdpbmF0ZWRRdWVyeShxdWVyeSwgYXJncywgcGFnaW5hdGlvbk9wdGlvbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnZleC53YXRjaFF1ZXJ5KHF1ZXJ5LCBhcmdzLCBqb3VybmFsID8geyBqb3VybmFsIH0gOiB7fSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2NvbnZleF0pO1xuICByZXR1cm4gdXNlUXVlcmllc0hlbHBlcihxdWVyaWVzLCBjcmVhdGVXYXRjaCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdXNlUXVlcmllc0hlbHBlcihxdWVyaWVzLCBjcmVhdGVXYXRjaCkge1xuICBjb25zdCBbb2JzZXJ2ZXJdID0gdXNlU3RhdGUoKCkgPT4gbmV3IFF1ZXJpZXNPYnNlcnZlcihjcmVhdGVXYXRjaCkpO1xuICBpZiAob2JzZXJ2ZXIuY3JlYXRlV2F0Y2ggIT09IGNyZWF0ZVdhdGNoKSB7XG4gICAgb2JzZXJ2ZXIuc2V0Q3JlYXRlV2F0Y2goY3JlYXRlV2F0Y2gpO1xuICB9XG4gIHVzZUVmZmVjdCgoKSA9PiAoKSA9PiBvYnNlcnZlci5kZXN0cm95KCksIFtvYnNlcnZlcl0pO1xuICBjb25zdCBzdWJzY3JpcHRpb24gPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBnZXRDdXJyZW50VmFsdWU6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyLmdldExvY2FsUmVzdWx0cyhxdWVyaWVzKTtcbiAgICAgIH0sXG4gICAgICBzdWJzY3JpYmU6IChjYWxsYmFjaykgPT4ge1xuICAgICAgICBvYnNlcnZlci5zZXRRdWVyaWVzKHF1ZXJpZXMpO1xuICAgICAgICByZXR1cm4gb2JzZXJ2ZXIuc3Vic2NyaWJlKGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbb2JzZXJ2ZXIsIHF1ZXJpZXNdXG4gICk7XG4gIHJldHVybiB1c2VTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZV9xdWVyaWVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VTdGF0ZSIsInVzZUNvbnZleCIsIlF1ZXJpZXNPYnNlcnZlciIsInVzZVN1YnNjcmlwdGlvbiIsInVzZVF1ZXJpZXMiLCJxdWVyaWVzIiwiY29udmV4IiwiRXJyb3IiLCJjcmVhdGVXYXRjaCIsInF1ZXJ5IiwiYXJncyIsImpvdXJuYWwiLCJwYWdpbmF0aW9uT3B0aW9ucyIsIndhdGNoUGFnaW5hdGVkUXVlcnkiLCJ3YXRjaFF1ZXJ5IiwidXNlUXVlcmllc0hlbHBlciIsIm9ic2VydmVyIiwic2V0Q3JlYXRlV2F0Y2giLCJkZXN0cm95Iiwic3Vic2NyaXB0aW9uIiwiZ2V0Q3VycmVudFZhbHVlIiwiZ2V0TG9jYWxSZXN1bHRzIiwic3Vic2NyaWJlIiwiY2FsbGJhY2siLCJzZXRRdWVyaWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_queries.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/react/use_subscription.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSubscription: () => (/* binding */ useSubscription)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\nfunction useSubscription({ // (Synchronously) returns the current value of our subscription.\ngetCurrentValue, // This function is passed an event handler to attach to the subscription.\n// It should return an unsubscribe function that removes the handler.\nsubscribe }) {\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(()=>({\n            getCurrentValue,\n            subscribe,\n            value: getCurrentValue()\n        }));\n    let valueToReturn = state.value;\n    if (state.getCurrentValue !== getCurrentValue || state.subscribe !== subscribe) {\n        valueToReturn = getCurrentValue();\n        setState({\n            getCurrentValue,\n            subscribe,\n            value: valueToReturn\n        });\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let didUnsubscribe = false;\n        const checkForUpdates = ()=>{\n            if (didUnsubscribe) {\n                return;\n            }\n            setState((prevState)=>{\n                if (prevState.getCurrentValue !== getCurrentValue || prevState.subscribe !== subscribe) {\n                    return prevState;\n                }\n                const value = getCurrentValue();\n                if (prevState.value === value) {\n                    return prevState;\n                }\n                return {\n                    ...prevState,\n                    value\n                };\n            });\n        };\n        const unsubscribe = subscribe(checkForUpdates);\n        checkForUpdates();\n        return ()=>{\n            didUnsubscribe = true;\n            unsubscribe();\n        };\n    }, [\n        getCurrentValue,\n        subscribe\n    ]);\n    return valueToReturn;\n} //# sourceMappingURL=use_subscription.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3JlYWN0L3VzZV9zdWJzY3JpcHRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUMrQjtBQUNyQyxTQUFTRSxnQkFBZ0IsRUFDOUIsaUVBQWlFO0FBQ2pFQyxlQUFlLEVBQ2YsMEVBQTBFO0FBQzFFLHFFQUFxRTtBQUNyRUMsU0FBUyxFQUNWO0lBQ0MsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdMLCtDQUFRQSxDQUFDLElBQU87WUFDeENFO1lBQ0FDO1lBQ0FHLE9BQU9KO1FBQ1Q7SUFDQSxJQUFJSyxnQkFBZ0JILE1BQU1FLEtBQUs7SUFDL0IsSUFBSUYsTUFBTUYsZUFBZSxLQUFLQSxtQkFBbUJFLE1BQU1ELFNBQVMsS0FBS0EsV0FBVztRQUM5RUksZ0JBQWdCTDtRQUNoQkcsU0FBUztZQUNQSDtZQUNBQztZQUNBRyxPQUFPQztRQUNUO0lBQ0Y7SUFDQVIsZ0RBQVNBLENBQUM7UUFDUixJQUFJUyxpQkFBaUI7UUFDckIsTUFBTUMsa0JBQWtCO1lBQ3RCLElBQUlELGdCQUFnQjtnQkFDbEI7WUFDRjtZQUNBSCxTQUFTLENBQUNLO2dCQUNSLElBQUlBLFVBQVVSLGVBQWUsS0FBS0EsbUJBQW1CUSxVQUFVUCxTQUFTLEtBQUtBLFdBQVc7b0JBQ3RGLE9BQU9PO2dCQUNUO2dCQUNBLE1BQU1KLFFBQVFKO2dCQUNkLElBQUlRLFVBQVVKLEtBQUssS0FBS0EsT0FBTztvQkFDN0IsT0FBT0k7Z0JBQ1Q7Z0JBQ0EsT0FBTztvQkFBRSxHQUFHQSxTQUFTO29CQUFFSjtnQkFBTTtZQUMvQjtRQUNGO1FBQ0EsTUFBTUssY0FBY1IsVUFBVU07UUFDOUJBO1FBQ0EsT0FBTztZQUNMRCxpQkFBaUI7WUFDakJHO1FBQ0Y7SUFDRixHQUFHO1FBQUNUO1FBQWlCQztLQUFVO0lBQy9CLE9BQU9JO0FBQ1QsRUFDQSw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vcmVhY3QvdXNlX3N1YnNjcmlwdGlvbi5qcz85ZmQ1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVN1YnNjcmlwdGlvbih7XG4gIC8vIChTeW5jaHJvbm91c2x5KSByZXR1cm5zIHRoZSBjdXJyZW50IHZhbHVlIG9mIG91ciBzdWJzY3JpcHRpb24uXG4gIGdldEN1cnJlbnRWYWx1ZSxcbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyBwYXNzZWQgYW4gZXZlbnQgaGFuZGxlciB0byBhdHRhY2ggdG8gdGhlIHN1YnNjcmlwdGlvbi5cbiAgLy8gSXQgc2hvdWxkIHJldHVybiBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbiB0aGF0IHJlbW92ZXMgdGhlIGhhbmRsZXIuXG4gIHN1YnNjcmliZVxufSkge1xuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IHVzZVN0YXRlKCgpID0+ICh7XG4gICAgZ2V0Q3VycmVudFZhbHVlLFxuICAgIHN1YnNjcmliZSxcbiAgICB2YWx1ZTogZ2V0Q3VycmVudFZhbHVlKClcbiAgfSkpO1xuICBsZXQgdmFsdWVUb1JldHVybiA9IHN0YXRlLnZhbHVlO1xuICBpZiAoc3RhdGUuZ2V0Q3VycmVudFZhbHVlICE9PSBnZXRDdXJyZW50VmFsdWUgfHwgc3RhdGUuc3Vic2NyaWJlICE9PSBzdWJzY3JpYmUpIHtcbiAgICB2YWx1ZVRvUmV0dXJuID0gZ2V0Q3VycmVudFZhbHVlKCk7XG4gICAgc2V0U3RhdGUoe1xuICAgICAgZ2V0Q3VycmVudFZhbHVlLFxuICAgICAgc3Vic2NyaWJlLFxuICAgICAgdmFsdWU6IHZhbHVlVG9SZXR1cm5cbiAgICB9KTtcbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBkaWRVbnN1YnNjcmliZSA9IGZhbHNlO1xuICAgIGNvbnN0IGNoZWNrRm9yVXBkYXRlcyA9ICgpID0+IHtcbiAgICAgIGlmIChkaWRVbnN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRTdGF0ZSgocHJldlN0YXRlKSA9PiB7XG4gICAgICAgIGlmIChwcmV2U3RhdGUuZ2V0Q3VycmVudFZhbHVlICE9PSBnZXRDdXJyZW50VmFsdWUgfHwgcHJldlN0YXRlLnN1YnNjcmliZSAhPT0gc3Vic2NyaWJlKSB7XG4gICAgICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IGdldEN1cnJlbnRWYWx1ZSgpO1xuICAgICAgICBpZiAocHJldlN0YXRlLnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgLi4ucHJldlN0YXRlLCB2YWx1ZSB9O1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHN1YnNjcmliZShjaGVja0ZvclVwZGF0ZXMpO1xuICAgIGNoZWNrRm9yVXBkYXRlcygpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkaWRVbnN1YnNjcmliZSA9IHRydWU7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgIH07XG4gIH0sIFtnZXRDdXJyZW50VmFsdWUsIHN1YnNjcmliZV0pO1xuICByZXR1cm4gdmFsdWVUb1JldHVybjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZV9zdWJzY3JpcHRpb24uanMubWFwXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VTdWJzY3JpcHRpb24iLCJnZXRDdXJyZW50VmFsdWUiLCJzdWJzY3JpYmUiLCJzdGF0ZSIsInNldFN0YXRlIiwidmFsdWUiLCJ2YWx1ZVRvUmV0dXJuIiwiZGlkVW5zdWJzY3JpYmUiLCJjaGVja0ZvclVwZGF0ZXMiLCJwcmV2U3RhdGUiLCJ1bnN1YnNjcmliZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/react/use_subscription.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/api.js":
/*!****************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/api.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   anyApi: () => (/* binding */ anyApi),\n/* harmony export */   filterApi: () => (/* binding */ filterApi),\n/* harmony export */   getFunctionName: () => (/* binding */ getFunctionName),\n/* harmony export */   justActions: () => (/* binding */ justActions),\n/* harmony export */   justInternal: () => (/* binding */ justInternal),\n/* harmony export */   justMutations: () => (/* binding */ justMutations),\n/* harmony export */   justPaginatedQueries: () => (/* binding */ justPaginatedQueries),\n/* harmony export */   justPublic: () => (/* binding */ justPublic),\n/* harmony export */   justQueries: () => (/* binding */ justQueries),\n/* harmony export */   justSchedulable: () => (/* binding */ justSchedulable),\n/* harmony export */   makeFunctionReference: () => (/* binding */ makeFunctionReference)\n/* harmony export */ });\n/* harmony import */ var _functionName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./functionName.js */ \"(ssr)/./node_modules/convex/dist/esm/server/functionName.js\");\n/* harmony import */ var _components_paths_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\n\n\nfunction getFunctionName(functionReference) {\n    const address = (0,_components_paths_js__WEBPACK_IMPORTED_MODULE_1__.getFunctionAddress)(functionReference);\n    if (address.name === void 0) {\n        if (address.functionHandle !== void 0) {\n            throw new Error(`Expected function reference like \"api.file.func\" or \"internal.file.func\", but received function handle ${address.functionHandle}`);\n        } else if (address.reference !== void 0) {\n            throw new Error(`Expected function reference in the current component like \"api.file.func\" or \"internal.file.func\", but received reference ${address.reference}`);\n        }\n        throw new Error(`Expected function reference like \"api.file.func\" or \"internal.file.func\", but received ${JSON.stringify(address)}`);\n    }\n    if (typeof functionReference === \"string\") return functionReference;\n    const name = functionReference[_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName];\n    if (!name) {\n        throw new Error(`${functionReference} is not a functionReference`);\n    }\n    return name;\n}\nfunction makeFunctionReference(name) {\n    return {\n        [_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName]: name\n    };\n}\nfunction createApi(pathParts = []) {\n    const handler = {\n        get (_, prop) {\n            if (typeof prop === \"string\") {\n                const newParts = [\n                    ...pathParts,\n                    prop\n                ];\n                return createApi(newParts);\n            } else if (prop === _functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName) {\n                if (pathParts.length < 2) {\n                    const found = [\n                        \"api\",\n                        ...pathParts\n                    ].join(\".\");\n                    throw new Error(`API path is expected to be of the form \\`api.moduleName.functionName\\`. Found: \\`${found}\\``);\n                }\n                const path = pathParts.slice(0, -1).join(\"/\");\n                const exportName = pathParts[pathParts.length - 1];\n                if (exportName === \"default\") {\n                    return path;\n                } else {\n                    return path + \":\" + exportName;\n                }\n            } else if (prop === Symbol.toStringTag) {\n                return \"FunctionReference\";\n            } else {\n                return void 0;\n            }\n        }\n    };\n    return new Proxy({}, handler);\n}\nfunction filterApi(api) {\n    return api;\n}\nfunction justInternal(api) {\n    return api;\n}\nfunction justPublic(api) {\n    return api;\n}\nfunction justQueries(api) {\n    return api;\n}\nfunction justMutations(api) {\n    return api;\n}\nfunction justActions(api) {\n    return api;\n}\nfunction justPaginatedQueries(api) {\n    return api;\n}\nfunction justSchedulable(api) {\n    return api;\n}\nconst anyApi = createApi(); //# sourceMappingURL=api.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9hcGkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBQ29DO0FBQ1U7QUFDcEQsU0FBU0UsZ0JBQWdCQyxpQkFBaUI7SUFDL0MsTUFBTUMsVUFBVUgsd0VBQWtCQSxDQUFDRTtJQUNuQyxJQUFJQyxRQUFRQyxJQUFJLEtBQUssS0FBSyxHQUFHO1FBQzNCLElBQUlELFFBQVFFLGNBQWMsS0FBSyxLQUFLLEdBQUc7WUFDckMsTUFBTSxJQUFJQyxNQUNSLENBQUMsdUdBQXVHLEVBQUVILFFBQVFFLGNBQWMsQ0FBQyxDQUFDO1FBRXRJLE9BQU8sSUFBSUYsUUFBUUksU0FBUyxLQUFLLEtBQUssR0FBRztZQUN2QyxNQUFNLElBQUlELE1BQ1IsQ0FBQywwSEFBMEgsRUFBRUgsUUFBUUksU0FBUyxDQUFDLENBQUM7UUFFcEo7UUFDQSxNQUFNLElBQUlELE1BQ1IsQ0FBQyx1RkFBdUYsRUFBRUUsS0FBS0MsU0FBUyxDQUFDTixTQUFTLENBQUM7SUFFdkg7SUFDQSxJQUFJLE9BQU9ELHNCQUFzQixVQUFVLE9BQU9BO0lBQ2xELE1BQU1FLE9BQU9GLGlCQUFpQixDQUFDSCwwREFBWUEsQ0FBQztJQUM1QyxJQUFJLENBQUNLLE1BQU07UUFDVCxNQUFNLElBQUlFLE1BQU0sQ0FBQyxFQUFFSixrQkFBa0IsMkJBQTJCLENBQUM7SUFDbkU7SUFDQSxPQUFPRTtBQUNUO0FBQ08sU0FBU00sc0JBQXNCTixJQUFJO0lBQ3hDLE9BQU87UUFBRSxDQUFDTCwwREFBWUEsQ0FBQyxFQUFFSztJQUFLO0FBQ2hDO0FBQ0EsU0FBU08sVUFBVUMsWUFBWSxFQUFFO0lBQy9CLE1BQU1DLFVBQVU7UUFDZEMsS0FBSUMsQ0FBQyxFQUFFQyxJQUFJO1lBQ1QsSUFBSSxPQUFPQSxTQUFTLFVBQVU7Z0JBQzVCLE1BQU1DLFdBQVc7dUJBQUlMO29CQUFXSTtpQkFBSztnQkFDckMsT0FBT0wsVUFBVU07WUFDbkIsT0FBTyxJQUFJRCxTQUFTakIsMERBQVlBLEVBQUU7Z0JBQ2hDLElBQUlhLFVBQVVNLE1BQU0sR0FBRyxHQUFHO29CQUN4QixNQUFNQyxRQUFRO3dCQUFDOzJCQUFVUDtxQkFBVSxDQUFDUSxJQUFJLENBQUM7b0JBQ3pDLE1BQU0sSUFBSWQsTUFDUixDQUFDLGlGQUFpRixFQUFFYSxNQUFNLEVBQUUsQ0FBQztnQkFFakc7Z0JBQ0EsTUFBTUUsT0FBT1QsVUFBVVUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHRixJQUFJLENBQUM7Z0JBQ3pDLE1BQU1HLGFBQWFYLFNBQVMsQ0FBQ0EsVUFBVU0sTUFBTSxHQUFHLEVBQUU7Z0JBQ2xELElBQUlLLGVBQWUsV0FBVztvQkFDNUIsT0FBT0Y7Z0JBQ1QsT0FBTztvQkFDTCxPQUFPQSxPQUFPLE1BQU1FO2dCQUN0QjtZQUNGLE9BQU8sSUFBSVAsU0FBU1EsT0FBT0MsV0FBVyxFQUFFO2dCQUN0QyxPQUFPO1lBQ1QsT0FBTztnQkFDTCxPQUFPLEtBQUs7WUFDZDtRQUNGO0lBQ0Y7SUFDQSxPQUFPLElBQUlDLE1BQU0sQ0FBQyxHQUFHYjtBQUN2QjtBQUNPLFNBQVNjLFVBQVVDLEdBQUc7SUFDM0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNDLGFBQWFELEdBQUc7SUFDOUIsT0FBT0E7QUFDVDtBQUNPLFNBQVNFLFdBQVdGLEdBQUc7SUFDNUIsT0FBT0E7QUFDVDtBQUNPLFNBQVNHLFlBQVlILEdBQUc7SUFDN0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNJLGNBQWNKLEdBQUc7SUFDL0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNLLFlBQVlMLEdBQUc7SUFDN0IsT0FBT0E7QUFDVDtBQUNPLFNBQVNNLHFCQUFxQk4sR0FBRztJQUN0QyxPQUFPQTtBQUNUO0FBQ08sU0FBU08sZ0JBQWdCUCxHQUFHO0lBQ2pDLE9BQU9BO0FBQ1Q7QUFDTyxNQUFNUSxTQUFTekIsWUFBWSxDQUNsQywrQkFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2FwaS5qcz82YzFiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgZnVuY3Rpb25OYW1lIH0gZnJvbSBcIi4vZnVuY3Rpb25OYW1lLmpzXCI7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbkFkZHJlc3MgfSBmcm9tIFwiLi9jb21wb25lbnRzL3BhdGhzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVuY3Rpb25OYW1lKGZ1bmN0aW9uUmVmZXJlbmNlKSB7XG4gIGNvbnN0IGFkZHJlc3MgPSBnZXRGdW5jdGlvbkFkZHJlc3MoZnVuY3Rpb25SZWZlcmVuY2UpO1xuICBpZiAoYWRkcmVzcy5uYW1lID09PSB2b2lkIDApIHtcbiAgICBpZiAoYWRkcmVzcy5mdW5jdGlvbkhhbmRsZSAhPT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBFeHBlY3RlZCBmdW5jdGlvbiByZWZlcmVuY2UgbGlrZSBcImFwaS5maWxlLmZ1bmNcIiBvciBcImludGVybmFsLmZpbGUuZnVuY1wiLCBidXQgcmVjZWl2ZWQgZnVuY3Rpb24gaGFuZGxlICR7YWRkcmVzcy5mdW5jdGlvbkhhbmRsZX1gXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoYWRkcmVzcy5yZWZlcmVuY2UgIT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRXhwZWN0ZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGluIHRoZSBjdXJyZW50IGNvbXBvbmVudCBsaWtlIFwiYXBpLmZpbGUuZnVuY1wiIG9yIFwiaW50ZXJuYWwuZmlsZS5mdW5jXCIsIGJ1dCByZWNlaXZlZCByZWZlcmVuY2UgJHthZGRyZXNzLnJlZmVyZW5jZX1gXG4gICAgICApO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgRXhwZWN0ZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGxpa2UgXCJhcGkuZmlsZS5mdW5jXCIgb3IgXCJpbnRlcm5hbC5maWxlLmZ1bmNcIiwgYnV0IHJlY2VpdmVkICR7SlNPTi5zdHJpbmdpZnkoYWRkcmVzcyl9YFxuICAgICk7XG4gIH1cbiAgaWYgKHR5cGVvZiBmdW5jdGlvblJlZmVyZW5jZSA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGZ1bmN0aW9uUmVmZXJlbmNlO1xuICBjb25zdCBuYW1lID0gZnVuY3Rpb25SZWZlcmVuY2VbZnVuY3Rpb25OYW1lXTtcbiAgaWYgKCFuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke2Z1bmN0aW9uUmVmZXJlbmNlfSBpcyBub3QgYSBmdW5jdGlvblJlZmVyZW5jZWApO1xuICB9XG4gIHJldHVybiBuYW1lO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VGdW5jdGlvblJlZmVyZW5jZShuYW1lKSB7XG4gIHJldHVybiB7IFtmdW5jdGlvbk5hbWVdOiBuYW1lIH07XG59XG5mdW5jdGlvbiBjcmVhdGVBcGkocGF0aFBhcnRzID0gW10pIHtcbiAgY29uc3QgaGFuZGxlciA9IHtcbiAgICBnZXQoXywgcHJvcCkge1xuICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IG5ld1BhcnRzID0gWy4uLnBhdGhQYXJ0cywgcHJvcF07XG4gICAgICAgIHJldHVybiBjcmVhdGVBcGkobmV3UGFydHMpO1xuICAgICAgfSBlbHNlIGlmIChwcm9wID09PSBmdW5jdGlvbk5hbWUpIHtcbiAgICAgICAgaWYgKHBhdGhQYXJ0cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgY29uc3QgZm91bmQgPSBbXCJhcGlcIiwgLi4ucGF0aFBhcnRzXS5qb2luKFwiLlwiKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgQVBJIHBhdGggaXMgZXhwZWN0ZWQgdG8gYmUgb2YgdGhlIGZvcm0gXFxgYXBpLm1vZHVsZU5hbWUuZnVuY3Rpb25OYW1lXFxgLiBGb3VuZDogXFxgJHtmb3VuZH1cXGBgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoID0gcGF0aFBhcnRzLnNsaWNlKDAsIC0xKS5qb2luKFwiL1wiKTtcbiAgICAgICAgY29uc3QgZXhwb3J0TmFtZSA9IHBhdGhQYXJ0c1twYXRoUGFydHMubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmIChleHBvcnROYW1lID09PSBcImRlZmF1bHRcIikge1xuICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBwYXRoICsgXCI6XCIgKyBleHBvcnROYW1lO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHByb3AgPT09IFN5bWJvbC50b1N0cmluZ1RhZykge1xuICAgICAgICByZXR1cm4gXCJGdW5jdGlvblJlZmVyZW5jZVwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBuZXcgUHJveHkoe30sIGhhbmRsZXIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckFwaShhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqdXN0SW50ZXJuYWwoYXBpKSB7XG4gIHJldHVybiBhcGk7XG59XG5leHBvcnQgZnVuY3Rpb24ganVzdFB1YmxpYyhhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqdXN0UXVlcmllcyhhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBqdXN0TXV0YXRpb25zKGFwaSkge1xuICByZXR1cm4gYXBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGp1c3RBY3Rpb25zKGFwaSkge1xuICByZXR1cm4gYXBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGp1c3RQYWdpbmF0ZWRRdWVyaWVzKGFwaSkge1xuICByZXR1cm4gYXBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGp1c3RTY2hlZHVsYWJsZShhcGkpIHtcbiAgcmV0dXJuIGFwaTtcbn1cbmV4cG9ydCBjb25zdCBhbnlBcGkgPSBjcmVhdGVBcGkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwaS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJmdW5jdGlvbk5hbWUiLCJnZXRGdW5jdGlvbkFkZHJlc3MiLCJnZXRGdW5jdGlvbk5hbWUiLCJmdW5jdGlvblJlZmVyZW5jZSIsImFkZHJlc3MiLCJuYW1lIiwiZnVuY3Rpb25IYW5kbGUiLCJFcnJvciIsInJlZmVyZW5jZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtYWtlRnVuY3Rpb25SZWZlcmVuY2UiLCJjcmVhdGVBcGkiLCJwYXRoUGFydHMiLCJoYW5kbGVyIiwiZ2V0IiwiXyIsInByb3AiLCJuZXdQYXJ0cyIsImxlbmd0aCIsImZvdW5kIiwiam9pbiIsInBhdGgiLCJzbGljZSIsImV4cG9ydE5hbWUiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIlByb3h5IiwiZmlsdGVyQXBpIiwiYXBpIiwianVzdEludGVybmFsIiwianVzdFB1YmxpYyIsImp1c3RRdWVyaWVzIiwianVzdE11dGF0aW9ucyIsImp1c3RBY3Rpb25zIiwianVzdFBhZ2luYXRlZFF1ZXJpZXMiLCJqdXN0U2NoZWR1bGFibGUiLCJhbnlBcGkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/api.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/components/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/components/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   componentsGeneric: () => (/* binding */ componentsGeneric),\n/* harmony export */   createFunctionHandle: () => (/* binding */ createFunctionHandle),\n/* harmony export */   currentSystemUdfInComponent: () => (/* binding */ currentSystemUdfInComponent),\n/* harmony export */   defineApp: () => (/* binding */ defineApp),\n/* harmony export */   defineComponent: () => (/* binding */ defineComponent),\n/* harmony export */   getFunctionAddress: () => (/* reexport safe */ _paths_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionAddress)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _impl_syscall_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../impl/syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _paths_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nasync function createFunctionHandle(functionReference) {\n    const address = (0,_paths_js__WEBPACK_IMPORTED_MODULE_3__.getFunctionAddress)(functionReference);\n    return await (0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/createFunctionHandle\", {\n        ...address,\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version\n    });\n}\nclass InstalledComponent {\n    constructor(definition, name){\n        /**\n     * @internal\n     */ __publicField(this, \"_definition\");\n        /**\n     * @internal\n     */ __publicField(this, \"_name\");\n        this._definition = definition;\n        this._name = name;\n        (0,_paths_js__WEBPACK_IMPORTED_MODULE_3__.setReferencePath)(this, `_reference/childComponent/${name}`);\n    }\n    get exports() {\n        return createExports(this._name, []);\n    }\n}\nfunction createExports(name, pathParts) {\n    const handler = {\n        get (_, prop) {\n            if (typeof prop === \"string\") {\n                const newParts = [\n                    ...pathParts,\n                    prop\n                ];\n                return createExports(name, newParts);\n            } else if (prop === _paths_js__WEBPACK_IMPORTED_MODULE_3__.toReferencePath) {\n                let reference = `_reference/childComponent/${name}`;\n                for (const part of pathParts){\n                    reference += `/${part}`;\n                }\n                return reference;\n            } else {\n                return void 0;\n            }\n        }\n    };\n    return new Proxy({}, handler);\n}\nfunction use(definition, options) {\n    const importedComponentDefinition = definition;\n    if (typeof importedComponentDefinition.componentDefinitionPath !== \"string\") {\n        throw new Error(\"Component definition does not have the required componentDefinitionPath property. This code only works in Convex runtime.\");\n    }\n    const name = options?.name || // added recently\n    importedComponentDefinition.defaultName || // can be removed once backend is out\n    importedComponentDefinition.componentDefinitionPath.split(\"/\").pop();\n    this._childComponents.push([\n        name,\n        importedComponentDefinition,\n        {}\n    ]);\n    return new InstalledComponent(definition, name);\n}\nfunction exportAppForAnalysis() {\n    const definitionType = {\n        type: \"app\"\n    };\n    const childComponents = serializeChildComponents(this._childComponents);\n    return {\n        definitionType,\n        childComponents,\n        httpMounts: {},\n        exports: serializeExportTree(this._exportTree)\n    };\n}\nfunction serializeExportTree(tree) {\n    const branch = [];\n    for (const [key, child] of Object.entries(tree)){\n        let node;\n        if (typeof child === \"string\") {\n            node = {\n                type: \"leaf\",\n                leaf: child\n            };\n        } else {\n            node = serializeExportTree(child);\n        }\n        branch.push([\n            key,\n            node\n        ]);\n    }\n    return {\n        type: \"branch\",\n        branch\n    };\n}\nfunction serializeChildComponents(childComponents) {\n    return childComponents.map(([name, definition, p])=>{\n        let args = null;\n        if (p !== null) {\n            args = [];\n            for (const [name2, value] of Object.entries(p)){\n                if (value !== void 0) {\n                    args.push([\n                        name2,\n                        {\n                            type: \"value\",\n                            value: JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value))\n                        }\n                    ]);\n                }\n            }\n        }\n        const path = definition.componentDefinitionPath;\n        if (!path) throw new Error(\"no .componentPath for component definition \" + JSON.stringify(definition, null, 2));\n        return {\n            name,\n            path,\n            args\n        };\n    });\n}\nfunction exportComponentForAnalysis() {\n    const args = Object.entries(this._args).map(([name, validator])=>[\n            name,\n            {\n                type: \"value\",\n                value: JSON.stringify(validator.json)\n            }\n        ]);\n    const definitionType = {\n        type: \"childComponent\",\n        name: this._name,\n        args\n    };\n    const childComponents = serializeChildComponents(this._childComponents);\n    return {\n        name: this._name,\n        definitionType,\n        childComponents,\n        httpMounts: {},\n        exports: serializeExportTree(this._exportTree)\n    };\n}\nfunction defineComponent(name) {\n    const ret = {\n        _isRoot: false,\n        _name: name,\n        _args: {},\n        _childComponents: [],\n        _exportTree: {},\n        _onInitCallbacks: {},\n        export: exportComponentForAnalysis,\n        use,\n        // pretend to conform to ComponentDefinition, which temporarily expects __args\n        ...{}\n    };\n    return ret;\n}\nfunction defineApp() {\n    const ret = {\n        _isRoot: true,\n        _childComponents: [],\n        _exportTree: {},\n        export: exportAppForAnalysis,\n        use\n    };\n    return ret;\n}\nfunction currentSystemUdfInComponent(componentId) {\n    return {\n        [_paths_js__WEBPACK_IMPORTED_MODULE_3__.toReferencePath]: `_reference/currentSystemUdfInComponent/${componentId}`\n    };\n}\nfunction createChildComponents(root, pathParts) {\n    const handler = {\n        get (_, prop) {\n            if (typeof prop === \"string\") {\n                const newParts = [\n                    ...pathParts,\n                    prop\n                ];\n                return createChildComponents(root, newParts);\n            } else if (prop === _paths_js__WEBPACK_IMPORTED_MODULE_3__.toReferencePath) {\n                if (pathParts.length < 1) {\n                    const found = [\n                        root,\n                        ...pathParts\n                    ].join(\".\");\n                    throw new Error(`API path is expected to be of the form \\`${root}.childComponent.functionName\\`. Found: \\`${found}\\``);\n                }\n                return `_reference/childComponent/` + pathParts.join(\"/\");\n            } else {\n                return void 0;\n            }\n        }\n    };\n    return new Proxy({}, handler);\n}\nconst componentsGeneric = ()=>createChildComponents(\"components\", []); //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9jb21wb25lbnRzL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDbkQ7QUFDWjtBQUNnQjtBQUtyQztBQUM0QjtBQUN6QyxlQUFlVyxxQkFBcUJDLGlCQUFpQjtJQUMxRCxNQUFNQyxVQUFVTCw2REFBa0JBLENBQUNJO0lBQ25DLE9BQU8sTUFBTUwscUVBQW1CQSxDQUFDLDRCQUE0QjtRQUMzRCxHQUFHTSxPQUFPO1FBQ1ZQLE9BQU9BLGdEQUFBQTtJQUNUO0FBQ0Y7QUFDQSxNQUFNUTtJQUNKQyxZQUFZQyxVQUFVLEVBQUVDLElBQUksQ0FBRTtRQUM1Qjs7S0FFQyxHQUNEYixjQUFjLElBQUksRUFBRTtRQUNwQjs7S0FFQyxHQUNEQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNjLFdBQVcsR0FBR0Y7UUFDbkIsSUFBSSxDQUFDRyxLQUFLLEdBQUdGO1FBQ2JSLDJEQUFnQkEsQ0FBQyxJQUFJLEVBQUUsQ0FBQywwQkFBMEIsRUFBRVEsS0FBSyxDQUFDO0lBQzVEO0lBQ0EsSUFBSUcsVUFBVTtRQUNaLE9BQU9DLGNBQWMsSUFBSSxDQUFDRixLQUFLLEVBQUUsRUFBRTtJQUNyQztBQUNGO0FBQ0EsU0FBU0UsY0FBY0osSUFBSSxFQUFFSyxTQUFTO0lBQ3BDLE1BQU1DLFVBQVU7UUFD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QUlMO29CQUFXSTtpQkFBSztnQkFDckMsT0FBT2dELHNCQUFzQkMsTUFBTWhEO1lBQ3JDLE9BQU8sSUFBSUQsU0FBU2hCLHNEQUFlQSxFQUFFO2dCQUNuQyxJQUFJWSxVQUFVc0QsTUFBTSxHQUFHLEdBQUc7b0JBQ3hCLE1BQU1DLFFBQVE7d0JBQUNGOzJCQUFTckQ7cUJBQVUsQ0FBQ3dELElBQUksQ0FBQztvQkFDeEMsTUFBTSxJQUFJM0MsTUFDUixDQUFDLHlDQUF5QyxFQUFFd0MsS0FBSyx5Q0FBeUMsRUFBRUUsTUFBTSxFQUFFLENBQUM7Z0JBRXpHO2dCQUNBLE9BQU8sQ0FBQywwQkFBMEIsQ0FBQyxHQUFHdkQsVUFBVXdELElBQUksQ0FBQztZQUN2RCxPQUFPO2dCQUNMLE9BQU8sS0FBSztZQUNkO1FBQ0Y7SUFDRjtJQUNBLE9BQU8sSUFBSWhELE1BQU0sQ0FBQyxHQUFHUDtBQUN2QjtBQUNPLE1BQU13RCxvQkFBb0IsSUFBTUwsc0JBQXNCLGNBQWMsRUFBRSxFQUFFLENBQy9FLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvY29tcG9uZW50cy9pbmRleC5qcz8wNjJkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiB9IGZyb20gXCIuLi8uLi92YWx1ZXMvaW5kZXguanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vLi4vaW5kZXguanNcIjtcbmltcG9ydCB7IHBlcmZvcm1Bc3luY1N5c2NhbGwgfSBmcm9tIFwiLi4vaW1wbC9zeXNjYWxsLmpzXCI7XG5pbXBvcnQge1xuICBnZXRGdW5jdGlvbkFkZHJlc3MsXG4gIHNldFJlZmVyZW5jZVBhdGgsXG4gIHRvUmVmZXJlbmNlUGF0aFxufSBmcm9tIFwiLi9wYXRocy5qc1wiO1xuZXhwb3J0IHsgZ2V0RnVuY3Rpb25BZGRyZXNzIH0gZnJvbSBcIi4vcGF0aHMuanNcIjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVGdW5jdGlvbkhhbmRsZShmdW5jdGlvblJlZmVyZW5jZSkge1xuICBjb25zdCBhZGRyZXNzID0gZ2V0RnVuY3Rpb25BZGRyZXNzKGZ1bmN0aW9uUmVmZXJlbmNlKTtcbiAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvY3JlYXRlRnVuY3Rpb25IYW5kbGVcIiwge1xuICAgIC4uLmFkZHJlc3MsXG4gICAgdmVyc2lvblxuICB9KTtcbn1cbmNsYXNzIEluc3RhbGxlZENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGRlZmluaXRpb24sIG5hbWUpIHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2RlZmluaXRpb25cIik7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9uYW1lXCIpO1xuICAgIHRoaXMuX2RlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xuICAgIHNldFJlZmVyZW5jZVBhdGgodGhpcywgYF9yZWZlcmVuY2UvY2hpbGRDb21wb25lbnQvJHtuYW1lfWApO1xuICB9XG4gIGdldCBleHBvcnRzKCkge1xuICAgIHJldHVybiBjcmVhdGVFeHBvcnRzKHRoaXMuX25hbWUsIFtdKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRXhwb3J0cyhuYW1lLCBwYXRoUGFydHMpIHtcbiAgY29uc3QgaGFuZGxlciA9IHtcbiAgICBnZXQoXywgcHJvcCkge1xuICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGNvbnN0IG5ld1BhcnRzID0gWy4uLnBhdGhQYXJ0cywgcHJvcF07XG4gICAgICAgIHJldHVybiBjcmVhdGVFeHBvcnRzKG5hbWUsIG5ld1BhcnRzKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gdG9SZWZlcmVuY2VQYXRoKSB7XG4gICAgICAgIGxldCByZWZlcmVuY2UgPSBgX3JlZmVyZW5jZS9jaGlsZENvbXBvbmVudC8ke25hbWV9YDtcbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhdGhQYXJ0cykge1xuICAgICAgICAgIHJlZmVyZW5jZSArPSBgLyR7cGFydH1gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWZlcmVuY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG5ldyBQcm94eSh7fSwgaGFuZGxlcik7XG59XG5mdW5jdGlvbiB1c2UoZGVmaW5pdGlvbiwgb3B0aW9ucykge1xuICBjb25zdCBpbXBvcnRlZENvbXBvbmVudERlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICBpZiAodHlwZW9mIGltcG9ydGVkQ29tcG9uZW50RGVmaW5pdGlvbi5jb21wb25lbnREZWZpbml0aW9uUGF0aCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ29tcG9uZW50IGRlZmluaXRpb24gZG9lcyBub3QgaGF2ZSB0aGUgcmVxdWlyZWQgY29tcG9uZW50RGVmaW5pdGlvblBhdGggcHJvcGVydHkuIFRoaXMgY29kZSBvbmx5IHdvcmtzIGluIENvbnZleCBydW50aW1lLlwiXG4gICAgKTtcbiAgfVxuICBjb25zdCBuYW1lID0gb3B0aW9ucz8ubmFtZSB8fCAvLyBhZGRlZCByZWNlbnRseVxuICBpbXBvcnRlZENvbXBvbmVudERlZmluaXRpb24uZGVmYXVsdE5hbWUgfHwgLy8gY2FuIGJlIHJlbW92ZWQgb25jZSBiYWNrZW5kIGlzIG91dFxuICBpbXBvcnRlZENvbXBvbmVudERlZmluaXRpb24uY29tcG9uZW50RGVmaW5pdGlvblBhdGguc3BsaXQoXCIvXCIpLnBvcCgpO1xuICB0aGlzLl9jaGlsZENvbXBvbmVudHMucHVzaChbbmFtZSwgaW1wb3J0ZWRDb21wb25lbnREZWZpbml0aW9uLCB7fV0pO1xuICByZXR1cm4gbmV3IEluc3RhbGxlZENvbXBvbmVudChkZWZpbml0aW9uLCBuYW1lKTtcbn1cbmZ1bmN0aW9uIGV4cG9ydEFwcEZvckFuYWx5c2lzKCkge1xuICBjb25zdCBkZWZpbml0aW9uVHlwZSA9IHsgdHlwZTogXCJhcHBcIiB9O1xuICBjb25zdCBjaGlsZENvbXBvbmVudHMgPSBzZXJpYWxpemVDaGlsZENvbXBvbmVudHModGhpcy5fY2hpbGRDb21wb25lbnRzKTtcbiAgcmV0dXJuIHtcbiAgICBkZWZpbml0aW9uVHlwZSxcbiAgICBjaGlsZENvbXBvbmVudHMsXG4gICAgaHR0cE1vdW50czoge30sXG4gICAgZXhwb3J0czogc2VyaWFsaXplRXhwb3J0VHJlZSh0aGlzLl9leHBvcnRUcmVlKVxuICB9O1xufVxuZnVuY3Rpb24gc2VyaWFsaXplRXhwb3J0VHJlZSh0cmVlKSB7XG4gIGNvbnN0IGJyYW5jaCA9IFtdO1xuICBmb3IgKGNvbnN0IFtrZXksIGNoaWxkXSBvZiBPYmplY3QuZW50cmllcyh0cmVlKSkge1xuICAgIGxldCBub2RlO1xuICAgIGlmICh0eXBlb2YgY2hpbGQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG5vZGUgPSB7IHR5cGU6IFwibGVhZlwiLCBsZWFmOiBjaGlsZCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlID0gc2VyaWFsaXplRXhwb3J0VHJlZShjaGlsZCk7XG4gICAgfVxuICAgIGJyYW5jaC5wdXNoKFtrZXksIG5vZGVdKTtcbiAgfVxuICByZXR1cm4geyB0eXBlOiBcImJyYW5jaFwiLCBicmFuY2ggfTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUNoaWxkQ29tcG9uZW50cyhjaGlsZENvbXBvbmVudHMpIHtcbiAgcmV0dXJuIGNoaWxkQ29tcG9uZW50cy5tYXAoKFtuYW1lLCBkZWZpbml0aW9uLCBwXSkgPT4ge1xuICAgIGxldCBhcmdzID0gbnVsbDtcbiAgICBpZiAocCAhPT0gbnVsbCkge1xuICAgICAgYXJncyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBbbmFtZTIsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwKSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGFyZ3MucHVzaChbXG4gICAgICAgICAgICBuYW1lMixcbiAgICAgICAgICAgIHsgdHlwZTogXCJ2YWx1ZVwiLCB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoY29udmV4VG9Kc29uKHZhbHVlKSkgfVxuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBkZWZpbml0aW9uLmNvbXBvbmVudERlZmluaXRpb25QYXRoO1xuICAgIGlmICghcGF0aClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJubyAuY29tcG9uZW50UGF0aCBmb3IgY29tcG9uZW50IGRlZmluaXRpb24gXCIgKyBKU09OLnN0cmluZ2lmeShkZWZpbml0aW9uLCBudWxsLCAyKVxuICAgICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZSxcbiAgICAgIHBhdGgsXG4gICAgICBhcmdzXG4gICAgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiBleHBvcnRDb21wb25lbnRGb3JBbmFseXNpcygpIHtcbiAgY29uc3QgYXJncyA9IE9iamVjdC5lbnRyaWVzKFxuICAgIHRoaXMuX2FyZ3NcbiAgKS5tYXAoKFtuYW1lLCB2YWxpZGF0b3JdKSA9PiBbXG4gICAgbmFtZSxcbiAgICB7XG4gICAgICB0eXBlOiBcInZhbHVlXCIsXG4gICAgICB2YWx1ZTogSlNPTi5zdHJpbmdpZnkodmFsaWRhdG9yLmpzb24pXG4gICAgfVxuICBdKTtcbiAgY29uc3QgZGVmaW5pdGlvblR5cGUgPSB7XG4gICAgdHlwZTogXCJjaGlsZENvbXBvbmVudFwiLFxuICAgIG5hbWU6IHRoaXMuX25hbWUsXG4gICAgYXJnc1xuICB9O1xuICBjb25zdCBjaGlsZENvbXBvbmVudHMgPSBzZXJpYWxpemVDaGlsZENvbXBvbmVudHModGhpcy5fY2hpbGRDb21wb25lbnRzKTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgIGRlZmluaXRpb25UeXBlLFxuICAgIGNoaWxkQ29tcG9uZW50cyxcbiAgICBodHRwTW91bnRzOiB7fSxcbiAgICBleHBvcnRzOiBzZXJpYWxpemVFeHBvcnRUcmVlKHRoaXMuX2V4cG9ydFRyZWUpXG4gIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG5hbWUpIHtcbiAgY29uc3QgcmV0ID0ge1xuICAgIF9pc1Jvb3Q6IGZhbHNlLFxuICAgIF9uYW1lOiBuYW1lLFxuICAgIF9hcmdzOiB7fSxcbiAgICBfY2hpbGRDb21wb25lbnRzOiBbXSxcbiAgICBfZXhwb3J0VHJlZToge30sXG4gICAgX29uSW5pdENhbGxiYWNrczoge30sXG4gICAgZXhwb3J0OiBleHBvcnRDb21wb25lbnRGb3JBbmFseXNpcyxcbiAgICB1c2UsXG4gICAgLy8gcHJldGVuZCB0byBjb25mb3JtIHRvIENvbXBvbmVudERlZmluaXRpb24sIHdoaWNoIHRlbXBvcmFyaWx5IGV4cGVjdHMgX19hcmdzXG4gICAgLi4ue31cbiAgfTtcbiAgcmV0dXJuIHJldDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVBcHAoKSB7XG4gIGNvbnN0IHJldCA9IHtcbiAgICBfaXNSb290OiB0cnVlLFxuICAgIF9jaGlsZENvbXBvbmVudHM6IFtdLFxuICAgIF9leHBvcnRUcmVlOiB7fSxcbiAgICBleHBvcnQ6IGV4cG9ydEFwcEZvckFuYWx5c2lzLFxuICAgIHVzZVxuICB9O1xuICByZXR1cm4gcmV0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGN1cnJlbnRTeXN0ZW1VZGZJbkNvbXBvbmVudChjb21wb25lbnRJZCkge1xuICByZXR1cm4ge1xuICAgIFt0b1JlZmVyZW5jZVBhdGhdOiBgX3JlZmVyZW5jZS9jdXJyZW50U3lzdGVtVWRmSW5Db21wb25lbnQvJHtjb21wb25lbnRJZH1gXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVDaGlsZENvbXBvbmVudHMocm9vdCwgcGF0aFBhcnRzKSB7XG4gIGNvbnN0IGhhbmRsZXIgPSB7XG4gICAgZ2V0KF8sIHByb3ApIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCBuZXdQYXJ0cyA9IFsuLi5wYXRoUGFydHMsIHByb3BdO1xuICAgICAgICByZXR1cm4gY3JlYXRlQ2hpbGRDb21wb25lbnRzKHJvb3QsIG5ld1BhcnRzKTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gdG9SZWZlcmVuY2VQYXRoKSB7XG4gICAgICAgIGlmIChwYXRoUGFydHMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgIGNvbnN0IGZvdW5kID0gW3Jvb3QsIC4uLnBhdGhQYXJ0c10uam9pbihcIi5cIik7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYEFQSSBwYXRoIGlzIGV4cGVjdGVkIHRvIGJlIG9mIHRoZSBmb3JtIFxcYCR7cm9vdH0uY2hpbGRDb21wb25lbnQuZnVuY3Rpb25OYW1lXFxgLiBGb3VuZDogXFxgJHtmb3VuZH1cXGBgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYF9yZWZlcmVuY2UvY2hpbGRDb21wb25lbnQvYCArIHBhdGhQYXJ0cy5qb2luKFwiL1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gbmV3IFByb3h5KHt9LCBoYW5kbGVyKTtcbn1cbmV4cG9ydCBjb25zdCBjb21wb25lbnRzR2VuZXJpYyA9ICgpID0+IGNyZWF0ZUNoaWxkQ29tcG9uZW50cyhcImNvbXBvbmVudHNcIiwgW10pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJjb252ZXhUb0pzb24iLCJ2ZXJzaW9uIiwicGVyZm9ybUFzeW5jU3lzY2FsbCIsImdldEZ1bmN0aW9uQWRkcmVzcyIsInNldFJlZmVyZW5jZVBhdGgiLCJ0b1JlZmVyZW5jZVBhdGgiLCJjcmVhdGVGdW5jdGlvbkhhbmRsZSIsImZ1bmN0aW9uUmVmZXJlbmNlIiwiYWRkcmVzcyIsIkluc3RhbGxlZENvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwiZGVmaW5pdGlvbiIsIm5hbWUiLCJfZGVmaW5pdGlvbiIsIl9uYW1lIiwiZXhwb3J0cyIsImNyZWF0ZUV4cG9ydHMiLCJwYXRoUGFydHMiLCJoYW5kbGVyIiwiZ2V0IiwiXyIsInByb3AiLCJuZXdQYXJ0cyIsInJlZmVyZW5jZSIsInBhcnQiLCJQcm94eSIsInVzZSIsIm9wdGlvbnMiLCJpbXBvcnRlZENvbXBvbmVudERlZmluaXRpb24iLCJjb21wb25lbnREZWZpbml0aW9uUGF0aCIsIkVycm9yIiwiZGVmYXVsdE5hbWUiLCJzcGxpdCIsInBvcCIsIl9jaGlsZENvbXBvbmVudHMiLCJwdXNoIiwiZXhwb3J0QXBwRm9yQW5hbHlzaXMiLCJkZWZpbml0aW9uVHlwZSIsInR5cGUiLCJjaGlsZENvbXBvbmVudHMiLCJzZXJpYWxpemVDaGlsZENvbXBvbmVudHMiLCJodHRwTW91bnRzIiwic2VyaWFsaXplRXhwb3J0VHJlZSIsIl9leHBvcnRUcmVlIiwidHJlZSIsImJyYW5jaCIsImNoaWxkIiwiZW50cmllcyIsIm5vZGUiLCJsZWFmIiwibWFwIiwicCIsImFyZ3MiLCJuYW1lMiIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXRoIiwiZXhwb3J0Q29tcG9uZW50Rm9yQW5hbHlzaXMiLCJfYXJncyIsInZhbGlkYXRvciIsImpzb24iLCJkZWZpbmVDb21wb25lbnQiLCJyZXQiLCJfaXNSb290IiwiX29uSW5pdENhbGxiYWNrcyIsImV4cG9ydCIsImRlZmluZUFwcCIsImN1cnJlbnRTeXN0ZW1VZGZJbkNvbXBvbmVudCIsImNvbXBvbmVudElkIiwiY3JlYXRlQ2hpbGRDb21wb25lbnRzIiwicm9vdCIsImxlbmd0aCIsImZvdW5kIiwiam9pbiIsImNvbXBvbmVudHNHZW5lcmljIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/components/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/components/paths.js":
/*!*****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/components/paths.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractReferencePath: () => (/* binding */ extractReferencePath),\n/* harmony export */   getFunctionAddress: () => (/* binding */ getFunctionAddress),\n/* harmony export */   isFunctionHandle: () => (/* binding */ isFunctionHandle),\n/* harmony export */   setReferencePath: () => (/* binding */ setReferencePath),\n/* harmony export */   toReferencePath: () => (/* binding */ toReferencePath)\n/* harmony export */ });\n/* harmony import */ var _functionName_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../functionName.js */ \"(ssr)/./node_modules/convex/dist/esm/server/functionName.js\");\n\n\nconst toReferencePath = Symbol.for(\"toReferencePath\");\nfunction setReferencePath(obj, value) {\n    obj[toReferencePath] = value;\n}\nfunction extractReferencePath(reference) {\n    return reference[toReferencePath] ?? null;\n}\nfunction isFunctionHandle(s) {\n    return s.startsWith(\"function://\");\n}\nfunction getFunctionAddress(functionReference) {\n    let functionAddress;\n    if (typeof functionReference === \"string\") {\n        if (isFunctionHandle(functionReference)) {\n            functionAddress = {\n                functionHandle: functionReference\n            };\n        } else {\n            functionAddress = {\n                name: functionReference\n            };\n        }\n    } else if (functionReference[_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName]) {\n        functionAddress = {\n            name: functionReference[_functionName_js__WEBPACK_IMPORTED_MODULE_0__.functionName]\n        };\n    } else {\n        const referencePath = extractReferencePath(functionReference);\n        if (!referencePath) {\n            throw new Error(`${functionReference} is not a functionReference`);\n        }\n        functionAddress = {\n            reference: referencePath\n        };\n    }\n    return functionAddress;\n} //# sourceMappingURL=paths.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9jb21wb25lbnRzL3BhdGhzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFhO0FBQ3FDO0FBQzNDLE1BQU1DLGtCQUFrQkMsT0FBT0MsR0FBRyxDQUFDLG1CQUFtQjtBQUN0RCxTQUFTQyxpQkFBaUJDLEdBQUcsRUFBRUMsS0FBSztJQUN6Q0QsR0FBRyxDQUFDSixnQkFBZ0IsR0FBR0s7QUFDekI7QUFDTyxTQUFTQyxxQkFBcUJDLFNBQVM7SUFDNUMsT0FBT0EsU0FBUyxDQUFDUCxnQkFBZ0IsSUFBSTtBQUN2QztBQUNPLFNBQVNRLGlCQUFpQkMsQ0FBQztJQUNoQyxPQUFPQSxFQUFFQyxVQUFVLENBQUM7QUFDdEI7QUFDTyxTQUFTQyxtQkFBbUJDLGlCQUFpQjtJQUNsRCxJQUFJQztJQUNKLElBQUksT0FBT0Qsc0JBQXNCLFVBQVU7UUFDekMsSUFBSUosaUJBQWlCSSxvQkFBb0I7WUFDdkNDLGtCQUFrQjtnQkFBRUMsZ0JBQWdCRjtZQUFrQjtRQUN4RCxPQUFPO1lBQ0xDLGtCQUFrQjtnQkFBRUUsTUFBTUg7WUFBa0I7UUFDOUM7SUFDRixPQUFPLElBQUlBLGlCQUFpQixDQUFDYiwwREFBWUEsQ0FBQyxFQUFFO1FBQzFDYyxrQkFBa0I7WUFBRUUsTUFBTUgsaUJBQWlCLENBQUNiLDBEQUFZQSxDQUFDO1FBQUM7SUFDNUQsT0FBTztRQUNMLE1BQU1pQixnQkFBZ0JWLHFCQUFxQk07UUFDM0MsSUFBSSxDQUFDSSxlQUFlO1lBQ2xCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLEVBQUVMLGtCQUFrQiwyQkFBMkIsQ0FBQztRQUNuRTtRQUNBQyxrQkFBa0I7WUFBRU4sV0FBV1M7UUFBYztJQUMvQztJQUNBLE9BQU9IO0FBQ1QsRUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2NvbXBvbmVudHMvcGF0aHMuanM/MDJlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGZ1bmN0aW9uTmFtZSB9IGZyb20gXCIuLi9mdW5jdGlvbk5hbWUuanNcIjtcbmV4cG9ydCBjb25zdCB0b1JlZmVyZW5jZVBhdGggPSBTeW1ib2wuZm9yKFwidG9SZWZlcmVuY2VQYXRoXCIpO1xuZXhwb3J0IGZ1bmN0aW9uIHNldFJlZmVyZW5jZVBhdGgob2JqLCB2YWx1ZSkge1xuICBvYmpbdG9SZWZlcmVuY2VQYXRoXSA9IHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RSZWZlcmVuY2VQYXRoKHJlZmVyZW5jZSkge1xuICByZXR1cm4gcmVmZXJlbmNlW3RvUmVmZXJlbmNlUGF0aF0gPz8gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uSGFuZGxlKHMpIHtcbiAgcmV0dXJuIHMuc3RhcnRzV2l0aChcImZ1bmN0aW9uOi8vXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bmN0aW9uQWRkcmVzcyhmdW5jdGlvblJlZmVyZW5jZSkge1xuICBsZXQgZnVuY3Rpb25BZGRyZXNzO1xuICBpZiAodHlwZW9mIGZ1bmN0aW9uUmVmZXJlbmNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKGlzRnVuY3Rpb25IYW5kbGUoZnVuY3Rpb25SZWZlcmVuY2UpKSB7XG4gICAgICBmdW5jdGlvbkFkZHJlc3MgPSB7IGZ1bmN0aW9uSGFuZGxlOiBmdW5jdGlvblJlZmVyZW5jZSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBmdW5jdGlvbkFkZHJlc3MgPSB7IG5hbWU6IGZ1bmN0aW9uUmVmZXJlbmNlIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKGZ1bmN0aW9uUmVmZXJlbmNlW2Z1bmN0aW9uTmFtZV0pIHtcbiAgICBmdW5jdGlvbkFkZHJlc3MgPSB7IG5hbWU6IGZ1bmN0aW9uUmVmZXJlbmNlW2Z1bmN0aW9uTmFtZV0gfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCByZWZlcmVuY2VQYXRoID0gZXh0cmFjdFJlZmVyZW5jZVBhdGgoZnVuY3Rpb25SZWZlcmVuY2UpO1xuICAgIGlmICghcmVmZXJlbmNlUGF0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2Z1bmN0aW9uUmVmZXJlbmNlfSBpcyBub3QgYSBmdW5jdGlvblJlZmVyZW5jZWApO1xuICAgIH1cbiAgICBmdW5jdGlvbkFkZHJlc3MgPSB7IHJlZmVyZW5jZTogcmVmZXJlbmNlUGF0aCB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbkFkZHJlc3M7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXRocy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJmdW5jdGlvbk5hbWUiLCJ0b1JlZmVyZW5jZVBhdGgiLCJTeW1ib2wiLCJmb3IiLCJzZXRSZWZlcmVuY2VQYXRoIiwib2JqIiwidmFsdWUiLCJleHRyYWN0UmVmZXJlbmNlUGF0aCIsInJlZmVyZW5jZSIsImlzRnVuY3Rpb25IYW5kbGUiLCJzIiwic3RhcnRzV2l0aCIsImdldEZ1bmN0aW9uQWRkcmVzcyIsImZ1bmN0aW9uUmVmZXJlbmNlIiwiZnVuY3Rpb25BZGRyZXNzIiwiZnVuY3Rpb25IYW5kbGUiLCJuYW1lIiwicmVmZXJlbmNlUGF0aCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/cron.js":
/*!*****************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/cron.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Crons: () => (/* binding */ Crons),\n/* harmony export */   cronJobs: () => (/* binding */ cronJobs)\n/* harmony export */ });\n/* harmony import */ var _server_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../server/api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nconst DAYS_OF_WEEK = [\n    \"sunday\",\n    \"monday\",\n    \"tuesday\",\n    \"wednesday\",\n    \"thursday\",\n    \"friday\",\n    \"saturday\"\n];\nconst cronJobs = ()=>new Crons();\nfunction validateIntervalNumber(n) {\n    if (!Number.isInteger(n) || n <= 0) {\n        throw new Error(\"Interval must be an integer greater than 0\");\n    }\n}\nfunction validatedDayOfMonth(n) {\n    if (!Number.isInteger(n) || n < 1 || n > 31) {\n        throw new Error(\"Day of month must be an integer from 1 to 31\");\n    }\n    return n;\n}\nfunction validatedDayOfWeek(s) {\n    if (!DAYS_OF_WEEK.includes(s)) {\n        throw new Error('Day of week must be a string like \"monday\".');\n    }\n    return s;\n}\nfunction validatedHourOfDay(n) {\n    if (!Number.isInteger(n) || n < 0 || n > 23) {\n        throw new Error(\"Hour of day must be an integer from 0 to 23\");\n    }\n    return n;\n}\nfunction validatedMinuteOfHour(n) {\n    if (!Number.isInteger(n) || n < 0 || n > 59) {\n        throw new Error(\"Minute of hour must be an integer from 0 to 59\");\n    }\n    return n;\n}\nfunction validatedCronString(s) {\n    return s;\n}\nfunction validatedCronIdentifier(s) {\n    if (!s.match(/^[ -~]*$/)) {\n        throw new Error(`Invalid cron identifier ${s}: use ASCII letters that are not control characters`);\n    }\n    return s;\n}\nclass Crons {\n    constructor(){\n        __publicField(this, \"crons\");\n        __publicField(this, \"isCrons\");\n        this.isCrons = true;\n        this.crons = {};\n    }\n    /** @internal */ schedule(cronIdentifier, schedule, functionReference, args) {\n        const cronArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.parseArgs)(args);\n        validatedCronIdentifier(cronIdentifier);\n        if (cronIdentifier in this.crons) {\n            throw new Error(`Cron identifier registered twice: ${cronIdentifier}`);\n        }\n        this.crons[cronIdentifier] = {\n            name: (0,_server_api_js__WEBPACK_IMPORTED_MODULE_0__.getFunctionName)(functionReference),\n            args: [\n                (0,_values_index_js__WEBPACK_IMPORTED_MODULE_2__.convexToJson)(cronArgs)\n            ],\n            schedule\n        };\n    }\n    /**\n   * Schedule a mutation or action to run at some interval.\n   *\n   * ```js\n   * crons.interval(\"Clear presence data\", {seconds: 30}, api.presence.clear);\n   * ```\n   *\n   * @param identifier - A unique name for this scheduled job.\n   * @param schedule - The time between runs for this scheduled job.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ interval(cronIdentifier, schedule, functionReference, ...args) {\n        const s = schedule;\n        const hasSeconds = +(\"seconds\" in s && s.seconds !== void 0);\n        const hasMinutes = +(\"minutes\" in s && s.minutes !== void 0);\n        const hasHours = +(\"hours\" in s && s.hours !== void 0);\n        const total = hasSeconds + hasMinutes + hasHours;\n        if (total !== 1) {\n            throw new Error(\"Must specify one of seconds, minutes, or hours\");\n        }\n        if (hasSeconds) {\n            validateIntervalNumber(schedule.seconds);\n        } else if (hasMinutes) {\n            validateIntervalNumber(schedule.minutes);\n        } else if (hasHours) {\n            validateIntervalNumber(schedule.hours);\n        }\n        this.schedule(cronIdentifier, {\n            ...schedule,\n            type: \"interval\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on an hourly basis.\n   *\n   * ```js\n   * crons.hourly(\n   *   \"Reset high scores\",\n   *   {\n   *     minuteUTC: 30,\n   *   },\n   *   api.scores.reset\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What time (UTC) each day to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ hourly(cronIdentifier, schedule, functionReference, ...args) {\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            minuteUTC,\n            type: \"hourly\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a daily basis.\n   *\n   * ```js\n   * crons.daily(\n   *   \"Reset high scores\",\n   *   {\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *   },\n   *   api.scores.reset\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What time (UTC) each day to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ daily(cronIdentifier, schedule, functionReference, ...args) {\n        const hourUTC = validatedHourOfDay(schedule.hourUTC);\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            hourUTC,\n            minuteUTC,\n            type: \"daily\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a weekly basis.\n   *\n   * ```js\n   * crons.weekly(\n   *   \"Weekly re-engagement email\",\n   *   {\n   *     dayOfWeek: \"Tuesday\",\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *   },\n   *   api.emails.send\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What day and time (UTC) each week to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   */ weekly(cronIdentifier, schedule, functionReference, ...args) {\n        const dayOfWeek = validatedDayOfWeek(schedule.dayOfWeek);\n        const hourUTC = validatedHourOfDay(schedule.hourUTC);\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            dayOfWeek,\n            hourUTC,\n            minuteUTC,\n            type: \"weekly\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a monthly basis.\n   *\n   * Note that some months have fewer days than others, so e.g. a function\n   * scheduled to run on the 30th will not run in February.\n   *\n   * ```js\n   * crons.monthly(\n   *   \"Bill customers at \",\n   *   {\n   *     hourUTC: 17, // (9:30am Pacific/10:30am Daylight Savings Pacific)\n   *     minuteUTC: 30,\n   *     day: 1,\n   *   },\n   *   api.billing.billCustomers\n   * )\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param schedule - What day and time (UTC) each month to run this function.\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ monthly(cronIdentifier, schedule, functionReference, ...args) {\n        const day = validatedDayOfMonth(schedule.day);\n        const hourUTC = validatedHourOfDay(schedule.hourUTC);\n        const minuteUTC = validatedMinuteOfHour(schedule.minuteUTC);\n        this.schedule(cronIdentifier, {\n            day,\n            hourUTC,\n            minuteUTC,\n            type: \"monthly\"\n        }, functionReference, ...args);\n    }\n    /**\n   * Schedule a mutation or action to run on a recurring basis.\n   *\n   * Like the unix command `cron`, Sunday is 0, Monday is 1, etc.\n   *\n   * ```\n   *   minute (0 - 59)\n   *    hour (0 - 23)\n   *     day of the month (1 - 31)\n   *      month (1 - 12)\n   *       day of the week (0 - 6) (Sunday to Saturday)\n   * \"* * * * *\"\n   * ```\n   *\n   * @param cronIdentifier - A unique name for this scheduled job.\n   * @param cron - Cron string like `\"15 7 * * *\"` (Every day at 7:15 UTC)\n   * @param functionReference - A {@link FunctionReference} for the function\n   * to schedule.\n   * @param args - The arguments to the function.\n   */ cron(cronIdentifier, cron, functionReference, ...args) {\n        const c = validatedCronString(cron);\n        this.schedule(cronIdentifier, {\n            cron: c,\n            type: \"cron\"\n        }, functionReference, ...args);\n    }\n    /** @internal */ export() {\n        return JSON.stringify(this.crons);\n    }\n} //# sourceMappingURL=cron.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9jcm9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ3JEO0FBQ0o7QUFDRztBQUNsRCxNQUFNUSxlQUFlO0lBQ25CO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFDTSxNQUFNQyxXQUFXLElBQU0sSUFBSUMsUUFBUTtBQUMxQyxTQUFTQyx1QkFBdUJDLENBQUM7SUFDL0IsSUFBSSxDQUFDQyxPQUFPQyxTQUFTLENBQUNGLE1BQU1BLEtBQUssR0FBRztRQUNsQyxNQUFNLElBQUlHLE1BQU07SUFDbEI7QUFDRjtBQUNBLFNBQVNDLG9CQUFvQkosQ0FBQztJQUM1QixJQUFJLENBQUNDLE9BQU9DLFNBQVMsQ0FBQ0YsTUFBTUEsSUFBSSxLQUFLQSxJQUFJLElBQUk7UUFDM0MsTUFBTSxJQUFJRyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0g7QUFDVDtBQUNBLFNBQVNLLG1CQUFtQkMsQ0FBQztJQUMzQixJQUFJLENBQUNWLGFBQWFXLFFBQVEsQ0FBQ0QsSUFBSTtRQUM3QixNQUFNLElBQUlILE1BQU07SUFDbEI7SUFDQSxPQUFPRztBQUNUO0FBQ0EsU0FBU0UsbUJBQW1CUixDQUFDO0lBQzNCLElBQUksQ0FBQ0MsT0FBT0MsU0FBUyxDQUFDRixNQUFNQSxJQUFJLEtBQUtBLElBQUksSUFBSTtRQUMz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LEtBQUtDLFNBQVMsQ0FBQyxJQUFJLENBQUM1QixLQUFLO0lBQ2xDO0FBQ0YsRUFDQSxnQ0FBZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2Nyb24uanM/NTYzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbk5hbWUgfSBmcm9tIFwiLi4vc2VydmVyL2FwaS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzIH0gZnJvbSBcIi4uL2NvbW1vbi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uIH0gZnJvbSBcIi4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuY29uc3QgREFZU19PRl9XRUVLID0gW1xuICBcInN1bmRheVwiLFxuICBcIm1vbmRheVwiLFxuICBcInR1ZXNkYXlcIixcbiAgXCJ3ZWRuZXNkYXlcIixcbiAgXCJ0aHVyc2RheVwiLFxuICBcImZyaWRheVwiLFxuICBcInNhdHVyZGF5XCJcbl07XG5leHBvcnQgY29uc3QgY3JvbkpvYnMgPSAoKSA9PiBuZXcgQ3JvbnMoKTtcbmZ1bmN0aW9uIHZhbGlkYXRlSW50ZXJ2YWxOdW1iZXIobikge1xuICBpZiAoIU51bWJlci5pc0ludGVnZXIobikgfHwgbiA8PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJ2YWwgbXVzdCBiZSBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiAwXCIpO1xuICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZWREYXlPZk1vbnRoKG4pIHtcbiAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG4pIHx8IG4gPCAxIHx8IG4gPiAzMSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkRheSBvZiBtb250aCBtdXN0IGJlIGFuIGludGVnZXIgZnJvbSAxIHRvIDMxXCIpO1xuICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVkRGF5T2ZXZWVrKHMpIHtcbiAgaWYgKCFEQVlTX09GX1dFRUsuaW5jbHVkZXMocykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RheSBvZiB3ZWVrIG11c3QgYmUgYSBzdHJpbmcgbGlrZSBcIm1vbmRheVwiLicpO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVkSG91ck9mRGF5KG4pIHtcbiAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG4pIHx8IG4gPCAwIHx8IG4gPiAyMykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkhvdXIgb2YgZGF5IG11c3QgYmUgYW4gaW50ZWdlciBmcm9tIDAgdG8gMjNcIik7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiB2YWxpZGF0ZWRNaW51dGVPZkhvdXIobikge1xuICBpZiAoIU51bWJlci5pc0ludGVnZXIobikgfHwgbiA8IDAgfHwgbiA+IDU5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWludXRlIG9mIGhvdXIgbXVzdCBiZSBhbiBpbnRlZ2VyIGZyb20gMCB0byA1OVwiKTtcbiAgfVxuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlZENyb25TdHJpbmcocykge1xuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlZENyb25JZGVudGlmaWVyKHMpIHtcbiAgaWYgKCFzLm1hdGNoKC9eWyAtfl0qJC8pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEludmFsaWQgY3JvbiBpZGVudGlmaWVyICR7c306IHVzZSBBU0NJSSBsZXR0ZXJzIHRoYXQgYXJlIG5vdCBjb250cm9sIGNoYXJhY3RlcnNgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcztcbn1cbmV4cG9ydCBjbGFzcyBDcm9ucyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJjcm9uc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaXNDcm9uc1wiKTtcbiAgICB0aGlzLmlzQ3JvbnMgPSB0cnVlO1xuICAgIHRoaXMuY3JvbnMgPSB7fTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIHNjaGVkdWxlKGNyb25JZGVudGlmaWVyLCBzY2hlZHVsZSwgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpIHtcbiAgICBjb25zdCBjcm9uQXJncyA9IHBhcnNlQXJncyhhcmdzKTtcbiAgICB2YWxpZGF0ZWRDcm9uSWRlbnRpZmllcihjcm9uSWRlbnRpZmllcik7XG4gICAgaWYgKGNyb25JZGVudGlmaWVyIGluIHRoaXMuY3JvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ3JvbiBpZGVudGlmaWVyIHJlZ2lzdGVyZWQgdHdpY2U6ICR7Y3JvbklkZW50aWZpZXJ9YCk7XG4gICAgfVxuICAgIHRoaXMuY3JvbnNbY3JvbklkZW50aWZpZXJdID0ge1xuICAgICAgbmFtZTogZ2V0RnVuY3Rpb25OYW1lKGZ1bmN0aW9uUmVmZXJlbmNlKSxcbiAgICAgIGFyZ3M6IFtjb252ZXhUb0pzb24oY3JvbkFyZ3MpXSxcbiAgICAgIHNjaGVkdWxlXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGUgYSBtdXRhdGlvbiBvciBhY3Rpb24gdG8gcnVuIGF0IHNvbWUgaW50ZXJ2YWwuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNyb25zLmludGVydmFsKFwiQ2xlYXIgcHJlc2VuY2UgZGF0YVwiLCB7c2Vjb25kczogMzB9LCBhcGkucHJlc2VuY2UuY2xlYXIpO1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGlkZW50aWZpZXIgLSBBIHVuaXF1ZSBuYW1lIGZvciB0aGlzIHNjaGVkdWxlZCBqb2IuXG4gICAqIEBwYXJhbSBzY2hlZHVsZSAtIFRoZSB0aW1lIGJldHdlZW4gcnVucyBmb3IgdGhpcyBzY2hlZHVsZWQgam9iLlxuICAgKiBAcGFyYW0gZnVuY3Rpb25SZWZlcmVuY2UgLSBBIHtAbGluayBGdW5jdGlvblJlZmVyZW5jZX0gZm9yIHRoZSBmdW5jdGlvblxuICAgKiB0byBzY2hlZHVsZS5cbiAgICogQHBhcmFtIGFyZ3MgLSBUaGUgYXJndW1lbnRzIHRvIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIGludGVydmFsKGNyb25JZGVudGlmaWVyLCBzY2hlZHVsZSwgZnVuY3Rpb25SZWZlcmVuY2UsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBzID0gc2NoZWR1bGU7XG4gICAgY29uc3QgaGFzU2Vjb25kcyA9ICsoXCJzZWNvbmRzXCIgaW4gcyAmJiBzLnNlY29uZHMgIT09IHZvaWQgMCk7XG4gICAgY29uc3QgaGFzTWludXRlcyA9ICsoXCJtaW51dGVzXCIgaW4gcyAmJiBzLm1pbnV0ZXMgIT09IHZvaWQgMCk7XG4gICAgY29uc3QgaGFzSG91cnMgPSArKFwiaG91cnNcIiBpbiBzICYmIHMuaG91cnMgIT09IHZvaWQgMCk7XG4gICAgY29uc3QgdG90YWwgPSBoYXNTZWNvbmRzICsgaGFzTWludXRlcyArIGhhc0hvdXJzO1xuICAgIGlmICh0b3RhbCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTXVzdCBzcGVjaWZ5IG9uZSBvZiBzZWNvbmRzLCBtaW51dGVzLCBvciBob3Vyc1wiKTtcbiAgICB9XG4gICAgaWYgKGhhc1NlY29uZHMpIHtcbiAgICAgIHZhbGlkYXRlSW50ZXJ2YWxOdW1iZXIoc2NoZWR1bGUuc2Vjb25kcyk7XG4gICAgfSBlbHNlIGlmIChoYXNNaW51dGVzKSB7XG4gICAgICB2YWxpZGF0ZUludGVydmFsTnVtYmVyKHNjaGVkdWxlLm1pbnV0ZXMpO1xuICAgIH0gZWxzZSBpZiAoaGFzSG91cnMpIHtcbiAgICAgIHZhbGlkYXRlSW50ZXJ2YWxOdW1iZXIoc2NoZWR1bGUuaG91cnMpO1xuICAgIH1cbiAgICB0aGlzLnNjaGVkdWxlKFxuICAgICAgY3JvbklkZW50aWZpZXIsXG4gICAgICB7IC4uLnNjaGVkdWxlLCB0eXBlOiBcImludGVydmFsXCIgfSxcbiAgICAgIGZ1bmN0aW9uUmVmZXJlbmNlLFxuICAgICAgLi4uYXJnc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNjaGVkdWxlIGEgbXV0YXRpb24gb3IgYWN0aW9uIHRvIHJ1biBvbiBhbiBob3VybHkgYmFzaXMuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNyb25zLmhvdXJseShcbiAgICogICBcIlJlc2V0IGhpZ2ggc2NvcmVzXCIsXG4gICAqICAge1xuICAgKiAgICAgbWludXRlVVRDOiAzMCxcbiAgICogICB9LFxuICAgKiAgIGFwaS5zY29yZXMucmVzZXRcbiAgICogKVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGNyb25JZGVudGlmaWVyIC0gQSB1bmlxdWUgbmFtZSBmb3IgdGhpcyBzY2hlZHVsZWQgam9iLlxuICAgKiBAcGFyYW0gc2NoZWR1bGUgLSBXaGF0IHRpbWUgKFVUQykgZWFjaCBkYXkgdG8gcnVuIHRoaXMgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSBmdW5jdGlvblJlZmVyZW5jZSAtIEEge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIGZ1bmN0aW9uXG4gICAqIHRvIHNjaGVkdWxlLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgaG91cmx5KGNyb25JZGVudGlmaWVyLCBzY2hlZHVsZSwgZnVuY3Rpb25SZWZlcmVuY2UsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBtaW51dGVVVEMgPSB2YWxpZGF0ZWRNaW51dGVPZkhvdXIoc2NoZWR1bGUubWludXRlVVRDKTtcbiAgICB0aGlzLnNjaGVkdWxlKFxuICAgICAgY3JvbklkZW50aWZpZXIsXG4gICAgICB7IG1pbnV0ZVVUQywgdHlwZTogXCJob3VybHlcIiB9LFxuICAgICAgZnVuY3Rpb25SZWZlcmVuY2UsXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGUgYSBtdXRhdGlvbiBvciBhY3Rpb24gdG8gcnVuIG9uIGEgZGFpbHkgYmFzaXMuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNyb25zLmRhaWx5KFxuICAgKiAgIFwiUmVzZXQgaGlnaCBzY29yZXNcIixcbiAgICogICB7XG4gICAqICAgICBob3VyVVRDOiAxNywgLy8gKDk6MzBhbSBQYWNpZmljLzEwOjMwYW0gRGF5bGlnaHQgU2F2aW5ncyBQYWNpZmljKVxuICAgKiAgICAgbWludXRlVVRDOiAzMCxcbiAgICogICB9LFxuICAgKiAgIGFwaS5zY29yZXMucmVzZXRcbiAgICogKVxuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIGNyb25JZGVudGlmaWVyIC0gQSB1bmlxdWUgbmFtZSBmb3IgdGhpcyBzY2hlZHVsZWQgam9iLlxuICAgKiBAcGFyYW0gc2NoZWR1bGUgLSBXaGF0IHRpbWUgKFVUQykgZWFjaCBkYXkgdG8gcnVuIHRoaXMgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSBmdW5jdGlvblJlZmVyZW5jZSAtIEEge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIGZ1bmN0aW9uXG4gICAqIHRvIHNjaGVkdWxlLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgZGFpbHkoY3JvbklkZW50aWZpZXIsIHNjaGVkdWxlLCBmdW5jdGlvblJlZmVyZW5jZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGhvdXJVVEMgPSB2YWxpZGF0ZWRIb3VyT2ZEYXkoc2NoZWR1bGUuaG91clVUQyk7XG4gICAgY29uc3QgbWludXRlVVRDID0gdmFsaWRhdGVkTWludXRlT2ZIb3VyKHNjaGVkdWxlLm1pbnV0ZVVUQyk7XG4gICAgdGhpcy5zY2hlZHVsZShcbiAgICAgIGNyb25JZGVudGlmaWVyLFxuICAgICAgeyBob3VyVVRDLCBtaW51dGVVVEMsIHR5cGU6IFwiZGFpbHlcIiB9LFxuICAgICAgZnVuY3Rpb25SZWZlcmVuY2UsXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGUgYSBtdXRhdGlvbiBvciBhY3Rpb24gdG8gcnVuIG9uIGEgd2Vla2x5IGJhc2lzLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjcm9ucy53ZWVrbHkoXG4gICAqICAgXCJXZWVrbHkgcmUtZW5nYWdlbWVudCBlbWFpbFwiLFxuICAgKiAgIHtcbiAgICogICAgIGRheU9mV2VlazogXCJUdWVzZGF5XCIsXG4gICAqICAgICBob3VyVVRDOiAxNywgLy8gKDk6MzBhbSBQYWNpZmljLzEwOjMwYW0gRGF5bGlnaHQgU2F2aW5ncyBQYWNpZmljKVxuICAgKiAgICAgbWludXRlVVRDOiAzMCxcbiAgICogICB9LFxuICAgKiAgIGFwaS5lbWFpbHMuc2VuZFxuICAgKiApXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gY3JvbklkZW50aWZpZXIgLSBBIHVuaXF1ZSBuYW1lIGZvciB0aGlzIHNjaGVkdWxlZCBqb2IuXG4gICAqIEBwYXJhbSBzY2hlZHVsZSAtIFdoYXQgZGF5IGFuZCB0aW1lIChVVEMpIGVhY2ggd2VlayB0byBydW4gdGhpcyBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGZ1bmN0aW9uUmVmZXJlbmNlIC0gQSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgZnVuY3Rpb25cbiAgICogdG8gc2NoZWR1bGUuXG4gICAqL1xuICB3ZWVrbHkoY3JvbklkZW50aWZpZXIsIHNjaGVkdWxlLCBmdW5jdGlvblJlZmVyZW5jZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGRheU9mV2VlayA9IHZhbGlkYXRlZERheU9mV2VlayhzY2hlZHVsZS5kYXlPZldlZWspO1xuICAgIGNvbnN0IGhvdXJVVEMgPSB2YWxpZGF0ZWRIb3VyT2ZEYXkoc2NoZWR1bGUuaG91clVUQyk7XG4gICAgY29uc3QgbWludXRlVVRDID0gdmFsaWRhdGVkTWludXRlT2ZIb3VyKHNjaGVkdWxlLm1pbnV0ZVVUQyk7XG4gICAgdGhpcy5zY2hlZHVsZShcbiAgICAgIGNyb25JZGVudGlmaWVyLFxuICAgICAgeyBkYXlPZldlZWssIGhvdXJVVEMsIG1pbnV0ZVVUQywgdHlwZTogXCJ3ZWVrbHlcIiB9LFxuICAgICAgZnVuY3Rpb25SZWZlcmVuY2UsXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGUgYSBtdXRhdGlvbiBvciBhY3Rpb24gdG8gcnVuIG9uIGEgbW9udGhseSBiYXNpcy5cbiAgICpcbiAgICogTm90ZSB0aGF0IHNvbWUgbW9udGhzIGhhdmUgZmV3ZXIgZGF5cyB0aGFuIG90aGVycywgc28gZS5nLiBhIGZ1bmN0aW9uXG4gICAqIHNjaGVkdWxlZCB0byBydW4gb24gdGhlIDMwdGggd2lsbCBub3QgcnVuIGluIEZlYnJ1YXJ5LlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBjcm9ucy5tb250aGx5KFxuICAgKiAgIFwiQmlsbCBjdXN0b21lcnMgYXQgXCIsXG4gICAqICAge1xuICAgKiAgICAgaG91clVUQzogMTcsIC8vICg5OjMwYW0gUGFjaWZpYy8xMDozMGFtIERheWxpZ2h0IFNhdmluZ3MgUGFjaWZpYylcbiAgICogICAgIG1pbnV0ZVVUQzogMzAsXG4gICAqICAgICBkYXk6IDEsXG4gICAqICAgfSxcbiAgICogICBhcGkuYmlsbGluZy5iaWxsQ3VzdG9tZXJzXG4gICAqIClcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBjcm9uSWRlbnRpZmllciAtIEEgdW5pcXVlIG5hbWUgZm9yIHRoaXMgc2NoZWR1bGVkIGpvYi5cbiAgICogQHBhcmFtIHNjaGVkdWxlIC0gV2hhdCBkYXkgYW5kIHRpbWUgKFVUQykgZWFjaCBtb250aCB0byBydW4gdGhpcyBmdW5jdGlvbi5cbiAgICogQHBhcmFtIGZ1bmN0aW9uUmVmZXJlbmNlIC0gQSB7QGxpbmsgRnVuY3Rpb25SZWZlcmVuY2V9IGZvciB0aGUgZnVuY3Rpb25cbiAgICogdG8gc2NoZWR1bGUuXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyB0byB0aGUgZnVuY3Rpb24uXG4gICAqL1xuICBtb250aGx5KGNyb25JZGVudGlmaWVyLCBzY2hlZHVsZSwgZnVuY3Rpb25SZWZlcmVuY2UsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBkYXkgPSB2YWxpZGF0ZWREYXlPZk1vbnRoKHNjaGVkdWxlLmRheSk7XG4gICAgY29uc3QgaG91clVUQyA9IHZhbGlkYXRlZEhvdXJPZkRheShzY2hlZHVsZS5ob3VyVVRDKTtcbiAgICBjb25zdCBtaW51dGVVVEMgPSB2YWxpZGF0ZWRNaW51dGVPZkhvdXIoc2NoZWR1bGUubWludXRlVVRDKTtcbiAgICB0aGlzLnNjaGVkdWxlKFxuICAgICAgY3JvbklkZW50aWZpZXIsXG4gICAgICB7IGRheSwgaG91clVUQywgbWludXRlVVRDLCB0eXBlOiBcIm1vbnRobHlcIiB9LFxuICAgICAgZnVuY3Rpb25SZWZlcmVuY2UsXG4gICAgICAuLi5hcmdzXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2NoZWR1bGUgYSBtdXRhdGlvbiBvciBhY3Rpb24gdG8gcnVuIG9uIGEgcmVjdXJyaW5nIGJhc2lzLlxuICAgKlxuICAgKiBMaWtlIHRoZSB1bml4IGNvbW1hbmQgYGNyb25gLCBTdW5kYXkgaXMgMCwgTW9uZGF5IGlzIDEsIGV0Yy5cbiAgICpcbiAgICogYGBgXG4gICAqICDilIzilIAgbWludXRlICgwIC0gNTkpXG4gICAqICDilIIg4pSM4pSAIGhvdXIgKDAgLSAyMylcbiAgICogIOKUgiDilIIg4pSM4pSAIGRheSBvZiB0aGUgbW9udGggKDEgLSAzMSlcbiAgICogIOKUgiDilIIg4pSCIOKUjOKUgCBtb250aCAoMSAtIDEyKVxuICAgKiAg4pSCIOKUgiDilIIg4pSCIOKUjOKUgCBkYXkgb2YgdGhlIHdlZWsgKDAgLSA2KSAoU3VuZGF5IHRvIFNhdHVyZGF5KVxuICAgKiBcIiogKiAqICogKlwiXG4gICAqIGBgYFxuICAgKlxuICAgKiBAcGFyYW0gY3JvbklkZW50aWZpZXIgLSBBIHVuaXF1ZSBuYW1lIGZvciB0aGlzIHNjaGVkdWxlZCBqb2IuXG4gICAqIEBwYXJhbSBjcm9uIC0gQ3JvbiBzdHJpbmcgbGlrZSBgXCIxNSA3ICogKiAqXCJgIChFdmVyeSBkYXkgYXQgNzoxNSBVVEMpXG4gICAqIEBwYXJhbSBmdW5jdGlvblJlZmVyZW5jZSAtIEEge0BsaW5rIEZ1bmN0aW9uUmVmZXJlbmNlfSBmb3IgdGhlIGZ1bmN0aW9uXG4gICAqIHRvIHNjaGVkdWxlLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBhcmd1bWVudHMgdG8gdGhlIGZ1bmN0aW9uLlxuICAgKi9cbiAgY3Jvbihjcm9uSWRlbnRpZmllciwgY3JvbiwgZnVuY3Rpb25SZWZlcmVuY2UsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjID0gdmFsaWRhdGVkQ3JvblN0cmluZyhjcm9uKTtcbiAgICB0aGlzLnNjaGVkdWxlKFxuICAgICAgY3JvbklkZW50aWZpZXIsXG4gICAgICB7IGNyb246IGMsIHR5cGU6IFwiY3JvblwiIH0sXG4gICAgICBmdW5jdGlvblJlZmVyZW5jZSxcbiAgICAgIC4uLmFyZ3NcbiAgICApO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZXhwb3J0KCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmNyb25zKTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3Jvbi5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsImdldEZ1bmN0aW9uTmFtZSIsInBhcnNlQXJncyIsImNvbnZleFRvSnNvbiIsIkRBWVNfT0ZfV0VFSyIsImNyb25Kb2JzIiwiQ3JvbnMiLCJ2YWxpZGF0ZUludGVydmFsTnVtYmVyIiwibiIsIk51bWJlciIsImlzSW50ZWdlciIsIkVycm9yIiwidmFsaWRhdGVkRGF5T2ZNb250aCIsInZhbGlkYXRlZERheU9mV2VlayIsInMiLCJpbmNsdWRlcyIsInZhbGlkYXRlZEhvdXJPZkRheSIsInZhbGlkYXRlZE1pbnV0ZU9mSG91ciIsInZhbGlkYXRlZENyb25TdHJpbmciLCJ2YWxpZGF0ZWRDcm9uSWRlbnRpZmllciIsIm1hdGNoIiwiY29uc3RydWN0b3IiLCJpc0Nyb25zIiwiY3JvbnMiLCJzY2hlZHVsZSIsImNyb25JZGVudGlmaWVyIiwiZnVuY3Rpb25SZWZlcmVuY2UiLCJhcmdzIiwiY3JvbkFyZ3MiLCJuYW1lIiwiaW50ZXJ2YWwiLCJoYXNTZWNvbmRzIiwic2Vjb25kcyIsImhhc01pbnV0ZXMiLCJtaW51dGVzIiwiaGFzSG91cnMiLCJob3VycyIsInRvdGFsIiwidHlwZSIsImhvdXJseSIsIm1pbnV0ZVVUQyIsImRhaWx5IiwiaG91clVUQyIsIndlZWtseSIsImRheU9mV2VlayIsIm1vbnRobHkiLCJkYXkiLCJjcm9uIiwiYyIsImV4cG9ydCIsIkpTT04iLCJzdHJpbmdpZnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/cron.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/database.js":
/*!*********************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/database.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n //# sourceMappingURL=database.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9kYXRhYmFzZS5qcyIsIm1hcHBpbmdzIjoiO0FBQWEsQ0FDYixvQ0FBb0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2RhdGFiYXNlLmpzP2M5YTciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhYmFzZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/database.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/filter_builder.js":
/*!***************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/filter_builder.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Expression: () => (/* binding */ Expression)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass Expression {\n    /**\n   * @internal\n   */ constructor(){\n        // Property for nominal type support.\n        __publicField(this, \"_isExpression\");\n        // Property to distinguish expressions by the type they resolve to.\n        __publicField(this, \"_value\");\n    }\n} //# sourceMappingURL=filter_builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9maWx0ZXJfYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ2pHLE1BQU1LO0lBQ1g7O0dBRUMsR0FDREMsYUFBYztRQUNaLHFDQUFxQztRQUNyQ0YsY0FBYyxJQUFJLEVBQUU7UUFDcEIsbUVBQW1FO1FBQ25FQSxjQUFjLElBQUksRUFBRTtJQUN0QjtBQUNGLEVBQ0EsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9maWx0ZXJfYnVpbGRlci5qcz9iYzJmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gUHJvcGVydHkgZm9yIG5vbWluYWwgdHlwZSBzdXBwb3J0LlxuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJfaXNFeHByZXNzaW9uXCIpO1xuICAgIC8vIFByb3BlcnR5IHRvIGRpc3Rpbmd1aXNoIGV4cHJlc3Npb25zIGJ5IHRoZSB0eXBlIHRoZXkgcmVzb2x2ZSB0by5cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX3ZhbHVlXCIpO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXJfYnVpbGRlci5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsIkV4cHJlc3Npb24iLCJjb25zdHJ1Y3RvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/filter_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/functionName.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/functionName.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   functionName: () => (/* binding */ functionName)\n/* harmony export */ });\n\nconst functionName = Symbol.for(\"functionName\"); //# sourceMappingURL=functionName.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9mdW5jdGlvbk5hbWUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFhO0FBQ04sTUFBTUEsZUFBZUMsT0FBT0MsR0FBRyxDQUFDLGdCQUFnQixDQUN2RCx3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2Z1bmN0aW9uTmFtZS5qcz83YjI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IGNvbnN0IGZ1bmN0aW9uTmFtZSA9IFN5bWJvbC5mb3IoXCJmdW5jdGlvbk5hbWVcIik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mdW5jdGlvbk5hbWUuanMubWFwXG4iXSwibmFtZXMiOlsiZnVuY3Rpb25OYW1lIiwiU3ltYm9sIiwiZm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/functionName.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/actions_impl.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/actions_impl.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupActionCalls: () => (/* binding */ setupActionCalls)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _components_paths_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\n\n\n\n\n\nfunction syscallArgs(requestId, functionReference, args) {\n    const address = (0,_components_paths_js__WEBPACK_IMPORTED_MODULE_4__.getFunctionAddress)(functionReference);\n    return {\n        ...address,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)((0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args)),\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version,\n        requestId\n    };\n}\nfunction setupActionCalls(requestId) {\n    return {\n        runQuery: async (query, args)=>{\n            const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/query\", syscallArgs(requestId, query, args));\n            return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result);\n        },\n        runMutation: async (mutation, args)=>{\n            const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/mutation\", syscallArgs(requestId, mutation, args));\n            return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result);\n        },\n        runAction: async (action, args)=>{\n            const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/action\", syscallArgs(requestId, action, args));\n            return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result);\n        }\n    };\n} //# sourceMappingURL=actions_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2FjdGlvbnNfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUNzRDtBQUMxQjtBQUNVO0FBQ0Q7QUFDVTtBQUM1RCxTQUFTTSxZQUFZQyxTQUFTLEVBQUVDLGlCQUFpQixFQUFFQyxJQUFJO0lBQ3JELE1BQU1DLFVBQVVMLHdFQUFrQkEsQ0FBQ0c7SUFDbkMsT0FBTztRQUNMLEdBQUdFLE9BQU87UUFDVkQsTUFBTVQsOERBQVlBLENBQUNJLDJEQUFTQSxDQUFDSztRQUM3QlAsT0FBT0EsZ0RBQUFBO1FBQ1BLO0lBQ0Y7QUFDRjtBQUNPLFNBQVNJLGlCQUFpQkosU0FBUztJQUN4QyxPQUFPO1FBQ0xLLFVBQVUsT0FBT0MsT0FBT0o7WUFDdEIsTUFBTUssU0FBUyxNQUFNWCxnRUFBbUJBLENBQ3RDLHFCQUNBRyxZQUFZQyxXQUFXTSxPQUFPSjtZQUVoQyxPQUFPUiw4REFBWUEsQ0FBQ2E7UUFDdEI7UUFDQUMsYUFBYSxPQUFPQyxVQUFVUDtZQUM1QixNQUFNSyxTQUFTLE1BQU1YLGdFQUFtQkEsQ0FDdEMsd0JBQ0FHLFlBQVlDLFdBQVdTLFVBQVVQO1lBRW5DLE9BQU9SLDhEQUFZQSxDQUFDYTtRQUN0QjtRQUNBRyxXQUFXLE9BQU9DLFFBQVFUO1lBQ3hCLE1BQU1LLFNBQVMsTUFBTVgsZ0VBQW1CQSxDQUN0QyxzQkFDQUcsWUFBWUMsV0FBV1csUUFBUVQ7WUFFakMsT0FBT1IsOERBQVlBLENBQUNhO1FBQ3RCO0lBQ0Y7QUFDRixFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9hY3Rpb25zX2ltcGwuanM/MDNjNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IGNvbnZleFRvSnNvbiwganNvblRvQ29udmV4IH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi8uLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCB9IGZyb20gXCIuL3N5c2NhbGwuanNcIjtcbmltcG9ydCB7IHBhcnNlQXJncyB9IGZyb20gXCIuLi8uLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IGdldEZ1bmN0aW9uQWRkcmVzcyB9IGZyb20gXCIuLi9jb21wb25lbnRzL3BhdGhzLmpzXCI7XG5mdW5jdGlvbiBzeXNjYWxsQXJncyhyZXF1ZXN0SWQsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKSB7XG4gIGNvbnN0IGFkZHJlc3MgPSBnZXRGdW5jdGlvbkFkZHJlc3MoZnVuY3Rpb25SZWZlcmVuY2UpO1xuICByZXR1cm4ge1xuICAgIC4uLmFkZHJlc3MsXG4gICAgYXJnczogY29udmV4VG9Kc29uKHBhcnNlQXJncyhhcmdzKSksXG4gICAgdmVyc2lvbixcbiAgICByZXF1ZXN0SWRcbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEFjdGlvbkNhbGxzKHJlcXVlc3RJZCkge1xuICByZXR1cm4ge1xuICAgIHJ1blF1ZXJ5OiBhc3luYyAocXVlcnksIGFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXG4gICAgICAgIFwiMS4wL2FjdGlvbnMvcXVlcnlcIixcbiAgICAgICAgc3lzY2FsbEFyZ3MocmVxdWVzdElkLCBxdWVyeSwgYXJncylcbiAgICAgICk7XG4gICAgICByZXR1cm4ganNvblRvQ29udmV4KHJlc3VsdCk7XG4gICAgfSxcbiAgICBydW5NdXRhdGlvbjogYXN5bmMgKG11dGF0aW9uLCBhcmdzKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFxuICAgICAgICBcIjEuMC9hY3Rpb25zL211dGF0aW9uXCIsXG4gICAgICAgIHN5c2NhbGxBcmdzKHJlcXVlc3RJZCwgbXV0YXRpb24sIGFyZ3MpXG4gICAgICApO1xuICAgICAgcmV0dXJuIGpzb25Ub0NvbnZleChyZXN1bHQpO1xuICAgIH0sXG4gICAgcnVuQWN0aW9uOiBhc3luYyAoYWN0aW9uLCBhcmdzKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFxuICAgICAgICBcIjEuMC9hY3Rpb25zL2FjdGlvblwiLFxuICAgICAgICBzeXNjYWxsQXJncyhyZXF1ZXN0SWQsIGFjdGlvbiwgYXJncylcbiAgICAgICk7XG4gICAgICByZXR1cm4ganNvblRvQ29udmV4KHJlc3VsdCk7XG4gICAgfVxuICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWN0aW9uc19pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsInZlcnNpb24iLCJwZXJmb3JtQXN5bmNTeXNjYWxsIiwicGFyc2VBcmdzIiwiZ2V0RnVuY3Rpb25BZGRyZXNzIiwic3lzY2FsbEFyZ3MiLCJyZXF1ZXN0SWQiLCJmdW5jdGlvblJlZmVyZW5jZSIsImFyZ3MiLCJhZGRyZXNzIiwic2V0dXBBY3Rpb25DYWxscyIsInJ1blF1ZXJ5IiwicXVlcnkiLCJyZXN1bHQiLCJydW5NdXRhdGlvbiIsIm11dGF0aW9uIiwicnVuQWN0aW9uIiwiYWN0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/actions_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/authentication_impl.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/authentication_impl.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupAuth: () => (/* binding */ setupAuth)\n/* harmony export */ });\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n\n\nfunction setupAuth(requestId) {\n    return {\n        getUserIdentity: async ()=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performAsyncSyscall)(\"1.0/getUserIdentity\", {\n                requestId\n            });\n        }\n    };\n} //# sourceMappingURL=authentication_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2F1dGhlbnRpY2F0aW9uX2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUNzQztBQUM1QyxTQUFTQyxVQUFVQyxTQUFTO0lBQ2pDLE9BQU87UUFDTEMsaUJBQWlCO1lBQ2YsT0FBTyxNQUFNSCxnRUFBbUJBLENBQUMsdUJBQXVCO2dCQUN0REU7WUFDRjtRQUNGO0lBQ0Y7QUFDRixFQUNBLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9hdXRoZW50aWNhdGlvbl9pbXBsLmpzPzY4OTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBwZXJmb3JtQXN5bmNTeXNjYWxsIH0gZnJvbSBcIi4vc3lzY2FsbC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwQXV0aChyZXF1ZXN0SWQpIHtcbiAgcmV0dXJuIHtcbiAgICBnZXRVc2VySWRlbnRpdHk6IGFzeW5jICgpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL2dldFVzZXJJZGVudGl0eVwiLCB7XG4gICAgICAgIHJlcXVlc3RJZFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0aGVudGljYXRpb25faW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJwZXJmb3JtQXN5bmNTeXNjYWxsIiwic2V0dXBBdXRoIiwicmVxdWVzdElkIiwiZ2V0VXNlcklkZW50aXR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/authentication_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/database_impl.js":
/*!*******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/database_impl.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupReader: () => (/* binding */ setupReader),\n/* harmony export */   setupWriter: () => (/* binding */ setupWriter)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _query_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./query_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\n\n\n\n\n\n\nasync function get(table, id, isSystem) {\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"get\", \"id\");\n    if (typeof id !== \"string\") {\n        throw new Error(`Invalid argument \\`id\\` for \\`db.get\\`, expected string but got '${typeof id}': ${id}`);\n    }\n    const args = {\n        id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n        isSystem,\n        version: _index_js__WEBPACK_IMPORTED_MODULE_4__.version,\n        table\n    };\n    const syscallJSON = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/get\", args);\n    return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON);\n}\nfunction setupReader() {\n    const reader = (isSystem = false)=>{\n        return {\n            get: async (arg0, arg1)=>{\n                return arg1 !== void 0 ? await get(arg0, arg1, isSystem) : await get(void 0, arg0, isSystem);\n            },\n            query: (tableName)=>{\n                return new TableReader(tableName, isSystem).query();\n            },\n            normalizeId: (tableName, id)=>{\n                (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(tableName, 1, \"normalizeId\", \"tableName\");\n                (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 2, \"normalizeId\", \"id\");\n                const accessingSystemTable = tableName.startsWith(\"_\");\n                if (accessingSystemTable !== isSystem) {\n                    throw new Error(`${accessingSystemTable ? \"System\" : \"User\"} tables can only be accessed from db.${isSystem ? \"\" : \"system.\"}normalizeId().`);\n                }\n                const syscallJSON = (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performSyscall)(\"1.0/db/normalizeId\", {\n                    table: tableName,\n                    idString: id\n                });\n                const syscallResult = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON);\n                return syscallResult.id;\n            },\n            // We set the system reader on the next line\n            system: null,\n            table: (tableName)=>{\n                return new TableReader(tableName, isSystem);\n            }\n        };\n    };\n    const { system: _, ...rest } = reader(true);\n    const r = reader();\n    r.system = rest;\n    return r;\n}\nasync function insert(tableName, value) {\n    if (tableName.startsWith(\"_\")) {\n        throw new Error(\"System tables (prefixed with `_`) are read-only.\");\n    }\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(tableName, 1, \"insert\", \"table\");\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(value, 2, \"insert\", \"value\");\n    const syscallJSON = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/insert\", {\n        table: tableName,\n        value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value)\n    });\n    const syscallResult = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON);\n    return syscallResult._id;\n}\nasync function patch(table, id, value) {\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"patch\", \"id\");\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(value, 2, \"patch\", \"value\");\n    await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/shallowMerge\", {\n        id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n        value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_5__.patchValueToJson)(value),\n        table\n    });\n}\nasync function replace(table, id, value) {\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"replace\", \"id\");\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(value, 2, \"replace\", \"value\");\n    await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/replace\", {\n        id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n        value: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(value),\n        table\n    });\n}\nasync function delete_(table, id) {\n    (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(id, 1, \"delete\", \"id\");\n    await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/remove\", {\n        id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id),\n        table\n    });\n}\nfunction setupWriter() {\n    const reader = setupReader();\n    return {\n        get: reader.get,\n        query: reader.query,\n        normalizeId: reader.normalizeId,\n        system: reader.system,\n        insert: async (table, value)=>{\n            return await insert(table, value);\n        },\n        patch: async (arg0, arg1, arg2)=>{\n            return arg2 !== void 0 ? await patch(arg0, arg1, arg2) : await patch(void 0, arg0, arg1);\n        },\n        replace: async (arg0, arg1, arg2)=>{\n            return arg2 !== void 0 ? await replace(arg0, arg1, arg2) : await replace(void 0, arg0, arg1);\n        },\n        delete: async (arg0, arg1)=>{\n            return arg1 !== void 0 ? await delete_(arg0, arg1) : await delete_(void 0, arg0);\n        },\n        table: (tableName)=>{\n            return new TableWriter(tableName, false);\n        }\n    };\n}\nclass TableReader {\n    constructor(tableName, isSystem){\n        this.tableName = tableName;\n        this.isSystem = isSystem;\n    }\n    async get(id) {\n        return get(this.tableName, id, this.isSystem);\n    }\n    query() {\n        const accessingSystemTable = this.tableName.startsWith(\"_\");\n        if (accessingSystemTable !== this.isSystem) {\n            throw new Error(`${accessingSystemTable ? \"System\" : \"User\"} tables can only be accessed from db.${this.isSystem ? \"\" : \"system.\"}query().`);\n        }\n        return new _query_impl_js__WEBPACK_IMPORTED_MODULE_2__.QueryInitializerImpl(this.tableName);\n    }\n}\nclass TableWriter extends TableReader {\n    async insert(value) {\n        return insert(this.tableName, value);\n    }\n    async patch(id, value) {\n        return patch(this.tableName, id, value);\n    }\n    async replace(id, value) {\n        return replace(this.tableName, id, value);\n    }\n    async delete(id) {\n        return delete_(this.tableName, id);\n    }\n} //# sourceMappingURL=database_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2RhdGFiYXNlX2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBYTtBQUlrQjtBQUNvQztBQUNaO0FBQ1g7QUFDSDtBQUNnQjtBQUN6RCxlQUFlUSxJQUFJQyxLQUFLLEVBQUVDLEVBQUUsRUFBRUMsUUFBUTtJQUNwQ04seURBQVdBLENBQUNLLElBQUksR0FBRyxPQUFPO0lBQzFCLElBQUksT0FBT0EsT0FBTyxVQUFVO1FBQzFCLE1BQU0sSUFBSUUsTUFDUixDQUFDLGlFQUFpRSxFQUFFLE9BQU9GLEdBQUcsR0FBRyxFQUFFQSxHQUFHLENBQUM7SUFFM0Y7SUFDQSxNQUFNRyxPQUFPO1FBQ1hILElBQUlWLDhEQUFZQSxDQUFDVTtRQUNqQkM7UUFDQUwsT0FBT0EsZ0RBQUFBO1FBQ1BHO0lBQ0Y7SUFDQSxNQUFNSyxjQUFjLE1BQU1aLGdFQUFtQkEsQ0FBQyxXQUFXVztJQUN6RCxPQUFPWiw4REFBWUEsQ0FBQ2E7QUFDdEI7QUFDTyxTQUFTQztJQUNkLE1BQU1DLFNBQVMsQ0FBQ0wsV0FBVyxLQUFLO1FBQzlCLE9BQU87WUFDTEgsS0FBSyxPQUFPUyxNQUFNQztnQkFDaEIsT0FBT0EsU0FBUyxLQUFLLElBQUksTUFBTVYsSUFBSVMsTUFBTUMsTUFBTVAsWUFBWSxNQUFNSCxJQUFJLEtBQUssR0FBR1MsTUFBTU47WUFDckY7WUFDQVEsT0FBTyxDQUFDQztnQkFDTixPQUFPLElBQUlDLFlBQVlELFdBQVdULFVBQVVRLEtBQUs7WUFDbkQ7WUFDQUcsYUFBYSxDQUFDRixXQUFXVjtnQkFDdkJMLHlEQUFXQSxDQUFDZSxXQUFXLEdBQUcsZUFBZTtnQkFDekNmLHlEQUFXQSxDQUFDSyxJQUFJLEdBQUcsZUFBZTtnQkFDbEMsTUFBTWEsdUJBQXVCSCxVQUFVSSxVQUFVLENBQUM7Z0JBQ2xELElBQUlELHlCQUF5QlosVUFBVTtvQkFDckMsTUFBTSxJQUFJQyxNQUNSLENBQUMsRUFBRVcsdUJBQXVCLFdBQVcsT0FBTyxxQ0FBcUMsRUFBRVosV0FBVyxLQUFLLFVBQVUsY0FBYyxDQUFDO2dCQUVoSTtnQkFDQSxNQUFNRyxjQUFjWCwyREFBY0EsQ0FBQyxzQkFBc0I7b0JBQ3ZETSxPQUFPVztvQkFDUEssVUFBVWY7Z0JBQ1o7Z0JBQ0EsTUFBTWdCLGdCQUFnQnpCLDhEQUFZQSxDQUFDYTtnQkFDbkMsT0FBT1ksY0FBY2hCLEVBQUU7WUFDekI7WUFDQSw0Q0FBNEM7WUFDNUNpQixRQUFRO1lBQ1JsQixPQUFPLENBQUNXO2dCQUNOLE9BQU8sSUFBSUMsWUFBWUQsV0FBV1Q7WUFDcEM7UUFDRjtJQUNGO0lBQ0EsTUFBTSxFQUFFZ0IsUUFBUUMsQ0FBQyxFQUFFLEdBQUdDLE1BQU0sR0FBR2IsT0FBTztJQUN0QyxNQUFNYyxJQUFJZDtJQUNWYyxFQUFFSCxNQUFNLEdBQUdFO0lBQ1gsT0FBT0M7QUFDVDtBQUNBLGVBQWVDLE9BQU9YLFNBQVMsRUFBRVksS0FBSztJQUNwQyxJQUFJWixVQUFVSSxVQUFVLENBQUMsTUFBTTtRQUM3QixNQUFNLElBQUlaLE1BQU07SUFDbEI7SUFDQVAseURBQVdBLENBQUNlLFdBQVcsR0FBRyxVQUFVO0lBQ3BDZix5REFBV0EsQ0FBQzJCLE9BQU8sR0FBRyxVQUFVO0lBQ2hDLE1BQU1sQixjQUFjLE1BQU1aLGdFQUFtQkEsQ0FBQyxjQUFjO1FBQzFETyxPQUFPVztRQUNQWSxPQUFPaEMsOERBQVlBLENBQUNnQztJQUN0QjtJQUNBLE1BQU1OLGdCQUFnQnpCLDhEQUFZQSxDQUFDYTtJQUNuQyxPQUFPWSxjQUFjTyxHQUFHO0FBQzFCO0FBQ0EsZUFBZUMsTUFBTXpCLEtBQUssRUFBRUMsRUFBRSxFQUFFc0IsS0FBSztJQUNuQzNCLHlEQUFXQSxDQUFDSyxJQUFJLEdBQUcsU0FBUztJQUM1QkwseURBQVdBLENBQUMyQixPQUFPLEdBQUcsU0FBUztJQUMvQixNQUFNOUIsZ0VBQW1CQSxDQUFDLG9CQUFvQjtRQUM1Q1EsSUFBSVYsOERBQVlBLENBQUNVO1FBQ2pCc0IsT0FBT3pCLGtFQUFnQkEsQ0FBQ3lCO1FBQ3hCdkI7SUFDRjtBQUNGO0FBQ0EsZUFBZTBCLFFBQVExQixLQUFLLEVBQUVDLEVBQUUsRUFBRXNCLEtBQUs7SUFDckMzQix5REFBV0EsQ0FBQ0ssSUFBSSxHQUFHLFdBQVc7SUFDOUJMLHlEQUFXQSxDQUFDMkIsT0FBTyxHQUFHLFdBQVc7SUFDakMsTUFBTTlCLGdFQUFtQkEsQ0FBQyxlQUFlO1FBQ3ZDUSxJQUFJViw4REFBWUEsQ0FBQ1U7UUFDakJzQixPQUFPaEMsOERBQVlBLENBQUNnQztRQUNwQnZCO0lBQ0Y7QUFDRjtBQUNBLGVBQWUyQixRQUFRM0IsS0FBSyxFQUFFQyxFQUFFO0lBQzlCTCx5REFBV0EsQ0FBQ0ssSUFBSSxHQUFHLFVBQVU7SUFDN0IsTUFBTVIsZ0VBQW1CQSxDQUFDLGNBQWM7UUFDdENRLElBQUlWLDhEQUFZQSxDQUFDVTtRQUNqQkQ7SUFDRjtBQUNGO0FBQ08sU0FBUzRCO0lBQ2QsTUFBTXJCLFNBQVNEO0lBQ2YsT0FBTztRQUNMUCxLQUFLUSxPQUFPUixHQUFHO1FBQ2ZXLE9BQU9ILE9BQU9HLEtBQUs7UUFDbkJHLGFBQWFOLE9BQU9NLFdBQVc7UUFDL0JLLFFBQVFYLE9BQU9XLE1BQU07UUFDckJJLFFBQVEsT0FBT3RCLE9BQU91QjtZQUNwQixPQUFPLE1BQU1ELE9BQU90QixPQUFPdUI7UUFDN0I7UUFDQUUsT0FBTyxPQUFPakIsTUFBTUMsTUFBTW9CO1lBQ3hCLE9BQU9BLFNBQVMsS0FBSyxJQUFJLE1BQU1KLE1BQU1qQixNQUFNQyxNQUFNb0IsUUFBUSxNQUFNSixNQUFNLEtBQUssR0FBR2pCLE1BQU1DO1FBQ3JGO1FBQ0FpQixTQUFTLE9BQU9sQixNQUFNQyxNQUFNb0I7WUFDMUIsT0FBT0EsU0FBUyxLQUFLLElBQUksTUFBTUgsUUFBUWxCLE1BQU1DLE1BQU1vQixRQUFRLE1BQU1ILFFBQVEsS0FBSyxHQUFHbEIsTUFBTUM7UUFDekY7UUFDQXFCLFFBQVEsT0FBT3RCLE1BQU1DO1lBQ25CLE9BQU9BLFNBQVMsS0FBSyxJQUFJLE1BQU1rQixRQUFRbkIsTUFBTUMsUUFBUSxNQUFNa0IsUUFBUSxLQUFLLEdBQUduQjtRQUM3RTtRQUNBUixPQUFPLENBQUNXO1lBQ04sT0FBTyxJQUFJb0IsWUFBWXBCLFdBQVc7UUFDcEM7SUFDRjtBQUNGO0FBQ0EsTUFBTUM7SUFDSm9CLFlBQVlyQixTQUFTLEVBQUVULFFBQVEsQ0FBRTtRQUMvQixJQUFJLENBQUNTLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDVCxRQUFRLEdBQUdBO0lBQ2xCO0lBQ0EsTUFBTUgsSUFBSUUsRUFBRSxFQUFFO1FBQ1osT0FBT0YsSUFBSSxJQUFJLENBQUNZLFNBQVMsRUFBRVYsSUFBSSxJQUFJLENBQUNDLFFBQVE7SUFDOUM7SUFDQVEsUUFBUTtRQUNOLE1BQU1JLHVCQUF1QixJQUFJLENBQUNILFNBQVMsQ0FBQ0ksVUFBVSxDQUFDO1FBQ3ZELElBQUlELHlCQUF5QixJQUFJLENBQUNaLFFBQVEsRUFBRTtZQUMxQyxNQUFNLElBQUlDLE1BQ1IsQ0FBQyxFQUFFVyx1QkFBdUIsV0FBVyxPQUFPLHFDQUFxQyxFQUFFLElBQUksQ0FBQ1osUUFBUSxHQUFHLEtBQUssVUFBVSxRQUFRLENBQUM7UUFFL0g7UUFDQSxPQUFPLElBQUlQLGdFQUFvQkEsQ0FBQyxJQUFJLENBQUNnQixTQUFTO0lBQ2hEO0FBQ0Y7QUFDQSxNQUFNb0Isb0JBQW9CbkI7SUFDeEIsTUFBTVUsT0FBT0MsS0FBSyxFQUFFO1FBQ2xCLE9BQU9ELE9BQU8sSUFBSSxDQUFDWCxTQUFTLEVBQUVZO0lBQ2hDO0lBQ0EsTUFBTUUsTUFBTXhCLEVBQUUsRUFBRXNCLEtBQUssRUFBRTtRQUNyQixPQUFPRSxNQUFNLElBQUksQ0FBQ2QsU0FBUyxFQUFFVixJQUFJc0I7SUFDbkM7SUFDQSxNQUFNRyxRQUFRekIsRUFBRSxFQUFFc0IsS0FBSyxFQUFFO1FBQ3ZCLE9BQU9HLFFBQVEsSUFBSSxDQUFDZixTQUFTLEVBQUVWLElBQUlzQjtJQUNyQztJQUNBLE1BQU1PLE9BQU83QixFQUFFLEVBQUU7UUFDZixPQUFPMEIsUUFBUSxJQUFJLENBQUNoQixTQUFTLEVBQUVWO0lBQ2pDO0FBQ0YsRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvZGF0YWJhc2VfaW1wbC5qcz9iNjc2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHtcbiAgY29udmV4VG9Kc29uLFxuICBqc29uVG9Db252ZXhcbn0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCwgcGVyZm9ybVN5c2NhbGwgfSBmcm9tIFwiLi9zeXNjYWxsLmpzXCI7XG5pbXBvcnQgeyBRdWVyeUluaXRpYWxpemVySW1wbCB9IGZyb20gXCIuL3F1ZXJ5X2ltcGwuanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlQXJnIH0gZnJvbSBcIi4vdmFsaWRhdGUuanNcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vLi4vaW5kZXguanNcIjtcbmltcG9ydCB7IHBhdGNoVmFsdWVUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL3ZhbHVlLmpzXCI7XG5hc3luYyBmdW5jdGlvbiBnZXQodGFibGUsIGlkLCBpc1N5c3RlbSkge1xuICB2YWxpZGF0ZUFyZyhpZCwgMSwgXCJnZXRcIiwgXCJpZFwiKTtcbiAgaWYgKHR5cGVvZiBpZCAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJbnZhbGlkIGFyZ3VtZW50IFxcYGlkXFxgIGZvciBcXGBkYi5nZXRcXGAsIGV4cGVjdGVkIHN0cmluZyBidXQgZ290ICcke3R5cGVvZiBpZH0nOiAke2lkfWBcbiAgICApO1xuICB9XG4gIGNvbnN0IGFyZ3MgPSB7XG4gICAgaWQ6IGNvbnZleFRvSnNvbihpZCksXG4gICAgaXNTeXN0ZW0sXG4gICAgdmVyc2lvbixcbiAgICB0YWJsZVxuICB9O1xuICBjb25zdCBzeXNjYWxsSlNPTiA9IGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvZ2V0XCIsIGFyZ3MpO1xuICByZXR1cm4ganNvblRvQ29udmV4KHN5c2NhbGxKU09OKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFJlYWRlcigpIHtcbiAgY29uc3QgcmVhZGVyID0gKGlzU3lzdGVtID0gZmFsc2UpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0OiBhc3luYyAoYXJnMCwgYXJnMSkgPT4ge1xuICAgICAgICByZXR1cm4gYXJnMSAhPT0gdm9pZCAwID8gYXdhaXQgZ2V0KGFyZzAsIGFyZzEsIGlzU3lzdGVtKSA6IGF3YWl0IGdldCh2b2lkIDAsIGFyZzAsIGlzU3lzdGVtKTtcbiAgICAgIH0sXG4gICAgICBxdWVyeTogKHRhYmxlTmFtZSkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IFRhYmxlUmVhZGVyKHRhYmxlTmFtZSwgaXNTeXN0ZW0pLnF1ZXJ5KCk7XG4gICAgICB9LFxuICAgICAgbm9ybWFsaXplSWQ6ICh0YWJsZU5hbWUsIGlkKSA9PiB7XG4gICAgICAgIHZhbGlkYXRlQXJnKHRhYmxlTmFtZSwgMSwgXCJub3JtYWxpemVJZFwiLCBcInRhYmxlTmFtZVwiKTtcbiAgICAgICAgdmFsaWRhdGVBcmcoaWQsIDIsIFwibm9ybWFsaXplSWRcIiwgXCJpZFwiKTtcbiAgICAgICAgY29uc3QgYWNjZXNzaW5nU3lzdGVtVGFibGUgPSB0YWJsZU5hbWUuc3RhcnRzV2l0aChcIl9cIik7XG4gICAgICAgIGlmIChhY2Nlc3NpbmdTeXN0ZW1UYWJsZSAhPT0gaXNTeXN0ZW0pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgJHthY2Nlc3NpbmdTeXN0ZW1UYWJsZSA/IFwiU3lzdGVtXCIgOiBcIlVzZXJcIn0gdGFibGVzIGNhbiBvbmx5IGJlIGFjY2Vzc2VkIGZyb20gZGIuJHtpc1N5c3RlbSA/IFwiXCIgOiBcInN5c3RlbS5cIn1ub3JtYWxpemVJZCgpLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN5c2NhbGxKU09OID0gcGVyZm9ybVN5c2NhbGwoXCIxLjAvZGIvbm9ybWFsaXplSWRcIiwge1xuICAgICAgICAgIHRhYmxlOiB0YWJsZU5hbWUsXG4gICAgICAgICAgaWRTdHJpbmc6IGlkXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzeXNjYWxsUmVzdWx0ID0ganNvblRvQ29udmV4KHN5c2NhbGxKU09OKTtcbiAgICAgICAgcmV0dXJuIHN5c2NhbGxSZXN1bHQuaWQ7XG4gICAgICB9LFxuICAgICAgLy8gV2Ugc2V0IHRoZSBzeXN0ZW0gcmVhZGVyIG9uIHRoZSBuZXh0IGxpbmVcbiAgICAgIHN5c3RlbTogbnVsbCxcbiAgICAgIHRhYmxlOiAodGFibGVOYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgVGFibGVSZWFkZXIodGFibGVOYW1lLCBpc1N5c3RlbSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgY29uc3QgeyBzeXN0ZW06IF8sIC4uLnJlc3QgfSA9IHJlYWRlcih0cnVlKTtcbiAgY29uc3QgciA9IHJlYWRlcigpO1xuICByLnN5c3RlbSA9IHJlc3Q7XG4gIHJldHVybiByO1xufVxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0KHRhYmxlTmFtZSwgdmFsdWUpIHtcbiAgaWYgKHRhYmxlTmFtZS5zdGFydHNXaXRoKFwiX1wiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlN5c3RlbSB0YWJsZXMgKHByZWZpeGVkIHdpdGggYF9gKSBhcmUgcmVhZC1vbmx5LlwiKTtcbiAgfVxuICB2YWxpZGF0ZUFyZyh0YWJsZU5hbWUsIDEsIFwiaW5zZXJ0XCIsIFwidGFibGVcIik7XG4gIHZhbGlkYXRlQXJnKHZhbHVlLCAyLCBcImluc2VydFwiLCBcInZhbHVlXCIpO1xuICBjb25zdCBzeXNjYWxsSlNPTiA9IGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvaW5zZXJ0XCIsIHtcbiAgICB0YWJsZTogdGFibGVOYW1lLFxuICAgIHZhbHVlOiBjb252ZXhUb0pzb24odmFsdWUpXG4gIH0pO1xuICBjb25zdCBzeXNjYWxsUmVzdWx0ID0ganNvblRvQ29udmV4KHN5c2NhbGxKU09OKTtcbiAgcmV0dXJuIHN5c2NhbGxSZXN1bHQuX2lkO1xufVxuYXN5bmMgZnVuY3Rpb24gcGF0Y2godGFibGUsIGlkLCB2YWx1ZSkge1xuICB2YWxpZGF0ZUFyZyhpZCwgMSwgXCJwYXRjaFwiLCBcImlkXCIpO1xuICB2YWxpZGF0ZUFyZyh2YWx1ZSwgMiwgXCJwYXRjaFwiLCBcInZhbHVlXCIpO1xuICBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3NoYWxsb3dNZXJnZVwiLCB7XG4gICAgaWQ6IGNvbnZleFRvSnNvbihpZCksXG4gICAgdmFsdWU6IHBhdGNoVmFsdWVUb0pzb24odmFsdWUpLFxuICAgIHRhYmxlXG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVwbGFjZSh0YWJsZSwgaWQsIHZhbHVlKSB7XG4gIHZhbGlkYXRlQXJnKGlkLCAxLCBcInJlcGxhY2VcIiwgXCJpZFwiKTtcbiAgdmFsaWRhdGVBcmcodmFsdWUsIDIsIFwicmVwbGFjZVwiLCBcInZhbHVlXCIpO1xuICBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3JlcGxhY2VcIiwge1xuICAgIGlkOiBjb252ZXhUb0pzb24oaWQpLFxuICAgIHZhbHVlOiBjb252ZXhUb0pzb24odmFsdWUpLFxuICAgIHRhYmxlXG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVsZXRlXyh0YWJsZSwgaWQpIHtcbiAgdmFsaWRhdGVBcmcoaWQsIDEsIFwiZGVsZXRlXCIsIFwiaWRcIik7XG4gIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvcmVtb3ZlXCIsIHtcbiAgICBpZDogY29udmV4VG9Kc29uKGlkKSxcbiAgICB0YWJsZVxuICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFdyaXRlcigpIHtcbiAgY29uc3QgcmVhZGVyID0gc2V0dXBSZWFkZXIoKTtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IHJlYWRlci5nZXQsXG4gICAgcXVlcnk6IHJlYWRlci5xdWVyeSxcbiAgICBub3JtYWxpemVJZDogcmVhZGVyLm5vcm1hbGl6ZUlkLFxuICAgIHN5c3RlbTogcmVhZGVyLnN5c3RlbSxcbiAgICBpbnNlcnQ6IGFzeW5jICh0YWJsZSwgdmFsdWUpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBpbnNlcnQodGFibGUsIHZhbHVlKTtcbiAgICB9LFxuICAgIHBhdGNoOiBhc3luYyAoYXJnMCwgYXJnMSwgYXJnMikgPT4ge1xuICAgICAgcmV0dXJuIGFyZzIgIT09IHZvaWQgMCA/IGF3YWl0IHBhdGNoKGFyZzAsIGFyZzEsIGFyZzIpIDogYXdhaXQgcGF0Y2godm9pZCAwLCBhcmcwLCBhcmcxKTtcbiAgICB9LFxuICAgIHJlcGxhY2U6IGFzeW5jIChhcmcwLCBhcmcxLCBhcmcyKSA9PiB7XG4gICAgICByZXR1cm4gYXJnMiAhPT0gdm9pZCAwID8gYXdhaXQgcmVwbGFjZShhcmcwLCBhcmcxLCBhcmcyKSA6IGF3YWl0IHJlcGxhY2Uodm9pZCAwLCBhcmcwLCBhcmcxKTtcbiAgICB9LFxuICAgIGRlbGV0ZTogYXN5bmMgKGFyZzAsIGFyZzEpID0+IHtcbiAgICAgIHJldHVybiBhcmcxICE9PSB2b2lkIDAgPyBhd2FpdCBkZWxldGVfKGFyZzAsIGFyZzEpIDogYXdhaXQgZGVsZXRlXyh2b2lkIDAsIGFyZzApO1xuICAgIH0sXG4gICAgdGFibGU6ICh0YWJsZU5hbWUpID0+IHtcbiAgICAgIHJldHVybiBuZXcgVGFibGVXcml0ZXIodGFibGVOYW1lLCBmYWxzZSk7XG4gICAgfVxuICB9O1xufVxuY2xhc3MgVGFibGVSZWFkZXIge1xuICBjb25zdHJ1Y3Rvcih0YWJsZU5hbWUsIGlzU3lzdGVtKSB7XG4gICAgdGhpcy50YWJsZU5hbWUgPSB0YWJsZU5hbWU7XG4gICAgdGhpcy5pc1N5c3RlbSA9IGlzU3lzdGVtO1xuICB9XG4gIGFzeW5jIGdldChpZCkge1xuICAgIHJldHVybiBnZXQodGhpcy50YWJsZU5hbWUsIGlkLCB0aGlzLmlzU3lzdGVtKTtcbiAgfVxuICBxdWVyeSgpIHtcbiAgICBjb25zdCBhY2Nlc3NpbmdTeXN0ZW1UYWJsZSA9IHRoaXMudGFibGVOYW1lLnN0YXJ0c1dpdGgoXCJfXCIpO1xuICAgIGlmIChhY2Nlc3NpbmdTeXN0ZW1UYWJsZSAhPT0gdGhpcy5pc1N5c3RlbSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgJHthY2Nlc3NpbmdTeXN0ZW1UYWJsZSA/IFwiU3lzdGVtXCIgOiBcIlVzZXJcIn0gdGFibGVzIGNhbiBvbmx5IGJlIGFjY2Vzc2VkIGZyb20gZGIuJHt0aGlzLmlzU3lzdGVtID8gXCJcIiA6IFwic3lzdGVtLlwifXF1ZXJ5KCkuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBRdWVyeUluaXRpYWxpemVySW1wbCh0aGlzLnRhYmxlTmFtZSk7XG4gIH1cbn1cbmNsYXNzIFRhYmxlV3JpdGVyIGV4dGVuZHMgVGFibGVSZWFkZXIge1xuICBhc3luYyBpbnNlcnQodmFsdWUpIHtcbiAgICByZXR1cm4gaW5zZXJ0KHRoaXMudGFibGVOYW1lLCB2YWx1ZSk7XG4gIH1cbiAgYXN5bmMgcGF0Y2goaWQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHBhdGNoKHRoaXMudGFibGVOYW1lLCBpZCwgdmFsdWUpO1xuICB9XG4gIGFzeW5jIHJlcGxhY2UoaWQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHJlcGxhY2UodGhpcy50YWJsZU5hbWUsIGlkLCB2YWx1ZSk7XG4gIH1cbiAgYXN5bmMgZGVsZXRlKGlkKSB7XG4gICAgcmV0dXJuIGRlbGV0ZV8odGhpcy50YWJsZU5hbWUsIGlkKTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YWJhc2VfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJjb252ZXhUb0pzb24iLCJqc29uVG9Db252ZXgiLCJwZXJmb3JtQXN5bmNTeXNjYWxsIiwicGVyZm9ybVN5c2NhbGwiLCJRdWVyeUluaXRpYWxpemVySW1wbCIsInZhbGlkYXRlQXJnIiwidmVyc2lvbiIsInBhdGNoVmFsdWVUb0pzb24iLCJnZXQiLCJ0YWJsZSIsImlkIiwiaXNTeXN0ZW0iLCJFcnJvciIsImFyZ3MiLCJzeXNjYWxsSlNPTiIsInNldHVwUmVhZGVyIiwicmVhZGVyIiwiYXJnMCIsImFyZzEiLCJxdWVyeSIsInRhYmxlTmFtZSIsIlRhYmxlUmVhZGVyIiwibm9ybWFsaXplSWQiLCJhY2Nlc3NpbmdTeXN0ZW1UYWJsZSIsInN0YXJ0c1dpdGgiLCJpZFN0cmluZyIsInN5c2NhbGxSZXN1bHQiLCJzeXN0ZW0iLCJfIiwicmVzdCIsInIiLCJpbnNlcnQiLCJ2YWx1ZSIsIl9pZCIsInBhdGNoIiwicmVwbGFjZSIsImRlbGV0ZV8iLCJzZXR1cFdyaXRlciIsImFyZzIiLCJkZWxldGUiLCJUYWJsZVdyaXRlciIsImNvbnN0cnVjdG9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/database_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js":
/*!*************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExpressionImpl: () => (/* binding */ ExpressionImpl),\n/* harmony export */   filterBuilderImpl: () => (/* binding */ filterBuilderImpl),\n/* harmony export */   serializeExpression: () => (/* binding */ serializeExpression)\n/* harmony export */ });\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _filter_builder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../filter_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/filter_builder.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass ExpressionImpl extends _filter_builder_js__WEBPACK_IMPORTED_MODULE_1__.Expression {\n    constructor(inner){\n        super();\n        __publicField(this, \"inner\");\n        this.inner = inner;\n    }\n    serialize() {\n        return this.inner;\n    }\n}\nfunction serializeExpression(expr) {\n    if (expr instanceof ExpressionImpl) {\n        return expr.serialize();\n    } else {\n        return {\n            $literal: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(expr)\n        };\n    }\n}\nconst filterBuilderImpl = {\n    //  Comparisons  /////////////////////////////////////////////////////////////\n    eq (l, r) {\n        return new ExpressionImpl({\n            $eq: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    neq (l, r) {\n        return new ExpressionImpl({\n            $neq: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    lt (l, r) {\n        return new ExpressionImpl({\n            $lt: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    lte (l, r) {\n        return new ExpressionImpl({\n            $lte: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    gt (l, r) {\n        return new ExpressionImpl({\n            $gt: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    gte (l, r) {\n        return new ExpressionImpl({\n            $gte: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    //  Arithmetic  //////////////////////////////////////////////////////////////\n    add (l, r) {\n        return new ExpressionImpl({\n            $add: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    sub (l, r) {\n        return new ExpressionImpl({\n            $sub: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    mul (l, r) {\n        return new ExpressionImpl({\n            $mul: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    div (l, r) {\n        return new ExpressionImpl({\n            $div: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    mod (l, r) {\n        return new ExpressionImpl({\n            $mod: [\n                serializeExpression(l),\n                serializeExpression(r)\n            ]\n        });\n    },\n    neg (x) {\n        return new ExpressionImpl({\n            $neg: serializeExpression(x)\n        });\n    },\n    //  Logic  ///////////////////////////////////////////////////////////////////\n    and (...exprs) {\n        return new ExpressionImpl({\n            $and: exprs.map(serializeExpression)\n        });\n    },\n    or (...exprs) {\n        return new ExpressionImpl({\n            $or: exprs.map(serializeExpression)\n        });\n    },\n    not (x) {\n        return new ExpressionImpl({\n            $not: serializeExpression(x)\n        });\n    },\n    //  Other  ///////////////////////////////////////////////////////////////////\n    field (fieldPath) {\n        return new ExpressionImpl({\n            $field: fieldPath\n        });\n    }\n}; //# sourceMappingURL=filter_builder_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2ZpbHRlcl9idWlsZGVyX2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDeEM7QUFHbEM7QUFDdkIsTUFBTU8sdUJBQXVCRCwwREFBVUE7SUFDNUNFLFlBQVlDLEtBQUssQ0FBRTtRQUNqQixLQUFLO1FBQ0xMLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ0ssS0FBSyxHQUFHQTtJQUNmO0lBQ0FDLFlBQVk7UUFDVixPQUFPLElBQUksQ0FBQ0QsS0FBSztJQUNuQjtBQUNGO0FBQ08sU0FBU0Usb0JBQW9CQyxJQUFJO0lBQ3RDLElBQUlBLGdCQUFnQkwsZ0JBQWdCO1FBQ2xDLE9BQU9LLEtBQUtGLFNBQVM7SUFDdkIsT0FBTztRQUNMLE9BQU87WUFBRUcsVUFBVVIseUVBQXVCQSxDQUFDTztRQUFNO0lBQ25EO0FBQ0Y7QUFDTyxNQUFNRSxvQkFBb0I7SUFDL0IsOEVBQThFO0lBQzlFQyxJQUFHQyxDQUFDLEVBQUVDLENBQUM7UUFDTCxPQUFPLElBQUlWLGVBQWU7WUFDeEJXLEtBQUs7Z0JBQUNQLG9CQUFvQks7Z0JBQUlMLG9CQUFvQk07YUFBRztRQUN2RDtJQUNGO0lBQ0FFLEtBQUlILENBQUMsRUFBRUMsQ0FBQztRQUNOLE9BQU8sSUFBSVYsZUFBZTtZQUN4QmEsTUFBTTtnQkFBQ1Qsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQUksSUFBR0wsQ0FBQyxFQUFFQyxDQUFDO1FBQ0wsT0FBTyxJQUFJVixlQUFlO1lBQ3hCZSxLQUFLO2dCQUFDWCxvQkFBb0JLO2dCQUFJTCxvQkFBb0JNO2FBQUc7UUFDdkQ7SUFDRjtJQUNBTSxLQUFJUCxDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEJpQixNQUFNO2dCQUFDYixvQkFBb0JLO2dCQUFJTCxvQkFBb0JNO2FBQUc7UUFDeEQ7SUFDRjtJQUNBUSxJQUFHVCxDQUFDLEVBQUVDLENBQUM7UUFDTCxPQUFPLElBQUlWLGVBQWU7WUFDeEJtQixLQUFLO2dCQUFDZixvQkFBb0JLO2dCQUFJTCxvQkFBb0JNO2FBQUc7UUFDdkQ7SUFDRjtJQUNBVSxLQUFJWCxDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEJxQixNQUFNO2dCQUFDakIsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQSw4RUFBOEU7SUFDOUVZLEtBQUliLENBQUMsRUFBRUMsQ0FBQztRQUNOLE9BQU8sSUFBSVYsZUFBZTtZQUN4QnVCLE1BQU07Z0JBQUNuQixvQkFBb0JLO2dCQUFJTCxvQkFBb0JNO2FBQUc7UUFDeEQ7SUFDRjtJQUNBYyxLQUFJZixDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEJ5QixNQUFNO2dCQUFDckIsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQWdCLEtBQUlqQixDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEIyQixNQUFNO2dCQUFDdkIsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQWtCLEtBQUluQixDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEI2QixNQUFNO2dCQUFDekIsb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQW9CLEtBQUlyQixDQUFDLEVBQUVDLENBQUM7UUFDTixPQUFPLElBQUlWLGVBQWU7WUFDeEIrQixNQUFNO2dCQUFDM0Isb0JBQW9CSztnQkFBSUwsb0JBQW9CTTthQUFHO1FBQ3hEO0lBQ0Y7SUFDQXNCLEtBQUlDLENBQUM7UUFDSCxPQUFPLElBQUlqQyxlQUFlO1lBQUVrQyxNQUFNOUIsb0JBQW9CNkI7UUFBRztJQUMzRDtJQUNBLDhFQUE4RTtJQUM5RUUsS0FBSSxHQUFHQyxLQUFLO1FBQ1YsT0FBTyxJQUFJcEMsZUFBZTtZQUFFcUMsTUFBTUQsTUFBTUUsR0FBRyxDQUFDbEM7UUFBcUI7SUFDbkU7SUFDQW1DLElBQUcsR0FBR0gsS0FBSztRQUNULE9BQU8sSUFBSXBDLGVBQWU7WUFBRXdDLEtBQUtKLE1BQU1FLEdBQUcsQ0FBQ2xDO1FBQXFCO0lBQ2xFO0lBQ0FxQyxLQUFJUixDQUFDO1FBQ0gsT0FBTyxJQUFJakMsZUFBZTtZQUFFMEMsTUFBTXRDLG9CQUFvQjZCO1FBQUc7SUFDM0Q7SUFDQSw4RUFBOEU7SUFDOUVVLE9BQU1DLFNBQVM7UUFDYixPQUFPLElBQUk1QyxlQUFlO1lBQUU2QyxRQUFRRDtRQUFVO0lBQ2hEO0FBQ0YsRUFBRSxDQUNGLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9maWx0ZXJfYnVpbGRlcl9pbXBsLmpzP2RiNmMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsgY29udmV4T3JVbmRlZmluZWRUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL3ZhbHVlLmpzXCI7XG5pbXBvcnQge1xuICBFeHByZXNzaW9uXG59IGZyb20gXCIuLi9maWx0ZXJfYnVpbGRlci5qc1wiO1xuZXhwb3J0IGNsYXNzIEV4cHJlc3Npb25JbXBsIGV4dGVuZHMgRXhwcmVzc2lvbiB7XG4gIGNvbnN0cnVjdG9yKGlubmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaW5uZXJcIik7XG4gICAgdGhpcy5pbm5lciA9IGlubmVyO1xuICB9XG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5pbm5lcjtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZUV4cHJlc3Npb24oZXhwcikge1xuICBpZiAoZXhwciBpbnN0YW5jZW9mIEV4cHJlc3Npb25JbXBsKSB7XG4gICAgcmV0dXJuIGV4cHIuc2VyaWFsaXplKCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHsgJGxpdGVyYWw6IGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uKGV4cHIpIH07XG4gIH1cbn1cbmV4cG9ydCBjb25zdCBmaWx0ZXJCdWlsZGVySW1wbCA9IHtcbiAgLy8gIENvbXBhcmlzb25zICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGVxKGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRlcTogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIG5lcShsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkbmVxOiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgbHQobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJGx0OiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgbHRlKGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRsdGU6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICBndChsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkZ3Q6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICBndGUobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJGd0ZTogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIC8vICBBcml0aG1ldGljICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBhZGQobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJGFkZDogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIHN1YihsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkc3ViOiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgbXVsKGwsIHIpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRtdWw6IFtzZXJpYWxpemVFeHByZXNzaW9uKGwpLCBzZXJpYWxpemVFeHByZXNzaW9uKHIpXVxuICAgIH0pO1xuICB9LFxuICBkaXYobCwgcikge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoe1xuICAgICAgJGRpdjogW3NlcmlhbGl6ZUV4cHJlc3Npb24obCksIHNlcmlhbGl6ZUV4cHJlc3Npb24ocildXG4gICAgfSk7XG4gIH0sXG4gIG1vZChsLCByKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7XG4gICAgICAkbW9kOiBbc2VyaWFsaXplRXhwcmVzc2lvbihsKSwgc2VyaWFsaXplRXhwcmVzc2lvbihyKV1cbiAgICB9KTtcbiAgfSxcbiAgbmVnKHgpIHtcbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHsgJG5lZzogc2VyaWFsaXplRXhwcmVzc2lvbih4KSB9KTtcbiAgfSxcbiAgLy8gIExvZ2ljICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIGFuZCguLi5leHBycykge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoeyAkYW5kOiBleHBycy5tYXAoc2VyaWFsaXplRXhwcmVzc2lvbikgfSk7XG4gIH0sXG4gIG9yKC4uLmV4cHJzKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7ICRvcjogZXhwcnMubWFwKHNlcmlhbGl6ZUV4cHJlc3Npb24pIH0pO1xuICB9LFxuICBub3QoeCkge1xuICAgIHJldHVybiBuZXcgRXhwcmVzc2lvbkltcGwoeyAkbm90OiBzZXJpYWxpemVFeHByZXNzaW9uKHgpIH0pO1xuICB9LFxuICAvLyAgT3RoZXIgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgZmllbGQoZmllbGRQYXRoKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7ICRmaWVsZDogZmllbGRQYXRoIH0pO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyX2J1aWxkZXJfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsImNvbnZleE9yVW5kZWZpbmVkVG9Kc29uIiwiRXhwcmVzc2lvbiIsIkV4cHJlc3Npb25JbXBsIiwiY29uc3RydWN0b3IiLCJpbm5lciIsInNlcmlhbGl6ZSIsInNlcmlhbGl6ZUV4cHJlc3Npb24iLCJleHByIiwiJGxpdGVyYWwiLCJmaWx0ZXJCdWlsZGVySW1wbCIsImVxIiwibCIsInIiLCIkZXEiLCJuZXEiLCIkbmVxIiwibHQiLCIkbHQiLCJsdGUiLCIkbHRlIiwiZ3QiLCIkZ3QiLCJndGUiLCIkZ3RlIiwiYWRkIiwiJGFkZCIsInN1YiIsIiRzdWIiLCJtdWwiLCIkbXVsIiwiZGl2IiwiJGRpdiIsIm1vZCIsIiRtb2QiLCJuZWciLCJ4IiwiJG5lZyIsImFuZCIsImV4cHJzIiwiJGFuZCIsIm1hcCIsIm9yIiwiJG9yIiwibm90IiwiJG5vdCIsImZpZWxkIiwiZmllbGRQYXRoIiwiJGZpZWxkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js":
/*!******************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IndexRangeBuilderImpl: () => (/* binding */ IndexRangeBuilderImpl)\n/* harmony export */ });\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _index_range_builder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../index_range_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/index_range_builder.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\nclass IndexRangeBuilderImpl extends _index_range_builder_js__WEBPACK_IMPORTED_MODULE_1__.IndexRange {\n    constructor(rangeExpressions){\n        super();\n        __publicField(this, \"rangeExpressions\");\n        __publicField(this, \"isConsumed\");\n        this.rangeExpressions = rangeExpressions;\n        this.isConsumed = false;\n    }\n    static new() {\n        return new IndexRangeBuilderImpl([]);\n    }\n    consume() {\n        if (this.isConsumed) {\n            throw new Error(\"IndexRangeBuilder has already been used! Chain your method calls like `q => q.eq(...).eq(...)`. See https://docs.convex.dev/using/indexes\");\n        }\n        this.isConsumed = true;\n    }\n    eq(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Eq\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    gt(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Gt\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    gte(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Gte\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    lt(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Lt\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    lte(fieldName, value) {\n        this.consume();\n        return new IndexRangeBuilderImpl(this.rangeExpressions.concat({\n            type: \"Lte\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    export() {\n        this.consume();\n        return this.rangeExpressions;\n    }\n} //# sourceMappingURL=index_range_builder_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL2luZGV4X3JhbmdlX2J1aWxkZXJfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDeEM7QUFHN0I7QUFDNUIsTUFBTU8sOEJBQThCRCwrREFBVUE7SUFDbkRFLFlBQVlDLGdCQUFnQixDQUFFO1FBQzVCLEtBQUs7UUFDTEwsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ0ssZ0JBQWdCLEdBQUdBO1FBQ3hCLElBQUksQ0FBQ0MsVUFBVSxHQUFHO0lBQ3BCO0lBQ0EsT0FBT0MsTUFBTTtRQUNYLE9BQU8sSUFBSUosc0JBQXNCLEVBQUU7SUFDckM7SUFDQUssVUFBVTtRQUNSLElBQUksSUFBSSxDQUFDRixVQUFVLEVBQUU7WUFDbkIsTUFBTSxJQUFJRyxNQUNSO1FBRUo7UUFDQSxJQUFJLENBQUNILFVBQVUsR0FBRztJQUNwQjtJQUNBSSxHQUFHQyxTQUFTLEVBQUVmLEtBQUssRUFBRTtRQUNuQixJQUFJLENBQUNZLE9BQU87UUFDWixPQUFPLElBQUlMLHNCQUNULElBQUksQ0FBQ0UsZ0JBQWdCLENBQUNPLE1BQU0sQ0FBQztZQUMzQkMsTUFBTTtZQUNOQyxXQUFXSDtZQUNYZixPQUFPSyx5RUFBdUJBLENBQUNMO1FBQ2pDO0lBRUo7SUFDQW1CLEdBQUdKLFNBQVMsRUFBRWYsS0FBSyxFQUFFO1FBQ25CLElBQUksQ0FBQ1ksT0FBTztRQUNaLE9BQU8sSUFBSUwsc0JBQ1QsSUFBSSxDQUFDRSxnQkFBZ0IsQ0FBQ08sTUFBTSxDQUFDO1lBQzNCQyxNQUFNO1lBQ05DLFdBQVdIO1lBQ1hmLE9BQU9LLHlFQUF1QkEsQ0FBQ0w7UUFDakM7SUFFSjtJQUNBb0IsSUFBSUwsU0FBUyxFQUFFZixLQUFLLEVBQUU7UUFDcEIsSUFBSSxDQUFDWSxPQUFPO1FBQ1osT0FBTyxJQUFJTCxzQkFDVCxJQUFJLENBQUNFLGdCQUFnQixDQUFDTyxNQUFNLENBQUM7WUFDM0JDLE1BQU07WUFDTkMsV0FBV0g7WUFDWGYsT0FBT0sseUVBQXVCQSxDQUFDTDtRQUNqQztJQUVKO0lBQ0FxQixHQUFHTixTQUFTLEVBQUVmLEtBQUssRUFBRTtRQUNuQixJQUFJLENBQUNZLE9BQU87UUFDWixPQUFPLElBQUlMLHNCQUNULElBQUksQ0FBQ0UsZ0JBQWdCLENBQUNPLE1BQU0sQ0FBQztZQUMzQkMsTUFBTTtZQUNOQyxXQUFXSDtZQUNYZixPQUFPSyx5RUFBdUJBLENBQUNMO1FBQ2pDO0lBRUo7SUFDQXNCLElBQUlQLFNBQVMsRUFBRWYsS0FBSyxFQUFFO1FBQ3BCLElBQUksQ0FBQ1ksT0FBTztRQUNaLE9BQU8sSUFBSUwsc0JBQ1QsSUFBSSxDQUFDRSxnQkFBZ0IsQ0FBQ08sTUFBTSxDQUFDO1lBQzNCQyxNQUFNO1lBQ05DLFdBQVdIO1lBQ1hmLE9BQU9LLHlFQUF1QkEsQ0FBQ0w7UUFDakM7SUFFSjtJQUNBdUIsU0FBUztRQUNQLElBQUksQ0FBQ1gsT0FBTztRQUNaLE9BQU8sSUFBSSxDQUFDSCxnQkFBZ0I7SUFDOUI7QUFDRixFQUNBLG9EQUFvRCIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9pbmRleF9yYW5nZV9idWlsZGVyX2ltcGwuanM/MTY4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBjb252ZXhPclVuZGVmaW5lZFRvSnNvbiB9IGZyb20gXCIuLi8uLi92YWx1ZXMvdmFsdWUuanNcIjtcbmltcG9ydCB7XG4gIEluZGV4UmFuZ2Vcbn0gZnJvbSBcIi4uL2luZGV4X3JhbmdlX2J1aWxkZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBJbmRleFJhbmdlQnVpbGRlckltcGwgZXh0ZW5kcyBJbmRleFJhbmdlIHtcbiAgY29uc3RydWN0b3IocmFuZ2VFeHByZXNzaW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJhbmdlRXhwcmVzc2lvbnNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImlzQ29uc3VtZWRcIik7XG4gICAgdGhpcy5yYW5nZUV4cHJlc3Npb25zID0gcmFuZ2VFeHByZXNzaW9ucztcbiAgICB0aGlzLmlzQ29uc3VtZWQgPSBmYWxzZTtcbiAgfVxuICBzdGF0aWMgbmV3KCkge1xuICAgIHJldHVybiBuZXcgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsKFtdKTtcbiAgfVxuICBjb25zdW1lKCkge1xuICAgIGlmICh0aGlzLmlzQ29uc3VtZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJJbmRleFJhbmdlQnVpbGRlciBoYXMgYWxyZWFkeSBiZWVuIHVzZWQhIENoYWluIHlvdXIgbWV0aG9kIGNhbGxzIGxpa2UgYHEgPT4gcS5lcSguLi4pLmVxKC4uLilgLiBTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvdXNpbmcvaW5kZXhlc1wiXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmlzQ29uc3VtZWQgPSB0cnVlO1xuICB9XG4gIGVxKGZpZWxkTmFtZSwgdmFsdWUpIHtcbiAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICByZXR1cm4gbmV3IEluZGV4UmFuZ2VCdWlsZGVySW1wbChcbiAgICAgIHRoaXMucmFuZ2VFeHByZXNzaW9ucy5jb25jYXQoe1xuICAgICAgICB0eXBlOiBcIkVxXCIsXG4gICAgICAgIGZpZWxkUGF0aDogZmllbGROYW1lLFxuICAgICAgICB2YWx1ZTogY29udmV4T3JVbmRlZmluZWRUb0pzb24odmFsdWUpXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgZ3QoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiBuZXcgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5yYW5nZUV4cHJlc3Npb25zLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiR3RcIixcbiAgICAgICAgZmllbGRQYXRoOiBmaWVsZE5hbWUsXG4gICAgICAgIHZhbHVlOiBjb252ZXhPclVuZGVmaW5lZFRvSnNvbih2YWx1ZSlcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBndGUoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiBuZXcgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5yYW5nZUV4cHJlc3Npb25zLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiR3RlXCIsXG4gICAgICAgIGZpZWxkUGF0aDogZmllbGROYW1lLFxuICAgICAgICB2YWx1ZTogY29udmV4T3JVbmRlZmluZWRUb0pzb24odmFsdWUpXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgbHQoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiBuZXcgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5yYW5nZUV4cHJlc3Npb25zLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiTHRcIixcbiAgICAgICAgZmllbGRQYXRoOiBmaWVsZE5hbWUsXG4gICAgICAgIHZhbHVlOiBjb252ZXhPclVuZGVmaW5lZFRvSnNvbih2YWx1ZSlcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBsdGUoZmllbGROYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiBuZXcgSW5kZXhSYW5nZUJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5yYW5nZUV4cHJlc3Npb25zLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiTHRlXCIsXG4gICAgICAgIGZpZWxkUGF0aDogZmllbGROYW1lLFxuICAgICAgICB2YWx1ZTogY29udmV4T3JVbmRlZmluZWRUb0pzb24odmFsdWUpXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgZXhwb3J0KCkge1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiB0aGlzLnJhbmdlRXhwcmVzc2lvbnM7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4X3JhbmdlX2J1aWxkZXJfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsImNvbnZleE9yVW5kZWZpbmVkVG9Kc29uIiwiSW5kZXhSYW5nZSIsIkluZGV4UmFuZ2VCdWlsZGVySW1wbCIsImNvbnN0cnVjdG9yIiwicmFuZ2VFeHByZXNzaW9ucyIsImlzQ29uc3VtZWQiLCJuZXciLCJjb25zdW1lIiwiRXJyb3IiLCJlcSIsImZpZWxkTmFtZSIsImNvbmNhdCIsInR5cGUiLCJmaWVsZFBhdGgiLCJndCIsImd0ZSIsImx0IiwibHRlIiwiZXhwb3J0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js":
/*!****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/query_impl.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   QueryImpl: () => (/* binding */ QueryImpl),\n/* harmony export */   QueryInitializerImpl: () => (/* binding */ QueryInitializerImpl)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filter_builder_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/filter_builder_impl.js\");\n/* harmony import */ var _index_range_builder_impl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index_range_builder_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/index_range_builder_impl.js\");\n/* harmony import */ var _search_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./search_filter_builder_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\n\n\nconst MAX_QUERY_OPERATORS = 256;\nclass QueryInitializerImpl {\n    constructor(tableName){\n        __publicField(this, \"tableName\");\n        this.tableName = tableName;\n    }\n    withIndex(indexName, indexRange) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(indexName, 1, \"withIndex\", \"indexName\");\n        let rangeBuilder = _index_range_builder_impl_js__WEBPACK_IMPORTED_MODULE_3__.IndexRangeBuilderImpl.new();\n        if (indexRange !== void 0) {\n            rangeBuilder = indexRange(rangeBuilder);\n        }\n        return new QueryImpl({\n            source: {\n                type: \"IndexRange\",\n                indexName: this.tableName + \".\" + indexName,\n                range: rangeBuilder.export(),\n                order: null\n            },\n            operators: []\n        });\n    }\n    withSearchIndex(indexName, searchFilter) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(indexName, 1, \"withSearchIndex\", \"indexName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(searchFilter, 2, \"withSearchIndex\", \"searchFilter\");\n        const searchFilterBuilder = _search_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_4__.SearchFilterBuilderImpl.new();\n        return new QueryImpl({\n            source: {\n                type: \"Search\",\n                indexName: this.tableName + \".\" + indexName,\n                filters: searchFilter(searchFilterBuilder).export()\n            },\n            operators: []\n        });\n    }\n    fullTableScan() {\n        return new QueryImpl({\n            source: {\n                type: \"FullTableScan\",\n                tableName: this.tableName,\n                order: null\n            },\n            operators: []\n        });\n    }\n    order(order) {\n        return this.fullTableScan().order(order);\n    }\n    // This is internal API and should not be exposed to developers yet.\n    async count() {\n        const syscallJSON = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/count\", {\n            table: this.tableName\n        });\n        const syscallResult = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(syscallJSON);\n        return syscallResult;\n    }\n    filter(predicate) {\n        return this.fullTableScan().filter(predicate);\n    }\n    limit(n) {\n        return this.fullTableScan().limit(n);\n    }\n    collect() {\n        return this.fullTableScan().collect();\n    }\n    take(n) {\n        return this.fullTableScan().take(n);\n    }\n    paginate(paginationOpts) {\n        return this.fullTableScan().paginate(paginationOpts);\n    }\n    first() {\n        return this.fullTableScan().first();\n    }\n    unique() {\n        return this.fullTableScan().unique();\n    }\n    [Symbol.asyncIterator]() {\n        return this.fullTableScan()[Symbol.asyncIterator]();\n    }\n}\nfunction throwClosedError(type) {\n    throw new Error(type === \"consumed\" ? \"This query is closed and can't emit any more values.\" : \"This query has been chained with another operator and can't be reused.\");\n}\nclass QueryImpl {\n    constructor(query){\n        __publicField(this, \"state\");\n        __publicField(this, \"tableNameForErrorMessages\");\n        this.state = {\n            type: \"preparing\",\n            query\n        };\n        if (query.source.type === \"FullTableScan\") {\n            this.tableNameForErrorMessages = query.source.tableName;\n        } else {\n            this.tableNameForErrorMessages = query.source.indexName.split(\".\")[0];\n        }\n    }\n    takeQuery() {\n        if (this.state.type !== \"preparing\") {\n            throw new Error(\"A query can only be chained once and can't be chained after iteration begins.\");\n        }\n        const query = this.state.query;\n        this.state = {\n            type: \"closed\"\n        };\n        return query;\n    }\n    startQuery() {\n        if (this.state.type === \"executing\") {\n            throw new Error(\"Iteration can only begin on a query once.\");\n        }\n        if (this.state.type === \"closed\" || this.state.type === \"consumed\") {\n            throwClosedError(this.state.type);\n        }\n        const query = this.state.query;\n        const { queryId } = (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performSyscall)(\"1.0/queryStream\", {\n            query,\n            version: _index_js__WEBPACK_IMPORTED_MODULE_6__.version\n        });\n        this.state = {\n            type: \"executing\",\n            queryId\n        };\n        return queryId;\n    }\n    closeQuery() {\n        if (this.state.type === \"executing\") {\n            const queryId = this.state.queryId;\n            (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performSyscall)(\"1.0/queryCleanup\", {\n                queryId\n            });\n        }\n        this.state = {\n            type: \"consumed\"\n        };\n    }\n    order(order) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(order, 1, \"order\", \"order\");\n        const query = this.takeQuery();\n        if (query.source.type === \"Search\") {\n            throw new Error(\"Search queries must always be in relevance order. Can not set order manually.\");\n        }\n        if (query.source.order !== null) {\n            throw new Error(\"Queries may only specify order at most once\");\n        }\n        query.source.order = order;\n        return new QueryImpl(query);\n    }\n    filter(predicate) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(predicate, 1, \"filter\", \"predicate\");\n        const query = this.takeQuery();\n        if (query.operators.length >= MAX_QUERY_OPERATORS) {\n            throw new Error(`Can't construct query with more than ${MAX_QUERY_OPERATORS} operators`);\n        }\n        query.operators.push({\n            filter: (0,_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_2__.serializeExpression)(predicate(_filter_builder_impl_js__WEBPACK_IMPORTED_MODULE_2__.filterBuilderImpl))\n        });\n        return new QueryImpl(query);\n    }\n    limit(n) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(n, 1, \"limit\", \"n\");\n        const query = this.takeQuery();\n        query.operators.push({\n            limit: n\n        });\n        return new QueryImpl(query);\n    }\n    [Symbol.asyncIterator]() {\n        this.startQuery();\n        return this;\n    }\n    async next() {\n        if (this.state.type === \"closed\" || this.state.type === \"consumed\") {\n            throwClosedError(this.state.type);\n        }\n        const queryId = this.state.type === \"preparing\" ? this.startQuery() : this.state.queryId;\n        const { value, done } = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/queryStreamNext\", {\n            queryId\n        });\n        if (done) {\n            this.closeQuery();\n        }\n        const convexValue = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(value);\n        return {\n            value: convexValue,\n            done\n        };\n    }\n    return() {\n        this.closeQuery();\n        return Promise.resolve({\n            done: true,\n            value: void 0\n        });\n    }\n    async paginate(paginationOpts) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(paginationOpts, 1, \"paginate\", \"options\");\n        if (typeof paginationOpts?.numItems !== \"number\" || paginationOpts.numItems < 0) {\n            throw new Error(`\\`options.numItems\\` must be a positive number. Received \\`${paginationOpts?.numItems}\\`.`);\n        }\n        const query = this.takeQuery();\n        const pageSize = paginationOpts.numItems;\n        const cursor = paginationOpts.cursor;\n        const endCursor = paginationOpts?.endCursor ?? null;\n        const maximumRowsRead = paginationOpts.maximumRowsRead ?? null;\n        const { page, isDone, continueCursor, splitCursor, pageStatus } = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/queryPage\", {\n            query,\n            cursor,\n            endCursor,\n            pageSize,\n            maximumRowsRead,\n            maximumBytesRead: paginationOpts.maximumBytesRead,\n            version: _index_js__WEBPACK_IMPORTED_MODULE_6__.version\n        });\n        return {\n            page: page.map((json)=>(0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(json)),\n            isDone,\n            continueCursor,\n            splitCursor,\n            pageStatus\n        };\n    }\n    async collect() {\n        const out = [];\n        for await (const item of this){\n            out.push(item);\n        }\n        return out;\n    }\n    async take(n) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArg)(n, 1, \"take\", \"n\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_5__.validateArgIsNonNegativeInteger)(n, 1, \"take\", \"n\");\n        return this.limit(n).collect();\n    }\n    async first() {\n        const first_array = await this.take(1);\n        return first_array.length === 0 ? null : first_array[0];\n    }\n    async unique() {\n        const first_two_array = await this.take(2);\n        if (first_two_array.length === 0) {\n            return null;\n        }\n        if (first_two_array.length === 2) {\n            throw new Error(`unique() query returned more than one result from table ${this.tableNameForErrorMessages}:\n [${first_two_array[0]._id}, ${first_two_array[1]._id}, ...]`);\n        }\n        return first_two_array[0];\n    }\n} //# sourceMappingURL=query_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3F1ZXJ5X2ltcGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ25EO0FBQ2M7QUFJakM7QUFHSztBQUdFO0FBQ29DO0FBQ3BDO0FBQ3pDLE1BQU1lLHNCQUFzQjtBQUNyQixNQUFNQztJQUNYQyxZQUFZQyxTQUFTLENBQUU7UUFDckJkLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ2MsU0FBUyxHQUFHQTtJQUNuQjtJQUNBQyxVQUFVQyxTQUFTLEVBQUVDLFVBQVUsRUFBRTtRQUMvQlQseURBQVdBLENBQUNRLFdBQVcsR0FBRyxhQUFhO1FBQ3ZDLElBQUlFLGVBQWVaLCtFQUFxQkEsQ0FBQ2EsR0FBRztRQUM1QyxJQUFJRixlQUFlLEtBQUssR0FBRztZQUN6QkMsZUFBZUQsV0FBV0M7UUFDNUI7UUFDQSxPQUFPLElBQUlFLFVBQVU7WUFDbkJDLFFBQVE7Z0JBQ05DLE1BQU07Z0JBQ05OLFdBQVcsSUFBSSxDQUFDRixTQUFTLEdBQUcsTUFBTUU7Z0JBQ2xDTyxPQUFPTCxhQUFhTSxNQUFNO2dCQUMxQkMsT0FBTztZQUNUO1lBQ0FDLFdBQVcsRUFBRTtRQUNmO0lBQ0Y7SUFDQUMsZ0JBQWdCWCxTQUFTLEVBQUVZLFlBQVksRUFBRTtRQUN2Q3BCLHlEQUFXQSxDQUFDUSxXQUFXLEdBQUcs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LE1BQU1DLFFBQVEsSUFBSSxDQUFFO1lBQzdCRCxJQUFJcEIsSUFBSSxDQUFDcUI7UUFDWDtRQUNBLE9BQU9EO0lBQ1Q7SUFDQSxNQUFNdEMsS0FBS0YsQ0FBQyxFQUFFO1FBQ1ovQix5REFBV0EsQ0FBQytCLEdBQUcsR0FBRyxRQUFRO1FBQzFCOUIsNkVBQStCQSxDQUFDOEIsR0FBRyxHQUFHLFFBQVE7UUFDOUMsT0FBTyxJQUFJLENBQUNELEtBQUssQ0FBQ0MsR0FBR0MsT0FBTztJQUM5QjtJQUNBLE1BQU1JLFFBQVE7UUFDWixNQUFNcUMsY0FBYyxNQUFNLElBQUksQ0FBQ3hDLElBQUksQ0FBQztRQUNwQyxPQUFPd0MsWUFBWXZCLE1BQU0sS0FBSyxJQUFJLE9BQU91QixXQUFXLENBQUMsRUFBRTtJQUN6RDtJQUNBLE1BQU1wQyxTQUFTO1FBQ2IsTUFBTXFDLGtCQUFrQixNQUFNLElBQUksQ0FBQ3pDLElBQUksQ0FBQztRQUN4QyxJQUFJeUMsZ0JBQWdCeEIsTUFBTSxLQUFLLEdBQUc7WUFDaEMsT0FBTztRQUNUO1FBQ0EsSUFBSXdCLGdCQUFnQnhCLE1BQU0sS0FBSyxHQUFHO1lBQ2hDLE1BQU0sSUFBSVQsTUFBTSxDQUFDLHdEQUF3RCxFQUFFLElBQUksQ0FBQ0cseUJBQXlCLENBQUM7RUFDOUcsRUFBRThCLGVBQWUsQ0FBQyxFQUFFLENBQUNDLEdBQUcsQ0FBQyxFQUFFLEVBQUVELGVBQWUsQ0FBQyxFQUFFLENBQUNDLEdBQUcsQ0FBQyxNQUFNLENBQUM7UUFDekQ7UUFDQSxPQUFPRCxlQUFlLENBQUMsRUFBRTtJQUMzQjtBQUNGLEVBQ0Esc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3F1ZXJ5X2ltcGwuanM/ZGQzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5pbXBvcnQgeyBqc29uVG9Db252ZXggfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBwZXJmb3JtQXN5bmNTeXNjYWxsLCBwZXJmb3JtU3lzY2FsbCB9IGZyb20gXCIuL3N5c2NhbGwuanNcIjtcbmltcG9ydCB7XG4gIGZpbHRlckJ1aWxkZXJJbXBsLFxuICBzZXJpYWxpemVFeHByZXNzaW9uXG59IGZyb20gXCIuL2ZpbHRlcl9idWlsZGVyX2ltcGwuanNcIjtcbmltcG9ydCB7XG4gIEluZGV4UmFuZ2VCdWlsZGVySW1wbFxufSBmcm9tIFwiLi9pbmRleF9yYW5nZV9idWlsZGVyX2ltcGwuanNcIjtcbmltcG9ydCB7XG4gIFNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsXG59IGZyb20gXCIuL3NlYXJjaF9maWx0ZXJfYnVpbGRlcl9pbXBsLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUFyZywgdmFsaWRhdGVBcmdJc05vbk5lZ2F0aXZlSW50ZWdlciB9IGZyb20gXCIuL3ZhbGlkYXRlLmpzXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XG5jb25zdCBNQVhfUVVFUllfT1BFUkFUT1JTID0gMjU2O1xuZXhwb3J0IGNsYXNzIFF1ZXJ5SW5pdGlhbGl6ZXJJbXBsIHtcbiAgY29uc3RydWN0b3IodGFibGVOYW1lKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInRhYmxlTmFtZVwiKTtcbiAgICB0aGlzLnRhYmxlTmFtZSA9IHRhYmxlTmFtZTtcbiAgfVxuICB3aXRoSW5kZXgoaW5kZXhOYW1lLCBpbmRleFJhbmdlKSB7XG4gICAgdmFsaWRhdGVBcmcoaW5kZXhOYW1lLCAxLCBcIndpdGhJbmRleFwiLCBcImluZGV4TmFtZVwiKTtcbiAgICBsZXQgcmFuZ2VCdWlsZGVyID0gSW5kZXhSYW5nZUJ1aWxkZXJJbXBsLm5ldygpO1xuICAgIGlmIChpbmRleFJhbmdlICE9PSB2b2lkIDApIHtcbiAgICAgIHJhbmdlQnVpbGRlciA9IGluZGV4UmFuZ2UocmFuZ2VCdWlsZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBRdWVyeUltcGwoe1xuICAgICAgc291cmNlOiB7XG4gICAgICAgIHR5cGU6IFwiSW5kZXhSYW5nZVwiLFxuICAgICAgICBpbmRleE5hbWU6IHRoaXMudGFibGVOYW1lICsgXCIuXCIgKyBpbmRleE5hbWUsXG4gICAgICAgIHJhbmdlOiByYW5nZUJ1aWxkZXIuZXhwb3J0KCksXG4gICAgICAgIG9yZGVyOiBudWxsXG4gICAgICB9LFxuICAgICAgb3BlcmF0b3JzOiBbXVxuICAgIH0pO1xuICB9XG4gIHdpdGhTZWFyY2hJbmRleChpbmRleE5hbWUsIHNlYXJjaEZpbHRlcikge1xuICAgIHZhbGlkYXRlQXJnKGluZGV4TmFtZSwgMSwgXCJ3aXRoU2VhcmNoSW5kZXhcIiwgXCJpbmRleE5hbWVcIik7XG4gICAgdmFsaWRhdGVBcmcoc2VhcmNoRmlsdGVyLCAyLCBcIndpdGhTZWFyY2hJbmRleFwiLCBcInNlYXJjaEZpbHRlclwiKTtcbiAgICBjb25zdCBzZWFyY2hGaWx0ZXJCdWlsZGVyID0gU2VhcmNoRmlsdGVyQnVpbGRlckltcGwubmV3KCk7XG4gICAgcmV0dXJuIG5ldyBRdWVyeUltcGwoe1xuICAgICAgc291cmNlOiB7XG4gICAgICAgIHR5cGU6IFwiU2VhcmNoXCIsXG4gICAgICAgIGluZGV4TmFtZTogdGhpcy50YWJsZU5hbWUgKyBcIi5cIiArIGluZGV4TmFtZSxcbiAgICAgICAgZmlsdGVyczogc2VhcmNoRmlsdGVyKHNlYXJjaEZpbHRlckJ1aWxkZXIpLmV4cG9ydCgpXG4gICAgICB9LFxuICAgICAgb3BlcmF0b3JzOiBbXVxuICAgIH0pO1xuICB9XG4gIGZ1bGxUYWJsZVNjYW4oKSB7XG4gICAgcmV0dXJuIG5ldyBRdWVyeUltcGwoe1xuICAgICAgc291cmNlOiB7XG4gICAgICAgIHR5cGU6IFwiRnVsbFRhYmxlU2NhblwiLFxuICAgICAgICB0YWJsZU5hbWU6IHRoaXMudGFibGVOYW1lLFxuICAgICAgICBvcmRlcjogbnVsbFxuICAgICAgfSxcbiAgICAgIG9wZXJhdG9yczogW11cbiAgICB9KTtcbiAgfVxuICBvcmRlcihvcmRlcikge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5vcmRlcihvcmRlcik7XG4gIH1cbiAgLy8gVGhpcyBpcyBpbnRlcm5hbCBBUEkgYW5kIHNob3VsZCBub3QgYmUgZXhwb3NlZCB0byBkZXZlbG9wZXJzIHlldC5cbiAgYXN5bmMgY291bnQoKSB7XG4gICAgY29uc3Qgc3lzY2FsbEpTT04gPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL2NvdW50XCIsIHtcbiAgICAgIHRhYmxlOiB0aGlzLnRhYmxlTmFtZVxuICAgIH0pO1xuICAgIGNvbnN0IHN5c2NhbGxSZXN1bHQgPSBqc29uVG9Db252ZXgoc3lzY2FsbEpTT04pO1xuICAgIHJldHVybiBzeXNjYWxsUmVzdWx0O1xuICB9XG4gIGZpbHRlcihwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKCkuZmlsdGVyKHByZWRpY2F0ZSk7XG4gIH1cbiAgbGltaXQobikge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5saW1pdChuKTtcbiAgfVxuICBjb2xsZWN0KCkge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5jb2xsZWN0KCk7XG4gIH1cbiAgdGFrZShuKSB7XG4gICAgcmV0dXJuIHRoaXMuZnVsbFRhYmxlU2NhbigpLnRha2Uobik7XG4gIH1cbiAgcGFnaW5hdGUocGFnaW5hdGlvbk9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKCkucGFnaW5hdGUocGFnaW5hdGlvbk9wdHMpO1xuICB9XG4gIGZpcnN0KCkge1xuICAgIHJldHVybiB0aGlzLmZ1bGxUYWJsZVNjYW4oKS5maXJzdCgpO1xuICB9XG4gIHVuaXF1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKCkudW5pcXVlKCk7XG4gIH1cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gdGhpcy5mdWxsVGFibGVTY2FuKClbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRocm93Q2xvc2VkRXJyb3IodHlwZSkge1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgdHlwZSA9PT0gXCJjb25zdW1lZFwiID8gXCJUaGlzIHF1ZXJ5IGlzIGNsb3NlZCBhbmQgY2FuJ3QgZW1pdCBhbnkgbW9yZSB2YWx1ZXMuXCIgOiBcIlRoaXMgcXVlcnkgaGFzIGJlZW4gY2hhaW5lZCB3aXRoIGFub3RoZXIgb3BlcmF0b3IgYW5kIGNhbid0IGJlIHJldXNlZC5cIlxuICApO1xufVxuZXhwb3J0IGNsYXNzIFF1ZXJ5SW1wbCB7XG4gIGNvbnN0cnVjdG9yKHF1ZXJ5KSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0YXRlXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ0YWJsZU5hbWVGb3JFcnJvck1lc3NhZ2VzXCIpO1xuICAgIHRoaXMuc3RhdGUgPSB7IHR5cGU6IFwicHJlcGFyaW5nXCIsIHF1ZXJ5IH07XG4gICAgaWYgKHF1ZXJ5LnNvdXJjZS50eXBlID09PSBcIkZ1bGxUYWJsZVNjYW5cIikge1xuICAgICAgdGhpcy50YWJsZU5hbWVGb3JFcnJvck1lc3NhZ2VzID0gcXVlcnkuc291cmNlLnRhYmxlTmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50YWJsZU5hbWVGb3JFcnJvck1lc3NhZ2VzID0gcXVlcnkuc291cmNlLmluZGV4TmFtZS5zcGxpdChcIi5cIilbMF07XG4gICAgfVxuICB9XG4gIHRha2VRdWVyeSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS50eXBlICE9PSBcInByZXBhcmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiQSBxdWVyeSBjYW4gb25seSBiZSBjaGFpbmVkIG9uY2UgYW5kIGNhbid0IGJlIGNoYWluZWQgYWZ0ZXIgaXRlcmF0aW9uIGJlZ2lucy5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnN0YXRlLnF1ZXJ5O1xuICAgIHRoaXMuc3RhdGUgPSB7IHR5cGU6IFwiY2xvc2VkXCIgfTtcbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cbiAgc3RhcnRRdWVyeSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS50eXBlID09PSBcImV4ZWN1dGluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJdGVyYXRpb24gY2FuIG9ubHkgYmVnaW4gb24gYSBxdWVyeSBvbmNlLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RhdGUudHlwZSA9PT0gXCJjbG9zZWRcIiB8fCB0aGlzLnN0YXRlLnR5cGUgPT09IFwiY29uc3VtZWRcIikge1xuICAgICAgdGhyb3dDbG9zZWRFcnJvcih0aGlzLnN0YXRlLnR5cGUpO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IHRoaXMuc3RhdGUucXVlcnk7XG4gICAgY29uc3QgeyBxdWVyeUlkIH0gPSBwZXJmb3JtU3lzY2FsbChcIjEuMC9xdWVyeVN0cmVhbVwiLCB7IHF1ZXJ5LCB2ZXJzaW9uIH0pO1xuICAgIHRoaXMuc3RhdGUgPSB7IHR5cGU6IFwiZXhlY3V0aW5nXCIsIHF1ZXJ5SWQgfTtcbiAgICByZXR1cm4gcXVlcnlJZDtcbiAgfVxuICBjbG9zZVF1ZXJ5KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnR5cGUgPT09IFwiZXhlY3V0aW5nXCIpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5SWQgPSB0aGlzLnN0YXRlLnF1ZXJ5SWQ7XG4gICAgICBwZXJmb3JtU3lzY2FsbChcIjEuMC9xdWVyeUNsZWFudXBcIiwgeyBxdWVyeUlkIH0pO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlID0geyB0eXBlOiBcImNvbnN1bWVkXCIgfTtcbiAgfVxuICBvcmRlcihvcmRlcikge1xuICAgIHZhbGlkYXRlQXJnKG9yZGVyLCAxLCBcIm9yZGVyXCIsIFwib3JkZXJcIik7XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnRha2VRdWVyeSgpO1xuICAgIGlmIChxdWVyeS5zb3VyY2UudHlwZSA9PT0gXCJTZWFyY2hcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlNlYXJjaCBxdWVyaWVzIG11c3QgYWx3YXlzIGJlIGluIHJlbGV2YW5jZSBvcmRlci4gQ2FuIG5vdCBzZXQgb3JkZXIgbWFudWFsbHkuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChxdWVyeS5zb3VyY2Uub3JkZXIgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlF1ZXJpZXMgbWF5IG9ubHkgc3BlY2lmeSBvcmRlciBhdCBtb3N0IG9uY2VcIik7XG4gICAgfVxuICAgIHF1ZXJ5LnNvdXJjZS5vcmRlciA9IG9yZGVyO1xuICAgIHJldHVybiBuZXcgUXVlcnlJbXBsKHF1ZXJ5KTtcbiAgfVxuICBmaWx0ZXIocHJlZGljYXRlKSB7XG4gICAgdmFsaWRhdGVBcmcocHJlZGljYXRlLCAxLCBcImZpbHRlclwiLCBcInByZWRpY2F0ZVwiKTtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMudGFrZVF1ZXJ5KCk7XG4gICAgaWYgKHF1ZXJ5Lm9wZXJhdG9ycy5sZW5ndGggPj0gTUFYX1FVRVJZX09QRVJBVE9SUykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2FuJ3QgY29uc3RydWN0IHF1ZXJ5IHdpdGggbW9yZSB0aGFuICR7TUFYX1FVRVJZX09QRVJBVE9SU30gb3BlcmF0b3JzYFxuICAgICAgKTtcbiAgICB9XG4gICAgcXVlcnkub3BlcmF0b3JzLnB1c2goe1xuICAgICAgZmlsdGVyOiBzZXJpYWxpemVFeHByZXNzaW9uKHByZWRpY2F0ZShmaWx0ZXJCdWlsZGVySW1wbCkpXG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBRdWVyeUltcGwocXVlcnkpO1xuICB9XG4gIGxpbWl0KG4pIHtcbiAgICB2YWxpZGF0ZUFyZyhuLCAxLCBcImxpbWl0XCIsIFwiblwiKTtcbiAgICBjb25zdCBxdWVyeSA9IHRoaXMudGFrZVF1ZXJ5KCk7XG4gICAgcXVlcnkub3BlcmF0b3JzLnB1c2goeyBsaW1pdDogbiB9KTtcbiAgICByZXR1cm4gbmV3IFF1ZXJ5SW1wbChxdWVyeSk7XG4gIH1cbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICB0aGlzLnN0YXJ0UXVlcnkoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBhc3luYyBuZXh0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnR5cGUgPT09IFwiY2xvc2VkXCIgfHwgdGhpcy5zdGF0ZS50eXBlID09PSBcImNvbnN1bWVkXCIpIHtcbiAgICAgIHRocm93Q2xvc2VkRXJyb3IodGhpcy5zdGF0ZS50eXBlKTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnlJZCA9IHRoaXMuc3RhdGUudHlwZSA9PT0gXCJwcmVwYXJpbmdcIiA/IHRoaXMuc3RhcnRRdWVyeSgpIDogdGhpcy5zdGF0ZS5xdWVyeUlkO1xuICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvcXVlcnlTdHJlYW1OZXh0XCIsIHtcbiAgICAgIHF1ZXJ5SWRcbiAgICB9KTtcbiAgICBpZiAoZG9uZSkge1xuICAgICAgdGhpcy5jbG9zZVF1ZXJ5KCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnZleFZhbHVlID0ganNvblRvQ29udmV4KHZhbHVlKTtcbiAgICByZXR1cm4geyB2YWx1ZTogY29udmV4VmFsdWUsIGRvbmUgfTtcbiAgfVxuICByZXR1cm4oKSB7XG4gICAgdGhpcy5jbG9zZVF1ZXJ5KCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IGRvbmU6IHRydWUsIHZhbHVlOiB2b2lkIDAgfSk7XG4gIH1cbiAgYXN5bmMgcGFnaW5hdGUocGFnaW5hdGlvbk9wdHMpIHtcbiAgICB2YWxpZGF0ZUFyZyhwYWdpbmF0aW9uT3B0cywgMSwgXCJwYWdpbmF0ZVwiLCBcIm9wdGlvbnNcIik7XG4gICAgaWYgKHR5cGVvZiBwYWdpbmF0aW9uT3B0cz8ubnVtSXRlbXMgIT09IFwibnVtYmVyXCIgfHwgcGFnaW5hdGlvbk9wdHMubnVtSXRlbXMgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBcXGBvcHRpb25zLm51bUl0ZW1zXFxgIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuIFJlY2VpdmVkIFxcYCR7cGFnaW5hdGlvbk9wdHM/Lm51bUl0ZW1zfVxcYC5gXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBxdWVyeSA9IHRoaXMudGFrZVF1ZXJ5KCk7XG4gICAgY29uc3QgcGFnZVNpemUgPSBwYWdpbmF0aW9uT3B0cy5udW1JdGVtcztcbiAgICBjb25zdCBjdXJzb3IgPSBwYWdpbmF0aW9uT3B0cy5jdXJzb3I7XG4gICAgY29uc3QgZW5kQ3Vyc29yID0gcGFnaW5hdGlvbk9wdHM/LmVuZEN1cnNvciA/PyBudWxsO1xuICAgIGNvbnN0IG1heGltdW1Sb3dzUmVhZCA9IHBhZ2luYXRpb25PcHRzLm1heGltdW1Sb3dzUmVhZCA/PyBudWxsO1xuICAgIGNvbnN0IHsgcGFnZSwgaXNEb25lLCBjb250aW51ZUN1cnNvciwgc3BsaXRDdXJzb3IsIHBhZ2VTdGF0dXMgfSA9IGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvcXVlcnlQYWdlXCIsIHtcbiAgICAgIHF1ZXJ5LFxuICAgICAgY3Vyc29yLFxuICAgICAgZW5kQ3Vyc29yLFxuICAgICAgcGFnZVNpemUsXG4gICAgICBtYXhpbXVtUm93c1JlYWQsXG4gICAgICBtYXhpbXVtQnl0ZXNSZWFkOiBwYWdpbmF0aW9uT3B0cy5tYXhpbXVtQnl0ZXNSZWFkLFxuICAgICAgdmVyc2lvblxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBwYWdlOiBwYWdlLm1hcCgoanNvbikgPT4ganNvblRvQ29udmV4KGpzb24pKSxcbiAgICAgIGlzRG9uZSxcbiAgICAgIGNvbnRpbnVlQ3Vyc29yLFxuICAgICAgc3BsaXRDdXJzb3IsXG4gICAgICBwYWdlU3RhdHVzXG4gICAgfTtcbiAgfVxuICBhc3luYyBjb2xsZWN0KCkge1xuICAgIGNvbnN0IG91dCA9IFtdO1xuICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiB0aGlzKSB7XG4gICAgICBvdXQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICBhc3luYyB0YWtlKG4pIHtcbiAgICB2YWxpZGF0ZUFyZyhuLCAxLCBcInRha2VcIiwgXCJuXCIpO1xuICAgIHZhbGlkYXRlQXJnSXNOb25OZWdhdGl2ZUludGVnZXIobiwgMSwgXCJ0YWtlXCIsIFwiblwiKTtcbiAgICByZXR1cm4gdGhpcy5saW1pdChuKS5jb2xsZWN0KCk7XG4gIH1cbiAgYXN5bmMgZmlyc3QoKSB7XG4gICAgY29uc3QgZmlyc3RfYXJyYXkgPSBhd2FpdCB0aGlzLnRha2UoMSk7XG4gICAgcmV0dXJuIGZpcnN0X2FycmF5Lmxlbmd0aCA9PT0gMCA/IG51bGwgOiBmaXJzdF9hcnJheVswXTtcbiAgfVxuICBhc3luYyB1bmlxdWUoKSB7XG4gICAgY29uc3QgZmlyc3RfdHdvX2FycmF5ID0gYXdhaXQgdGhpcy50YWtlKDIpO1xuICAgIGlmIChmaXJzdF90d29fYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGZpcnN0X3R3b19hcnJheS5sZW5ndGggPT09IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdW5pcXVlKCkgcXVlcnkgcmV0dXJuZWQgbW9yZSB0aGFuIG9uZSByZXN1bHQgZnJvbSB0YWJsZSAke3RoaXMudGFibGVOYW1lRm9yRXJyb3JNZXNzYWdlc306XG4gWyR7Zmlyc3RfdHdvX2FycmF5WzBdLl9pZH0sICR7Zmlyc3RfdHdvX2FycmF5WzFdLl9pZH0sIC4uLl1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpcnN0X3R3b19hcnJheVswXTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnlfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsImpzb25Ub0NvbnZleCIsInBlcmZvcm1Bc3luY1N5c2NhbGwiLCJwZXJmb3JtU3lzY2FsbCIsImZpbHRlckJ1aWxkZXJJbXBsIiwic2VyaWFsaXplRXhwcmVzc2lvbiIsIkluZGV4UmFuZ2VCdWlsZGVySW1wbCIsIlNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsIiwidmFsaWRhdGVBcmciLCJ2YWxpZGF0ZUFyZ0lzTm9uTmVnYXRpdmVJbnRlZ2VyIiwidmVyc2lvbiIsIk1BWF9RVUVSWV9PUEVSQVRPUlMiLCJRdWVyeUluaXRpYWxpemVySW1wbCIsImNvbnN0cnVjdG9yIiwidGFibGVOYW1lIiwid2l0aEluZGV4IiwiaW5kZXhOYW1lIiwiaW5kZXhSYW5nZSIsInJhbmdlQnVpbGRlciIsIm5ldyIsIlF1ZXJ5SW1wbCIsInNvdXJjZSIsInR5cGUiLCJyYW5nZSIsImV4cG9ydCIsIm9yZGVyIiwib3BlcmF0b3JzIiwid2l0aFNlYXJjaEluZGV4Iiwic2VhcmNoRmlsdGVyIiwic2VhcmNoRmlsdGVyQnVpbGRlciIsImZpbHRlcnMiLCJmdWxsVGFibGVTY2FuIiwiY291bnQiLCJzeXNjYWxsSlNPTiIsInRhYmxlIiwic3lzY2FsbFJlc3VsdCIsImZpbHRlciIsInByZWRpY2F0ZSIsImxpbWl0IiwibiIsImNvbGxlY3QiLCJ0YWtlIiwicGFnaW5hdGUiLCJwYWdpbmF0aW9uT3B0cyIsImZpcnN0IiwidW5pcXVlIiwiU3ltYm9sIiwiYXN5bmNJdGVyYXRvciIsInRocm93Q2xvc2VkRXJyb3IiLCJFcnJvciIsInF1ZXJ5Iiwic3RhdGUiLCJ0YWJsZU5hbWVGb3JFcnJvck1lc3NhZ2VzIiwic3BsaXQiLCJ0YWtlUXVlcnkiLCJzdGFydFF1ZXJ5IiwicXVlcnlJZCIsImNsb3NlUXVlcnkiLCJsZW5ndGgiLCJwdXNoIiwibmV4dCIsImRvbmUiLCJjb252ZXhWYWx1ZSIsInJldHVybiIsIlByb21pc2UiLCJyZXNvbHZlIiwibnVtSXRlbXMiLCJwYWdlU2l6ZSIsImN1cnNvciIsImVuZEN1cnNvciIsIm1heGltdW1Sb3dzUmVhZCIsInBhZ2UiLCJpc0RvbmUiLCJjb250aW51ZUN1cnNvciIsInNwbGl0Q3Vyc29yIiwicGFnZVN0YXR1cyIsIm1heGltdW1CeXRlc1JlYWQiLCJtYXAiLCJqc29uIiwib3V0IiwiaXRlbSIsImZpcnN0X2FycmF5IiwiZmlyc3RfdHdvX2FycmF5IiwiX2lkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/registration_impl.js":
/*!***********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/registration_impl.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionGeneric: () => (/* binding */ actionGeneric),\n/* harmony export */   httpActionGeneric: () => (/* binding */ httpActionGeneric),\n/* harmony export */   internalActionGeneric: () => (/* binding */ internalActionGeneric),\n/* harmony export */   internalMutationGeneric: () => (/* binding */ internalMutationGeneric),\n/* harmony export */   internalQueryGeneric: () => (/* binding */ internalQueryGeneric),\n/* harmony export */   invokeFunction: () => (/* binding */ invokeFunction),\n/* harmony export */   mutationGeneric: () => (/* binding */ mutationGeneric),\n/* harmony export */   queryGeneric: () => (/* binding */ queryGeneric),\n/* harmony export */   validateReturnValue: () => (/* binding */ validateReturnValue)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _actions_impl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actions_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/actions_impl.js\");\n/* harmony import */ var _vector_search_impl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vector_search_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/vector_search_impl.js\");\n/* harmony import */ var _authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./authentication_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/authentication_impl.js\");\n/* harmony import */ var _database_impl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./database_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/database_impl.js\");\n/* harmony import */ var _query_impl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./query_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/query_impl.js\");\n/* harmony import */ var _scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scheduler_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/scheduler_impl.js\");\n/* harmony import */ var _storage_impl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./storage_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/storage_impl.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _values_validator_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../values/validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n/* harmony import */ var _components_paths_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nasync function invokeMutation(func, argsStr) {\n    const requestId = \"\";\n    const args = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(JSON.parse(argsStr));\n    const mutationCtx = {\n        db: (0,_database_impl_js__WEBPACK_IMPORTED_MODULE_4__.setupWriter)(),\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageWriter)(requestId),\n        scheduler: (0,_scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__.setupMutationScheduler)(),\n        runQuery: (reference, args2)=>runUdf(\"query\", reference, args2),\n        runMutation: (reference, args2)=>runUdf(\"mutation\", reference, args2)\n    };\n    const result = await invokeFunction(func, mutationCtx, args);\n    validateReturnValue(result);\n    return JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(result === void 0 ? null : result));\n}\nfunction validateReturnValue(v2) {\n    if (v2 instanceof _query_impl_js__WEBPACK_IMPORTED_MODULE_5__.QueryInitializerImpl || v2 instanceof _query_impl_js__WEBPACK_IMPORTED_MODULE_5__.QueryImpl) {\n        throw new Error(\"Return value is a Query. Results must be retrieved with `.collect()`, `.take(n), `.unique()`, or `.first()`.\");\n    }\n}\nasync function invokeFunction(func, ctx, args) {\n    let result;\n    try {\n        result = await Promise.resolve(func(ctx, ...args));\n    } catch (thrown) {\n        throw serializeConvexErrorData(thrown);\n    }\n    return result;\n}\nfunction dontCallDirectly(funcType, handler) {\n    return (ctx, args)=>{\n        globalThis.console.warn(`Convex functions should not directly call other Convex functions. Consider calling a helper function instead. e.g. \\`export const foo = ${funcType}(...); await foo(ctx);\\` is not supported. See https://docs.convex.dev/production/best-practices/#use-helper-functions-to-write-shared-code`);\n        return handler(ctx, args);\n    };\n}\nfunction serializeConvexErrorData(thrown) {\n    if (typeof thrown === \"object\" && thrown !== null && Symbol.for(\"ConvexError\") in thrown) {\n        const error = thrown;\n        error.data = JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(error.data === void 0 ? null : error.data));\n        error.ConvexErrorSymbol = Symbol.for(\"ConvexError\");\n        return error;\n    } else {\n        return thrown;\n    }\n}\nfunction assertNotBrowser() {\n    if (true) {\n        return;\n    }\n    const isRealBrowser = Object.getOwnPropertyDescriptor(globalThis, \"window\")?.get?.toString().includes(\"[native code]\") ?? false;\n    if (isRealBrowser) {\n        console.error(\"Convex functions should not be imported in the browser. This will throw an error in future versions of `convex`. If this is a false negative, please report it to Convex support.\");\n    }\n}\nfunction strictReplacer(key, value) {\n    if (value === void 0) {\n        throw new Error(`Cannot serialize validator value \\`undefined\\` for ${key}`);\n    }\n    return value;\n}\nfunction exportArgs(functionDefinition) {\n    return ()=>{\n        let args = _values_index_js__WEBPACK_IMPORTED_MODULE_0__.v.any();\n        if (typeof functionDefinition === \"object\" && functionDefinition.args !== void 0) {\n            args = (0,_values_validator_js__WEBPACK_IMPORTED_MODULE_10__.asObjectValidator)(functionDefinition.args);\n        }\n        return JSON.stringify(args.json, strictReplacer);\n    };\n}\nfunction exportReturns(functionDefinition) {\n    return ()=>{\n        let returns;\n        if (typeof functionDefinition === \"object\" && functionDefinition.returns !== void 0) {\n            returns = (0,_values_validator_js__WEBPACK_IMPORTED_MODULE_10__.asObjectValidator)(functionDefinition.returns);\n        }\n        return JSON.stringify(returns ? returns.json : null, strictReplacer);\n    };\n}\nconst mutationGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"mutation\", handler);\n    assertNotBrowser();\n    func.isMutation = true;\n    func.isPublic = true;\n    func.invokeMutation = (argsStr)=>invokeMutation(handler, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nconst internalMutationGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"internalMutation\", handler);\n    assertNotBrowser();\n    func.isMutation = true;\n    func.isInternal = true;\n    func.invokeMutation = (argsStr)=>invokeMutation(handler, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nasync function invokeQuery(func, argsStr) {\n    const requestId = \"\";\n    const args = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(JSON.parse(argsStr));\n    const queryCtx = {\n        db: (0,_database_impl_js__WEBPACK_IMPORTED_MODULE_4__.setupReader)(),\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageReader)(requestId),\n        runQuery: (reference, args2)=>runUdf(\"query\", reference, args2)\n    };\n    const result = await invokeFunction(func, queryCtx, args);\n    validateReturnValue(result);\n    return JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(result === void 0 ? null : result));\n}\nconst queryGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"query\", handler);\n    assertNotBrowser();\n    func.isQuery = true;\n    func.isPublic = true;\n    func.invokeQuery = (argsStr)=>invokeQuery(handler, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nconst internalQueryGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"internalQuery\", handler);\n    assertNotBrowser();\n    func.isQuery = true;\n    func.isInternal = true;\n    func.invokeQuery = (argsStr)=>invokeQuery(handler, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nasync function invokeAction(func, requestId, argsStr) {\n    const args = (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(JSON.parse(argsStr));\n    const calls = (0,_actions_impl_js__WEBPACK_IMPORTED_MODULE_1__.setupActionCalls)(requestId);\n    const ctx = {\n        ...calls,\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        scheduler: (0,_scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__.setupActionScheduler)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageActionWriter)(requestId),\n        vectorSearch: (0,_vector_search_impl_js__WEBPACK_IMPORTED_MODULE_2__.setupActionVectorSearch)(requestId)\n    };\n    const result = await invokeFunction(func, ctx, args);\n    return JSON.stringify((0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(result === void 0 ? null : result));\n}\nconst actionGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"action\", handler);\n    assertNotBrowser();\n    func.isAction = true;\n    func.isPublic = true;\n    func.invokeAction = (requestId, argsStr)=>invokeAction(handler, requestId, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nconst internalActionGeneric = (functionDefinition)=>{\n    const handler = typeof functionDefinition === \"function\" ? functionDefinition : functionDefinition.handler;\n    const func = dontCallDirectly(\"internalAction\", handler);\n    assertNotBrowser();\n    func.isAction = true;\n    func.isInternal = true;\n    func.invokeAction = (requestId, argsStr)=>invokeAction(handler, requestId, argsStr);\n    func.exportArgs = exportArgs(functionDefinition);\n    func.exportReturns = exportReturns(functionDefinition);\n    func._handler = handler;\n    return func;\n};\nasync function invokeHttpAction(func, request) {\n    const requestId = \"\";\n    const calls = (0,_actions_impl_js__WEBPACK_IMPORTED_MODULE_1__.setupActionCalls)(requestId);\n    const ctx = {\n        ...calls,\n        auth: (0,_authentication_impl_js__WEBPACK_IMPORTED_MODULE_3__.setupAuth)(requestId),\n        storage: (0,_storage_impl_js__WEBPACK_IMPORTED_MODULE_7__.setupStorageActionWriter)(requestId),\n        scheduler: (0,_scheduler_impl_js__WEBPACK_IMPORTED_MODULE_6__.setupActionScheduler)(requestId),\n        vectorSearch: (0,_vector_search_impl_js__WEBPACK_IMPORTED_MODULE_2__.setupActionVectorSearch)(requestId)\n    };\n    return await invokeFunction(func, ctx, [\n        request\n    ]);\n}\nconst httpActionGeneric = (func)=>{\n    const q = dontCallDirectly(\"httpAction\", func);\n    assertNotBrowser();\n    q.isHttp = true;\n    q.invokeHttpAction = (request)=>invokeHttpAction(func, request);\n    q._handler = func;\n    return q;\n};\nasync function runUdf(udfType, f, args) {\n    const queryArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_8__.parseArgs)(args);\n    const syscallArgs = {\n        udfType,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(queryArgs),\n        ...(0,_components_paths_js__WEBPACK_IMPORTED_MODULE_11__.getFunctionAddress)(f)\n    };\n    const result = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_9__.performAsyncSyscall)(\"1.0/runUdf\", syscallArgs);\n    return (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex)(result);\n} //# sourceMappingURL=registration_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3JlZ2lzdHJhdGlvbl9pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFhO0FBS2tCO0FBQ3NCO0FBQ2E7QUFDYjtBQUNTO0FBQ0k7QUFJckM7QUFLRjtBQUN1QjtBQUNDO0FBQ1c7QUFDRjtBQUM1RCxlQUFlbUIsZUFBZUMsSUFBSSxFQUFFQyxPQUFPO0lBQ3pDLE1BQU1DLFlBQVk7SUFDbEIsTUFBTUMsT0FBT3RCLDhEQUFZQSxDQUFDdUIsS0FBS0MsS0FBSyxDQUFDSjtJQUNyQyxNQUFNSyxjQUFjO1FBQ2xCQyxJQUFJcEIsOERBQVdBO1FBQ2ZxQixNQUFNdkIsa0VBQVNBLENBQUNpQjtRQUNoQk8sU0FBU2Ysb0VBQWtCQSxDQUFDUTtRQUM1QlEsV0FBV25CLDBFQUFzQkE7UUFDakNvQixVQUFVLENBQUNDLFdBQVdDLFFBQVVDLE9BQU8sU0FBU0YsV0FBV0M7UUFDM0RFLGFBQWEsQ0FBQ0gsV0FBV0MsUUFBVUMsT0FBTyxZQUFZRixXQUFXQztJQUNuRTtJQUNBLE1BQU1HLFNBQVMsTUFBTUMsZUFBZWpCLE1BQU1NLGFBQWFIO0lBQ3ZEZSxvQkFBb0JGO0lBQ3BCLE9BQU9aLEtBQUtlLFNBQVMsQ0FBQ3ZDLDhEQUFZQSxDQUFDb0MsV0FBVyxLQUFLLElBQUksT0FBT0E7QUFDaEU7QUFDTyxTQUFTRSxvQkFBb0JFLEVBQUU7SUFDcEMsSUFBSUEsY0FBYy9CLGdFQUFvQkEsSUFBSStCLGNBQWNoQyxxREFBU0EsRUFBRTtRQUNqRSxNQUFNLElBQUlpQyxNQUNSO0lBRUo7QUFDRjtBQUNPLGVBQWVKLGVBQWVqQixJQUFJLEVBQUVzQixHQUFHLEVBQUVuQixJQUFJO0lBQ2xELElBQUlhO0lBQ0osSUFBSTtRQUNGQSxTQUFTLE1BQU1PLFFBQVFDLE9BQU8sQ0FBQ3hCLEtBQUtzQixRQUFRbkI7SUFDOUMsRUFBRSxPQUFPc0IsUUFBUTtRQUNmLE1B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QUcsQ0FBQ0MsVUFBWUQsaUJBQWlCekUsTUFBTTBFO0lBQ3pERSxFQUFFakIsUUFBUSxHQUFHM0Q7SUFDYixPQUFPNEU7QUFDVCxFQUFFO0FBQ0YsZUFBZTlELE9BQU9nRSxPQUFPLEVBQUVDLENBQUMsRUFBRTVFLElBQUk7SUFDcEMsTUFBTTZFLFlBQVlyRiwyREFBU0EsQ0FBQ1E7SUFDNUIsTUFBTThFLGNBQWM7UUFDbEJIO1FBQ0EzRSxNQUFNdkIsOERBQVlBLENBQUNvRztRQUNuQixHQUFHbEYseUVBQWtCQSxDQUFDaUYsRUFBRTtJQUMxQjtJQUNBLE1BQU0vRCxTQUFTLE1BQU1wQixnRUFBbUJBLENBQUMsY0FBY3FGO0lBQ3ZELE9BQU9wRyw4REFBWUEsQ0FBQ21DO0FBQ3RCLEVBQ0EsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3JlZ2lzdHJhdGlvbl9pbXBsLmpzPzU0YTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQge1xuICBjb252ZXhUb0pzb24sXG4gIGpzb25Ub0NvbnZleCxcbiAgdlxufSBmcm9tIFwiLi4vLi4vdmFsdWVzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzZXR1cEFjdGlvbkNhbGxzIH0gZnJvbSBcIi4vYWN0aW9uc19pbXBsLmpzXCI7XG5pbXBvcnQgeyBzZXR1cEFjdGlvblZlY3RvclNlYXJjaCB9IGZyb20gXCIuL3ZlY3Rvcl9zZWFyY2hfaW1wbC5qc1wiO1xuaW1wb3J0IHsgc2V0dXBBdXRoIH0gZnJvbSBcIi4vYXV0aGVudGljYXRpb25faW1wbC5qc1wiO1xuaW1wb3J0IHsgc2V0dXBSZWFkZXIsIHNldHVwV3JpdGVyIH0gZnJvbSBcIi4vZGF0YWJhc2VfaW1wbC5qc1wiO1xuaW1wb3J0IHsgUXVlcnlJbXBsLCBRdWVyeUluaXRpYWxpemVySW1wbCB9IGZyb20gXCIuL3F1ZXJ5X2ltcGwuanNcIjtcbmltcG9ydCB7XG4gIHNldHVwQWN0aW9uU2NoZWR1bGVyLFxuICBzZXR1cE11dGF0aW9uU2NoZWR1bGVyXG59IGZyb20gXCIuL3NjaGVkdWxlcl9pbXBsLmpzXCI7XG5pbXBvcnQge1xuICBzZXR1cFN0b3JhZ2VBY3Rpb25Xcml0ZXIsXG4gIHNldHVwU3RvcmFnZVJlYWRlcixcbiAgc2V0dXBTdG9yYWdlV3JpdGVyXG59IGZyb20gXCIuL3N0b3JhZ2VfaW1wbC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcmdzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCB9IGZyb20gXCIuL3N5c2NhbGwuanNcIjtcbmltcG9ydCB7IGFzT2JqZWN0VmFsaWRhdG9yIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy92YWxpZGF0b3IuanNcIjtcbmltcG9ydCB7IGdldEZ1bmN0aW9uQWRkcmVzcyB9IGZyb20gXCIuLi9jb21wb25lbnRzL3BhdGhzLmpzXCI7XG5hc3luYyBmdW5jdGlvbiBpbnZva2VNdXRhdGlvbihmdW5jLCBhcmdzU3RyKSB7XG4gIGNvbnN0IHJlcXVlc3RJZCA9IFwiXCI7XG4gIGNvbnN0IGFyZ3MgPSBqc29uVG9Db252ZXgoSlNPTi5wYXJzZShhcmdzU3RyKSk7XG4gIGNvbnN0IG11dGF0aW9uQ3R4ID0ge1xuICAgIGRiOiBzZXR1cFdyaXRlcigpLFxuICAgIGF1dGg6IHNldHVwQXV0aChyZXF1ZXN0SWQpLFxuICAgIHN0b3JhZ2U6IHNldHVwU3RvcmFnZVdyaXRlcihyZXF1ZXN0SWQpLFxuICAgIHNjaGVkdWxlcjogc2V0dXBNdXRhdGlvblNjaGVkdWxlcigpLFxuICAgIHJ1blF1ZXJ5OiAocmVmZXJlbmNlLCBhcmdzMikgPT4gcnVuVWRmKFwicXVlcnlcIiwgcmVmZXJlbmNlLCBhcmdzMiksXG4gICAgcnVuTXV0YXRpb246IChyZWZlcmVuY2UsIGFyZ3MyKSA9PiBydW5VZGYoXCJtdXRhdGlvblwiLCByZWZlcmVuY2UsIGFyZ3MyKVxuICB9O1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBpbnZva2VGdW5jdGlvbihmdW5jLCBtdXRhdGlvbkN0eCwgYXJncyk7XG4gIHZhbGlkYXRlUmV0dXJuVmFsdWUocmVzdWx0KTtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGNvbnZleFRvSnNvbihyZXN1bHQgPT09IHZvaWQgMCA/IG51bGwgOiByZXN1bHQpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVJldHVyblZhbHVlKHYyKSB7XG4gIGlmICh2MiBpbnN0YW5jZW9mIFF1ZXJ5SW5pdGlhbGl6ZXJJbXBsIHx8IHYyIGluc3RhbmNlb2YgUXVlcnlJbXBsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJSZXR1cm4gdmFsdWUgaXMgYSBRdWVyeS4gUmVzdWx0cyBtdXN0IGJlIHJldHJpZXZlZCB3aXRoIGAuY29sbGVjdCgpYCwgYC50YWtlKG4pLCBgLnVuaXF1ZSgpYCwgb3IgYC5maXJzdCgpYC5cIlxuICAgICk7XG4gIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnZva2VGdW5jdGlvbihmdW5jLCBjdHgsIGFyZ3MpIHtcbiAgbGV0IHJlc3VsdDtcbiAgdHJ5IHtcbiAgICByZXN1bHQgPSBhd2FpdCBQcm9taXNlLnJlc29sdmUoZnVuYyhjdHgsIC4uLmFyZ3MpKTtcbiAgfSBjYXRjaCAodGhyb3duKSB7XG4gICAgdGhyb3cgc2VyaWFsaXplQ29udmV4RXJyb3JEYXRhKHRocm93bik7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGRvbnRDYWxsRGlyZWN0bHkoZnVuY1R5cGUsIGhhbmRsZXIpIHtcbiAgcmV0dXJuIChjdHgsIGFyZ3MpID0+IHtcbiAgICBnbG9iYWxUaGlzLmNvbnNvbGUud2FybihcbiAgICAgIGBDb252ZXggZnVuY3Rpb25zIHNob3VsZCBub3QgZGlyZWN0bHkgY2FsbCBvdGhlciBDb252ZXggZnVuY3Rpb25zLiBDb25zaWRlciBjYWxsaW5nIGEgaGVscGVyIGZ1bmN0aW9uIGluc3RlYWQuIGUuZy4gXFxgZXhwb3J0IGNvbnN0IGZvbyA9ICR7ZnVuY1R5cGV9KC4uLik7IGF3YWl0IGZvbyhjdHgpO1xcYCBpcyBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvcHJvZHVjdGlvbi9iZXN0LXByYWN0aWNlcy8jdXNlLWhlbHBlci1mdW5jdGlvbnMtdG8td3JpdGUtc2hhcmVkLWNvZGVgXG4gICAgKTtcbiAgICByZXR1cm4gaGFuZGxlcihjdHgsIGFyZ3MpO1xuICB9O1xufVxuZnVuY3Rpb24gc2VyaWFsaXplQ29udmV4RXJyb3JEYXRhKHRocm93bikge1xuICBpZiAodHlwZW9mIHRocm93biA9PT0gXCJvYmplY3RcIiAmJiB0aHJvd24gIT09IG51bGwgJiYgU3ltYm9sLmZvcihcIkNvbnZleEVycm9yXCIpIGluIHRocm93bikge1xuICAgIGNvbnN0IGVycm9yID0gdGhyb3duO1xuICAgIGVycm9yLmRhdGEgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgIGNvbnZleFRvSnNvbihlcnJvci5kYXRhID09PSB2b2lkIDAgPyBudWxsIDogZXJyb3IuZGF0YSlcbiAgICApO1xuICAgIGVycm9yLkNvbnZleEVycm9yU3ltYm9sID0gU3ltYm9sLmZvcihcIkNvbnZleEVycm9yXCIpO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhyb3duO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnROb3RCcm93c2VyKCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCB3aW5kb3cuX19jb252ZXhBbGxvd0Z1bmN0aW9uc0luQnJvd3Nlcikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBpc1JlYWxCcm93c2VyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWxUaGlzLCBcIndpbmRvd1wiKT8uZ2V0Py50b1N0cmluZygpLmluY2x1ZGVzKFwiW25hdGl2ZSBjb2RlXVwiKSA/PyBmYWxzZTtcbiAgaWYgKGlzUmVhbEJyb3dzZXIpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJDb252ZXggZnVuY3Rpb25zIHNob3VsZCBub3QgYmUgaW1wb3J0ZWQgaW4gdGhlIGJyb3dzZXIuIFRoaXMgd2lsbCB0aHJvdyBhbiBlcnJvciBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgYGNvbnZleGAuIElmIHRoaXMgaXMgYSBmYWxzZSBuZWdhdGl2ZSwgcGxlYXNlIHJlcG9ydCBpdCB0byBDb252ZXggc3VwcG9ydC5cIlxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHN0cmljdFJlcGxhY2VyKGtleSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ2Fubm90IHNlcmlhbGl6ZSB2YWxpZGF0b3IgdmFsdWUgXFxgdW5kZWZpbmVkXFxgIGZvciAke2tleX1gXG4gICAgKTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbikge1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBhcmdzID0gdi5hbnkoKTtcbiAgICBpZiAodHlwZW9mIGZ1bmN0aW9uRGVmaW5pdGlvbiA9PT0gXCJvYmplY3RcIiAmJiBmdW5jdGlvbkRlZmluaXRpb24uYXJncyAhPT0gdm9pZCAwKSB7XG4gICAgICBhcmdzID0gYXNPYmplY3RWYWxpZGF0b3IoZnVuY3Rpb25EZWZpbml0aW9uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJncy5qc29uLCBzdHJpY3RSZXBsYWNlcik7XG4gIH07XG59XG5mdW5jdGlvbiBleHBvcnRSZXR1cm5zKGZ1bmN0aW9uRGVmaW5pdGlvbikge1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCByZXR1cm5zO1xuICAgIGlmICh0eXBlb2YgZnVuY3Rpb25EZWZpbml0aW9uID09PSBcIm9iamVjdFwiICYmIGZ1bmN0aW9uRGVmaW5pdGlvbi5yZXR1cm5zICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybnMgPSBhc09iamVjdFZhbGlkYXRvcihmdW5jdGlvbkRlZmluaXRpb24ucmV0dXJucyk7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShyZXR1cm5zID8gcmV0dXJucy5qc29uIDogbnVsbCwgc3RyaWN0UmVwbGFjZXIpO1xuICB9O1xufVxuZXhwb3J0IGNvbnN0IG11dGF0aW9uR2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBjb25zdCBmdW5jID0gZG9udENhbGxEaXJlY3RseShcIm11dGF0aW9uXCIsIGhhbmRsZXIpO1xuICBhc3NlcnROb3RCcm93c2VyKCk7XG4gIGZ1bmMuaXNNdXRhdGlvbiA9IHRydWU7XG4gIGZ1bmMuaXNQdWJsaWMgPSB0cnVlO1xuICBmdW5jLmludm9rZU11dGF0aW9uID0gKGFyZ3NTdHIpID0+IGludm9rZU11dGF0aW9uKGhhbmRsZXIsIGFyZ3NTdHIpO1xuICBmdW5jLmV4cG9ydEFyZ3MgPSBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIGZ1bmMuZXhwb3J0UmV0dXJucyA9IGV4cG9ydFJldHVybnMoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5faGFuZGxlciA9IGhhbmRsZXI7XG4gIHJldHVybiBmdW5jO1xufTtcbmV4cG9ydCBjb25zdCBpbnRlcm5hbE11dGF0aW9uR2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBjb25zdCBmdW5jID0gZG9udENhbGxEaXJlY3RseShcbiAgICBcImludGVybmFsTXV0YXRpb25cIixcbiAgICBoYW5kbGVyXG4gICk7XG4gIGFzc2VydE5vdEJyb3dzZXIoKTtcbiAgZnVuYy5pc011dGF0aW9uID0gdHJ1ZTtcbiAgZnVuYy5pc0ludGVybmFsID0gdHJ1ZTtcbiAgZnVuYy5pbnZva2VNdXRhdGlvbiA9IChhcmdzU3RyKSA9PiBpbnZva2VNdXRhdGlvbihoYW5kbGVyLCBhcmdzU3RyKTtcbiAgZnVuYy5leHBvcnRBcmdzID0gZXhwb3J0QXJncyhmdW5jdGlvbkRlZmluaXRpb24pO1xuICBmdW5jLmV4cG9ydFJldHVybnMgPSBleHBvcnRSZXR1cm5zKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIGZ1bmMuX2hhbmRsZXIgPSBoYW5kbGVyO1xuICByZXR1cm4gZnVuYztcbn07XG5hc3luYyBmdW5jdGlvbiBpbnZva2VRdWVyeShmdW5jLCBhcmdzU3RyKSB7XG4gIGNvbnN0IHJlcXVlc3RJZCA9IFwiXCI7XG4gIGNvbnN0IGFyZ3MgPSBqc29uVG9Db252ZXgoSlNPTi5wYXJzZShhcmdzU3RyKSk7XG4gIGNvbnN0IHF1ZXJ5Q3R4ID0ge1xuICAgIGRiOiBzZXR1cFJlYWRlcigpLFxuICAgIGF1dGg6IHNldHVwQXV0aChyZXF1ZXN0SWQpLFxuICAgIHN0b3JhZ2U6IHNldHVwU3RvcmFnZVJlYWRlcihyZXF1ZXN0SWQpLFxuICAgIHJ1blF1ZXJ5OiAocmVmZXJlbmNlLCBhcmdzMikgPT4gcnVuVWRmKFwicXVlcnlcIiwgcmVmZXJlbmNlLCBhcmdzMilcbiAgfTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaW52b2tlRnVuY3Rpb24oZnVuYywgcXVlcnlDdHgsIGFyZ3MpO1xuICB2YWxpZGF0ZVJldHVyblZhbHVlKHJlc3VsdCk7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24ocmVzdWx0ID09PSB2b2lkIDAgPyBudWxsIDogcmVzdWx0KSk7XG59XG5leHBvcnQgY29uc3QgcXVlcnlHZW5lcmljID0gKGZ1bmN0aW9uRGVmaW5pdGlvbikgPT4ge1xuICBjb25zdCBoYW5kbGVyID0gdHlwZW9mIGZ1bmN0aW9uRGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiID8gZnVuY3Rpb25EZWZpbml0aW9uIDogZnVuY3Rpb25EZWZpbml0aW9uLmhhbmRsZXI7XG4gIGNvbnN0IGZ1bmMgPSBkb250Q2FsbERpcmVjdGx5KFwicXVlcnlcIiwgaGFuZGxlcik7XG4gIGFzc2VydE5vdEJyb3dzZXIoKTtcbiAgZnVuYy5pc1F1ZXJ5ID0gdHJ1ZTtcbiAgZnVuYy5pc1B1YmxpYyA9IHRydWU7XG4gIGZ1bmMuaW52b2tlUXVlcnkgPSAoYXJnc1N0cikgPT4gaW52b2tlUXVlcnkoaGFuZGxlciwgYXJnc1N0cik7XG4gIGZ1bmMuZXhwb3J0QXJncyA9IGV4cG9ydEFyZ3MoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5leHBvcnRSZXR1cm5zID0gZXhwb3J0UmV0dXJucyhmdW5jdGlvbkRlZmluaXRpb24pO1xuICBmdW5jLl9oYW5kbGVyID0gaGFuZGxlcjtcbiAgcmV0dXJuIGZ1bmM7XG59O1xuZXhwb3J0IGNvbnN0IGludGVybmFsUXVlcnlHZW5lcmljID0gKGZ1bmN0aW9uRGVmaW5pdGlvbikgPT4ge1xuICBjb25zdCBoYW5kbGVyID0gdHlwZW9mIGZ1bmN0aW9uRGVmaW5pdGlvbiA9PT0gXCJmdW5jdGlvblwiID8gZnVuY3Rpb25EZWZpbml0aW9uIDogZnVuY3Rpb25EZWZpbml0aW9uLmhhbmRsZXI7XG4gIGNvbnN0IGZ1bmMgPSBkb250Q2FsbERpcmVjdGx5KFwiaW50ZXJuYWxRdWVyeVwiLCBoYW5kbGVyKTtcbiAgYXNzZXJ0Tm90QnJvd3NlcigpO1xuICBmdW5jLmlzUXVlcnkgPSB0cnVlO1xuICBmdW5jLmlzSW50ZXJuYWwgPSB0cnVlO1xuICBmdW5jLmludm9rZVF1ZXJ5ID0gKGFyZ3NTdHIpID0+IGludm9rZVF1ZXJ5KGhhbmRsZXIsIGFyZ3NTdHIpO1xuICBmdW5jLmV4cG9ydEFyZ3MgPSBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIGZ1bmMuZXhwb3J0UmV0dXJucyA9IGV4cG9ydFJldHVybnMoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5faGFuZGxlciA9IGhhbmRsZXI7XG4gIHJldHVybiBmdW5jO1xufTtcbmFzeW5jIGZ1bmN0aW9uIGludm9rZUFjdGlvbihmdW5jLCByZXF1ZXN0SWQsIGFyZ3NTdHIpIHtcbiAgY29uc3QgYXJncyA9IGpzb25Ub0NvbnZleChKU09OLnBhcnNlKGFyZ3NTdHIpKTtcbiAgY29uc3QgY2FsbHMgPSBzZXR1cEFjdGlvbkNhbGxzKHJlcXVlc3RJZCk7XG4gIGNvbnN0IGN0eCA9IHtcbiAgICAuLi5jYWxscyxcbiAgICBhdXRoOiBzZXR1cEF1dGgocmVxdWVzdElkKSxcbiAgICBzY2hlZHVsZXI6IHNldHVwQWN0aW9uU2NoZWR1bGVyKHJlcXVlc3RJZCksXG4gICAgc3RvcmFnZTogc2V0dXBTdG9yYWdlQWN0aW9uV3JpdGVyKHJlcXVlc3RJZCksXG4gICAgdmVjdG9yU2VhcmNoOiBzZXR1cEFjdGlvblZlY3RvclNlYXJjaChyZXF1ZXN0SWQpXG4gIH07XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludm9rZUZ1bmN0aW9uKGZ1bmMsIGN0eCwgYXJncyk7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShjb252ZXhUb0pzb24ocmVzdWx0ID09PSB2b2lkIDAgPyBudWxsIDogcmVzdWx0KSk7XG59XG5leHBvcnQgY29uc3QgYWN0aW9uR2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBjb25zdCBmdW5jID0gZG9udENhbGxEaXJlY3RseShcImFjdGlvblwiLCBoYW5kbGVyKTtcbiAgYXNzZXJ0Tm90QnJvd3NlcigpO1xuICBmdW5jLmlzQWN0aW9uID0gdHJ1ZTtcbiAgZnVuYy5pc1B1YmxpYyA9IHRydWU7XG4gIGZ1bmMuaW52b2tlQWN0aW9uID0gKHJlcXVlc3RJZCwgYXJnc1N0cikgPT4gaW52b2tlQWN0aW9uKGhhbmRsZXIsIHJlcXVlc3RJZCwgYXJnc1N0cik7XG4gIGZ1bmMuZXhwb3J0QXJncyA9IGV4cG9ydEFyZ3MoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5leHBvcnRSZXR1cm5zID0gZXhwb3J0UmV0dXJucyhmdW5jdGlvbkRlZmluaXRpb24pO1xuICBmdW5jLl9oYW5kbGVyID0gaGFuZGxlcjtcbiAgcmV0dXJuIGZ1bmM7XG59O1xuZXhwb3J0IGNvbnN0IGludGVybmFsQWN0aW9uR2VuZXJpYyA9IChmdW5jdGlvbkRlZmluaXRpb24pID0+IHtcbiAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiBmdW5jdGlvbkRlZmluaXRpb24gPT09IFwiZnVuY3Rpb25cIiA/IGZ1bmN0aW9uRGVmaW5pdGlvbiA6IGZ1bmN0aW9uRGVmaW5pdGlvbi5oYW5kbGVyO1xuICBjb25zdCBmdW5jID0gZG9udENhbGxEaXJlY3RseShcImludGVybmFsQWN0aW9uXCIsIGhhbmRsZXIpO1xuICBhc3NlcnROb3RCcm93c2VyKCk7XG4gIGZ1bmMuaXNBY3Rpb24gPSB0cnVlO1xuICBmdW5jLmlzSW50ZXJuYWwgPSB0cnVlO1xuICBmdW5jLmludm9rZUFjdGlvbiA9IChyZXF1ZXN0SWQsIGFyZ3NTdHIpID0+IGludm9rZUFjdGlvbihoYW5kbGVyLCByZXF1ZXN0SWQsIGFyZ3NTdHIpO1xuICBmdW5jLmV4cG9ydEFyZ3MgPSBleHBvcnRBcmdzKGZ1bmN0aW9uRGVmaW5pdGlvbik7XG4gIGZ1bmMuZXhwb3J0UmV0dXJucyA9IGV4cG9ydFJldHVybnMoZnVuY3Rpb25EZWZpbml0aW9uKTtcbiAgZnVuYy5faGFuZGxlciA9IGhhbmRsZXI7XG4gIHJldHVybiBmdW5jO1xufTtcbmFzeW5jIGZ1bmN0aW9uIGludm9rZUh0dHBBY3Rpb24oZnVuYywgcmVxdWVzdCkge1xuICBjb25zdCByZXF1ZXN0SWQgPSBcIlwiO1xuICBjb25zdCBjYWxscyA9IHNldHVwQWN0aW9uQ2FsbHMocmVxdWVzdElkKTtcbiAgY29uc3QgY3R4ID0ge1xuICAgIC4uLmNhbGxzLFxuICAgIGF1dGg6IHNldHVwQXV0aChyZXF1ZXN0SWQpLFxuICAgIHN0b3JhZ2U6IHNldHVwU3RvcmFnZUFjdGlvbldyaXRlcihyZXF1ZXN0SWQpLFxuICAgIHNjaGVkdWxlcjogc2V0dXBBY3Rpb25TY2hlZHVsZXIocmVxdWVzdElkKSxcbiAgICB2ZWN0b3JTZWFyY2g6IHNldHVwQWN0aW9uVmVjdG9yU2VhcmNoKHJlcXVlc3RJZClcbiAgfTtcbiAgcmV0dXJuIGF3YWl0IGludm9rZUZ1bmN0aW9uKGZ1bmMsIGN0eCwgW3JlcXVlc3RdKTtcbn1cbmV4cG9ydCBjb25zdCBodHRwQWN0aW9uR2VuZXJpYyA9IChmdW5jKSA9PiB7XG4gIGNvbnN0IHEgPSBkb250Q2FsbERpcmVjdGx5KFwiaHR0cEFjdGlvblwiLCBmdW5jKTtcbiAgYXNzZXJ0Tm90QnJvd3NlcigpO1xuICBxLmlzSHR0cCA9IHRydWU7XG4gIHEuaW52b2tlSHR0cEFjdGlvbiA9IChyZXF1ZXN0KSA9PiBpbnZva2VIdHRwQWN0aW9uKGZ1bmMsIHJlcXVlc3QpO1xuICBxLl9oYW5kbGVyID0gZnVuYztcbiAgcmV0dXJuIHE7XG59O1xuYXN5bmMgZnVuY3Rpb24gcnVuVWRmKHVkZlR5cGUsIGYsIGFyZ3MpIHtcbiAgY29uc3QgcXVlcnlBcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICBjb25zdCBzeXNjYWxsQXJncyA9IHtcbiAgICB1ZGZUeXBlLFxuICAgIGFyZ3M6IGNvbnZleFRvSnNvbihxdWVyeUFyZ3MpLFxuICAgIC4uLmdldEZ1bmN0aW9uQWRkcmVzcyhmKVxuICB9O1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3J1blVkZlwiLCBzeXNjYWxsQXJncyk7XG4gIHJldHVybiBqc29uVG9Db252ZXgocmVzdWx0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlZ2lzdHJhdGlvbl9pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnZleFRvSnNvbiIsImpzb25Ub0NvbnZleCIsInYiLCJzZXR1cEFjdGlvbkNhbGxzIiwic2V0dXBBY3Rpb25WZWN0b3JTZWFyY2giLCJzZXR1cEF1dGgiLCJzZXR1cFJlYWRlciIsInNldHVwV3JpdGVyIiwiUXVlcnlJbXBsIiwiUXVlcnlJbml0aWFsaXplckltcGwiLCJzZXR1cEFjdGlvblNjaGVkdWxlciIsInNldHVwTXV0YXRpb25TY2hlZHVsZXIiLCJzZXR1cFN0b3JhZ2VBY3Rpb25Xcml0ZXIiLCJzZXR1cFN0b3JhZ2VSZWFkZXIiLCJzZXR1cFN0b3JhZ2VXcml0ZXIiLCJwYXJzZUFyZ3MiLCJwZXJmb3JtQXN5bmNTeXNjYWxsIiwiYXNPYmplY3RWYWxpZGF0b3IiLCJnZXRGdW5jdGlvbkFkZHJlc3MiLCJpbnZva2VNdXRhdGlvbiIsImZ1bmMiLCJhcmdzU3RyIiwicmVxdWVzdElkIiwiYXJncyIsIkpTT04iLCJwYXJzZSIsIm11dGF0aW9uQ3R4IiwiZGIiLCJhdXRoIiwic3RvcmFnZSIsInNjaGVkdWxlciIsInJ1blF1ZXJ5IiwicmVmZXJlbmNlIiwiYXJnczIiLCJydW5VZGYiLCJydW5NdXRhdGlvbiIsInJlc3VsdCIsImludm9rZUZ1bmN0aW9uIiwidmFsaWRhdGVSZXR1cm5WYWx1ZSIsInN0cmluZ2lmeSIsInYyIiwiRXJyb3IiLCJjdHgiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRocm93biIsInNlcmlhbGl6ZUNvbnZleEVycm9yRGF0YSIsImRvbnRDYWxsRGlyZWN0bHkiLCJmdW5jVHlwZSIsImhhbmRsZXIiLCJnbG9iYWxUaGlzIiwiY29uc29sZSIsIndhcm4iLCJTeW1ib2wiLCJmb3IiLCJlcnJvciIsImRhdGEiLCJDb252ZXhFcnJvclN5bWJvbCIsImFzc2VydE5vdEJyb3dzZXIiLCJ3aW5kb3ciLCJfX2NvbnZleEFsbG93RnVuY3Rpb25zSW5Ccm93c2VyIiwiaXNSZWFsQnJvd3NlciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldCIsInRvU3RyaW5nIiwiaW5jbHVkZXMiLCJzdHJpY3RSZXBsYWNlciIsImtleSIsInZhbHVlIiwiZXhwb3J0QXJncyIsImZ1bmN0aW9uRGVmaW5pdGlvbiIsImFueSIsImpzb24iLCJleHBvcnRSZXR1cm5zIiwicmV0dXJucyIsIm11dGF0aW9uR2VuZXJpYyIsImlzTXV0YXRpb24iLCJpc1B1YmxpYyIsIl9oYW5kbGVyIiwiaW50ZXJuYWxNdXRhdGlvbkdlbmVyaWMiLCJpc0ludGVybmFsIiwiaW52b2tlUXVlcnkiLCJxdWVyeUN0eCIsInF1ZXJ5R2VuZXJpYyIsImlzUXVlcnkiLCJpbnRlcm5hbFF1ZXJ5R2VuZXJpYyIsImludm9rZUFjdGlvbiIsImNhbGxzIiwidmVjdG9yU2VhcmNoIiwiYWN0aW9uR2VuZXJpYyIsImlzQWN0aW9uIiwiaW50ZXJuYWxBY3Rpb25HZW5lcmljIiwiaW52b2tlSHR0cEFjdGlvbiIsInJlcXVlc3QiLCJodHRwQWN0aW9uR2VuZXJpYyIsInEiLCJpc0h0dHAiLCJ1ZGZUeXBlIiwiZiIsInF1ZXJ5QXJncyIsInN5c2NhbGxBcmdzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/registration_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/scheduler_impl.js":
/*!********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/scheduler_impl.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupActionScheduler: () => (/* binding */ setupActionScheduler),\n/* harmony export */   setupMutationScheduler: () => (/* binding */ setupMutationScheduler)\n/* harmony export */ });\n/* harmony import */ var _values_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/index.js */ \"(ssr)/./node_modules/convex/dist/esm/values/index.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _components_paths_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/paths.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/paths.js\");\n\n\n\n\n\n\n\nfunction setupMutationScheduler() {\n    return {\n        runAfter: async (delayMs, functionReference, args)=>{\n            const syscallArgs = runAfterSyscallArgs(delayMs, functionReference, args);\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/schedule\", syscallArgs);\n        },\n        runAt: async (ms_since_epoch_or_date, functionReference, args)=>{\n            const syscallArgs = runAtSyscallArgs(ms_since_epoch_or_date, functionReference, args);\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/schedule\", syscallArgs);\n        },\n        cancel: async (id)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_4__.validateArg)(id, 1, \"cancel\", \"id\");\n            const args = {\n                id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id)\n            };\n            await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/cancel_job\", args);\n        }\n    };\n}\nfunction setupActionScheduler(requestId) {\n    return {\n        runAfter: async (delayMs, functionReference, args)=>{\n            const syscallArgs = {\n                requestId,\n                ...runAfterSyscallArgs(delayMs, functionReference, args)\n            };\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/schedule\", syscallArgs);\n        },\n        runAt: async (ms_since_epoch_or_date, functionReference, args)=>{\n            const syscallArgs = {\n                requestId,\n                ...runAtSyscallArgs(ms_since_epoch_or_date, functionReference, args)\n            };\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/schedule\", syscallArgs);\n        },\n        cancel: async (id)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_4__.validateArg)(id, 1, \"cancel\", \"id\");\n            const syscallArgs = {\n                id: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(id)\n            };\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_2__.performAsyncSyscall)(\"1.0/actions/cancel_job\", syscallArgs);\n        }\n    };\n}\nfunction runAfterSyscallArgs(delayMs, functionReference, args) {\n    if (typeof delayMs !== \"number\") {\n        throw new Error(\"`delayMs` must be a number\");\n    }\n    if (!isFinite(delayMs)) {\n        throw new Error(\"`delayMs` must be a finite number\");\n    }\n    if (delayMs < 0) {\n        throw new Error(\"`delayMs` must be non-negative\");\n    }\n    const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args);\n    const address = (0,_components_paths_js__WEBPACK_IMPORTED_MODULE_5__.getFunctionAddress)(functionReference);\n    const ts = (Date.now() + delayMs) / 1e3;\n    return {\n        ...address,\n        ts,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(functionArgs),\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version\n    };\n}\nfunction runAtSyscallArgs(ms_since_epoch_or_date, functionReference, args) {\n    let ts;\n    if (ms_since_epoch_or_date instanceof Date) {\n        ts = ms_since_epoch_or_date.valueOf() / 1e3;\n    } else if (typeof ms_since_epoch_or_date === \"number\") {\n        ts = ms_since_epoch_or_date / 1e3;\n    } else {\n        throw new Error(\"The invoke time must a Date or a timestamp\");\n    }\n    const address = (0,_components_paths_js__WEBPACK_IMPORTED_MODULE_5__.getFunctionAddress)(functionReference);\n    const functionArgs = (0,_common_index_js__WEBPACK_IMPORTED_MODULE_3__.parseArgs)(args);\n    return {\n        ...address,\n        ts,\n        args: (0,_values_index_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(functionArgs),\n        version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version\n    };\n} //# sourceMappingURL=scheduler_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3NjaGVkdWxlcl9pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWE7QUFDd0M7QUFDWjtBQUNVO0FBQ0Q7QUFDTjtBQUNnQjtBQUNyRCxTQUFTTTtJQUNkLE9BQU87UUFDTEMsVUFBVSxPQUFPQyxTQUFTQyxtQkFBbUJDO1lBQzNDLE1BQU1DLGNBQWNDLG9CQUFvQkosU0FBU0MsbUJBQW1CQztZQUNwRSxPQUFPLE1BQU1SLGdFQUFtQkEsQ0FBQyxnQkFBZ0JTO1FBQ25EO1FBQ0FFLE9BQU8sT0FBT0Msd0JBQXdCTCxtQkFBbUJDO1lBQ3ZELE1BQU1DLGNBQWNJLGlCQUNsQkQsd0JBQ0FMLG1CQUNBQztZQUVGLE9BQU8sTUFBTVIsZ0VBQW1CQSxDQUFDLGdCQUFnQlM7UUFDbkQ7UUFDQUssUUFBUSxPQUFPQztZQUNiYix5REFBV0EsQ0FBQ2EsSUFBSSxHQUFHLFVBQVU7WUFDN0IsTUFBTVAsT0FBTztnQkFBRU8sSUFBSWpCLDhEQUFZQSxDQUFDaUI7WUFBSTtZQUNwQyxNQUFNZixnRUFBbUJBLENBQUMsa0JBQWtCUTtRQUM5QztJQUNGO0FBQ0Y7QUFDTyxTQUFTUSxxQkFBcUJDLFNBQVM7SUFDNUMsT0FBTztRQUNMWixVQUFVLE9BQU9DLFNBQVNDLG1CQUFtQkM7WUFDM0MsTUFBTUMsY0FBYztnQkFDbEJRO2dCQUNBLEdBQUdQLG9CQUFvQkosU0FBU0MsbUJBQW1CQyxLQUFLO1lBQzFEO1lBQ0EsT0FBTyxNQUFNUixnRUFBbUJBLENBQUMsd0JBQXdCUztRQUMzRDtRQUNBRSxPQUFPLE9BQU9DLHdCQUF3QkwsbUJBQW1CQztZQUN2RCxNQUFNQyxjQUFjO2dCQUNsQlE7Z0JBQ0EsR0FBR0osaUJBQWlCRCx3QkFBd0JMLG1CQUFtQkMsS0FBSztZQUN0RTtZQUNBLE9BQU8sTUFBTVIsZ0VBQW1CQSxDQUFDLHdCQUF3QlM7UUFDM0Q7UUFDQUssUUFBUSxPQUFPQztZQUNiYix5REFBV0EsQ0FBQ2EsSUFBSSxHQUFHLFVBQVU7WUFDN0IsTUFBTU4sY0FBYztnQkFBRU0sSUFBSWpCLDhEQUFZQSxDQUFDaUI7WUFBSTtZQUMzQyxPQUFPLE1BQU1mLGdFQUFtQkEsQ0FBQywwQkFBMEJTO1FBQzdEO0lBQ0Y7QUFDRjtBQUNBLFNBQVNDLG9CQUFvQkosT0FBTyxFQUFFQyxpQkFBaUIsRUFBRUMsSUFBSTtJQUMzRCxJQUFJLE9BQU9GLFlBQVksVUFBVTtRQUMvQixNQUFNLElBQUlZLE1BQU07SUFDbEI7SUFDQSxJQUFJLENBQUNDLFNBQVNiLFVBQVU7UUFDdEIsTUFBTSxJQUFJWSxNQUFNO0lBQ2xCO0lBQ0EsSUFBSVosVUFBVSxHQUFHO1FBQ2YsTUFBTSxJQUFJWSxNQUFNO0lBQ2xCO0lBQ0EsTUFBTUUsZUFBZW5CLDJEQUFTQSxDQUFDTztJQUMvQixNQUFNYSxVQUFVbEIsd0VBQWtCQSxDQUFDSTtJQUNuQyxNQUFNZSxLQUFLLENBQUNDLEtBQUtDLEdBQUcsS0FBS2xCLE9BQU0sSUFBSztJQUNwQyxPQUFPO1FBQ0wsR0FBR2UsT0FBTztRQUNWQztRQUNBZCxNQUFNViw4REFBWUEsQ0FBQ3NCO1FBQ25CckIsT0FBT0EsZ0RBQUFBO0lBQ1Q7QUFDRjtBQUNBLFNBQVNjLGlCQUFpQkQsc0JBQXNCLEVBQUVMLGlCQUFpQixFQUFFQyxJQUFJO0lBQ3ZFLElBQUljO0lBQ0osSUFBSVYsa0NBQWtDVyxNQUFNO1FBQzFDRCxLQUFLVix1QkFBdUJhLE9BQU8sS0FBSztJQUMxQyxPQUFPLElBQUksT0FBT2IsMkJBQTJCLFVBQVU7UUFDckRVLEtBQUtWLHlCQUF5QjtJQUNoQyxPQUFPO1FBQ0wsTUFBTSxJQUFJTSxNQUFNO0lBQ2xCO0lBQ0EsTUFBTUcsVUFBVWxCLHdFQUFrQkEsQ0FBQ0k7SUFDbkMsTUFBTWEsZUFBZW5CLDJEQUFTQSxDQUFDTztJQUMvQixPQUFPO1FBQ0wsR0FBR2EsT0FBTztRQUNWQztRQUNBZCxNQUFNViw4REFBWUEsQ0FBQ3NCO1FBQ25CckIsT0FBT0EsZ0RBQUFBO0lBQ1Q7QUFDRixFQUNBLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9zY2hlZHVsZXJfaW1wbC5qcz9lYzU1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uIH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gXCIuLi8uLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgcGVyZm9ybUFzeW5jU3lzY2FsbCB9IGZyb20gXCIuL3N5c2NhbGwuanNcIjtcbmltcG9ydCB7IHBhcnNlQXJncyB9IGZyb20gXCIuLi8uLi9jb21tb24vaW5kZXguanNcIjtcbmltcG9ydCB7IHZhbGlkYXRlQXJnIH0gZnJvbSBcIi4vdmFsaWRhdGUuanNcIjtcbmltcG9ydCB7IGdldEZ1bmN0aW9uQWRkcmVzcyB9IGZyb20gXCIuLi9jb21wb25lbnRzL3BhdGhzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBNdXRhdGlvblNjaGVkdWxlcigpIHtcbiAgcmV0dXJuIHtcbiAgICBydW5BZnRlcjogYXN5bmMgKGRlbGF5TXMsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKSA9PiB7XG4gICAgICBjb25zdCBzeXNjYWxsQXJncyA9IHJ1bkFmdGVyU3lzY2FsbEFyZ3MoZGVsYXlNcywgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpO1xuICAgICAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvc2NoZWR1bGVcIiwgc3lzY2FsbEFyZ3MpO1xuICAgIH0sXG4gICAgcnVuQXQ6IGFzeW5jIChtc19zaW5jZV9lcG9jaF9vcl9kYXRlLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncykgPT4ge1xuICAgICAgY29uc3Qgc3lzY2FsbEFyZ3MgPSBydW5BdFN5c2NhbGxBcmdzKFxuICAgICAgICBtc19zaW5jZV9lcG9jaF9vcl9kYXRlLFxuICAgICAgICBmdW5jdGlvblJlZmVyZW5jZSxcbiAgICAgICAgYXJnc1xuICAgICAgKTtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3NjaGVkdWxlXCIsIHN5c2NhbGxBcmdzKTtcbiAgICB9LFxuICAgIGNhbmNlbDogYXN5bmMgKGlkKSA9PiB7XG4gICAgICB2YWxpZGF0ZUFyZyhpZCwgMSwgXCJjYW5jZWxcIiwgXCJpZFwiKTtcbiAgICAgIGNvbnN0IGFyZ3MgPSB7IGlkOiBjb252ZXhUb0pzb24oaWQpIH07XG4gICAgICBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL2NhbmNlbF9qb2JcIiwgYXJncyk7XG4gICAgfVxuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwQWN0aW9uU2NoZWR1bGVyKHJlcXVlc3RJZCkge1xuICByZXR1cm4ge1xuICAgIHJ1bkFmdGVyOiBhc3luYyAoZGVsYXlNcywgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IHN5c2NhbGxBcmdzID0ge1xuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIC4uLnJ1bkFmdGVyU3lzY2FsbEFyZ3MoZGVsYXlNcywgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvYWN0aW9ucy9zY2hlZHVsZVwiLCBzeXNjYWxsQXJncyk7XG4gICAgfSxcbiAgICBydW5BdDogYXN5bmMgKG1zX3NpbmNlX2Vwb2NoX29yX2RhdGUsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKSA9PiB7XG4gICAgICBjb25zdCBzeXNjYWxsQXJncyA9IHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAuLi5ydW5BdFN5c2NhbGxBcmdzKG1zX3NpbmNlX2Vwb2NoX29yX2RhdGUsIGZ1bmN0aW9uUmVmZXJlbmNlLCBhcmdzKVxuICAgICAgfTtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL2FjdGlvbnMvc2NoZWR1bGVcIiwgc3lzY2FsbEFyZ3MpO1xuICAgIH0sXG4gICAgY2FuY2VsOiBhc3luYyAoaWQpID0+IHtcbiAgICAgIHZhbGlkYXRlQXJnKGlkLCAxLCBcImNhbmNlbFwiLCBcImlkXCIpO1xuICAgICAgY29uc3Qgc3lzY2FsbEFyZ3MgPSB7IGlkOiBjb252ZXhUb0pzb24oaWQpIH07XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9hY3Rpb25zL2NhbmNlbF9qb2JcIiwgc3lzY2FsbEFyZ3MpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHJ1bkFmdGVyU3lzY2FsbEFyZ3MoZGVsYXlNcywgZnVuY3Rpb25SZWZlcmVuY2UsIGFyZ3MpIHtcbiAgaWYgKHR5cGVvZiBkZWxheU1zICE9PSBcIm51bWJlclwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYGRlbGF5TXNgIG11c3QgYmUgYSBudW1iZXJcIik7XG4gIH1cbiAgaWYgKCFpc0Zpbml0ZShkZWxheU1zKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImBkZWxheU1zYCBtdXN0IGJlIGEgZmluaXRlIG51bWJlclwiKTtcbiAgfVxuICBpZiAoZGVsYXlNcyA8IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgZGVsYXlNc2AgbXVzdCBiZSBub24tbmVnYXRpdmVcIik7XG4gIH1cbiAgY29uc3QgZnVuY3Rpb25BcmdzID0gcGFyc2VBcmdzKGFyZ3MpO1xuICBjb25zdCBhZGRyZXNzID0gZ2V0RnVuY3Rpb25BZGRyZXNzKGZ1bmN0aW9uUmVmZXJlbmNlKTtcbiAgY29uc3QgdHMgPSAoRGF0ZS5ub3coKSArIGRlbGF5TXMpIC8gMWUzO1xuICByZXR1cm4ge1xuICAgIC4uLmFkZHJlc3MsXG4gICAgdHMsXG4gICAgYXJnczogY29udmV4VG9Kc29uKGZ1bmN0aW9uQXJncyksXG4gICAgdmVyc2lvblxuICB9O1xufVxuZnVuY3Rpb24gcnVuQXRTeXNjYWxsQXJncyhtc19zaW5jZV9lcG9jaF9vcl9kYXRlLCBmdW5jdGlvblJlZmVyZW5jZSwgYXJncykge1xuICBsZXQgdHM7XG4gIGlmIChtc19zaW5jZV9lcG9jaF9vcl9kYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHRzID0gbXNfc2luY2VfZXBvY2hfb3JfZGF0ZS52YWx1ZU9mKCkgLyAxZTM7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1zX3NpbmNlX2Vwb2NoX29yX2RhdGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICB0cyA9IG1zX3NpbmNlX2Vwb2NoX29yX2RhdGUgLyAxZTM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGludm9rZSB0aW1lIG11c3QgYSBEYXRlIG9yIGEgdGltZXN0YW1wXCIpO1xuICB9XG4gIGNvbnN0IGFkZHJlc3MgPSBnZXRGdW5jdGlvbkFkZHJlc3MoZnVuY3Rpb25SZWZlcmVuY2UpO1xuICBjb25zdCBmdW5jdGlvbkFyZ3MgPSBwYXJzZUFyZ3MoYXJncyk7XG4gIHJldHVybiB7XG4gICAgLi4uYWRkcmVzcyxcbiAgICB0cyxcbiAgICBhcmdzOiBjb252ZXhUb0pzb24oZnVuY3Rpb25BcmdzKSxcbiAgICB2ZXJzaW9uXG4gIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZXJfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJjb252ZXhUb0pzb24iLCJ2ZXJzaW9uIiwicGVyZm9ybUFzeW5jU3lzY2FsbCIsInBhcnNlQXJncyIsInZhbGlkYXRlQXJnIiwiZ2V0RnVuY3Rpb25BZGRyZXNzIiwic2V0dXBNdXRhdGlvblNjaGVkdWxlciIsInJ1bkFmdGVyIiwiZGVsYXlNcyIsImZ1bmN0aW9uUmVmZXJlbmNlIiwiYXJncyIsInN5c2NhbGxBcmdzIiwicnVuQWZ0ZXJTeXNjYWxsQXJncyIsInJ1bkF0IiwibXNfc2luY2VfZXBvY2hfb3JfZGF0ZSIsInJ1bkF0U3lzY2FsbEFyZ3MiLCJjYW5jZWwiLCJpZCIsInNldHVwQWN0aW9uU2NoZWR1bGVyIiwicmVxdWVzdElkIiwiRXJyb3IiLCJpc0Zpbml0ZSIsImZ1bmN0aW9uQXJncyIsImFkZHJlc3MiLCJ0cyIsIkRhdGUiLCJub3ciLCJ2YWx1ZU9mIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/scheduler_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js":
/*!********************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SearchFilterBuilderImpl: () => (/* binding */ SearchFilterBuilderImpl)\n/* harmony export */ });\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../search_filter_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\nclass SearchFilterBuilderImpl extends _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_1__.SearchFilter {\n    constructor(filters){\n        super();\n        __publicField(this, \"filters\");\n        __publicField(this, \"isConsumed\");\n        this.filters = filters;\n        this.isConsumed = false;\n    }\n    static new() {\n        return new SearchFilterBuilderImpl([]);\n    }\n    consume() {\n        if (this.isConsumed) {\n            throw new Error(\"SearchFilterBuilder has already been used! Chain your method calls like `q => q.search(...).eq(...)`.\");\n        }\n        this.isConsumed = true;\n    }\n    search(fieldName, query) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(fieldName, 1, \"search\", \"fieldName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(query, 2, \"search\", \"query\");\n        this.consume();\n        return new SearchFilterBuilderImpl(this.filters.concat({\n            type: \"Search\",\n            fieldPath: fieldName,\n            value: query\n        }));\n    }\n    eq(fieldName, value) {\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(fieldName, 1, \"eq\", \"fieldName\");\n        if (arguments.length !== 2) {\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(value, 2, \"search\", \"value\");\n        }\n        this.consume();\n        return new SearchFilterBuilderImpl(this.filters.concat({\n            type: \"Eq\",\n            fieldPath: fieldName,\n            value: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_0__.convexOrUndefinedToJson)(value)\n        }));\n    }\n    export() {\n        this.consume();\n        return this.filters;\n    }\n} //# sourceMappingURL=search_filter_builder_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3NlYXJjaF9maWx0ZXJfYnVpbGRlcl9pbXBsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDeEM7QUFHM0I7QUFDTztBQUNyQyxNQUFNUSxnQ0FBZ0NGLG1FQUFZQTtJQUN2REcsWUFBWUMsT0FBTyxDQUFFO1FBQ25CLEtBQUs7UUFDTE4sY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ00sT0FBTyxHQUFHQTtRQUNmLElBQUksQ0FBQ0MsVUFBVSxHQUFHO0lBQ3BCO0lBQ0EsT0FBT0MsTUFBTTtRQUNYLE9BQU8sSUFBSUosd0JBQXdCLEVBQUU7SUFDdkM7SUFDQUssVUFBVTtRQUNSLElBQUksSUFBSSxDQUFDRixVQUFVLEVBQUU7WUFDbkIsTUFBTSxJQUFJRyxNQUNSO1FBRUo7UUFDQSxJQUFJLENBQUNILFVBQVUsR0FBRztJQUNwQjtJQUNBSSxPQUFPQyxTQUFTLEVBQUVDLEtBQUssRUFBRTtRQUN2QlYseURBQVdBLENBQUNTLFdBQVcsR0FBRyxVQUFVO1FBQ3BDVCx5REFBV0EsQ0FBQ1UsT0FBTyxHQUFHLFVBQVU7UUFDaEMsSUFBSSxDQUFDSixPQUFPO1FBQ1osT0FBTyxJQUFJTCx3QkFDVCxJQUFJLENBQUNFLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDO1lBQ2xCQyxNQUFNO1lBQ05DLFdBQVdKO1lBQ1hoQixPQUFPaUI7UUFDVDtJQUVKO0lBQ0FJLEdBQUdMLFNBQVMsRUFBRWhCLEtBQUssRUFBRTtRQUNuQk8seURBQVdBLENBQUNTLFdBQVcsR0FBRyxNQUFNO1FBQ2hDLElBQUlNLFVBQVVDLE1BQU0sS0FBSyxHQUFHO1lBQzFCaEIseURBQVdBLENBQUNQLE9BQU8sR0FBRyxVQUFVO1FBQ2xDO1FBQ0EsSUFBSSxDQUFDYSxPQUFPO1FBQ1osT0FBTyxJQUFJTCx3QkFDVCxJQUFJLENBQUNFLE9BQU8sQ0FBQ1EsTUFBTSxDQUFDO1lBQ2xCQyxNQUFNO1lBQ05DLFdBQVdKO1lBQ1hoQixPQUFPSyx5RUFBdUJBLENBQUNMO1FBQ2pDO0lBRUo7SUFDQXdCLFNBQVM7UUFDUCxJQUFJLENBQUNYLE9BQU87UUFDWixPQUFPLElBQUksQ0FBQ0gsT0FBTztJQUNyQjtBQUNGLEVBQ0Esc0RBQXNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3NlYXJjaF9maWx0ZXJfYnVpbGRlcl9pbXBsLmpzPzQ4MjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsgY29udmV4T3JVbmRlZmluZWRUb0pzb24gfSBmcm9tIFwiLi4vLi4vdmFsdWVzL3ZhbHVlLmpzXCI7XG5pbXBvcnQge1xuICBTZWFyY2hGaWx0ZXJcbn0gZnJvbSBcIi4uL3NlYXJjaF9maWx0ZXJfYnVpbGRlci5qc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVBcmcgfSBmcm9tIFwiLi92YWxpZGF0ZS5qc1wiO1xuZXhwb3J0IGNsYXNzIFNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsIGV4dGVuZHMgU2VhcmNoRmlsdGVyIHtcbiAgY29uc3RydWN0b3IoZmlsdGVycykge1xuICAgIHN1cGVyKCk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImZpbHRlcnNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImlzQ29uc3VtZWRcIik7XG4gICAgdGhpcy5maWx0ZXJzID0gZmlsdGVycztcbiAgICB0aGlzLmlzQ29uc3VtZWQgPSBmYWxzZTtcbiAgfVxuICBzdGF0aWMgbmV3KCkge1xuICAgIHJldHVybiBuZXcgU2VhcmNoRmlsdGVyQnVpbGRlckltcGwoW10pO1xuICB9XG4gIGNvbnN1bWUoKSB7XG4gICAgaWYgKHRoaXMuaXNDb25zdW1lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlNlYXJjaEZpbHRlckJ1aWxkZXIgaGFzIGFscmVhZHkgYmVlbiB1c2VkISBDaGFpbiB5b3VyIG1ldGhvZCBjYWxscyBsaWtlIGBxID0+IHEuc2VhcmNoKC4uLikuZXEoLi4uKWAuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuaXNDb25zdW1lZCA9IHRydWU7XG4gIH1cbiAgc2VhcmNoKGZpZWxkTmFtZSwgcXVlcnkpIHtcbiAgICB2YWxpZGF0ZUFyZyhmaWVsZE5hbWUsIDEsIFwic2VhcmNoXCIsIFwiZmllbGROYW1lXCIpO1xuICAgIHZhbGlkYXRlQXJnKHF1ZXJ5LCAyLCBcInNlYXJjaFwiLCBcInF1ZXJ5XCIpO1xuICAgIHRoaXMuY29uc3VtZSgpO1xuICAgIHJldHVybiBuZXcgU2VhcmNoRmlsdGVyQnVpbGRlckltcGwoXG4gICAgICB0aGlzLmZpbHRlcnMuY29uY2F0KHtcbiAgICAgICAgdHlwZTogXCJTZWFyY2hcIixcbiAgICAgICAgZmllbGRQYXRoOiBmaWVsZE5hbWUsXG4gICAgICAgIHZhbHVlOiBxdWVyeVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGVxKGZpZWxkTmFtZSwgdmFsdWUpIHtcbiAgICB2YWxpZGF0ZUFyZyhmaWVsZE5hbWUsIDEsIFwiZXFcIiwgXCJmaWVsZE5hbWVcIik7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDIpIHtcbiAgICAgIHZhbGlkYXRlQXJnKHZhbHVlLCAyLCBcInNlYXJjaFwiLCBcInZhbHVlXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbnN1bWUoKTtcbiAgICByZXR1cm4gbmV3IFNlYXJjaEZpbHRlckJ1aWxkZXJJbXBsKFxuICAgICAgdGhpcy5maWx0ZXJzLmNvbmNhdCh7XG4gICAgICAgIHR5cGU6IFwiRXFcIixcbiAgICAgICAgZmllbGRQYXRoOiBmaWVsZE5hbWUsXG4gICAgICAgIHZhbHVlOiBjb252ZXhPclVuZGVmaW5lZFRvSnNvbih2YWx1ZSlcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBleHBvcnQoKSB7XG4gICAgdGhpcy5jb25zdW1lKCk7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVycztcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VhcmNoX2ZpbHRlcl9idWlsZGVyX2ltcGwuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJjb252ZXhPclVuZGVmaW5lZFRvSnNvbiIsIlNlYXJjaEZpbHRlciIsInZhbGlkYXRlQXJnIiwiU2VhcmNoRmlsdGVyQnVpbGRlckltcGwiLCJjb25zdHJ1Y3RvciIsImZpbHRlcnMiLCJpc0NvbnN1bWVkIiwibmV3IiwiY29uc3VtZSIsIkVycm9yIiwic2VhcmNoIiwiZmllbGROYW1lIiwicXVlcnkiLCJjb25jYXQiLCJ0eXBlIiwiZmllbGRQYXRoIiwiZXEiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJleHBvcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/search_filter_builder_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/storage_impl.js":
/*!******************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/storage_impl.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setupStorageActionWriter: () => (/* binding */ setupStorageActionWriter),\n/* harmony export */   setupStorageReader: () => (/* binding */ setupStorageReader),\n/* harmony export */   setupStorageWriter: () => (/* binding */ setupStorageWriter)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n\n\n\n\nfunction setupStorageReader(requestId) {\n    return {\n        getUrl: async (storageId)=>{\n            (0,_validate_js__WEBPACK_IMPORTED_MODULE_2__.validateArg)(storageId, 1, \"getUrl\", \"storageId\");\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageGetUrl\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        },\n        getMetadata: async (storageId)=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageGetMetadata\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        }\n    };\n}\nfunction setupStorageWriter(requestId) {\n    const reader = setupStorageReader(requestId);\n    return {\n        generateUploadUrl: async ()=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageGenerateUploadUrl\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version\n            });\n        },\n        delete: async (storageId)=>{\n            await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performAsyncSyscall)(\"1.0/storageDelete\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        },\n        getUrl: reader.getUrl,\n        getMetadata: reader.getMetadata\n    };\n}\nfunction setupStorageActionWriter(requestId) {\n    const writer = setupStorageWriter(requestId);\n    return {\n        ...writer,\n        store: async (blob, options)=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performJsSyscall)(\"storage/storeBlob\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                blob,\n                options\n            });\n        },\n        get: async (storageId)=>{\n            return await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_1__.performJsSyscall)(\"storage/getBlob\", {\n                requestId,\n                version: _index_js__WEBPACK_IMPORTED_MODULE_0__.version,\n                storageId\n            });\n        }\n    };\n} //# sourceMappingURL=storage_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3N0b3JhZ2VfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBYTtBQUM0QjtBQUM0QjtBQUN6QjtBQUNyQyxTQUFTSSxtQkFBbUJDLFNBQVM7SUFDMUMsT0FBTztRQUNMQyxRQUFRLE9BQU9DO1lBQ2JKLHlEQUFXQSxDQUFDSSxXQUFXLEdBQUcsVUFBVTtZQUNwQyxPQUFPLE1BQU1OLGdFQUFtQkEsQ0FBQyxxQkFBcUI7Z0JBQ3BESTtnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQTztZQUNGO1FBQ0Y7UUFDQUMsYUFBYSxPQUFPRDtZQUNsQixPQUFPLE1BQU1OLGdFQUFtQkEsQ0FBQywwQkFBMEI7Z0JBQ3pESTtnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQTztZQUNGO1FBQ0Y7SUFDRjtBQUNGO0FBQ08sU0FBU0UsbUJBQW1CSixTQUFTO0lBQzFDLE1BQU1LLFNBQVNOLG1CQUFtQkM7SUFDbEMsT0FBTztRQUNMTSxtQkFBbUI7WUFDakIsT0FBTyxNQUFNVixnRUFBbUJBLENBQUMsZ0NBQWdDO2dCQUMvREk7Z0JBQ0FMLE9BQU9BLGdEQUFBQTtZQUNUO1FBQ0Y7UUFDQVksUUFBUSxPQUFPTDtZQUNiLE1BQU1OLGdFQUFtQkEsQ0FBQyxxQkFBcUI7Z0JBQzdDSTtnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQTztZQUNGO1FBQ0Y7UUFDQUQsUUFBUUksT0FBT0osTUFBTTtRQUNyQkUsYUFBYUUsT0FBT0YsV0FBVztJQUNqQztBQUNGO0FBQ08sU0FBU0sseUJBQXlCUixTQUFTO0lBQ2hELE1BQU1TLFNBQVNMLG1CQUFtQko7SUFDbEMsT0FBTztRQUNMLEdBQUdTLE1BQU07UUFDVEMsT0FBTyxPQUFPQyxNQUFNQztZQUNsQixPQUFPLE1BQU1mLDZEQUFnQkEsQ0FBQyxxQkFBcUI7Z0JBQ2pERztnQkFDQUwsT0FBT0EsZ0RBQUFBO2dCQUNQZ0I7Z0JBQ0FDO1lBQ0Y7UUFDRjtRQUNBQyxLQUFLLE9BQU9YO1lBQ1YsT0FBTyxNQUFNTCw2REFBZ0JBLENBQUMsbUJBQW1CO2dCQUMvQ0c7Z0JBQ0FMLE9BQU9BLGdEQUFBQTtnQkFDUE87WUFDRjtRQUNGO0lBQ0Y7QUFDRixFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvaW1wbC9zdG9yYWdlX2ltcGwuanM/ODkwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tIFwiLi4vLi4vaW5kZXguanNcIjtcbmltcG9ydCB7IHBlcmZvcm1Bc3luY1N5c2NhbGwsIHBlcmZvcm1Kc1N5c2NhbGwgfSBmcm9tIFwiLi9zeXNjYWxsLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUFyZyB9IGZyb20gXCIuL3ZhbGlkYXRlLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBTdG9yYWdlUmVhZGVyKHJlcXVlc3RJZCkge1xuICByZXR1cm4ge1xuICAgIGdldFVybDogYXN5bmMgKHN0b3JhZ2VJZCkgPT4ge1xuICAgICAgdmFsaWRhdGVBcmcoc3RvcmFnZUlkLCAxLCBcImdldFVybFwiLCBcInN0b3JhZ2VJZFwiKTtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3N0b3JhZ2VHZXRVcmxcIiwge1xuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIHZlcnNpb24sXG4gICAgICAgIHN0b3JhZ2VJZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRNZXRhZGF0YTogYXN5bmMgKHN0b3JhZ2VJZCkgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Bc3luY1N5c2NhbGwoXCIxLjAvc3RvcmFnZUdldE1ldGFkYXRhXCIsIHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBzdG9yYWdlSWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXR1cFN0b3JhZ2VXcml0ZXIocmVxdWVzdElkKSB7XG4gIGNvbnN0IHJlYWRlciA9IHNldHVwU3RvcmFnZVJlYWRlcihyZXF1ZXN0SWQpO1xuICByZXR1cm4ge1xuICAgIGdlbmVyYXRlVXBsb2FkVXJsOiBhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9zdG9yYWdlR2VuZXJhdGVVcGxvYWRVcmxcIiwge1xuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIHZlcnNpb25cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGVsZXRlOiBhc3luYyAoc3RvcmFnZUlkKSA9PiB7XG4gICAgICBhd2FpdCBwZXJmb3JtQXN5bmNTeXNjYWxsKFwiMS4wL3N0b3JhZ2VEZWxldGVcIiwge1xuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIHZlcnNpb24sXG4gICAgICAgIHN0b3JhZ2VJZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRVcmw6IHJlYWRlci5nZXRVcmwsXG4gICAgZ2V0TWV0YWRhdGE6IHJlYWRlci5nZXRNZXRhZGF0YVxuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwU3RvcmFnZUFjdGlvbldyaXRlcihyZXF1ZXN0SWQpIHtcbiAgY29uc3Qgd3JpdGVyID0gc2V0dXBTdG9yYWdlV3JpdGVyKHJlcXVlc3RJZCk7XG4gIHJldHVybiB7XG4gICAgLi4ud3JpdGVyLFxuICAgIHN0b3JlOiBhc3luYyAoYmxvYiwgb3B0aW9ucykgPT4ge1xuICAgICAgcmV0dXJuIGF3YWl0IHBlcmZvcm1Kc1N5c2NhbGwoXCJzdG9yYWdlL3N0b3JlQmxvYlwiLCB7XG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgYmxvYixcbiAgICAgICAgb3B0aW9uc1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXQ6IGFzeW5jIChzdG9yYWdlSWQpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBwZXJmb3JtSnNTeXNjYWxsKFwic3RvcmFnZS9nZXRCbG9iXCIsIHtcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICB2ZXJzaW9uLFxuICAgICAgICBzdG9yYWdlSWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0b3JhZ2VfaW1wbC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ2ZXJzaW9uIiwicGVyZm9ybUFzeW5jU3lzY2FsbCIsInBlcmZvcm1Kc1N5c2NhbGwiLCJ2YWxpZGF0ZUFyZyIsInNldHVwU3RvcmFnZVJlYWRlciIsInJlcXVlc3RJZCIsImdldFVybCIsInN0b3JhZ2VJZCIsImdldE1ldGFkYXRhIiwic2V0dXBTdG9yYWdlV3JpdGVyIiwicmVhZGVyIiwiZ2VuZXJhdGVVcGxvYWRVcmwiLCJkZWxldGUiLCJzZXR1cFN0b3JhZ2VBY3Rpb25Xcml0ZXIiLCJ3cml0ZXIiLCJzdG9yZSIsImJsb2IiLCJvcHRpb25zIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/storage_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/syscall.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   performAsyncSyscall: () => (/* binding */ performAsyncSyscall),\n/* harmony export */   performJsSyscall: () => (/* binding */ performJsSyscall),\n/* harmony export */   performSyscall: () => (/* binding */ performSyscall)\n/* harmony export */ });\n/* harmony import */ var _values_errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../values/errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\n\n\nfunction performSyscall(op, arg) {\n    if (typeof Convex === \"undefined\" || Convex.syscall === void 0) {\n        throw new Error(\"The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?\");\n    }\n    const resultStr = Convex.syscall(op, JSON.stringify(arg));\n    return JSON.parse(resultStr);\n}\nasync function performAsyncSyscall(op, arg) {\n    if (typeof Convex === \"undefined\" || Convex.asyncSyscall === void 0) {\n        throw new Error(\"The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?\");\n    }\n    let resultStr;\n    try {\n        resultStr = await Convex.asyncSyscall(op, JSON.stringify(arg));\n    } catch (e) {\n        if (e.data !== void 0) {\n            const rethrown = new _values_errors_js__WEBPACK_IMPORTED_MODULE_0__.ConvexError(e.message);\n            rethrown.data = (0,_values_value_js__WEBPACK_IMPORTED_MODULE_1__.jsonToConvex)(e.data);\n            throw rethrown;\n        }\n        throw new Error(e.message);\n    }\n    return JSON.parse(resultStr);\n}\nfunction performJsSyscall(op, arg) {\n    if (typeof Convex === \"undefined\" || Convex.jsSyscall === void 0) {\n        throw new Error(\"The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?\");\n    }\n    return Convex.jsSyscall(op, arg);\n} //# sourceMappingURL=syscall.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3N5c2NhbGwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUN3QztBQUNBO0FBQzlDLFNBQVNFLGVBQWVDLEVBQUUsRUFBRUMsR0FBRztJQUNwQyxJQUFJLE9BQU9DLFdBQVcsZUFBZUEsT0FBT0MsT0FBTyxLQUFLLEtBQUssR0FBRztRQUM5RCxNQUFNLElBQUlDLE1BQ1I7SUFFSjtJQUNBLE1BQU1DLFlBQVlILE9BQU9DLE9BQU8sQ0FBQ0gsSUFBSU0sS0FBS0MsU0FBUyxDQUFDTjtJQUNwRCxPQUFPSyxLQUFLRSxLQUFLLENBQUNIO0FBQ3BCO0FBQ08sZUFBZUksb0JBQW9CVCxFQUFFLEVBQUVDLEdBQUc7SUFDL0MsSUFBSSxPQUFPQyxXQUFXLGVBQWVBLE9BQU9RLFlBQVksS0FBSyxLQUFLLEdBQUc7UUFDbkUsTUFBTSxJQUFJTixNQUNSO0lBRUo7SUFDQSxJQUFJQztJQUNKLElBQUk7UUFDRkEsWUFBWSxNQUFNSCxPQUFPUSxZQUFZLENBQUNWLElBQUlNLEtBQUtDLFNBQVMsQ0FBQ047SUFDM0QsRUFBRSxPQUFPVSxHQUFHO1FBQ1YsSUFBSUEsRUFBRUMsSUFBSSxLQUFLLEtBQUssR0FBRztZQUNyQixNQUFNQyxXQUFXLElBQUloQiwwREFBV0EsQ0FBQ2MsRUFBRUcsT0FBTztZQUMxQ0QsU0FBU0QsSUFBSSxHQUFHZCw4REFBWUEsQ0FBQ2EsRUFBRUMsSUFBSTtZQUNuQyxNQUFNQztRQUNSO1FBQ0EsTUFBTSxJQUFJVCxNQUFNTyxFQUFFRyxPQUFPO0lBQzNCO0lBQ0EsT0FBT1IsS0FBS0UsS0FBSyxDQUFDSDtBQUNwQjtBQUNPLFNBQVNVLGlCQUFpQmYsRUFBRSxFQUFFQyxHQUFHO0lBQ3RDLElBQUksT0FBT0MsV0FBVyxlQUFlQSxPQUFPYyxTQUFTLEtBQUssS0FBSyxHQUFHO1FBQ2hFLE1BQU0sSUFBSVosTUFDUjtJQUVKO0lBQ0EsT0FBT0YsT0FBT2MsU0FBUyxDQUFDaEIsSUFBSUM7QUFDOUIsRUFDQSxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL2ltcGwvc3lzY2FsbC5qcz80ODUzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuaW1wb3J0IHsgQ29udmV4RXJyb3IgfSBmcm9tIFwiLi4vLi4vdmFsdWVzL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsganNvblRvQ29udmV4IH0gZnJvbSBcIi4uLy4uL3ZhbHVlcy92YWx1ZS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBlcmZvcm1TeXNjYWxsKG9wLCBhcmcpIHtcbiAgaWYgKHR5cGVvZiBDb252ZXggPT09IFwidW5kZWZpbmVkXCIgfHwgQ29udmV4LnN5c2NhbGwgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiVGhlIENvbnZleCBkYXRhYmFzZSBhbmQgYXV0aCBvYmplY3RzIGFyZSBiZWluZyB1c2VkIG91dHNpZGUgb2YgYSBDb252ZXggYmFja2VuZC4gRGlkIHlvdSBtZWFuIHRvIHVzZSBgdXNlUXVlcnlgIG9yIGB1c2VNdXRhdGlvbmAgdG8gY2FsbCBhIENvbnZleCBmdW5jdGlvbj9cIlxuICAgICk7XG4gIH1cbiAgY29uc3QgcmVzdWx0U3RyID0gQ29udmV4LnN5c2NhbGwob3AsIEpTT04uc3RyaW5naWZ5KGFyZykpO1xuICByZXR1cm4gSlNPTi5wYXJzZShyZXN1bHRTdHIpO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1Bc3luY1N5c2NhbGwob3AsIGFyZykge1xuICBpZiAodHlwZW9mIENvbnZleCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBDb252ZXguYXN5bmNTeXNjYWxsID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRoZSBDb252ZXggZGF0YWJhc2UgYW5kIGF1dGggb2JqZWN0cyBhcmUgYmVpbmcgdXNlZCBvdXRzaWRlIG9mIGEgQ29udmV4IGJhY2tlbmQuIERpZCB5b3UgbWVhbiB0byB1c2UgYHVzZVF1ZXJ5YCBvciBgdXNlTXV0YXRpb25gIHRvIGNhbGwgYSBDb252ZXggZnVuY3Rpb24/XCJcbiAgICApO1xuICB9XG4gIGxldCByZXN1bHRTdHI7XG4gIHRyeSB7XG4gICAgcmVzdWx0U3RyID0gYXdhaXQgQ29udmV4LmFzeW5jU3lzY2FsbChvcCwgSlNPTi5zdHJpbmdpZnkoYXJnKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZS5kYXRhICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IHJldGhyb3duID0gbmV3IENvbnZleEVycm9yKGUubWVzc2FnZSk7XG4gICAgICByZXRocm93bi5kYXRhID0ganNvblRvQ29udmV4KGUuZGF0YSk7XG4gICAgICB0aHJvdyByZXRocm93bjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGUubWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIEpTT04ucGFyc2UocmVzdWx0U3RyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwZXJmb3JtSnNTeXNjYWxsKG9wLCBhcmcpIHtcbiAgaWYgKHR5cGVvZiBDb252ZXggPT09IFwidW5kZWZpbmVkXCIgfHwgQ29udmV4LmpzU3lzY2FsbCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUaGUgQ29udmV4IGRhdGFiYXNlIGFuZCBhdXRoIG9iamVjdHMgYXJlIGJlaW5nIHVzZWQgb3V0c2lkZSBvZiBhIENvbnZleCBiYWNrZW5kLiBEaWQgeW91IG1lYW4gdG8gdXNlIGB1c2VRdWVyeWAgb3IgYHVzZU11dGF0aW9uYCB0byBjYWxsIGEgQ29udmV4IGZ1bmN0aW9uP1wiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gQ29udmV4LmpzU3lzY2FsbChvcCwgYXJnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5c2NhbGwuanMubWFwXG4iXSwibmFtZXMiOlsiQ29udmV4RXJyb3IiLCJqc29uVG9Db252ZXgiLCJwZXJmb3JtU3lzY2FsbCIsIm9wIiwiYXJnIiwiQ29udmV4Iiwic3lzY2FsbCIsIkVycm9yIiwicmVzdWx0U3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwicGVyZm9ybUFzeW5jU3lzY2FsbCIsImFzeW5jU3lzY2FsbCIsImUiLCJkYXRhIiwicmV0aHJvd24iLCJtZXNzYWdlIiwicGVyZm9ybUpzU3lzY2FsbCIsImpzU3lzY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/validate.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   validateArg: () => (/* binding */ validateArg),\n/* harmony export */   validateArgIsInteger: () => (/* binding */ validateArgIsInteger),\n/* harmony export */   validateArgIsNonNegativeInteger: () => (/* binding */ validateArgIsNonNegativeInteger)\n/* harmony export */ });\n\nfunction validateArg(arg, idx, method, argName) {\n    if (arg === void 0) {\n        throw new TypeError(`Must provide arg ${idx} \\`${argName}\\` to \\`${method}\\``);\n    }\n}\nfunction validateArgIsInteger(arg, idx, method, argName) {\n    if (!Number.isInteger(arg)) {\n        throw new TypeError(`Arg ${idx} \\`${argName}\\` to \\`${method}\\` must be an integer`);\n    }\n}\nfunction validateArgIsNonNegativeInteger(arg, idx, method, argName) {\n    if (!Number.isInteger(arg) || arg < 0) {\n        throw new TypeError(`Arg ${idx} \\`${argName}\\` to \\`${method}\\` must be a non-negative integer`);\n    }\n} //# sourceMappingURL=validate.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3ZhbGlkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFhO0FBQ04sU0FBU0EsWUFBWUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLE1BQU0sRUFBRUMsT0FBTztJQUNuRCxJQUFJSCxRQUFRLEtBQUssR0FBRztRQUNsQixNQUFNLElBQUlJLFVBQ1IsQ0FBQyxpQkFBaUIsRUFBRUgsSUFBSSxHQUFHLEVBQUVFLFFBQVEsUUFBUSxFQUFFRCxPQUFPLEVBQUUsQ0FBQztJQUU3RDtBQUNGO0FBQ08sU0FBU0cscUJBQXFCTCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsTUFBTSxFQUFFQyxPQUFPO0lBQzVELElBQUksQ0FBQ0csT0FBT0MsU0FBUyxDQUFDUCxNQUFNO1FBQzFCLE1BQU0sSUFBSUksVUFDUixDQUFDLElBQUksRUFBRUgsSUFBSSxHQUFHLEVBQUVFLFFBQVEsUUFBUSxFQUFFRCxPQUFPLHFCQUFxQixDQUFDO0lBRW5FO0FBQ0Y7QUFDTyxTQUFTTSxnQ0FBZ0NSLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxNQUFNLEVBQUVDLE9BQU87SUFDdkUsSUFBSSxDQUFDRyxPQUFPQyxTQUFTLENBQUNQLFFBQVFBLE1BQU0sR0FBRztRQUNyQyxNQUFNLElBQUlJLFVBQ1IsQ0FBQyxJQUFJLEVBQUVILElBQUksR0FBRyxFQUFFRSxRQUFRLFFBQVEsRUFBRUQsT0FBTyxpQ0FBaUMsQ0FBQztJQUUvRTtBQUNGLEVBQ0Esb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3ZhbGlkYXRlLmpzP2EzNmMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBcmcoYXJnLCBpZHgsIG1ldGhvZCwgYXJnTmFtZSkge1xuICBpZiAoYXJnID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgYE11c3QgcHJvdmlkZSBhcmcgJHtpZHh9IFxcYCR7YXJnTmFtZX1cXGAgdG8gXFxgJHttZXRob2R9XFxgYFxuICAgICk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUFyZ0lzSW50ZWdlcihhcmcsIGlkeCwgbWV0aG9kLCBhcmdOYW1lKSB7XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihhcmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgIGBBcmcgJHtpZHh9IFxcYCR7YXJnTmFtZX1cXGAgdG8gXFxgJHttZXRob2R9XFxgIG11c3QgYmUgYW4gaW50ZWdlcmBcbiAgICApO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVBcmdJc05vbk5lZ2F0aXZlSW50ZWdlcihhcmcsIGlkeCwgbWV0aG9kLCBhcmdOYW1lKSB7XG4gIGlmICghTnVtYmVyLmlzSW50ZWdlcihhcmcpIHx8IGFyZyA8IDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgYEFyZyAke2lkeH0gXFxgJHthcmdOYW1lfVxcYCB0byBcXGAke21ldGhvZH1cXGAgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyYFxuICAgICk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkYXRlLmpzLm1hcFxuIl0sIm5hbWVzIjpbInZhbGlkYXRlQXJnIiwiYXJnIiwiaWR4IiwibWV0aG9kIiwiYXJnTmFtZSIsIlR5cGVFcnJvciIsInZhbGlkYXRlQXJnSXNJbnRlZ2VyIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwidmFsaWRhdGVBcmdJc05vbk5lZ2F0aXZlSW50ZWdlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/impl/vector_search_impl.js":
/*!************************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/impl/vector_search_impl.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExpressionImpl: () => (/* binding */ ExpressionImpl),\n/* harmony export */   VectorQueryImpl: () => (/* binding */ VectorQueryImpl),\n/* harmony export */   filterBuilderImpl: () => (/* binding */ filterBuilderImpl),\n/* harmony export */   serializeExpression: () => (/* binding */ serializeExpression),\n/* harmony export */   setupActionVectorSearch: () => (/* binding */ setupActionVectorSearch)\n/* harmony export */ });\n/* harmony import */ var _syscall_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/convex/dist/esm/index.js\");\n/* harmony import */ var _vector_search_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../vector_search.js */ \"(ssr)/./node_modules/convex/dist/esm/server/vector_search.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/validate.js\");\n/* harmony import */ var _values_value_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../values/value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n\n\n\n\nfunction setupActionVectorSearch(requestId) {\n    return async (tableName, indexName, query)=>{\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(tableName, 1, \"vectorSearch\", \"tableName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(indexName, 2, \"vectorSearch\", \"indexName\");\n        (0,_validate_js__WEBPACK_IMPORTED_MODULE_3__.validateArg)(query, 3, \"vectorSearch\", \"query\");\n        if (!query.vector || !Array.isArray(query.vector) || query.vector.length === 0) {\n            throw Error(\"`vector` must be a non-empty Array in vectorSearch\");\n        }\n        return await new VectorQueryImpl(requestId, tableName + \".\" + indexName, query).collect();\n    };\n}\nclass VectorQueryImpl {\n    constructor(requestId, indexName, query){\n        __publicField(this, \"requestId\");\n        __publicField(this, \"state\");\n        this.requestId = requestId;\n        const filters = query.filter ? serializeExpression(query.filter(filterBuilderImpl)) : null;\n        this.state = {\n            type: \"preparing\",\n            query: {\n                indexName,\n                limit: query.limit,\n                vector: query.vector,\n                expressions: filters\n            }\n        };\n    }\n    async collect() {\n        if (this.state.type === \"consumed\") {\n            throw new Error(\"This query is closed and can't emit any more values.\");\n        }\n        const query = this.state.query;\n        this.state = {\n            type: \"consumed\"\n        };\n        const { results } = await (0,_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performAsyncSyscall)(\"1.0/actions/vectorSearch\", {\n            requestId: this.requestId,\n            version: _index_js__WEBPACK_IMPORTED_MODULE_1__.version,\n            query\n        });\n        return results;\n    }\n}\nclass ExpressionImpl extends _vector_search_js__WEBPACK_IMPORTED_MODULE_2__.FilterExpression {\n    constructor(inner){\n        super();\n        __publicField(this, \"inner\");\n        this.inner = inner;\n    }\n    serialize() {\n        return this.inner;\n    }\n}\nfunction serializeExpression(expr) {\n    if (expr instanceof ExpressionImpl) {\n        return expr.serialize();\n    } else {\n        return {\n            $literal: (0,_values_value_js__WEBPACK_IMPORTED_MODULE_4__.convexOrUndefinedToJson)(expr)\n        };\n    }\n}\nconst filterBuilderImpl = {\n    //  Comparisons  /////////////////////////////////////////////////////////////\n    eq (fieldName, value) {\n        if (typeof fieldName !== \"string\") {\n            throw new Error(\"The first argument to `q.eq` must be a field name.\");\n        }\n        return new ExpressionImpl({\n            $eq: [\n                serializeExpression(new ExpressionImpl({\n                    $field: fieldName\n                })),\n                serializeExpression(value)\n            ]\n        });\n    },\n    //  Logic  ///////////////////////////////////////////////////////////////////\n    or (...exprs) {\n        return new ExpressionImpl({\n            $or: exprs.map(serializeExpression)\n        });\n    }\n}; //# sourceMappingURL=vector_search_impl.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3ZlY3Rvcl9zZWFyY2hfaW1wbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQ3JEO0FBQ1Y7QUFHWjtBQUNlO0FBQ29CO0FBQ3pELFNBQVNVLHdCQUF3QkMsU0FBUztJQUMvQyxPQUFPLE9BQU9DLFdBQVdDLFdBQVdDO1FBQ2xDTix5REFBV0EsQ0FBQ0ksV0FBVyxHQUFHLGdCQUFnQjtRQUMxQ0oseURBQVdBLENBQUNLLFdBQVcsR0FBRyxnQkFBZ0I7UUFDMUNMLHlEQUFXQSxDQUFDTSxPQUFPLEdBQUcsZ0JBQWdCO1FBQ3RDLElBQUksQ0FBQ0EsTUFBTUMsTUFBTSxJQUFJLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0gsTUFBTUMsTUFBTSxLQUFLRCxNQUFNQyxNQUFNLENBQUNHLE1BQU0sS0FBSyxHQUFHO1lBQzlFLE1BQU1DLE1BQU07UUFDZDtRQUNBLE9BQU8sTUFBTSxJQUFJQyxnQkFDZlQsV0FDQUMsWUFBWSxNQUFNQyxXQUNsQkMsT0FDQU8sT0FBTztJQUNYO0FBQ0Y7QUFDTyxNQUFNRDtJQUNYRSxZQUFZWCxTQUFTLEVBQUVFLFNBQVMsRUFBRUMsS0FBSyxDQUFFO1FBQ3ZDVixjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsSUFBSSxDQUFDTyxTQUFTLEdBQUdBO1FBQ2pCLE1BQU1ZLFVBQVVULE1BQU1VLE1BQU0sR0FBR0Msb0JBQW9CWCxNQUFNVSxNQUFNLENBQUNFLHNCQUFzQjtRQUN0RixJQUFJLENBQUNDLEtBQUssR0FBRztZQUNYQyxNQUFNO1lBQ05kLE9BQU87Z0JBQ0xEO2dCQUNBZ0IsT0FBT2YsTUFBTWUsS0FBSztnQkFDbEJkLFFBQVFELE1BQU1DLE1BQU07Z0JBQ3BCZSxhQUFhUDtZQUNmO1FBQ0Y7SUFDRjtJQUNBLE1BQU1GLFVBQVU7UUFDZCxJQUFJLElBQUksQ0FBQ00sS0FBSyxDQUFDQyxJQUFJLEtBQUssWUFBWTtZQUNsQyxNQUFNLElBQUlULE1BQU07UUFDbEI7UUFDQSxNQUFNTCxRQUFRLElBQUksQ0FBQ2EsS0FBSyxDQUFDYixLQUFLO1FBQzlCLElBQUksQ0FBQ2EsS0FBSyxHQUFHO1lBQUVDLE1BQU07UUFBVztRQUNoQyxNQUFNLEVBQUVHLE9BQU8sRUFBRSxHQUFHLE1BQU0xQixnRUFBbUJBLENBQUMsNEJBQTRCO1lBQ3hFTSxXQUFXLElBQUksQ0FBQ0EsU0FBUztZQUN6QkwsT0FBT0EsZ0RBQUFBO1lBQ1BRO1FBQ0Y7UUFDQSxPQUFPaUI7SUFDVDtBQUNGO0FBQ08sTUFBTUMsdUJBQXVCekIsK0RBQWdCQTtJQUNsRGUsWUFBWVcsS0FBSyxDQUFFO1FBQ2pCLEtBQUs7UUFDTDdCLGNBQWMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQzZCLEtBQUssR0FBR0E7SUFDZjtJQUNBQyxZQUFZO1FBQ1YsT0FBTyxJQUFJLENBQUNELEtBQUs7SUFDbkI7QUFDRjtBQUNPLFNBQVNSLG9CQUFvQlUsSUFBSTtJQUN0QyxJQUFJQSxnQkFBZ0JILGdCQUFnQjtRQUNsQyxPQUFPRyxLQUFLRCxTQUFTO0lBQ3ZCLE9BQU87UUFDTCxPQUFPO1lBQUVFLFVBQVUzQix5RUFBdUJBLENBQUMwQjtRQUFNO0lBQ25EO0FBQ0Y7QUFDTyxNQUFNVCxvQkFBb0I7SUFDL0IsOEVBQThFO0lBQzlFVyxJQUFHQyxTQUFTLEVBQUV0QyxLQUFLO1FBQ2pCLElBQUksT0FBT3NDLGNBQWMsVUFBVTtZQUNqQyxNQUFNLElBQUluQixNQUFNO1FBQ2xCO1FBQ0EsT0FBTyxJQUFJYSxlQUFlO1lBQ3hCTyxLQUFLO2dCQUNIZCxvQkFBb0IsSUFBSU8sZUFBZTtvQkFBRVEsUUFBUUY7Z0JBQVU7Z0JBQzNEYixvQkFBb0J6QjthQUNyQjtRQUNIO0lBQ0Y7SUFDQSw4RUFBOEU7SUFDOUV5QyxJQUFHLEdBQUdDLEtBQUs7UUFDVCxPQUFPLElBQUlWLGVBQWU7WUFBRVcsS0FBS0QsTUFBTUUsR0FBRyxDQUFDbkI7UUFBcUI7SUFDbEU7QUFDRixFQUFFLENBQ0YsOENBQThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbXBsL3ZlY3Rvcl9zZWFyY2hfaW1wbC5qcz8xMmY4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IHBlcmZvcm1Bc3luY1N5c2NhbGwgfSBmcm9tIFwiLi9zeXNjYWxsLmpzXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4uLy4uL2luZGV4LmpzXCI7XG5pbXBvcnQge1xuICBGaWx0ZXJFeHByZXNzaW9uXG59IGZyb20gXCIuLi92ZWN0b3Jfc2VhcmNoLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZUFyZyB9IGZyb20gXCIuL3ZhbGlkYXRlLmpzXCI7XG5pbXBvcnQgeyBjb252ZXhPclVuZGVmaW5lZFRvSnNvbiB9IGZyb20gXCIuLi8uLi92YWx1ZXMvdmFsdWUuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBzZXR1cEFjdGlvblZlY3RvclNlYXJjaChyZXF1ZXN0SWQpIHtcbiAgcmV0dXJuIGFzeW5jICh0YWJsZU5hbWUsIGluZGV4TmFtZSwgcXVlcnkpID0+IHtcbiAgICB2YWxpZGF0ZUFyZyh0YWJsZU5hbWUsIDEsIFwidmVjdG9yU2VhcmNoXCIsIFwidGFibGVOYW1lXCIpO1xuICAgIHZhbGlkYXRlQXJnKGluZGV4TmFtZSwgMiwgXCJ2ZWN0b3JTZWFyY2hcIiwgXCJpbmRleE5hbWVcIik7XG4gICAgdmFsaWRhdGVBcmcocXVlcnksIDMsIFwidmVjdG9yU2VhcmNoXCIsIFwicXVlcnlcIik7XG4gICAgaWYgKCFxdWVyeS52ZWN0b3IgfHwgIUFycmF5LmlzQXJyYXkocXVlcnkudmVjdG9yKSB8fCBxdWVyeS52ZWN0b3IubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBFcnJvcihcImB2ZWN0b3JgIG11c3QgYmUgYSBub24tZW1wdHkgQXJyYXkgaW4gdmVjdG9yU2VhcmNoXCIpO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgbmV3IFZlY3RvclF1ZXJ5SW1wbChcbiAgICAgIHJlcXVlc3RJZCxcbiAgICAgIHRhYmxlTmFtZSArIFwiLlwiICsgaW5kZXhOYW1lLFxuICAgICAgcXVlcnlcbiAgICApLmNvbGxlY3QoKTtcbiAgfTtcbn1cbmV4cG9ydCBjbGFzcyBWZWN0b3JRdWVyeUltcGwge1xuICBjb25zdHJ1Y3RvcihyZXF1ZXN0SWQsIGluZGV4TmFtZSwgcXVlcnkpIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwicmVxdWVzdElkXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzdGF0ZVwiKTtcbiAgICB0aGlzLnJlcXVlc3RJZCA9IHJlcXVlc3RJZDtcbiAgICBjb25zdCBmaWx0ZXJzID0gcXVlcnkuZmlsdGVyID8gc2VyaWFsaXplRXhwcmVzc2lvbihxdWVyeS5maWx0ZXIoZmlsdGVyQnVpbGRlckltcGwpKSA6IG51bGw7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHR5cGU6IFwicHJlcGFyaW5nXCIsXG4gICAgICBxdWVyeToge1xuICAgICAgICBpbmRleE5hbWUsXG4gICAgICAgIGxpbWl0OiBxdWVyeS5saW1pdCxcbiAgICAgICAgdmVjdG9yOiBxdWVyeS52ZWN0b3IsXG4gICAgICAgIGV4cHJlc3Npb25zOiBmaWx0ZXJzXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBhc3luYyBjb2xsZWN0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlLnR5cGUgPT09IFwiY29uc3VtZWRcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBxdWVyeSBpcyBjbG9zZWQgYW5kIGNhbid0IGVtaXQgYW55IG1vcmUgdmFsdWVzLlwiKTtcbiAgICB9XG4gICAgY29uc3QgcXVlcnkgPSB0aGlzLnN0YXRlLnF1ZXJ5O1xuICAgIHRoaXMuc3RhdGUgPSB7IHR5cGU6IFwiY29uc3VtZWRcIiB9O1xuICAgIGNvbnN0IHsgcmVzdWx0cyB9ID0gYXdhaXQgcGVyZm9ybUFzeW5jU3lzY2FsbChcIjEuMC9hY3Rpb25zL3ZlY3RvclNlYXJjaFwiLCB7XG4gICAgICByZXF1ZXN0SWQ6IHRoaXMucmVxdWVzdElkLFxuICAgICAgdmVyc2lvbixcbiAgICAgIHF1ZXJ5XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBFeHByZXNzaW9uSW1wbCBleHRlbmRzIEZpbHRlckV4cHJlc3Npb24ge1xuICBjb25zdHJ1Y3Rvcihpbm5lcikge1xuICAgIHN1cGVyKCk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImlubmVyXCIpO1xuICAgIHRoaXMuaW5uZXIgPSBpbm5lcjtcbiAgfVxuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5uZXI7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVFeHByZXNzaW9uKGV4cHIpIHtcbiAgaWYgKGV4cHIgaW5zdGFuY2VvZiBFeHByZXNzaW9uSW1wbCkge1xuICAgIHJldHVybiBleHByLnNlcmlhbGl6ZSgpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7ICRsaXRlcmFsOiBjb252ZXhPclVuZGVmaW5lZFRvSnNvbihleHByKSB9O1xuICB9XG59XG5leHBvcnQgY29uc3QgZmlsdGVyQnVpbGRlckltcGwgPSB7XG4gIC8vICBDb21wYXJpc29ucyAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICBlcShmaWVsZE5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBmaWVsZE5hbWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBmaXJzdCBhcmd1bWVudCB0byBgcS5lcWAgbXVzdCBiZSBhIGZpZWxkIG5hbWUuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEV4cHJlc3Npb25JbXBsKHtcbiAgICAgICRlcTogW1xuICAgICAgICBzZXJpYWxpemVFeHByZXNzaW9uKG5ldyBFeHByZXNzaW9uSW1wbCh7ICRmaWVsZDogZmllbGROYW1lIH0pKSxcbiAgICAgICAgc2VyaWFsaXplRXhwcmVzc2lvbih2YWx1ZSlcbiAgICAgIF1cbiAgICB9KTtcbiAgfSxcbiAgLy8gIExvZ2ljICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gIG9yKC4uLmV4cHJzKSB7XG4gICAgcmV0dXJuIG5ldyBFeHByZXNzaW9uSW1wbCh7ICRvcjogZXhwcnMubWFwKHNlcmlhbGl6ZUV4cHJlc3Npb24pIH0pO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yX3NlYXJjaF9pbXBsLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwicGVyZm9ybUFzeW5jU3lzY2FsbCIsInZlcnNpb24iLCJGaWx0ZXJFeHByZXNzaW9uIiwidmFsaWRhdGVBcmciLCJjb252ZXhPclVuZGVmaW5lZFRvSnNvbiIsInNldHVwQWN0aW9uVmVjdG9yU2VhcmNoIiwicmVxdWVzdElkIiwidGFibGVOYW1lIiwiaW5kZXhOYW1lIiwicXVlcnkiLCJ2ZWN0b3IiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJFcnJvciIsIlZlY3RvclF1ZXJ5SW1wbCIsImNvbGxlY3QiLCJjb25zdHJ1Y3RvciIsImZpbHRlcnMiLCJmaWx0ZXIiLCJzZXJpYWxpemVFeHByZXNzaW9uIiwiZmlsdGVyQnVpbGRlckltcGwiLCJzdGF0ZSIsInR5cGUiLCJsaW1pdCIsImV4cHJlc3Npb25zIiwicmVzdWx0cyIsIkV4cHJlc3Npb25JbXBsIiwiaW5uZXIiLCJzZXJpYWxpemUiLCJleHByIiwiJGxpdGVyYWwiLCJlcSIsImZpZWxkTmFtZSIsIiRlcSIsIiRmaWVsZCIsIm9yIiwiZXhwcnMiLCIkb3IiLCJtYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/impl/vector_search_impl.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpRouter: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_6__.HttpRouter),\n/* harmony export */   ROUTABLE_HTTP_METHODS: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_6__.ROUTABLE_HTTP_METHODS),\n/* harmony export */   SearchFilter: () => (/* reexport safe */ _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_3__.SearchFilter),\n/* harmony export */   actionGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.actionGeneric),\n/* harmony export */   anyApi: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.anyApi),\n/* harmony export */   componentsGeneric: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.componentsGeneric),\n/* harmony export */   createFunctionHandle: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.createFunctionHandle),\n/* harmony export */   cronJobs: () => (/* reexport safe */ _cron_js__WEBPACK_IMPORTED_MODULE_5__.cronJobs),\n/* harmony export */   currentSystemUdfInComponent: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.currentSystemUdfInComponent),\n/* harmony export */   defineApp: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.defineApp),\n/* harmony export */   defineComponent: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.defineComponent),\n/* harmony export */   defineSchema: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_9__.defineSchema),\n/* harmony export */   defineTable: () => (/* reexport safe */ _schema_js__WEBPACK_IMPORTED_MODULE_9__.defineTable),\n/* harmony export */   filterApi: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.filterApi),\n/* harmony export */   getFunctionAddress: () => (/* reexport safe */ _components_index_js__WEBPACK_IMPORTED_MODULE_8__.getFunctionAddress),\n/* harmony export */   getFunctionName: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.getFunctionName),\n/* harmony export */   httpActionGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.httpActionGeneric),\n/* harmony export */   httpRouter: () => (/* reexport safe */ _router_js__WEBPACK_IMPORTED_MODULE_6__.httpRouter),\n/* harmony export */   internalActionGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.internalActionGeneric),\n/* harmony export */   internalMutationGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.internalMutationGeneric),\n/* harmony export */   internalQueryGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.internalQueryGeneric),\n/* harmony export */   makeFunctionReference: () => (/* reexport safe */ _api_js__WEBPACK_IMPORTED_MODULE_7__.makeFunctionReference),\n/* harmony export */   mutationGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.mutationGeneric),\n/* harmony export */   paginationOptsValidator: () => (/* reexport safe */ _pagination_js__WEBPACK_IMPORTED_MODULE_2__.paginationOptsValidator),\n/* harmony export */   paginationResultValidator: () => (/* reexport safe */ _pagination_js__WEBPACK_IMPORTED_MODULE_2__.paginationResultValidator),\n/* harmony export */   queryGeneric: () => (/* reexport safe */ _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__.queryGeneric)\n/* harmony export */ });\n/* harmony import */ var _database_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./database.js */ \"(ssr)/./node_modules/convex/dist/esm/server/database.js\");\n/* harmony import */ var _impl_registration_impl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./impl/registration_impl.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/registration_impl.js\");\n/* harmony import */ var _pagination_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pagination.js */ \"(ssr)/./node_modules/convex/dist/esm/server/pagination.js\");\n/* harmony import */ var _search_filter_builder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./search_filter_builder.js */ \"(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js\");\n/* harmony import */ var _storage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./storage.js */ \"(ssr)/./node_modules/convex/dist/esm/server/storage.js\");\n/* harmony import */ var _cron_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cron.js */ \"(ssr)/./node_modules/convex/dist/esm/server/cron.js\");\n/* harmony import */ var _router_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./router.js */ \"(ssr)/./node_modules/convex/dist/esm/server/router.js\");\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./api.js */ \"(ssr)/./node_modules/convex/dist/esm/server/api.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/index.js */ \"(ssr)/./node_modules/convex/dist/esm/server/components/index.js\");\n/* harmony import */ var _schema_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./schema.js */ \"(ssr)/./node_modules/convex/dist/esm/server/schema.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBYTtBQUNpQjtBQVNPO0FBQ0w7QUFDVztBQUNkO0FBQ1E7QUFDdUM7QUFNMUQ7QUFNYTtBQUNxQztBQUNUO0FBQ0gsQ0FDeEQsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleC5qcz84MzkwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vZGF0YWJhc2UuanNcIjtcbmV4cG9ydCB7XG4gIGFjdGlvbkdlbmVyaWMsXG4gIGh0dHBBY3Rpb25HZW5lcmljLFxuICBtdXRhdGlvbkdlbmVyaWMsXG4gIHF1ZXJ5R2VuZXJpYyxcbiAgaW50ZXJuYWxBY3Rpb25HZW5lcmljLFxuICBpbnRlcm5hbE11dGF0aW9uR2VuZXJpYyxcbiAgaW50ZXJuYWxRdWVyeUdlbmVyaWNcbn0gZnJvbSBcIi4vaW1wbC9yZWdpc3RyYXRpb25faW1wbC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vcGFnaW5hdGlvbi5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2VhcmNoX2ZpbHRlcl9idWlsZGVyLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9zdG9yYWdlLmpzXCI7XG5leHBvcnQgeyBjcm9uSm9icyB9IGZyb20gXCIuL2Nyb24uanNcIjtcbmV4cG9ydCB7IGh0dHBSb3V0ZXIsIEh0dHBSb3V0ZXIsIFJPVVRBQkxFX0hUVFBfTUVUSE9EUyB9IGZyb20gXCIuL3JvdXRlci5qc1wiO1xuZXhwb3J0IHtcbiAgYW55QXBpLFxuICBnZXRGdW5jdGlvbk5hbWUsXG4gIG1ha2VGdW5jdGlvblJlZmVyZW5jZSxcbiAgZmlsdGVyQXBpXG59IGZyb20gXCIuL2FwaS5qc1wiO1xuZXhwb3J0IHtcbiAgZGVmaW5lQXBwLFxuICBkZWZpbmVDb21wb25lbnQsXG4gIGNvbXBvbmVudHNHZW5lcmljLFxuICBjcmVhdGVGdW5jdGlvbkhhbmRsZVxufSBmcm9tIFwiLi9jb21wb25lbnRzL2luZGV4LmpzXCI7XG5leHBvcnQgeyBjdXJyZW50U3lzdGVtVWRmSW5Db21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2luZGV4LmpzXCI7XG5leHBvcnQgeyBnZXRGdW5jdGlvbkFkZHJlc3MgfSBmcm9tIFwiLi9jb21wb25lbnRzL2luZGV4LmpzXCI7XG5leHBvcnQgeyBkZWZpbmVUYWJsZSwgZGVmaW5lU2NoZW1hIH0gZnJvbSBcIi4vc2NoZW1hLmpzXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJhY3Rpb25HZW5lcmljIiwiaHR0cEFjdGlvbkdlbmVyaWMiLCJtdXRhdGlvbkdlbmVyaWMiLCJxdWVyeUdlbmVyaWMiLCJpbnRlcm5hbEFjdGlvbkdlbmVyaWMiLCJpbnRlcm5hbE11dGF0aW9uR2VuZXJpYyIsImludGVybmFsUXVlcnlHZW5lcmljIiwiY3JvbkpvYnMiLCJodHRwUm91dGVyIiwiSHR0cFJvdXRlciIsIlJPVVRBQkxFX0hUVFBfTUVUSE9EUyIsImFueUFwaSIsImdldEZ1bmN0aW9uTmFtZSIsIm1ha2VGdW5jdGlvblJlZmVyZW5jZSIsImZpbHRlckFwaSIsImRlZmluZUFwcCIsImRlZmluZUNvbXBvbmVudCIsImNvbXBvbmVudHNHZW5lcmljIiwiY3JlYXRlRnVuY3Rpb25IYW5kbGUiLCJjdXJyZW50U3lzdGVtVWRmSW5Db21wb25lbnQiLCJnZXRGdW5jdGlvbkFkZHJlc3MiLCJkZWZpbmVUYWJsZSIsImRlZmluZVNjaGVtYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/index_range_builder.js":
/*!********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/index_range_builder.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IndexRange: () => (/* binding */ IndexRange)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass IndexRange {\n    /**\n   * @internal\n   */ constructor(){\n        // Property for nominal type support.\n        __publicField(this, \"_isIndexRange\");\n    }\n} //# sourceMappingURL=index_range_builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleF9yYW5nZV9idWlsZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDakcsTUFBTUs7SUFDWDs7R0FFQyxHQUNEQyxhQUFjO1FBQ1oscUNBQXFDO1FBQ3JDRixjQUFjLElBQUksRUFBRTtJQUN0QjtBQUNGLEVBQ0EsK0NBQStDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9pbmRleF9yYW5nZV9idWlsZGVyLmpzP2Y1OTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuZXhwb3J0IGNsYXNzIEluZGV4UmFuZ2Uge1xuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBQcm9wZXJ0eSBmb3Igbm9taW5hbCB0eXBlIHN1cHBvcnQuXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9pc0luZGV4UmFuZ2VcIik7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4X3JhbmdlX2J1aWxkZXIuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJJbmRleFJhbmdlIiwiY29uc3RydWN0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/index_range_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/pagination.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/pagination.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   paginationOptsValidator: () => (/* binding */ paginationOptsValidator),\n/* harmony export */   paginationResultValidator: () => (/* binding */ paginationResultValidator)\n/* harmony export */ });\n/* harmony import */ var _values_validator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n\n\nconst paginationOptsValidator = _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n    numItems: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number(),\n    cursor: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.null()),\n    endCursor: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.null())),\n    id: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number()),\n    maximumRowsRead: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number()),\n    maximumBytesRead: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.number())\n});\nfunction paginationResultValidator(itemValidator) {\n    return _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n        page: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.array(itemValidator),\n        continueCursor: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(),\n        isDone: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.boolean(),\n        splitCursor: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.null())),\n        pageStatus: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"SplitRecommended\"), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"SplitRequired\"), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.null()))\n    });\n} //# sourceMappingURL=pagination.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9wYWdpbmF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFhO0FBQzhCO0FBQ3BDLE1BQU1DLDBCQUEwQkQsbURBQUNBLENBQUNFLE1BQU0sQ0FBQztJQUM5Q0MsVUFBVUgsbURBQUNBLENBQUNJLE1BQU07SUFDbEJDLFFBQVFMLG1EQUFDQSxDQUFDTSxLQUFLLENBQUNOLG1EQUFDQSxDQUFDTyxNQUFNLElBQUlQLG1EQUFDQSxDQUFDUSxJQUFJO0lBQ2xDQyxXQUFXVCxtREFBQ0EsQ0FBQ1UsUUFBUSxDQUFDVixtREFBQ0EsQ0FBQ00sS0FBSyxDQUFDTixtREFBQ0EsQ0FBQ08sTUFBTSxJQUFJUCxtREFBQ0EsQ0FBQ1EsSUFBSTtJQUNoREcsSUFBSVgsbURBQUNBLENBQUNVLFFBQVEsQ0FBQ1YsbURBQUNBLENBQUNJLE1BQU07SUFDdkJRLGlCQUFpQlosbURBQUNBLENBQUNVLFFBQVEsQ0FBQ1YsbURBQUNBLENBQUNJLE1BQU07SUFDcENTLGtCQUFrQmIsbURBQUNBLENBQUNVLFFBQVEsQ0FBQ1YsbURBQUNBLENBQUNJLE1BQU07QUFDdkMsR0FBRztBQUNJLFNBQVNVLDBCQUEwQkMsYUFBYTtJQUNyRCxPQUFPZixtREFBQ0EsQ0FBQ0UsTUFBTSxDQUFDO1FBQ2RjLE1BQU1oQixtREFBQ0EsQ0FBQ2lCLEtBQUssQ0FBQ0Y7UUFDZEcsZ0JBQWdCbEIsbURBQUNBLENBQUNPLE1BQU07UUFDeEJZLFFBQVFuQixtREFBQ0EsQ0FBQ29CLE9BQU87UUFDakJDLGFBQWFyQixtREFBQ0EsQ0FBQ1UsUUFBUSxDQUFDVixtREFBQ0EsQ0FBQ00sS0FBSyxDQUFDTixtREFBQ0EsQ0FBQ08sTUFBTSxJQUFJUCxtREFBQ0EsQ0FBQ1EsSUFBSTtRQUNsRGMsWUFBWXRCLG1EQUFDQSxDQUFDVSxRQUFRLENBQ3BCVixtREFBQ0EsQ0FBQ00sS0FBSyxDQUNMTixtREFBQ0EsQ0FBQ3VCLE9BQU8sQ0FBQyxxQkFDVnZCLG1EQUFDQSxDQUFDdUIsT0FBTyxDQUFDLGtCQUNWdkIsbURBQUNBLENBQUNRLElBQUk7SUFHWjtBQUNGLEVBQ0Esc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9wYWdpbmF0aW9uLmpzP2UxMTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyB2IH0gZnJvbSBcIi4uL3ZhbHVlcy92YWxpZGF0b3IuanNcIjtcbmV4cG9ydCBjb25zdCBwYWdpbmF0aW9uT3B0c1ZhbGlkYXRvciA9IHYub2JqZWN0KHtcbiAgbnVtSXRlbXM6IHYubnVtYmVyKCksXG4gIGN1cnNvcjogdi51bmlvbih2LnN0cmluZygpLCB2Lm51bGwoKSksXG4gIGVuZEN1cnNvcjogdi5vcHRpb25hbCh2LnVuaW9uKHYuc3RyaW5nKCksIHYubnVsbCgpKSksXG4gIGlkOiB2Lm9wdGlvbmFsKHYubnVtYmVyKCkpLFxuICBtYXhpbXVtUm93c1JlYWQ6IHYub3B0aW9uYWwodi5udW1iZXIoKSksXG4gIG1heGltdW1CeXRlc1JlYWQ6IHYub3B0aW9uYWwodi5udW1iZXIoKSlcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHBhZ2luYXRpb25SZXN1bHRWYWxpZGF0b3IoaXRlbVZhbGlkYXRvcikge1xuICByZXR1cm4gdi5vYmplY3Qoe1xuICAgIHBhZ2U6IHYuYXJyYXkoaXRlbVZhbGlkYXRvciksXG4gICAgY29udGludWVDdXJzb3I6IHYuc3RyaW5nKCksXG4gICAgaXNEb25lOiB2LmJvb2xlYW4oKSxcbiAgICBzcGxpdEN1cnNvcjogdi5vcHRpb25hbCh2LnVuaW9uKHYuc3RyaW5nKCksIHYubnVsbCgpKSksXG4gICAgcGFnZVN0YXR1czogdi5vcHRpb25hbChcbiAgICAgIHYudW5pb24oXG4gICAgICAgIHYubGl0ZXJhbChcIlNwbGl0UmVjb21tZW5kZWRcIiksXG4gICAgICAgIHYubGl0ZXJhbChcIlNwbGl0UmVxdWlyZWRcIiksXG4gICAgICAgIHYubnVsbCgpXG4gICAgICApXG4gICAgKVxuICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2luYXRpb24uanMubWFwXG4iXSwibmFtZXMiOlsidiIsInBhZ2luYXRpb25PcHRzVmFsaWRhdG9yIiwib2JqZWN0IiwibnVtSXRlbXMiLCJudW1iZXIiLCJjdXJzb3IiLCJ1bmlvbiIsInN0cmluZyIsIm51bGwiLCJlbmRDdXJzb3IiLCJvcHRpb25hbCIsImlkIiwibWF4aW11bVJvd3NSZWFkIiwibWF4aW11bUJ5dGVzUmVhZCIsInBhZ2luYXRpb25SZXN1bHRWYWxpZGF0b3IiLCJpdGVtVmFsaWRhdG9yIiwicGFnZSIsImFycmF5IiwiY29udGludWVDdXJzb3IiLCJpc0RvbmUiLCJib29sZWFuIiwic3BsaXRDdXJzb3IiLCJwYWdlU3RhdHVzIiwibGl0ZXJhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/pagination.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/router.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/router.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HttpRouter: () => (/* binding */ HttpRouter),\n/* harmony export */   ROUTABLE_HTTP_METHODS: () => (/* binding */ ROUTABLE_HTTP_METHODS),\n/* harmony export */   httpRouter: () => (/* binding */ httpRouter),\n/* harmony export */   normalizeMethod: () => (/* binding */ normalizeMethod)\n/* harmony export */ });\n/* harmony import */ var _impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./impl/syscall.js */ \"(ssr)/./node_modules/convex/dist/esm/server/impl/syscall.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nconst ROUTABLE_HTTP_METHODS = [\n    \"GET\",\n    \"POST\",\n    \"PUT\",\n    \"DELETE\",\n    \"OPTIONS\",\n    \"PATCH\"\n];\nfunction normalizeMethod(method) {\n    if (method === \"HEAD\") return \"GET\";\n    return method;\n}\nconst httpRouter = ()=>new HttpRouter();\nclass HttpRouter {\n    constructor(){\n        __publicField(this, \"exactRoutes\", /* @__PURE__ */ new Map());\n        __publicField(this, \"prefixRoutes\", /* @__PURE__ */ new Map());\n        __publicField(this, \"isRouter\", true);\n        /**\n     * Specify an HttpAction to be used to respond to requests\n     * for an HTTP method (e.g. \"GET\") and a path or pathPrefix.\n     *\n     * Paths must begin with a slash. Path prefixes must also end in a slash.\n     *\n     * ```js\n     * // matches `/profile` (but not `/profile/`)\n     * http.route({ path: \"/profile\", method: \"GET\", handler: getProfile})\n     *\n     * // matches `/profiles/`, `/profiles/abc`, and `/profiles/a/c/b` (but not `/profile`)\n     * http.route({ pathPrefix: \"/profile/\", method: \"GET\", handler: getProfile})\n     * ```\n     */ __publicField(this, \"route\", (spec)=>{\n            if (!spec.handler) throw new Error(`route requires handler`);\n            if (!spec.method) throw new Error(`route requires method`);\n            const { method, handler } = spec;\n            if (!ROUTABLE_HTTP_METHODS.includes(method)) {\n                throw new Error(`'${method}' is not an allowed HTTP method (like GET, POST, PUT etc.)`);\n            }\n            if (\"path\" in spec) {\n                if (\"pathPrefix\" in spec) {\n                    throw new Error(`Invalid httpRouter route: cannot contain both 'path' and 'pathPrefix'`);\n                }\n                if (!spec.path.startsWith(\"/\")) {\n                    throw new Error(`path '${spec.path}' does not start with a /`);\n                }\n                if (spec.path.startsWith(\"/.files/\") || spec.path === \"/.files\") {\n                    throw new Error(`path '${spec.path}' is reserved`);\n                }\n                const methods = this.exactRoutes.has(spec.path) ? this.exactRoutes.get(spec.path) : /* @__PURE__ */ new Map();\n                if (methods.has(method)) {\n                    throw new Error(`Path '${spec.path}' for method ${method} already in use`);\n                }\n                methods.set(method, handler);\n                this.exactRoutes.set(spec.path, methods);\n            } else if (\"pathPrefix\" in spec) {\n                if (!spec.pathPrefix.startsWith(\"/\")) {\n                    throw new Error(`pathPrefix '${spec.pathPrefix}' does not start with a /`);\n                }\n                if (!spec.pathPrefix.endsWith(\"/\")) {\n                    throw new Error(`pathPrefix ${spec.pathPrefix} must end with a /`);\n                }\n                if (spec.pathPrefix.startsWith(\"/.files/\")) {\n                    throw new Error(`pathPrefix '${spec.pathPrefix}' is reserved`);\n                }\n                const prefixes = this.prefixRoutes.get(method) || /* @__PURE__ */ new Map();\n                if (prefixes.has(spec.pathPrefix)) {\n                    throw new Error(`${spec.method} pathPrefix ${spec.pathPrefix} is already defined`);\n                }\n                prefixes.set(spec.pathPrefix, handler);\n                this.prefixRoutes.set(method, prefixes);\n            } else {\n                throw new Error(`Invalid httpRouter route entry: must contain either field 'path' or 'pathPrefix'`);\n            }\n        });\n        /**\n     * Returns a list of routed HTTP actions.\n     *\n     * These are used to populate the list of routes shown in the Functions page of the Convex dashboard.\n     *\n     * @returns - an array of [path, method, endpoint] tuples.\n     */ __publicField(this, \"getRoutes\", ()=>{\n            const exactPaths = [\n                ...this.exactRoutes.keys()\n            ].sort();\n            const exact = exactPaths.flatMap((path)=>[\n                    ...this.exactRoutes.get(path).keys()\n                ].sort().map((method)=>[\n                        path,\n                        method,\n                        this.exactRoutes.get(path).get(method)\n                    ]));\n            const prefixPathMethods = [\n                ...this.prefixRoutes.keys()\n            ].sort();\n            const prefixes = prefixPathMethods.flatMap((method)=>[\n                    ...this.prefixRoutes.get(method).keys()\n                ].sort().map((pathPrefix)=>[\n                        `${pathPrefix}*`,\n                        method,\n                        this.prefixRoutes.get(method).get(pathPrefix)\n                    ]));\n            return [\n                ...exact,\n                ...prefixes\n            ];\n        });\n        /**\n     * Returns the appropriate HTTP action and its routed request path and method.\n     *\n     * The path and method returned are used for logging and metrics, and should\n     * match up with one of the routes returned by `getRoutes`.\n     *\n     * For example,\n     *\n     * ```js\n     * http.route({ pathPrefix: \"/profile/\", method: \"GET\", handler: getProfile});\n     *\n     * http.lookup(\"/profile/abc\", \"GET\") // returns [getProfile, \"GET\", \"/profile/*\"]\n     *```\n     *\n     * @returns - a tuple [{@link PublicHttpAction}, method, path] or null.\n     */ __publicField(this, \"lookup\", (path, method)=>{\n            method = normalizeMethod(method);\n            const exactMatch = this.exactRoutes.get(path)?.get(method);\n            if (exactMatch) return [\n                exactMatch,\n                method,\n                path\n            ];\n            const prefixes = this.prefixRoutes.get(method) || /* @__PURE__ */ new Map();\n            const prefixesSorted = [\n                ...prefixes.entries()\n            ].sort(([prefixA, _a], [prefixB, _b])=>prefixB.length - prefixA.length);\n            for (const [pathPrefix, endpoint] of prefixesSorted){\n                if (path.startsWith(pathPrefix)) {\n                    return [\n                        endpoint,\n                        method,\n                        `${pathPrefix}*`\n                    ];\n                }\n            }\n            return null;\n        });\n        /**\n     * Given a JSON string representation of a Request object, return a Response\n     * by routing the request and running the appropriate endpoint or returning\n     * a 404 Response.\n     *\n     * @param argsStr - a JSON string representing a Request object.\n     *\n     * @returns - a Response object.\n     */ __publicField(this, \"runRequest\", async (argsStr, requestRoute)=>{\n            const request = (0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performJsSyscall)(\"requestFromConvexJson\", {\n                convexJson: JSON.parse(argsStr)\n            });\n            let pathname = requestRoute;\n            if (!pathname || typeof pathname !== \"string\") {\n                pathname = new URL(request.url).pathname;\n            }\n            const method = request.method;\n            const match = this.lookup(pathname, method);\n            if (!match) {\n                const response2 = new Response(`No HttpAction routed for ${pathname}`, {\n                    status: 404\n                });\n                return JSON.stringify((0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performJsSyscall)(\"convexJsonFromResponse\", {\n                    response: response2\n                }));\n            }\n            const [endpoint, _method, _path] = match;\n            const response = await endpoint.invokeHttpAction(request);\n            return JSON.stringify((0,_impl_syscall_js__WEBPACK_IMPORTED_MODULE_0__.performJsSyscall)(\"convexJsonFromResponse\", {\n                response\n            }));\n        });\n    }\n} //# sourceMappingURL=router.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9yb3V0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDbkQ7QUFDOUMsTUFBTU0sd0JBQXdCO0lBQ25DO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNELENBQUM7QUFDSyxTQUFTQyxnQkFBZ0JDLE1BQU07SUFDcEMsSUFBSUEsV0FBVyxRQUFRLE9BQU87SUFDOUIsT0FBT0E7QUFDVDtBQUNPLE1BQU1DLGFBQWEsSUFBTSxJQUFJQyxhQUFhO0FBQzFDLE1BQU1BO0lBQ1hDLGFBQWM7UUFDWlAsY0FBYyxJQUFJLEVBQUUsZUFBZSxhQUFhLEdBQUcsSUFBSVE7UUFDdkRSLGNBQWMsSUFBSSxFQUFFLGdCQUFnQixhQUFhLEdBQUcsSUFBSVE7UUFDeERSLGNBQWMsSUFBSSxFQUFFLFlBQVk7UUFDaEM7Ozs7Ozs7Ozs7Ozs7S0FhQyxHQUNEQSxjQUFjLElBQUksRUFBRSxTQUFTLENBQUNTO1lBQzVCLElBQUksQ0FBQ0EsS0FBS0MsT0FBTyxFQUFFLE1BQU0sSUFBSUMsTUFBTSxDQUFDLHNCQUFzQixDQUFDO1lBQzNELElBQUksQ0FBQ0YsS0FBS0wsTUFBTSxFQUFFLE1BQU0sSUFBSU8sTUFBTSxDQUFDLHFCQUFxQixDQUFDO1lBQ3pELE1BQU0sRUFBRVAsTUFBTSxFQUFFTSxPQUFPLEVBQUUsR0FBR0Q7WUFD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S0MsVUFBVSxDQUFDTSxhQUFhO29CQUMvQixPQUFPO3dCQUFDbUI7d0JBQVVuQzt3QkFBUSxDQUFDLEVBQUVnQixXQUFXLENBQUMsQ0FBQztxQkFBQztnQkFDN0M7WUFDRjtZQUNBLE9BQU87UUFDVDtRQUNBOzs7Ozs7OztLQVFDLEdBQ0RwQixjQUFjLElBQUksRUFBRSxjQUFjLE9BQU93QyxTQUFTQztZQUNoRCxNQUFNQyxVQUFVekMsa0VBQWdCQSxDQUFDLHlCQUF5QjtnQkFDeEQwQyxZQUFZQyxLQUFLQyxLQUFLLENBQUNMO1lBQ3pCO1lBQ0EsSUFBSU0sV0FBV0w7WUFDZixJQUFJLENBQUNLLFlBQVksT0FBT0EsYUFBYSxVQUFVO2dCQUM3Q0EsV0FBVyxJQUFJQyxJQUFJTCxRQUFRTSxHQUFHLEVBQUVGLFFBQVE7WUFDMUM7WUFDQSxNQUFNMUMsU0FBU3NDLFFBQVF0QyxNQUFNO1lBQzdCLE1BQU02QyxRQUFRLElBQUksQ0FBQ0MsTUFBTSxDQUFDSixVQUFVMUM7WUFDcEMsSUFBSSxDQUFDNkMsT0FBTztnQkFDVixNQUFNRSxZQUFZLElBQUlDLFNBQVMsQ0FBQyx5QkFBeUIsRUFBRU4sU0FBUyxDQUFDLEVBQUU7b0JBQ3JFTyxRQUFRO2dCQUNWO2dCQUNBLE9BQU9ULEtBQUtVLFNBQVMsQ0FDbkJyRCxrRUFBZ0JBLENBQUMsMEJBQTBCO29CQUFFc0QsVUFBVUo7Z0JBQVU7WUFFckU7WUFDQSxNQUFNLENBQUNaLFVBQVVpQixTQUFTQyxNQUFNLEdBQUdSO1lBQ25DLE1BQU1NLFdBQVcsTUFBTWhCLFNBQVNtQixnQkFBZ0IsQ0FBQ2hCO1lBQ2pELE9BQU9FLEtBQUtVLFNBQVMsQ0FDbkJyRCxrRUFBZ0JBLENBQUMsMEJBQTBCO2dCQUFFc0Q7WUFBUztRQUUxRDtJQUNGO0FBQ0YsRUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL3JvdXRlci5qcz85NDYzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7IHBlcmZvcm1Kc1N5c2NhbGwgfSBmcm9tIFwiLi9pbXBsL3N5c2NhbGwuanNcIjtcbmV4cG9ydCBjb25zdCBST1VUQUJMRV9IVFRQX01FVEhPRFMgPSBbXG4gIFwiR0VUXCIsXG4gIFwiUE9TVFwiLFxuICBcIlBVVFwiLFxuICBcIkRFTEVURVwiLFxuICBcIk9QVElPTlNcIixcbiAgXCJQQVRDSFwiXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgaWYgKG1ldGhvZCA9PT0gXCJIRUFEXCIpIHJldHVybiBcIkdFVFwiO1xuICByZXR1cm4gbWV0aG9kO1xufVxuZXhwb3J0IGNvbnN0IGh0dHBSb3V0ZXIgPSAoKSA9PiBuZXcgSHR0cFJvdXRlcigpO1xuZXhwb3J0IGNsYXNzIEh0dHBSb3V0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZXhhY3RSb3V0ZXNcIiwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInByZWZpeFJvdXRlc1wiLCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaXNSb3V0ZXJcIiwgdHJ1ZSk7XG4gICAgLyoqXG4gICAgICogU3BlY2lmeSBhbiBIdHRwQWN0aW9uIHRvIGJlIHVzZWQgdG8gcmVzcG9uZCB0byByZXF1ZXN0c1xuICAgICAqIGZvciBhbiBIVFRQIG1ldGhvZCAoZS5nLiBcIkdFVFwiKSBhbmQgYSBwYXRoIG9yIHBhdGhQcmVmaXguXG4gICAgICpcbiAgICAgKiBQYXRocyBtdXN0IGJlZ2luIHdpdGggYSBzbGFzaC4gUGF0aCBwcmVmaXhlcyBtdXN0IGFsc28gZW5kIGluIGEgc2xhc2guXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIC8vIG1hdGNoZXMgYC9wcm9maWxlYCAoYnV0IG5vdCBgL3Byb2ZpbGUvYClcbiAgICAgKiBodHRwLnJvdXRlKHsgcGF0aDogXCIvcHJvZmlsZVwiLCBtZXRob2Q6IFwiR0VUXCIsIGhhbmRsZXI6IGdldFByb2ZpbGV9KVxuICAgICAqXG4gICAgICogLy8gbWF0Y2hlcyBgL3Byb2ZpbGVzL2AsIGAvcHJvZmlsZXMvYWJjYCwgYW5kIGAvcHJvZmlsZXMvYS9jL2JgIChidXQgbm90IGAvcHJvZmlsZWApXG4gICAgICogaHR0cC5yb3V0ZSh7IHBhdGhQcmVmaXg6IFwiL3Byb2ZpbGUvXCIsIG1ldGhvZDogXCJHRVRcIiwgaGFuZGxlcjogZ2V0UHJvZmlsZX0pXG4gICAgICogYGBgXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJvdXRlXCIsIChzcGVjKSA9PiB7XG4gICAgICBpZiAoIXNwZWMuaGFuZGxlcikgdGhyb3cgbmV3IEVycm9yKGByb3V0ZSByZXF1aXJlcyBoYW5kbGVyYCk7XG4gICAgICBpZiAoIXNwZWMubWV0aG9kKSB0aHJvdyBuZXcgRXJyb3IoYHJvdXRlIHJlcXVpcmVzIG1ldGhvZGApO1xuICAgICAgY29uc3QgeyBtZXRob2QsIGhhbmRsZXIgfSA9IHNwZWM7XG4gICAgICBpZiAoIVJPVVRBQkxFX0hUVFBfTUVUSE9EUy5pbmNsdWRlcyhtZXRob2QpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgJyR7bWV0aG9kfScgaXMgbm90IGFuIGFsbG93ZWQgSFRUUCBtZXRob2QgKGxpa2UgR0VULCBQT1NULCBQVVQgZXRjLilgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoXCJwYXRoXCIgaW4gc3BlYykge1xuICAgICAgICBpZiAoXCJwYXRoUHJlZml4XCIgaW4gc3BlYykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBJbnZhbGlkIGh0dHBSb3V0ZXIgcm91dGU6IGNhbm5vdCBjb250YWluIGJvdGggJ3BhdGgnIGFuZCAncGF0aFByZWZpeCdgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNwZWMucGF0aC5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcGF0aCAnJHtzcGVjLnBhdGh9JyBkb2VzIG5vdCBzdGFydCB3aXRoIGEgL2ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjLnBhdGguc3RhcnRzV2l0aChcIi8uZmlsZXMvXCIpIHx8IHNwZWMucGF0aCA9PT0gXCIvLmZpbGVzXCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBhdGggJyR7c3BlYy5wYXRofScgaXMgcmVzZXJ2ZWRgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRob2RzID0gdGhpcy5leGFjdFJvdXRlcy5oYXMoc3BlYy5wYXRoKSA/IHRoaXMuZXhhY3RSb3V0ZXMuZ2V0KHNwZWMucGF0aCkgOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgICBpZiAobWV0aG9kcy5oYXMobWV0aG9kKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBQYXRoICcke3NwZWMucGF0aH0nIGZvciBtZXRob2QgJHttZXRob2R9IGFscmVhZHkgaW4gdXNlYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgbWV0aG9kcy5zZXQobWV0aG9kLCBoYW5kbGVyKTtcbiAgICAgICAgdGhpcy5leGFjdFJvdXRlcy5zZXQoc3BlYy5wYXRoLCBtZXRob2RzKTtcbiAgICAgIH0gZWxzZSBpZiAoXCJwYXRoUHJlZml4XCIgaW4gc3BlYykge1xuICAgICAgICBpZiAoIXNwZWMucGF0aFByZWZpeC5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBwYXRoUHJlZml4ICcke3NwZWMucGF0aFByZWZpeH0nIGRvZXMgbm90IHN0YXJ0IHdpdGggYSAvYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzcGVjLnBhdGhQcmVmaXguZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwYXRoUHJlZml4ICR7c3BlYy5wYXRoUHJlZml4fSBtdXN0IGVuZCB3aXRoIGEgL2ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGVjLnBhdGhQcmVmaXguc3RhcnRzV2l0aChcIi8uZmlsZXMvXCIpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwYXRoUHJlZml4ICcke3NwZWMucGF0aFByZWZpeH0nIGlzIHJlc2VydmVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJlZml4ZXMgPSB0aGlzLnByZWZpeFJvdXRlcy5nZXQobWV0aG9kKSB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgICAgICBpZiAocHJlZml4ZXMuaGFzKHNwZWMucGF0aFByZWZpeCkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgJHtzcGVjLm1ldGhvZH0gcGF0aFByZWZpeCAke3NwZWMucGF0aFByZWZpeH0gaXMgYWxyZWFkeSBkZWZpbmVkYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcHJlZml4ZXMuc2V0KHNwZWMucGF0aFByZWZpeCwgaGFuZGxlcik7XG4gICAgICAgIHRoaXMucHJlZml4Um91dGVzLnNldChtZXRob2QsIHByZWZpeGVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgSW52YWxpZCBodHRwUm91dGVyIHJvdXRlIGVudHJ5OiBtdXN0IGNvbnRhaW4gZWl0aGVyIGZpZWxkICdwYXRoJyBvciAncGF0aFByZWZpeCdgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2Ygcm91dGVkIEhUVFAgYWN0aW9ucy5cbiAgICAgKlxuICAgICAqIFRoZXNlIGFyZSB1c2VkIHRvIHBvcHVsYXRlIHRoZSBsaXN0IG9mIHJvdXRlcyBzaG93biBpbiB0aGUgRnVuY3Rpb25zIHBhZ2Ugb2YgdGhlIENvbnZleCBkYXNoYm9hcmQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAtIGFuIGFycmF5IG9mIFtwYXRoLCBtZXRob2QsIGVuZHBvaW50XSB0dXBsZXMuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImdldFJvdXRlc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCBleGFjdFBhdGhzID0gWy4uLnRoaXMuZXhhY3RSb3V0ZXMua2V5cygpXS5zb3J0KCk7XG4gICAgICBjb25zdCBleGFjdCA9IGV4YWN0UGF0aHMuZmxhdE1hcChcbiAgICAgICAgKHBhdGgpID0+IFsuLi50aGlzLmV4YWN0Um91dGVzLmdldChwYXRoKS5rZXlzKCldLnNvcnQoKS5tYXAoXG4gICAgICAgICAgKG1ldGhvZCkgPT4gW3BhdGgsIG1ldGhvZCwgdGhpcy5leGFjdFJvdXRlcy5nZXQocGF0aCkuZ2V0KG1ldGhvZCldXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBjb25zdCBwcmVmaXhQYXRoTWV0aG9kcyA9IFsuLi50aGlzLnByZWZpeFJvdXRlcy5rZXlzKCldLnNvcnQoKTtcbiAgICAgIGNvbnN0IHByZWZpeGVzID0gcHJlZml4UGF0aE1ldGhvZHMuZmxhdE1hcChcbiAgICAgICAgKG1ldGhvZCkgPT4gWy4uLnRoaXMucHJlZml4Um91dGVzLmdldChtZXRob2QpLmtleXMoKV0uc29ydCgpLm1hcChcbiAgICAgICAgICAocGF0aFByZWZpeCkgPT4gW1xuICAgICAgICAgICAgYCR7cGF0aFByZWZpeH0qYCxcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHRoaXMucHJlZml4Um91dGVzLmdldChtZXRob2QpLmdldChwYXRoUHJlZml4KVxuICAgICAgICAgIF1cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBbLi4uZXhhY3QsIC4uLnByZWZpeGVzXTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhcHByb3ByaWF0ZSBIVFRQIGFjdGlvbiBhbmQgaXRzIHJvdXRlZCByZXF1ZXN0IHBhdGggYW5kIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIFRoZSBwYXRoIGFuZCBtZXRob2QgcmV0dXJuZWQgYXJlIHVzZWQgZm9yIGxvZ2dpbmcgYW5kIG1ldHJpY3MsIGFuZCBzaG91bGRcbiAgICAgKiBtYXRjaCB1cCB3aXRoIG9uZSBvZiB0aGUgcm91dGVzIHJldHVybmVkIGJ5IGBnZXRSb3V0ZXNgLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUsXG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqIGh0dHAucm91dGUoeyBwYXRoUHJlZml4OiBcIi9wcm9maWxlL1wiLCBtZXRob2Q6IFwiR0VUXCIsIGhhbmRsZXI6IGdldFByb2ZpbGV9KTtcbiAgICAgKlxuICAgICAqIGh0dHAubG9va3VwKFwiL3Byb2ZpbGUvYWJjXCIsIFwiR0VUXCIpIC8vIHJldHVybnMgW2dldFByb2ZpbGUsIFwiR0VUXCIsIFwiL3Byb2ZpbGUvKlwiXVxuICAgICAqYGBgXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyAtIGEgdHVwbGUgW3tAbGluayBQdWJsaWNIdHRwQWN0aW9ufSwgbWV0aG9kLCBwYXRoXSBvciBudWxsLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJsb29rdXBcIiwgKHBhdGgsIG1ldGhvZCkgPT4ge1xuICAgICAgbWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCk7XG4gICAgICBjb25zdCBleGFjdE1hdGNoID0gdGhpcy5leGFjdFJvdXRlcy5nZXQocGF0aCk/LmdldChtZXRob2QpO1xuICAgICAgaWYgKGV4YWN0TWF0Y2gpIHJldHVybiBbZXhhY3RNYXRjaCwgbWV0aG9kLCBwYXRoXTtcbiAgICAgIGNvbnN0IHByZWZpeGVzID0gdGhpcy5wcmVmaXhSb3V0ZXMuZ2V0KG1ldGhvZCkgfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGNvbnN0IHByZWZpeGVzU29ydGVkID0gWy4uLnByZWZpeGVzLmVudHJpZXMoKV0uc29ydChcbiAgICAgICAgKFtwcmVmaXhBLCBfYV0sIFtwcmVmaXhCLCBfYl0pID0+IHByZWZpeEIubGVuZ3RoIC0gcHJlZml4QS5sZW5ndGhcbiAgICAgICk7XG4gICAgICBmb3IgKGNvbnN0IFtwYXRoUHJlZml4LCBlbmRwb2ludF0gb2YgcHJlZml4ZXNTb3J0ZWQpIHtcbiAgICAgICAgaWYgKHBhdGguc3RhcnRzV2l0aChwYXRoUHJlZml4KSkge1xuICAgICAgICAgIHJldHVybiBbZW5kcG9pbnQsIG1ldGhvZCwgYCR7cGF0aFByZWZpeH0qYF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgSlNPTiBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBSZXF1ZXN0IG9iamVjdCwgcmV0dXJuIGEgUmVzcG9uc2VcbiAgICAgKiBieSByb3V0aW5nIHRoZSByZXF1ZXN0IGFuZCBydW5uaW5nIHRoZSBhcHByb3ByaWF0ZSBlbmRwb2ludCBvciByZXR1cm5pbmdcbiAgICAgKiBhIDQwNCBSZXNwb25zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcmdzU3RyIC0gYSBKU09OIHN0cmluZyByZXByZXNlbnRpbmcgYSBSZXF1ZXN0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIC0gYSBSZXNwb25zZSBvYmplY3QuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInJ1blJlcXVlc3RcIiwgYXN5bmMgKGFyZ3NTdHIsIHJlcXVlc3RSb3V0ZSkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IHBlcmZvcm1Kc1N5c2NhbGwoXCJyZXF1ZXN0RnJvbUNvbnZleEpzb25cIiwge1xuICAgICAgICBjb252ZXhKc29uOiBKU09OLnBhcnNlKGFyZ3NTdHIpXG4gICAgICB9KTtcbiAgICAgIGxldCBwYXRobmFtZSA9IHJlcXVlc3RSb3V0ZTtcbiAgICAgIGlmICghcGF0aG5hbWUgfHwgdHlwZW9mIHBhdGhuYW1lICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHBhdGhuYW1lID0gbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWU7XG4gICAgICB9XG4gICAgICBjb25zdCBtZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy5sb29rdXAocGF0aG5hbWUsIG1ldGhvZCk7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlMiA9IG5ldyBSZXNwb25zZShgTm8gSHR0cEFjdGlvbiByb3V0ZWQgZm9yICR7cGF0aG5hbWV9YCwge1xuICAgICAgICAgIHN0YXR1czogNDA0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgcGVyZm9ybUpzU3lzY2FsbChcImNvbnZleEpzb25Gcm9tUmVzcG9uc2VcIiwgeyByZXNwb25zZTogcmVzcG9uc2UyIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBbZW5kcG9pbnQsIF9tZXRob2QsIF9wYXRoXSA9IG1hdGNoO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBlbmRwb2ludC5pbnZva2VIdHRwQWN0aW9uKHJlcXVlc3QpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KFxuICAgICAgICBwZXJmb3JtSnNTeXNjYWxsKFwiY29udmV4SnNvbkZyb21SZXNwb25zZVwiLCB7IHJlc3BvbnNlIH0pXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZXIuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJwZXJmb3JtSnNTeXNjYWxsIiwiUk9VVEFCTEVfSFRUUF9NRVRIT0RTIiwibm9ybWFsaXplTWV0aG9kIiwibWV0aG9kIiwiaHR0cFJvdXRlciIsIkh0dHBSb3V0ZXIiLCJjb25zdHJ1Y3RvciIsIk1hcCIsInNwZWMiLCJoYW5kbGVyIiwiRXJyb3IiLCJpbmNsdWRlcyIsInBhdGgiLCJzdGFydHNXaXRoIiwibWV0aG9kcyIsImV4YWN0Um91dGVzIiwiaGFzIiwiZ2V0Iiwic2V0IiwicGF0aFByZWZpeCIsImVuZHNXaXRoIiwicHJlZml4ZXMiLCJwcmVmaXhSb3V0ZXMiLCJleGFjdFBhdGhzIiwia2V5cyIsInNvcnQiLCJleGFjdCIsImZsYXRNYXAiLCJtYXAiLCJwcmVmaXhQYXRoTWV0aG9kcyIsImV4YWN0TWF0Y2giLCJwcmVmaXhlc1NvcnRlZCIsImVudHJpZXMiLCJwcmVmaXhBIiwiX2EiLCJwcmVmaXhCIiwiX2IiLCJsZW5ndGgiLCJlbmRwb2ludCIsImFyZ3NTdHIiLCJyZXF1ZXN0Um91dGUiLCJyZXF1ZXN0IiwiY29udmV4SnNvbiIsIkpTT04iLCJwYXJzZSIsInBhdGhuYW1lIiwiVVJMIiwidXJsIiwibWF0Y2giLCJsb29rdXAiLCJyZXNwb25zZTIiLCJSZXNwb25zZSIsInN0YXR1cyIsInN0cmluZ2lmeSIsInJlc3BvbnNlIiwiX21ldGhvZCIsIl9wYXRoIiwiaW52b2tlSHR0cEFjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/router.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/schema.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/schema.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SchemaDefinition: () => (/* binding */ SchemaDefinition),\n/* harmony export */   TableDefinition: () => (/* binding */ TableDefinition),\n/* harmony export */   defineSchema: () => (/* binding */ defineSchema),\n/* harmony export */   defineTable: () => (/* binding */ defineTable)\n/* harmony export */ });\n/* harmony import */ var _values_validator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../values/validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nclass TableDefinition {\n    /**\n   * @internal\n   */ constructor(documentType){\n        __publicField(this, \"indexes\");\n        __publicField(this, \"stagedDbIndexes\");\n        __publicField(this, \"searchIndexes\");\n        __publicField(this, \"stagedSearchIndexes\");\n        __publicField(this, \"vectorIndexes\");\n        __publicField(this, \"stagedVectorIndexes\");\n        // The type of documents stored in this table.\n        __publicField(this, \"validator\");\n        this.indexes = [];\n        this.stagedDbIndexes = [];\n        this.searchIndexes = [];\n        this.stagedSearchIndexes = [];\n        this.vectorIndexes = [];\n        this.stagedVectorIndexes = [];\n        this.validator = documentType;\n    }\n    /**\n   * This API is experimental: it may change or disappear.\n   *\n   * Returns indexes defined on this table.\n   * Intended for the advanced use cases of dynamically deciding which index to use for a query.\n   * If you think you need this, please chime in on ths issue in the Convex JS GitHub repo.\n   * https://github.com/get-convex/convex-js/issues/49\n   */ \" indexes\"() {\n        return this.indexes;\n    }\n    index(name, indexConfig) {\n        if (Array.isArray(indexConfig)) {\n            this.indexes.push({\n                indexDescriptor: name,\n                fields: indexConfig\n            });\n        } else if (indexConfig.staged) {\n            this.stagedDbIndexes.push({\n                indexDescriptor: name,\n                fields: indexConfig.fields\n            });\n        } else {\n            this.indexes.push({\n                indexDescriptor: name,\n                fields: indexConfig.fields\n            });\n        }\n        return this;\n    }\n    searchIndex(name, indexConfig) {\n        if (indexConfig.staged) {\n            this.stagedSearchIndexes.push({\n                indexDescriptor: name,\n                searchField: indexConfig.searchField,\n                filterFields: indexConfig.filterFields || []\n            });\n        } else {\n            this.searchIndexes.push({\n                indexDescriptor: name,\n                searchField: indexConfig.searchField,\n                filterFields: indexConfig.filterFields || []\n            });\n        }\n        return this;\n    }\n    vectorIndex(name, indexConfig) {\n        if (indexConfig.staged) {\n            this.stagedVectorIndexes.push({\n                indexDescriptor: name,\n                vectorField: indexConfig.vectorField,\n                dimensions: indexConfig.dimensions,\n                filterFields: indexConfig.filterFields || []\n            });\n        } else {\n            this.vectorIndexes.push({\n                indexDescriptor: name,\n                vectorField: indexConfig.vectorField,\n                dimensions: indexConfig.dimensions,\n                filterFields: indexConfig.filterFields || []\n            });\n        }\n        return this;\n    }\n    /**\n   * Work around for https://github.com/microsoft/TypeScript/issues/57035\n   */ self() {\n        return this;\n    }\n    /**\n   * Export the contents of this definition.\n   *\n   * This is called internally by the Convex framework.\n   * @internal\n   */ export() {\n        const documentType = this.validator.json;\n        if (typeof documentType !== \"object\") {\n            throw new Error(\"Invalid validator: please make sure that the parameter of `defineTable` is valid (see https://docs.convex.dev/database/schemas)\");\n        }\n        return {\n            indexes: this.indexes,\n            stagedDbIndexes: this.stagedDbIndexes,\n            searchIndexes: this.searchIndexes,\n            stagedSearchIndexes: this.stagedSearchIndexes,\n            vectorIndexes: this.vectorIndexes,\n            stagedVectorIndexes: this.stagedVectorIndexes,\n            documentType\n        };\n    }\n}\nfunction defineTable(documentSchema) {\n    if ((0,_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.isValidator)(documentSchema)) {\n        return new TableDefinition(documentSchema);\n    } else {\n        return new TableDefinition(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object(documentSchema));\n    }\n}\nclass SchemaDefinition {\n    /**\n   * @internal\n   */ constructor(tables, options){\n        __publicField(this, \"tables\");\n        __publicField(this, \"strictTableNameTypes\");\n        __publicField(this, \"schemaValidation\");\n        this.tables = tables;\n        this.schemaValidation = options?.schemaValidation === void 0 ? true : options.schemaValidation;\n    }\n    /**\n   * Export the contents of this definition.\n   *\n   * This is called internally by the Convex framework.\n   * @internal\n   */ export() {\n        return JSON.stringify({\n            tables: Object.entries(this.tables).map(([tableName, definition])=>{\n                const { indexes, stagedDbIndexes, searchIndexes, stagedSearchIndexes, vectorIndexes, stagedVectorIndexes, documentType } = definition.export();\n                return {\n                    tableName,\n                    indexes,\n                    stagedDbIndexes,\n                    searchIndexes,\n                    stagedSearchIndexes,\n                    vectorIndexes,\n                    stagedVectorIndexes,\n                    documentType\n                };\n            }),\n            schemaValidation: this.schemaValidation\n        });\n    }\n}\nfunction defineSchema(schema, options) {\n    return new SchemaDefinition(schema, options);\n}\nconst _systemSchema = defineSchema({\n    _scheduled_functions: defineTable({\n        name: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(),\n        args: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.array(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.any()),\n        scheduledTime: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.float64(),\n        completedTime: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.float64()),\n        state: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.union(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"pending\")\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"inProgress\")\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"success\")\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"failed\"),\n            error: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string()\n        }), _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.object({\n            kind: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.literal(\"canceled\")\n        }))\n    }),\n    _storage: defineTable({\n        sha256: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string(),\n        size: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.float64(),\n        contentType: _values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.optional(_values_validator_js__WEBPACK_IMPORTED_MODULE_0__.v.string())\n    })\n}); //# sourceMappingURL=schema.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zY2hlbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFJeEU7QUFDekIsTUFBTU87SUFDWDs7R0FFQyxHQUNEQyxZQUFZQyxZQUFZLENBQUU7UUFDeEJMLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEJBLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsOENBQThDO1FBQzlDQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNNLE9BQU8sR0FBRyxFQUFFO1FBQ2pCLElBQUksQ0FBQ0MsZUFBZSxHQUFHLEVBQUU7UUFDekIsSUFBSSxDQUFDQyxhQUFhLEdBQUcsRUFBRTtRQUN2QixJQUFJLENBQUNDLG1CQUFtQixHQUFHLEVBQUU7UUFDN0IsSUFBSSxDQUFDQyxhQUFhLEdBQUcsRUFBRTtRQUN2QixJQUFJLENBQUNDLG1CQUFtQixHQUFHLEVBQUU7UUFDN0IsSUFBSSxDQUFDQyxTQUFTLEdBQUdQO0lBQ25CO0lBQ0E7Ozs7Ozs7R0FPQyxHQUNELGFBQWE7UUFDWCxPQUFPLElBQUksQ0FBQ0MsT0FBTztJQUNyQjtJQUNBTyxNQUFNQyxJQUFJLEVBQUVDLFdBQVcsRUFB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SUFDekMxRCxtREFBQ0EsQ0FBQ2dDLE1BQU0sQ0FBQztZQUFFeUIsTUFBTXpELG1EQUFDQSxDQUFDMEQsT0FBTyxDQUFDO1FBQVcsSUFDdEMxRCxtREFBQ0EsQ0FBQ2dDLE1BQU0sQ0FBQztZQUFFeUIsTUFBTXpELG1EQUFDQSxDQUFDMEQsT0FBTyxDQUFDO1lBQVdDLE9BQU8zRCxtREFBQ0EsQ0FBQytDLE1BQU07UUFBRyxJQUN4RC9DLG1EQUFDQSxDQUFDZ0MsTUFBTSxDQUFDO1lBQUV5QixNQUFNekQsbURBQUNBLENBQUMwRCxPQUFPLENBQUM7UUFBWTtJQUUzQztJQUNBRSxVQUFVOUIsWUFBWTtRQUNwQitCLFFBQVE3RCxtREFBQ0EsQ0FBQytDLE1BQU07UUFDaEJlLE1BQU05RCxtREFBQ0EsQ0FBQ29ELE9BQU87UUFDZlcsYUFBYS9ELG1EQUFDQSxDQUFDc0QsUUFBUSxDQUFDdEQsbURBQUNBLENBQUMrQyxNQUFNO0lBQ2xDO0FBQ0YsSUFDQSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL3NjaGVtYS5qcz9iZjQzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmltcG9ydCB7XG4gIGlzVmFsaWRhdG9yLFxuICB2XG59IGZyb20gXCIuLi92YWx1ZXMvdmFsaWRhdG9yLmpzXCI7XG5leHBvcnQgY2xhc3MgVGFibGVEZWZpbml0aW9uIHtcbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgY29uc3RydWN0b3IoZG9jdW1lbnRUeXBlKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImluZGV4ZXNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0YWdlZERiSW5kZXhlc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic2VhcmNoSW5kZXhlc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RhZ2VkU2VhcmNoSW5kZXhlc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidmVjdG9ySW5kZXhlc1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwic3RhZ2VkVmVjdG9ySW5kZXhlc1wiKTtcbiAgICAvLyBUaGUgdHlwZSBvZiBkb2N1bWVudHMgc3RvcmVkIGluIHRoaXMgdGFibGUuXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInZhbGlkYXRvclwiKTtcbiAgICB0aGlzLmluZGV4ZXMgPSBbXTtcbiAgICB0aGlzLnN0YWdlZERiSW5kZXhlcyA9IFtdO1xuICAgIHRoaXMuc2VhcmNoSW5kZXhlcyA9IFtdO1xuICAgIHRoaXMuc3RhZ2VkU2VhcmNoSW5kZXhlcyA9IFtdO1xuICAgIHRoaXMudmVjdG9ySW5kZXhlcyA9IFtdO1xuICAgIHRoaXMuc3RhZ2VkVmVjdG9ySW5kZXhlcyA9IFtdO1xuICAgIHRoaXMudmFsaWRhdG9yID0gZG9jdW1lbnRUeXBlO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIEFQSSBpcyBleHBlcmltZW50YWw6IGl0IG1heSBjaGFuZ2Ugb3IgZGlzYXBwZWFyLlxuICAgKlxuICAgKiBSZXR1cm5zIGluZGV4ZXMgZGVmaW5lZCBvbiB0aGlzIHRhYmxlLlxuICAgKiBJbnRlbmRlZCBmb3IgdGhlIGFkdmFuY2VkIHVzZSBjYXNlcyBvZiBkeW5hbWljYWxseSBkZWNpZGluZyB3aGljaCBpbmRleCB0byB1c2UgZm9yIGEgcXVlcnkuXG4gICAqIElmIHlvdSB0aGluayB5b3UgbmVlZCB0aGlzLCBwbGVhc2UgY2hpbWUgaW4gb24gdGhzIGlzc3VlIGluIHRoZSBDb252ZXggSlMgR2l0SHViIHJlcG8uXG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXQtY29udmV4L2NvbnZleC1qcy9pc3N1ZXMvNDlcbiAgICovXG4gIFwiIGluZGV4ZXNcIigpIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleGVzO1xuICB9XG4gIGluZGV4KG5hbWUsIGluZGV4Q29uZmlnKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaW5kZXhDb25maWcpKSB7XG4gICAgICB0aGlzLmluZGV4ZXMucHVzaCh7XG4gICAgICAgIGluZGV4RGVzY3JpcHRvcjogbmFtZSxcbiAgICAgICAgZmllbGRzOiBpbmRleENvbmZpZ1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpbmRleENvbmZpZy5zdGFnZWQpIHtcbiAgICAgIHRoaXMuc3RhZ2VkRGJJbmRleGVzLnB1c2goe1xuICAgICAgICBpbmRleERlc2NyaXB0b3I6IG5hbWUsXG4gICAgICAgIGZpZWxkczogaW5kZXhDb25maWcuZmllbGRzXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbmRleGVzLnB1c2goe1xuICAgICAgICBpbmRleERlc2NyaXB0b3I6IG5hbWUsXG4gICAgICAgIGZpZWxkczogaW5kZXhDb25maWcuZmllbGRzXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2VhcmNoSW5kZXgobmFtZSwgaW5kZXhDb25maWcpIHtcbiAgICBpZiAoaW5kZXhDb25maWcuc3RhZ2VkKSB7XG4gICAgICB0aGlzLnN0YWdlZFNlYXJjaEluZGV4ZXMucHVzaCh7XG4gICAgICAgIGluZGV4RGVzY3JpcHRvcjogbmFtZSxcbiAgICAgICAgc2VhcmNoRmllbGQ6IGluZGV4Q29uZmlnLnNlYXJjaEZpZWxkLFxuICAgICAgICBmaWx0ZXJGaWVsZHM6IGluZGV4Q29uZmlnLmZpbHRlckZpZWxkcyB8fCBbXVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VhcmNoSW5kZXhlcy5wdXNoKHtcbiAgICAgICAgaW5kZXhEZXNjcmlwdG9yOiBuYW1lLFxuICAgICAgICBzZWFyY2hGaWVsZDogaW5kZXhDb25maWcuc2VhcmNoRmllbGQsXG4gICAgICAgIGZpbHRlckZpZWxkczogaW5kZXhDb25maWcuZmlsdGVyRmllbGRzIHx8IFtdXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdmVjdG9ySW5kZXgobmFtZSwgaW5kZXhDb25maWcpIHtcbiAgICBpZiAoaW5kZXhDb25maWcuc3RhZ2VkKSB7XG4gICAgICB0aGlzLnN0YWdlZFZlY3RvckluZGV4ZXMucHVzaCh7XG4gICAgICAgIGluZGV4RGVzY3JpcHRvcjogbmFtZSxcbiAgICAgICAgdmVjdG9yRmllbGQ6IGluZGV4Q29uZmlnLnZlY3RvckZpZWxkLFxuICAgICAgICBkaW1lbnNpb25zOiBpbmRleENvbmZpZy5kaW1lbnNpb25zLFxuICAgICAgICBmaWx0ZXJGaWVsZHM6IGluZGV4Q29uZmlnLmZpbHRlckZpZWxkcyB8fCBbXVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmVjdG9ySW5kZXhlcy5wdXNoKHtcbiAgICAgICAgaW5kZXhEZXNjcmlwdG9yOiBuYW1lLFxuICAgICAgICB2ZWN0b3JGaWVsZDogaW5kZXhDb25maWcudmVjdG9yRmllbGQsXG4gICAgICAgIGRpbWVuc2lvbnM6IGluZGV4Q29uZmlnLmRpbWVuc2lvbnMsXG4gICAgICAgIGZpbHRlckZpZWxkczogaW5kZXhDb25maWcuZmlsdGVyRmllbGRzIHx8IFtdXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFdvcmsgYXJvdW5kIGZvciBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzU3MDM1XG4gICAqL1xuICBzZWxmKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBFeHBvcnQgdGhlIGNvbnRlbnRzIG9mIHRoaXMgZGVmaW5pdGlvbi5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgaW50ZXJuYWxseSBieSB0aGUgQ29udmV4IGZyYW1ld29yay5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBleHBvcnQoKSB7XG4gICAgY29uc3QgZG9jdW1lbnRUeXBlID0gdGhpcy52YWxpZGF0b3IuanNvbjtcbiAgICBpZiAodHlwZW9mIGRvY3VtZW50VHlwZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkludmFsaWQgdmFsaWRhdG9yOiBwbGVhc2UgbWFrZSBzdXJlIHRoYXQgdGhlIHBhcmFtZXRlciBvZiBgZGVmaW5lVGFibGVgIGlzIHZhbGlkIChzZWUgaHR0cHM6Ly9kb2NzLmNvbnZleC5kZXYvZGF0YWJhc2Uvc2NoZW1hcylcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4ZXM6IHRoaXMuaW5kZXhlcyxcbiAgICAgIHN0YWdlZERiSW5kZXhlczogdGhpcy5zdGFnZWREYkluZGV4ZXMsXG4gICAgICBzZWFyY2hJbmRleGVzOiB0aGlzLnNlYXJjaEluZGV4ZXMsXG4gICAgICBzdGFnZWRTZWFyY2hJbmRleGVzOiB0aGlzLnN0YWdlZFNlYXJjaEluZGV4ZXMsXG4gICAgICB2ZWN0b3JJbmRleGVzOiB0aGlzLnZlY3RvckluZGV4ZXMsXG4gICAgICBzdGFnZWRWZWN0b3JJbmRleGVzOiB0aGlzLnN0YWdlZFZlY3RvckluZGV4ZXMsXG4gICAgICBkb2N1bWVudFR5cGVcbiAgICB9O1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lVGFibGUoZG9jdW1lbnRTY2hlbWEpIHtcbiAgaWYgKGlzVmFsaWRhdG9yKGRvY3VtZW50U2NoZW1hKSkge1xuICAgIHJldHVybiBuZXcgVGFibGVEZWZpbml0aW9uKGRvY3VtZW50U2NoZW1hKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFRhYmxlRGVmaW5pdGlvbih2Lm9iamVjdChkb2N1bWVudFNjaGVtYSkpO1xuICB9XG59XG5leHBvcnQgY2xhc3MgU2NoZW1hRGVmaW5pdGlvbiB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKHRhYmxlcywgb3B0aW9ucykge1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJ0YWJsZXNcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInN0cmljdFRhYmxlTmFtZVR5cGVzXCIpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJzY2hlbWFWYWxpZGF0aW9uXCIpO1xuICAgIHRoaXMudGFibGVzID0gdGFibGVzO1xuICAgIHRoaXMuc2NoZW1hVmFsaWRhdGlvbiA9IG9wdGlvbnM/LnNjaGVtYVZhbGlkYXRpb24gPT09IHZvaWQgMCA/IHRydWUgOiBvcHRpb25zLnNjaGVtYVZhbGlkYXRpb247XG4gIH1cbiAgLyoqXG4gICAqIEV4cG9ydCB0aGUgY29udGVudHMgb2YgdGhpcyBkZWZpbml0aW9uLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBpbnRlcm5hbGx5IGJ5IHRoZSBDb252ZXggZnJhbWV3b3JrLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGV4cG9ydCgpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgdGFibGVzOiBPYmplY3QuZW50cmllcyh0aGlzLnRhYmxlcykubWFwKChbdGFibGVOYW1lLCBkZWZpbml0aW9uXSkgPT4ge1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgaW5kZXhlcyxcbiAgICAgICAgICBzdGFnZWREYkluZGV4ZXMsXG4gICAgICAgICAgc2VhcmNoSW5kZXhlcyxcbiAgICAgICAgICBzdGFnZWRTZWFyY2hJbmRleGVzLFxuICAgICAgICAgIHZlY3RvckluZGV4ZXMsXG4gICAgICAgICAgc3RhZ2VkVmVjdG9ySW5kZXhlcyxcbiAgICAgICAgICBkb2N1bWVudFR5cGVcbiAgICAgICAgfSA9IGRlZmluaXRpb24uZXhwb3J0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGFibGVOYW1lLFxuICAgICAgICAgIGluZGV4ZXMsXG4gICAgICAgICAgc3RhZ2VkRGJJbmRleGVzLFxuICAgICAgICAgIHNlYXJjaEluZGV4ZXMsXG4gICAgICAgICAgc3RhZ2VkU2VhcmNoSW5kZXhlcyxcbiAgICAgICAgICB2ZWN0b3JJbmRleGVzLFxuICAgICAgICAgIHN0YWdlZFZlY3RvckluZGV4ZXMsXG4gICAgICAgICAgZG9jdW1lbnRUeXBlXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIHNjaGVtYVZhbGlkYXRpb246IHRoaXMuc2NoZW1hVmFsaWRhdGlvblxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lU2NoZW1hKHNjaGVtYSwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IFNjaGVtYURlZmluaXRpb24oc2NoZW1hLCBvcHRpb25zKTtcbn1cbmNvbnN0IF9zeXN0ZW1TY2hlbWEgPSBkZWZpbmVTY2hlbWEoe1xuICBfc2NoZWR1bGVkX2Z1bmN0aW9uczogZGVmaW5lVGFibGUoe1xuICAgIG5hbWU6IHYuc3RyaW5nKCksXG4gICAgYXJnczogdi5hcnJheSh2LmFueSgpKSxcbiAgICBzY2hlZHVsZWRUaW1lOiB2LmZsb2F0NjQoKSxcbiAgICBjb21wbGV0ZWRUaW1lOiB2Lm9wdGlvbmFsKHYuZmxvYXQ2NCgpKSxcbiAgICBzdGF0ZTogdi51bmlvbihcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwicGVuZGluZ1wiKSB9KSxcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwiaW5Qcm9ncmVzc1wiKSB9KSxcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwic3VjY2Vzc1wiKSB9KSxcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwiZmFpbGVkXCIpLCBlcnJvcjogdi5zdHJpbmcoKSB9KSxcbiAgICAgIHYub2JqZWN0KHsga2luZDogdi5saXRlcmFsKFwiY2FuY2VsZWRcIikgfSlcbiAgICApXG4gIH0pLFxuICBfc3RvcmFnZTogZGVmaW5lVGFibGUoe1xuICAgIHNoYTI1Njogdi5zdHJpbmcoKSxcbiAgICBzaXplOiB2LmZsb2F0NjQoKSxcbiAgICBjb250ZW50VHlwZTogdi5vcHRpb25hbCh2LnN0cmluZygpKVxuICB9KVxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlbWEuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJpc1ZhbGlkYXRvciIsInYiLCJUYWJsZURlZmluaXRpb24iLCJjb25zdHJ1Y3RvciIsImRvY3VtZW50VHlwZSIsImluZGV4ZXMiLCJzdGFnZWREYkluZGV4ZXMiLCJzZWFyY2hJbmRleGVzIiwic3RhZ2VkU2VhcmNoSW5kZXhlcyIsInZlY3RvckluZGV4ZXMiLCJzdGFnZWRWZWN0b3JJbmRleGVzIiwidmFsaWRhdG9yIiwiaW5kZXgiLCJuYW1lIiwiaW5kZXhDb25maWciLCJBcnJheSIsImlzQXJyYXkiLCJwdXNoIiwiaW5kZXhEZXNjcmlwdG9yIiwiZmllbGRzIiwic3RhZ2VkIiwic2VhcmNoSW5kZXgiLCJzZWFyY2hGaWVsZCIsImZpbHRlckZpZWxkcyIsInZlY3RvckluZGV4IiwidmVjdG9yRmllbGQiLCJkaW1lbnNpb25zIiwic2VsZiIsImV4cG9ydCIsImpzb24iLCJFcnJvciIsImRlZmluZVRhYmxlIiwiZG9jdW1lbnRTY2hlbWEiLCJvYmplY3QiLCJTY2hlbWFEZWZpbml0aW9uIiwidGFibGVzIiwib3B0aW9ucyIsInNjaGVtYVZhbGlkYXRpb24iLCJKU09OIiwic3RyaW5naWZ5IiwiZW50cmllcyIsIm1hcCIsInRhYmxlTmFtZSIsImRlZmluaXRpb24iLCJkZWZpbmVTY2hlbWEiLCJzY2hlbWEiLCJfc3lzdGVtU2NoZW1hIiwiX3NjaGVkdWxlZF9mdW5jdGlvbnMiLCJzdHJpbmciLCJhcmdzIiwiYXJyYXkiLCJhbnkiLCJzY2hlZHVsZWRUaW1lIiwiZmxvYXQ2NCIsImNvbXBsZXRlZFRpbWUiLCJvcHRpb25hbCIsInN0YXRlIiwidW5pb24iLCJraW5kIiwibGl0ZXJhbCIsImVycm9yIiwiX3N0b3JhZ2UiLCJzaGEyNTYiLCJzaXplIiwiY29udGVudFR5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/schema.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js":
/*!**********************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/search_filter_builder.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SearchFilter: () => (/* binding */ SearchFilter)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass SearchFilter {\n    /**\n   * @internal\n   */ constructor(){\n        // Property for nominal type support.\n        __publicField(this, \"_isSearchFilter\");\n    }\n} //# sourceMappingURL=search_filter_builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zZWFyY2hfZmlsdGVyX2J1aWxkZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFhO0FBQ2IsSUFBSUEsWUFBWUMsT0FBT0MsY0FBYztBQUNyQyxJQUFJQyxrQkFBa0IsQ0FBQ0MsS0FBS0MsS0FBS0MsUUFBVUQsT0FBT0QsTUFBTUosVUFBVUksS0FBS0MsS0FBSztRQUFFRSxZQUFZO1FBQU1DLGNBQWM7UUFBTUMsVUFBVTtRQUFNSDtJQUFNLEtBQUtGLEdBQUcsQ0FBQ0MsSUFBSSxHQUFHQztBQUMxSixJQUFJSSxnQkFBZ0IsQ0FBQ04sS0FBS0MsS0FBS0MsUUFBVUgsZ0JBQWdCQyxLQUFLLE9BQU9DLFFBQVEsV0FBV0EsTUFBTSxLQUFLQSxLQUFLQztBQUNqRyxNQUFNSztJQUNYOztHQUVDLEdBQ0RDLGFBQWM7UUFDWixxQ0FBcUM7UUFDckNGLGNBQWMsSUFBSSxFQUFFO0lBQ3RCO0FBQ0YsRUFDQSxpREFBaUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL3NlYXJjaF9maWx0ZXJfYnVpbGRlci5qcz82MGZjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmV4cG9ydCBjbGFzcyBTZWFyY2hGaWx0ZXIge1xuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBQcm9wZXJ0eSBmb3Igbm9taW5hbCB0eXBlIHN1cHBvcnQuXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl9pc1NlYXJjaEZpbHRlclwiKTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VhcmNoX2ZpbHRlcl9idWlsZGVyLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiU2VhcmNoRmlsdGVyIiwiY29uc3RydWN0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/search_filter_builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/storage.js":
/*!********************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/storage.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n //# sourceMappingURL=storage.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci9zdG9yYWdlLmpzIiwibWFwcGluZ3MiOiI7QUFBYSxDQUNiLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS9zZXJ2ZXIvc3RvcmFnZS5qcz81NmMyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RvcmFnZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/storage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/server/vector_search.js":
/*!**************************************************************!*\
  !*** ./node_modules/convex/dist/esm/server/vector_search.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FilterExpression: () => (/* binding */ FilterExpression)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass FilterExpression {\n    /**\n   * @internal\n   */ constructor(){\n        // Property for nominal type support.\n        __publicField(this, \"_isExpression\");\n        // Property to distinguish expressions by the type they resolve to.\n        __publicField(this, \"_value\");\n    }\n} //# sourceMappingURL=vector_search.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3NlcnZlci92ZWN0b3Jfc2VhcmNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDakcsTUFBTUs7SUFDWDs7R0FFQyxHQUNEQyxhQUFjO1FBQ1oscUNBQXFDO1FBQ3JDRixjQUFjLElBQUksRUFBRTtRQUNwQixtRUFBbUU7UUFDbkVBLGNBQWMsSUFBSSxFQUFFO0lBQ3RCO0FBQ0YsRUFDQSx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vc2VydmVyL3ZlY3Rvcl9zZWFyY2guanM/ZDRjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZOb3JtYWxQcm9wID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4ga2V5IGluIG9iaiA/IF9fZGVmUHJvcChvYmosIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZSB9KSA6IG9ialtrZXldID0gdmFsdWU7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09IFwic3ltYm9sXCIgPyBrZXkgKyBcIlwiIDoga2V5LCB2YWx1ZSk7XG5leHBvcnQgY2xhc3MgRmlsdGVyRXhwcmVzc2lvbiB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIFByb3BlcnR5IGZvciBub21pbmFsIHR5cGUgc3VwcG9ydC5cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX2lzRXhwcmVzc2lvblwiKTtcbiAgICAvLyBQcm9wZXJ0eSB0byBkaXN0aW5ndWlzaCBleHByZXNzaW9ucyBieSB0aGUgdHlwZSB0aGV5IHJlc29sdmUgdG8uXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcIl92YWx1ZVwiKTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yX3NlYXJjaC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJfX2RlZlByb3AiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fZGVmTm9ybWFsUHJvcCIsIm9iaiIsImtleSIsInZhbHVlIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19wdWJsaWNGaWVsZCIsIkZpbHRlckV4cHJlc3Npb24iLCJjb25zdHJ1Y3RvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/server/vector_search.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/base64.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/base64.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   byteLength: () => (/* binding */ byteLength),\n/* harmony export */   fromByteArray: () => (/* binding */ fromByteArray),\n/* harmony export */   fromByteArrayUrlSafeNoPadding: () => (/* binding */ fromByteArrayUrlSafeNoPadding),\n/* harmony export */   toByteArray: () => (/* binding */ toByteArray)\n/* harmony export */ });\n\nvar lookup = [];\nvar revLookup = [];\nvar Arr = Uint8Array;\nvar code = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nfor(var i = 0, len = code.length; i < len; ++i){\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n}\nrevLookup[\"-\".charCodeAt(0)] = 62;\nrevLookup[\"_\".charCodeAt(0)] = 63;\nfunction getLens(b64) {\n    var len = b64.length;\n    if (len % 4 > 0) {\n        throw new Error(\"Invalid string. Length must be a multiple of 4\");\n    }\n    var validLen = b64.indexOf(\"=\");\n    if (validLen === -1) validLen = len;\n    var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n    return [\n        validLen,\n        placeHoldersLen\n    ];\n}\nfunction byteLength(b64) {\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction _byteLength(_b64, validLen, placeHoldersLen) {\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n}\nfunction toByteArray(b64) {\n    var tmp;\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n    var curByte = 0;\n    var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n    var i;\n    for(i = 0; i < len; i += 4){\n        tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n        arr[curByte++] = tmp >> 16 & 255;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 2) {\n        tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n        arr[curByte++] = tmp & 255;\n    }\n    if (placeHoldersLen === 1) {\n        tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n        arr[curByte++] = tmp >> 8 & 255;\n        arr[curByte++] = tmp & 255;\n    }\n    return arr;\n}\nfunction tripletToBase64(num) {\n    return lookup[num >> 18 & 63] + lookup[num >> 12 & 63] + lookup[num >> 6 & 63] + lookup[num & 63];\n}\nfunction encodeChunk(uint8, start, end) {\n    var tmp;\n    var output = [];\n    for(var i = start; i < end; i += 3){\n        tmp = (uint8[i] << 16 & 16711680) + (uint8[i + 1] << 8 & 65280) + (uint8[i + 2] & 255);\n        output.push(tripletToBase64(tmp));\n    }\n    return output.join(\"\");\n}\nfunction fromByteArray(uint8) {\n    var tmp;\n    var len = uint8.length;\n    var extraBytes = len % 3;\n    var parts = [];\n    var maxChunkLength = 16383;\n    for(var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength){\n        parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n    }\n    if (extraBytes === 1) {\n        tmp = uint8[len - 1];\n        parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 63] + \"==\");\n    } else if (extraBytes === 2) {\n        tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n        parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 63] + lookup[tmp << 2 & 63] + \"=\");\n    }\n    return parts.join(\"\");\n}\nfunction fromByteArrayUrlSafeNoPadding(uint8) {\n    return fromByteArray(uint8).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n} //# sourceMappingURL=base64.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9iYXNlNjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhO0FBQ2IsSUFBSUEsU0FBUyxFQUFFO0FBQ2YsSUFBSUMsWUFBWSxFQUFFO0FBQ2xCLElBQUlDLE1BQU1DO0FBQ1YsSUFBSUMsT0FBTztBQUNYLElBQUssSUFBSUMsSUFBSSxHQUFHQyxNQUFNRixLQUFLRyxNQUFNLEVBQUVGLElBQUlDLEtBQUssRUFBRUQsRUFBRztJQUMvQ0wsTUFBTSxDQUFDSyxFQUFFLEdBQUdELElBQUksQ0FBQ0MsRUFBRTtJQUNuQkosU0FBUyxDQUFDRyxLQUFLSSxVQUFVLENBQUNILEdBQUcsR0FBR0E7QUFDbEM7QUFDQUosU0FBUyxDQUFDLElBQUlPLFVBQVUsQ0FBQyxHQUFHLEdBQUc7QUFDL0JQLFNBQVMsQ0FBQyxJQUFJTyxVQUFVLENBQUMsR0FBRyxHQUFHO0FBQy9CLFNBQVNDLFFBQVFDLEdBQUc7SUFDbEIsSUFBSUosTUFBTUksSUFBSUgsTUFBTTtJQUNwQixJQUFJRCxNQUFNLElBQUksR0FBRztRQUNmLE1BQU0sSUFBSUssTUFBTTtJQUNsQjtJQUNBLElBQUlDLFdBQVdGLElBQUlHLE9BQU8sQ0FBQztJQUMzQixJQUFJRCxhQUFhLENBQUMsR0FBR0EsV0FBV047SUFDaEMsSUFBSVEsa0JBQWtCRixhQUFhTixNQUFNLElBQUksSUFBSU0sV0FBVztJQUM1RCxPQUFPO1FBQUNBO1FBQVVFO0tBQWdCO0FBQ3BDO0FBQ08sU0FBU0MsV0FBV0wsR0FBRztJQUM1QixJQUFJTSxPQUFPUCxRQUFRQztJQUNuQixJQUFJRSxXQUFXSSxJQUFJLENBQUMsRUFBRTtJQUN0QixJQUFJRixrQkFBa0JFLElBQUksQ0FBQyxFQUFFO0lBQzdCLE9BQU8sQ0FBQ0osV0FBV0UsZUFBYyxJQUFLLElBQUksSUFBSUE7QUFDaEQ7QUFDQSxTQUFTRyxZQUFZQyxJQUFJLEVBQUVOLFFBQVEsRUFBRUUsZUFBZTtJQUNsRCxP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QjtRQUN0RUQsTUFBTUosSUFBSSxDQUNSTCxZQUNFQyxPQUNBckIsR0FDQUEsSUFBSThCLGlCQUFpQkMsT0FBT0EsT0FBTy9CLElBQUk4QjtJQUc3QztJQUNBLElBQUlGLGVBQWUsR0FBRztRQUNwQmIsTUFBTU0sS0FBSyxDQUFDcEIsTUFBTSxFQUFFO1FBQ3BCNEIsTUFBTUosSUFBSSxDQUFDOUIsTUFBTSxDQUFDb0IsT0FBTyxFQUFFLEdBQUdwQixNQUFNLENBQUNvQixPQUFPLElBQUksR0FBRyxHQUFHO0lBQ3hELE9BQU8sSUFBSWEsZUFBZSxHQUFHO1FBQzNCYixNQUFNLENBQUNNLEtBQUssQ0FBQ3BCLE1BQU0sRUFBRSxJQUFJLEtBQUtvQixLQUFLLENBQUNwQixNQUFNLEVBQUU7UUFDNUM0QixNQUFNSixJQUFJLENBQ1I5QixNQUFNLENBQUNvQixPQUFPLEdBQUcsR0FBR3BCLE1BQU0sQ0FBQ29CLE9BQU8sSUFBSSxHQUFHLEdBQUdwQixNQUFNLENBQUNvQixPQUFPLElBQUksR0FBRyxHQUFHO0lBRXhFO0lBQ0EsT0FBT2MsTUFBTUgsSUFBSSxDQUFDO0FBQ3BCO0FBQ08sU0FBU00sOEJBQThCWCxLQUFLO0lBQ2pELE9BQU9NLGNBQWNOLE9BQU9ZLE9BQU8sQ0FBQyxPQUFPLEtBQUtBLE9BQU8sQ0FBQyxPQUFPLEtBQUtBLE9BQU8sQ0FBQyxNQUFNO0FBQ3BGLEVBQ0Esa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9iYXNlNjQuanM/ZDNkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBsb29rdXAgPSBbXTtcbnZhciByZXZMb29rdXAgPSBbXTtcbnZhciBBcnIgPSBVaW50OEFycmF5O1xudmFyIGNvZGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcbmZvciAodmFyIGkgPSAwLCBsZW4gPSBjb2RlLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gIGxvb2t1cFtpXSA9IGNvZGVbaV07XG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaTtcbn1cbnJldkxvb2t1cFtcIi1cIi5jaGFyQ29kZUF0KDApXSA9IDYyO1xucmV2TG9va3VwW1wiX1wiLmNoYXJDb2RlQXQoMCldID0gNjM7XG5mdW5jdGlvbiBnZXRMZW5zKGI2NCkge1xuICB2YXIgbGVuID0gYjY0Lmxlbmd0aDtcbiAgaWYgKGxlbiAlIDQgPiAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTtcbiAgfVxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZihcIj1cIik7XG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuO1xuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gdmFsaWRMZW4gPT09IGxlbiA/IDAgOiA0IC0gdmFsaWRMZW4gJSA0O1xuICByZXR1cm4gW3ZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW5dO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVMZW5ndGgoYjY0KSB7XG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpO1xuICB2YXIgdmFsaWRMZW4gPSBsZW5zWzBdO1xuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXTtcbiAgcmV0dXJuICh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCAtIHBsYWNlSG9sZGVyc0xlbjtcbn1cbmZ1bmN0aW9uIF9ieXRlTGVuZ3RoKF9iNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pIHtcbiAgcmV0dXJuICh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCAtIHBsYWNlSG9sZGVyc0xlbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0J5dGVBcnJheShiNjQpIHtcbiAgdmFyIHRtcDtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NCk7XG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF07XG4gIHZhciBwbGFjZUhvbGRlcnNMZW4gPSBsZW5zWzFdO1xuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKTtcbiAgdmFyIGN1ckJ5dGUgPSAwO1xuICB2YXIgbGVuID0gcGxhY2VIb2xkZXJzTGVuID4gMCA/IHZhbGlkTGVuIC0gNCA6IHZhbGlkTGVuO1xuICB2YXIgaTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgdG1wID0gcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCB8IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDEyIHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPDwgNiB8IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldO1xuICAgIGFycltjdXJCeXRlKytdID0gdG1wID4+IDE2ICYgMjU1O1xuICAgIGFycltjdXJCeXRlKytdID0gdG1wID4+IDggJiAyNTU7XG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAyNTU7XG4gIH1cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMikge1xuICAgIHRtcCA9IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMiB8IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQ7XG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAyNTU7XG4gIH1cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9IHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTAgfCByZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCA0IHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAyKV0gPj4gMjtcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCA+PiA4ICYgMjU1O1xuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMjU1O1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5mdW5jdGlvbiB0cmlwbGV0VG9CYXNlNjQobnVtKSB7XG4gIHJldHVybiBsb29rdXBbbnVtID4+IDE4ICYgNjNdICsgbG9va3VwW251bSA+PiAxMiAmIDYzXSArIGxvb2t1cFtudW0gPj4gNiAmIDYzXSArIGxvb2t1cFtudW0gJiA2M107XG59XG5mdW5jdGlvbiBlbmNvZGVDaHVuayh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wO1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7XG4gICAgdG1wID0gKHVpbnQ4W2ldIDw8IDE2ICYgMTY3MTE2ODApICsgKHVpbnQ4W2kgKyAxXSA8PCA4ICYgNjUyODApICsgKHVpbnQ4W2kgKyAyXSAmIDI1NSk7XG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpO1xuICB9XG4gIHJldHVybiBvdXRwdXQuam9pbihcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQnl0ZUFycmF5KHVpbnQ4KSB7XG4gIHZhciB0bXA7XG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGg7XG4gIHZhciBleHRyYUJ5dGVzID0gbGVuICUgMztcbiAgdmFyIHBhcnRzID0gW107XG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzO1xuICBmb3IgKHZhciBpID0gMCwgbGVuMiA9IGxlbiAtIGV4dHJhQnl0ZXM7IGkgPCBsZW4yOyBpICs9IG1heENodW5rTGVuZ3RoKSB7XG4gICAgcGFydHMucHVzaChcbiAgICAgIGVuY29kZUNodW5rKFxuICAgICAgICB1aW50OCxcbiAgICAgICAgaSxcbiAgICAgICAgaSArIG1heENodW5rTGVuZ3RoID4gbGVuMiA/IGxlbjIgOiBpICsgbWF4Q2h1bmtMZW5ndGhcbiAgICAgIClcbiAgICApO1xuICB9XG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV07XG4gICAgcGFydHMucHVzaChsb29rdXBbdG1wID4+IDJdICsgbG9va3VwW3RtcCA8PCA0ICYgNjNdICsgXCI9PVwiKTtcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV07XG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICsgbG9va3VwW3RtcCA+PiA0ICYgNjNdICsgbG9va3VwW3RtcCA8PCAyICYgNjNdICsgXCI9XCJcbiAgICApO1xuICB9XG4gIHJldHVybiBwYXJ0cy5qb2luKFwiXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21CeXRlQXJyYXlVcmxTYWZlTm9QYWRkaW5nKHVpbnQ4KSB7XG4gIHJldHVybiBmcm9tQnl0ZUFycmF5KHVpbnQ4KS5yZXBsYWNlKC9cXCsvZywgXCItXCIpLnJlcGxhY2UoL1xcLy9nLCBcIl9cIikucmVwbGFjZSgvPS9nLCBcIlwiKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2U2NC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJsb29rdXAiLCJyZXZMb29rdXAiLCJBcnIiLCJVaW50OEFycmF5IiwiY29kZSIsImkiLCJsZW4iLCJsZW5ndGgiLCJjaGFyQ29kZUF0IiwiZ2V0TGVucyIsImI2NCIsIkVycm9yIiwidmFsaWRMZW4iLCJpbmRleE9mIiwicGxhY2VIb2xkZXJzTGVuIiwiYnl0ZUxlbmd0aCIsImxlbnMiLCJfYnl0ZUxlbmd0aCIsIl9iNjQiLCJ0b0J5dGVBcnJheSIsInRtcCIsImFyciIsImN1ckJ5dGUiLCJ0cmlwbGV0VG9CYXNlNjQiLCJudW0iLCJlbmNvZGVDaHVuayIsInVpbnQ4Iiwic3RhcnQiLCJlbmQiLCJvdXRwdXQiLCJwdXNoIiwiam9pbiIsImZyb21CeXRlQXJyYXkiLCJleHRyYUJ5dGVzIiwicGFydHMiLCJtYXhDaHVua0xlbmd0aCIsImxlbjIiLCJmcm9tQnl0ZUFycmF5VXJsU2FmZU5vUGFkZGluZyIsInJlcGxhY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/base64.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/compare.js":
/*!********************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/compare.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compareValues: () => (/* binding */ compareValues)\n/* harmony export */ });\n/* harmony import */ var _compare_utf8_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compare_utf8.js */ \"(ssr)/./node_modules/convex/dist/esm/values/compare_utf8.js\");\n\n\nfunction compareValues(k1, k2) {\n    return compareAsTuples(makeComparable(k1), makeComparable(k2));\n}\nfunction compareAsTuples(a, b) {\n    if (a[0] === b[0]) {\n        return compareSameTypeValues(a[1], b[1]);\n    } else if (a[0] < b[0]) {\n        return -1;\n    }\n    return 1;\n}\nfunction compareSameTypeValues(v1, v2) {\n    if (v1 === void 0 || v1 === null) {\n        return 0;\n    }\n    if (typeof v1 === \"number\") {\n        if (typeof v2 !== \"number\") {\n            throw new Error(`Unexpected type ${v2}`);\n        }\n        return compareNumbers(v1, v2);\n    }\n    if (typeof v1 === \"string\") {\n        if (typeof v2 !== \"string\") {\n            throw new Error(`Unexpected type ${v2}`);\n        }\n        return (0,_compare_utf8_js__WEBPACK_IMPORTED_MODULE_0__.compareUTF8)(v1, v2);\n    }\n    if (typeof v1 === \"bigint\" || typeof v1 === \"boolean\" || typeof v1 === \"string\") {\n        return v1 < v2 ? -1 : v1 === v2 ? 0 : 1;\n    }\n    if (!Array.isArray(v1) || !Array.isArray(v2)) {\n        throw new Error(`Unexpected type ${v1}`);\n    }\n    for(let i = 0; i < v1.length && i < v2.length; i++){\n        const cmp = compareAsTuples(v1[i], v2[i]);\n        if (cmp !== 0) {\n            return cmp;\n        }\n    }\n    if (v1.length < v2.length) {\n        return -1;\n    }\n    if (v1.length > v2.length) {\n        return 1;\n    }\n    return 0;\n}\nfunction compareNumbers(v1, v2) {\n    if (isNaN(v1) || isNaN(v2)) {\n        const buffer1 = new ArrayBuffer(8);\n        const buffer2 = new ArrayBuffer(8);\n        new DataView(buffer1).setFloat64(0, v1, /* little-endian */ true);\n        new DataView(buffer2).setFloat64(0, v2, /* little-endian */ true);\n        const v1Bits = BigInt(new DataView(buffer1).getBigInt64(0, /* little-endian */ true));\n        const v2Bits = BigInt(new DataView(buffer2).getBigInt64(0, /* little-endian */ true));\n        const v1Sign = (v1Bits & 0x8000000000000000n) !== 0n;\n        const v2Sign = (v2Bits & 0x8000000000000000n) !== 0n;\n        if (isNaN(v1) !== isNaN(v2)) {\n            if (isNaN(v1)) {\n                return v1Sign ? -1 : 1;\n            }\n            return v2Sign ? 1 : -1;\n        }\n        if (v1Sign !== v2Sign) {\n            return v1Sign ? -1 : 1;\n        }\n        return v1Bits < v2Bits ? -1 : v1Bits === v2Bits ? 0 : 1;\n    }\n    if (Object.is(v1, v2)) {\n        return 0;\n    }\n    if (Object.is(v1, -0)) {\n        return Object.is(v2, 0) ? -1 : -Math.sign(v2);\n    }\n    if (Object.is(v2, -0)) {\n        return Object.is(v1, 0) ? 1 : Math.sign(v1);\n    }\n    return v1 < v2 ? -1 : 1;\n}\nfunction makeComparable(v) {\n    if (v === void 0) {\n        return [\n            0,\n            void 0\n        ];\n    }\n    if (v === null) {\n        return [\n            1,\n            null\n        ];\n    }\n    if (typeof v === \"bigint\") {\n        return [\n            2,\n            v\n        ];\n    }\n    if (typeof v === \"number\") {\n        return [\n            3,\n            v\n        ];\n    }\n    if (typeof v === \"boolean\") {\n        return [\n            4,\n            v\n        ];\n    }\n    if (typeof v === \"string\") {\n        return [\n            5,\n            v\n        ];\n    }\n    if (v instanceof ArrayBuffer) {\n        return [\n            6,\n            Array.from(new Uint8Array(v)).map(makeComparable)\n        ];\n    }\n    if (Array.isArray(v)) {\n        return [\n            7,\n            v.map(makeComparable)\n        ];\n    }\n    const keys = Object.keys(v).sort();\n    const pojo = keys.map((k)=>[\n            k,\n            v[k]\n        ]);\n    return [\n        8,\n        pojo.map(makeComparable)\n    ];\n} //# sourceMappingURL=compare.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9jb21wYXJlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDbUM7QUFDekMsU0FBU0MsY0FBY0MsRUFBRSxFQUFFQyxFQUFFO0lBQ2xDLE9BQU9DLGdCQUFnQkMsZUFBZUgsS0FBS0csZUFBZUY7QUFDNUQ7QUFDQSxTQUFTQyxnQkFBZ0JFLENBQUMsRUFBRUMsQ0FBQztJQUMzQixJQUFJRCxDQUFDLENBQUMsRUFBRSxLQUFLQyxDQUFDLENBQUMsRUFBRSxFQUFFO1FBQ2pCLE9BQU9DLHNCQUFzQkYsQ0FBQyxDQUFDLEVBQUUsRUFBRUMsQ0FBQyxDQUFDLEVBQUU7SUFDekMsT0FBTyxJQUFJRCxDQUFDLENBQUMsRUFBRSxHQUFHQyxDQUFDLENBQUMsRUFBRSxFQUFFO1FBQ3RCLE9BQU8sQ0FBQztJQUNWO0lBQ0EsT0FBTztBQUNUO0FBQ0EsU0FBU0Msc0JBQXNCQyxFQUFFLEVBQUVDLEVBQUU7SUFDbkMsSUFBSUQsT0FBTyxLQUFLLEtBQUtBLE9BQU8sTUFBTTtRQUNoQyxPQUFPO0lBQ1Q7SUFDQSxJQUFJLE9BQU9BLE9BQU8sVUFBVTtRQUMxQixJQUFJLE9BQU9DLE9BQU8sVUFBVTtZQUMxQixNQUFNLElBQUlDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRUQsR0FBRyxDQUFDO1FBQ3pDO1FBQ0EsT0FBT0UsZUFBZUgsSUFBSUM7SUFDNUI7SUFDQSxJQUFJLE9BQU9ELE9BQU8sVUFBVTtRQUMxQixJQUFJLE9BQU9DLE9BQU8sVUFBVTtZQUMxQixNQUFNLElBQUlDLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRUQsR0FBRyxDQUFDO1FBQ3pDO1FBQ0EsT0FBT1YsNkRBQVdBLENBQUNTLElBQUlDO0lBQ3pCO0lBQ0EsSUFBSSxPQUFPRCxPQUFPLFlBQVksT0FBT0EsT0FBTyxhQUFhLE9BQU9BLE9BQU8sVUFBVTtRQUMvRSxPQUFPQSxLQUFLQyxLQUFLLENBQUMsSUFBSUQsT0FBT0MsS0FBSyxJQUFJ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RTtJQUNmO0lBQ0EsSUFBSSxPQUFPQSxNQUFNLFVBQVU7UUFDekIsT0FBTztZQUFDO1lBQUdBO1NBQUU7SUFDZjtJQUNBLElBQUlBLGFBQWFkLGFBQWE7UUFDNUIsT0FBTztZQUFDO1lBQUdQLE1BQU1zQixJQUFJLENBQUMsSUFBSUMsV0FBV0YsSUFBSUcsR0FBRyxDQUFDaEM7U0FBZ0I7SUFDL0Q7SUFDQSxJQUFJUSxNQUFNQyxPQUFPLENBQUNvQixJQUFJO1FBQ3BCLE9BQU87WUFBQztZQUFHQSxFQUFFRyxHQUFHLENBQUNoQztTQUFnQjtJQUNuQztJQUNBLE1BQU1pQyxPQUFPUixPQUFPUSxJQUFJLENBQUNKLEdBQUdLLElBQUk7SUFDaEMsTUFBTUMsT0FBT0YsS0FBS0QsR0FBRyxDQUFDLENBQUNJLElBQU07WUFBQ0E7WUFBR1AsQ0FBQyxDQUFDTyxFQUFFO1NBQUM7SUFDdEMsT0FBTztRQUFDO1FBQUdELEtBQUtILEdBQUcsQ0FBQ2hDO0tBQWdCO0FBQ3RDLEVBQ0EsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9jb21wYXJlLmpzP2JmNjIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgeyBjb21wYXJlVVRGOCB9IGZyb20gXCIuL2NvbXBhcmVfdXRmOC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhcmVWYWx1ZXMoazEsIGsyKSB7XG4gIHJldHVybiBjb21wYXJlQXNUdXBsZXMobWFrZUNvbXBhcmFibGUoazEpLCBtYWtlQ29tcGFyYWJsZShrMikpO1xufVxuZnVuY3Rpb24gY29tcGFyZUFzVHVwbGVzKGEsIGIpIHtcbiAgaWYgKGFbMF0gPT09IGJbMF0pIHtcbiAgICByZXR1cm4gY29tcGFyZVNhbWVUeXBlVmFsdWVzKGFbMV0sIGJbMV0pO1xuICB9IGVsc2UgaWYgKGFbMF0gPCBiWzBdKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIHJldHVybiAxO1xufVxuZnVuY3Rpb24gY29tcGFyZVNhbWVUeXBlVmFsdWVzKHYxLCB2Mikge1xuICBpZiAodjEgPT09IHZvaWQgMCB8fCB2MSA9PT0gbnVsbCkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmICh0eXBlb2YgdjEgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAodHlwZW9mIHYyICE9PSBcIm51bWJlclwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdHlwZSAke3YyfWApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGFyZU51bWJlcnModjEsIHYyKTtcbiAgfVxuICBpZiAodHlwZW9mIHYxID09PSBcInN0cmluZ1wiKSB7XG4gICAgaWYgKHR5cGVvZiB2MiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHR5cGUgJHt2Mn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBhcmVVVEY4KHYxLCB2Mik7XG4gIH1cbiAgaWYgKHR5cGVvZiB2MSA9PT0gXCJiaWdpbnRcIiB8fCB0eXBlb2YgdjEgPT09IFwiYm9vbGVhblwiIHx8IHR5cGVvZiB2MSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB2MSA8IHYyID8gLTEgOiB2MSA9PT0gdjIgPyAwIDogMTtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkodjEpIHx8ICFBcnJheS5pc0FycmF5KHYyKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB0eXBlICR7djF9YCk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2MS5sZW5ndGggJiYgaSA8IHYyLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY21wID0gY29tcGFyZUFzVHVwbGVzKHYxW2ldLCB2MltpXSk7XG4gICAgaWYgKGNtcCAhPT0gMCkge1xuICAgICAgcmV0dXJuIGNtcDtcbiAgICB9XG4gIH1cbiAgaWYgKHYxLmxlbmd0aCA8IHYyLmxlbmd0aCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAodjEubGVuZ3RoID4gdjIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBjb21wYXJlTnVtYmVycyh2MSwgdjIpIHtcbiAgaWYgKGlzTmFOKHYxKSB8fCBpc05hTih2MikpIHtcbiAgICBjb25zdCBidWZmZXIxID0gbmV3IEFycmF5QnVmZmVyKDgpO1xuICAgIGNvbnN0IGJ1ZmZlcjIgPSBuZXcgQXJyYXlCdWZmZXIoOCk7XG4gICAgbmV3IERhdGFWaWV3KGJ1ZmZlcjEpLnNldEZsb2F0NjQoXG4gICAgICAwLFxuICAgICAgdjEsXG4gICAgICAvKiBsaXR0bGUtZW5kaWFuICovXG4gICAgICB0cnVlXG4gICAgKTtcbiAgICBuZXcgRGF0YVZpZXcoYnVmZmVyMikuc2V0RmxvYXQ2NChcbiAgICAgIDAsXG4gICAgICB2MixcbiAgICAgIC8qIGxpdHRsZS1lbmRpYW4gKi9cbiAgICAgIHRydWVcbiAgICApO1xuICAgIGNvbnN0IHYxQml0cyA9IEJpZ0ludChcbiAgICAgIG5ldyBEYXRhVmlldyhidWZmZXIxKS5nZXRCaWdJbnQ2NChcbiAgICAgICAgMCxcbiAgICAgICAgLyogbGl0dGxlLWVuZGlhbiAqL1xuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgKTtcbiAgICBjb25zdCB2MkJpdHMgPSBCaWdJbnQoXG4gICAgICBuZXcgRGF0YVZpZXcoYnVmZmVyMikuZ2V0QmlnSW50NjQoXG4gICAgICAgIDAsXG4gICAgICAgIC8qIGxpdHRsZS1lbmRpYW4gKi9cbiAgICAgICAgdHJ1ZVxuICAgICAgKVxuICAgICk7XG4gICAgY29uc3QgdjFTaWduID0gKHYxQml0cyAmIDB4ODAwMDAwMDAwMDAwMDAwMG4pICE9PSAwbjtcbiAgICBjb25zdCB2MlNpZ24gPSAodjJCaXRzICYgMHg4MDAwMDAwMDAwMDAwMDAwbikgIT09IDBuO1xuICAgIGlmIChpc05hTih2MSkgIT09IGlzTmFOKHYyKSkge1xuICAgICAgaWYgKGlzTmFOKHYxKSkge1xuICAgICAgICByZXR1cm4gdjFTaWduID8gLTEgOiAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHYyU2lnbiA/IDEgOiAtMTtcbiAgICB9XG4gICAgaWYgKHYxU2lnbiAhPT0gdjJTaWduKSB7XG4gICAgICByZXR1cm4gdjFTaWduID8gLTEgOiAxO1xuICAgIH1cbiAgICByZXR1cm4gdjFCaXRzIDwgdjJCaXRzID8gLTEgOiB2MUJpdHMgPT09IHYyQml0cyA/IDAgOiAxO1xuICB9XG4gIGlmIChPYmplY3QuaXModjEsIHYyKSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmIChPYmplY3QuaXModjEsIC0wKSkge1xuICAgIHJldHVybiBPYmplY3QuaXModjIsIDApID8gLTEgOiAtTWF0aC5zaWduKHYyKTtcbiAgfVxuICBpZiAoT2JqZWN0LmlzKHYyLCAtMCkpIHtcbiAgICByZXR1cm4gT2JqZWN0LmlzKHYxLCAwKSA/IDEgOiBNYXRoLnNpZ24odjEpO1xuICB9XG4gIHJldHVybiB2MSA8IHYyID8gLTEgOiAxO1xufVxuZnVuY3Rpb24gbWFrZUNvbXBhcmFibGUodikge1xuICBpZiAodiA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIFswLCB2b2lkIDBdO1xuICB9XG4gIGlmICh2ID09PSBudWxsKSB7XG4gICAgcmV0dXJuIFsxLCBudWxsXTtcbiAgfVxuICBpZiAodHlwZW9mIHYgPT09IFwiYmlnaW50XCIpIHtcbiAgICByZXR1cm4gWzIsIHZdO1xuICB9XG4gIGlmICh0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBbMywgdl07XG4gIH1cbiAgaWYgKHR5cGVvZiB2ID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiBbNCwgdl07XG4gIH1cbiAgaWYgKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIFs1LCB2XTtcbiAgfVxuICBpZiAodiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIFs2LCBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KHYpKS5tYXAobWFrZUNvbXBhcmFibGUpXTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgIHJldHVybiBbNywgdi5tYXAobWFrZUNvbXBhcmFibGUpXTtcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModikuc29ydCgpO1xuICBjb25zdCBwb2pvID0ga2V5cy5tYXAoKGspID0+IFtrLCB2W2tdXSk7XG4gIHJldHVybiBbOCwgcG9qby5tYXAobWFrZUNvbXBhcmFibGUpXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBhcmUuanMubWFwXG4iXSwibmFtZXMiOlsiY29tcGFyZVVURjgiLCJjb21wYXJlVmFsdWVzIiwiazEiLCJrMiIsImNvbXBhcmVBc1R1cGxlcyIsIm1ha2VDb21wYXJhYmxlIiwiYSIsImIiLCJjb21wYXJlU2FtZVR5cGVWYWx1ZXMiLCJ2MSIsInYyIiwiRXJyb3IiLCJjb21wYXJlTnVtYmVycyIsIkFycmF5IiwiaXNBcnJheSIsImkiLCJsZW5ndGgiLCJjbXAiLCJpc05hTiIsImJ1ZmZlcjEiLCJBcnJheUJ1ZmZlciIsImJ1ZmZlcjIiLCJEYXRhVmlldyIsInNldEZsb2F0NjQiLCJ2MUJpdHMiLCJCaWdJbnQiLCJnZXRCaWdJbnQ2NCIsInYyQml0cyIsInYxU2lnbiIsInYyU2lnbiIsIk9iamVjdCIsImlzIiwiTWF0aCIsInNpZ24iLCJ2IiwiZnJvbSIsIlVpbnQ4QXJyYXkiLCJtYXAiLCJrZXlzIiwic29ydCIsInBvam8iLCJrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/compare.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/compare_utf8.js":
/*!*************************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/compare_utf8.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compareUTF8: () => (/* binding */ compareUTF8),\n/* harmony export */   greaterThan: () => (/* binding */ greaterThan),\n/* harmony export */   greaterThanEq: () => (/* binding */ greaterThanEq),\n/* harmony export */   lessThan: () => (/* binding */ lessThan),\n/* harmony export */   lessThanEq: () => (/* binding */ lessThanEq),\n/* harmony export */   utf16LengthForCodePoint: () => (/* binding */ utf16LengthForCodePoint)\n/* harmony export */ });\n\nfunction compareUTF8(a, b) {\n    const aLength = a.length;\n    const bLength = b.length;\n    const length = Math.min(aLength, bLength);\n    for(let i = 0; i < length;){\n        const aCodePoint = a.codePointAt(i);\n        const bCodePoint = b.codePointAt(i);\n        if (aCodePoint !== bCodePoint) {\n            if (aCodePoint < 128 && bCodePoint < 128) {\n                return aCodePoint - bCodePoint;\n            }\n            const aLength2 = utf8Bytes(aCodePoint, aBytes);\n            const bLength2 = utf8Bytes(bCodePoint, bBytes);\n            return compareArrays(aBytes, aLength2, bBytes, bLength2);\n        }\n        i += utf16LengthForCodePoint(aCodePoint);\n    }\n    return aLength - bLength;\n}\nfunction compareArrays(a, aLength, b, bLength) {\n    const length = Math.min(aLength, bLength);\n    for(let i = 0; i < length; i++){\n        const aValue = a[i];\n        const bValue = b[i];\n        if (aValue !== bValue) {\n            return aValue - bValue;\n        }\n    }\n    return aLength - bLength;\n}\nfunction utf16LengthForCodePoint(aCodePoint) {\n    return aCodePoint > 65535 ? 2 : 1;\n}\nconst arr = ()=>Array.from({\n        length: 4\n    }, ()=>0);\nconst aBytes = arr();\nconst bBytes = arr();\nfunction utf8Bytes(codePoint, bytes) {\n    if (codePoint < 128) {\n        bytes[0] = codePoint;\n        return 1;\n    }\n    let count;\n    let offset;\n    if (codePoint <= 2047) {\n        count = 1;\n        offset = 192;\n    } else if (codePoint <= 65535) {\n        count = 2;\n        offset = 224;\n    } else if (codePoint <= 1114111) {\n        count = 3;\n        offset = 240;\n    } else {\n        throw new Error(\"Invalid code point\");\n    }\n    bytes[0] = (codePoint >> 6 * count) + offset;\n    let i = 1;\n    for(; count > 0; count--){\n        const temp = codePoint >> 6 * (count - 1);\n        bytes[i++] = 128 | temp & 63;\n    }\n    return i;\n}\nfunction greaterThan(a, b) {\n    return compareUTF8(a, b) > 0;\n}\nfunction greaterThanEq(a, b) {\n    return compareUTF8(a, b) >= 0;\n}\nfunction lessThan(a, b) {\n    return compareUTF8(a, b) < 0;\n}\nfunction lessThanEq(a, b) {\n    return compareUTF8(a, b) <= 0;\n} //# sourceMappingURL=compare_utf8.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9jb21wYXJlX3V0ZjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQWE7QUFDTixTQUFTQSxZQUFZQyxDQUFDLEVBQUVDLENBQUM7SUFDOUIsTUFBTUMsVUFBVUYsRUFBRUcsTUFBTTtJQUN4QixNQUFNQyxVQUFVSCxFQUFFRSxNQUFNO0lBQ3hCLE1BQU1BLFNBQVNFLEtBQUtDLEdBQUcsQ0FBQ0osU0FBU0U7SUFDakMsSUFBSyxJQUFJRyxJQUFJLEdBQUdBLElBQUlKLFFBQVU7UUFDNUIsTUFBTUssYUFBYVIsRUFBRVMsV0FBVyxDQUFDRjtRQUNqQyxNQUFNRyxhQUFhVCxFQUFFUSxXQUFXLENBQUNGO1FBQ2pDLElBQUlDLGVBQWVFLFlBQVk7WUFDN0IsSUFBSUYsYUFBYSxPQUFPRSxhQUFhLEtBQUs7Z0JBQ3hDLE9BQU9GLGFBQWFFO1lBQ3RCO1lBQ0EsTUFBTUMsV0FBV0MsVUFBVUosWUFBWUs7WUFDdkMsTUFBTUMsV0FBV0YsVUFBVUYsWUFBWUs7WUFDdkMsT0FBT0MsY0FBY0gsUUFBUUYsVUFBVUksUUFBUUQ7UUFDakQ7UUFDQVAsS0FBS1Usd0JBQXdCVDtJQUMvQjtJQUNBLE9BQU9OLFVBQVVFO0FBQ25CO0FBQ0EsU0FBU1ksY0FBY2hCLENBQUMsRUFBRUUsT0FBTyxFQUFFRCxDQUFDLEVBQUVHLE9BQU87SUFDM0MsTUFBTUQsU0FBU0UsS0FBS0MsR0FBRyxDQUFDSixTQUFTRTtJQUNqQyxJQUFLLElBQUlHLElBQUksR0FBR0EsSUFBSUosUUFBUUksSUFBSztRQUMvQixNQUFNVyxTQUFTbEIsQ0FBQyxDQUFDTyxFQUFFO1FBQ25CLE1BQU1ZLFNBQVNsQixDQUFDLENBQUNNLEVBQUU7UUFDbkIsSUFBSVcsV0FBV0MsUUFBUTtZQUNyQixPQUFPRCxTQUFTQztRQUNsQjtJQUNGO0lBQ0EsT0FBT2pCLFVBQVVFO0FBQ25CO0FBQ08sU0FBU2Esd0JBQXdCVCxVQUFVO0lBQ2hELE9BQU9BLGFBQWEsUUFBUSxJQUFJO0FBQ2xDO0FBQ0EsTUFBTVksTUFBTSxJQUFNQyxNQUFNQyxJQUFJLENBQUM7UUFBRW5CLFFBQVE7SUFBRSxHQUFHLElBQU07QUFDbEQsTUFBTVUsU0FBU087QUFDZixNQUFNTCxTQUFTSztBQUNmLFNBQVNSLFVBQVVXLFNBQVMsRUFBRUMsS0FBSztJQUNqQyxJQUFJRCxZQUFZLEtBQUs7UUFDbkJDLEtBQUssQ0FBQyxFQUFFLEdBQUdEO1FBQ1gsT0FBTztJQUNUO0lBQ0EsSUFBSUU7SUFDSixJQUFJQztJQUNKLElBQUlILGFBQWEsTUFBTTtRQUNyQkUsUUFBUTtRQUNSQyxTQUFTO0lBQ1gsT0FBTyxJQUFJSCxhQUFhLE9BQU87UUFDN0JFLFFBQVE7UUFDUkMsU0FBUztJQUNYLE9BQU8sSUFBSUgsYUFBYSxTQUFTO1FBQy9CRSxRQUFRO1FBQ1JDLFNBQVM7SUFDWCxPQUFPO1FBQ0wsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0FILEtBQUssQ0FBQyxFQUFFLEdBQUcsQ0FBQ0QsYUFBYSxJQUFJRSxLQUFJLElBQUtDO0lBQ3RDLElBQUluQixJQUFJO0lBQ1IsTUFBT2tCLFFBQVEsR0FBR0EsUUFBUztRQUN6QixNQUFNRyxPQUFPTCxhQUFhLElBQUtFLENBQUFBLFFBQVE7UUFDdkNELEtBQUssQ0FBQ2pCLElBQUksR0FBRyxNQUFNcUIsT0FBTztJQUM1QjtJQUNBLE9BQU9yQjtBQUNUO0FBQ08sU0FBU3NCLFlBQVk3QixDQUFDLEVBQUVDLENBQUM7SUFDOUIsT0FBT0YsWUFBWUMsR0FBR0MsS0FBSztBQUM3QjtBQUNPLFNBQVM2QixjQUFjOUIsQ0FBQyxFQUFFQyxDQUFDO0lBQ2hDLE9BQU9GLFlBQVlDLEdBQUdDLE1BQU07QUFDOUI7QUFDTyxTQUFTOEIsU0FBUy9CLENBQUMsRUFBRUMsQ0FBQztJQUMzQixPQUFPRixZQUFZQyxHQUFHQyxLQUFLO0FBQzdCO0FBQ08sU0FBUytCLFdBQVdoQyxDQUFDLEVBQUVDLENBQUM7SUFDN0IsT0FBT0YsWUFBWUMsR0FBR0MsTUFBTTtBQUM5QixFQUNBLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS92YWx1ZXMvY29tcGFyZV91dGY4LmpzPzE2NTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVVURjgoYSwgYikge1xuICBjb25zdCBhTGVuZ3RoID0gYS5sZW5ndGg7XG4gIGNvbnN0IGJMZW5ndGggPSBiLmxlbmd0aDtcbiAgY29uc3QgbGVuZ3RoID0gTWF0aC5taW4oYUxlbmd0aCwgYkxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyApIHtcbiAgICBjb25zdCBhQ29kZVBvaW50ID0gYS5jb2RlUG9pbnRBdChpKTtcbiAgICBjb25zdCBiQ29kZVBvaW50ID0gYi5jb2RlUG9pbnRBdChpKTtcbiAgICBpZiAoYUNvZGVQb2ludCAhPT0gYkNvZGVQb2ludCkge1xuICAgICAgaWYgKGFDb2RlUG9pbnQgPCAxMjggJiYgYkNvZGVQb2ludCA8IDEyOCkge1xuICAgICAgICByZXR1cm4gYUNvZGVQb2ludCAtIGJDb2RlUG9pbnQ7XG4gICAgICB9XG4gICAgICBjb25zdCBhTGVuZ3RoMiA9IHV0ZjhCeXRlcyhhQ29kZVBvaW50LCBhQnl0ZXMpO1xuICAgICAgY29uc3QgYkxlbmd0aDIgPSB1dGY4Qnl0ZXMoYkNvZGVQb2ludCwgYkJ5dGVzKTtcbiAgICAgIHJldHVybiBjb21wYXJlQXJyYXlzKGFCeXRlcywgYUxlbmd0aDIsIGJCeXRlcywgYkxlbmd0aDIpO1xuICAgIH1cbiAgICBpICs9IHV0ZjE2TGVuZ3RoRm9yQ29kZVBvaW50KGFDb2RlUG9pbnQpO1xuICB9XG4gIHJldHVybiBhTGVuZ3RoIC0gYkxlbmd0aDtcbn1cbmZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYSwgYUxlbmd0aCwgYiwgYkxlbmd0aCkge1xuICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbihhTGVuZ3RoLCBiTGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGFWYWx1ZSA9IGFbaV07XG4gICAgY29uc3QgYlZhbHVlID0gYltpXTtcbiAgICBpZiAoYVZhbHVlICE9PSBiVmFsdWUpIHtcbiAgICAgIHJldHVybiBhVmFsdWUgLSBiVmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBhTGVuZ3RoIC0gYkxlbmd0aDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1dGYxNkxlbmd0aEZvckNvZGVQb2ludChhQ29kZVBvaW50KSB7XG4gIHJldHVybiBhQ29kZVBvaW50ID4gNjU1MzUgPyAyIDogMTtcbn1cbmNvbnN0IGFyciA9ICgpID0+IEFycmF5LmZyb20oeyBsZW5ndGg6IDQgfSwgKCkgPT4gMCk7XG5jb25zdCBhQnl0ZXMgPSBhcnIoKTtcbmNvbnN0IGJCeXRlcyA9IGFycigpO1xuZnVuY3Rpb24gdXRmOEJ5dGVzKGNvZGVQb2ludCwgYnl0ZXMpIHtcbiAgaWYgKGNvZGVQb2ludCA8IDEyOCkge1xuICAgIGJ5dGVzWzBdID0gY29kZVBvaW50O1xuICAgIHJldHVybiAxO1xuICB9XG4gIGxldCBjb3VudDtcbiAgbGV0IG9mZnNldDtcbiAgaWYgKGNvZGVQb2ludCA8PSAyMDQ3KSB7XG4gICAgY291bnQgPSAxO1xuICAgIG9mZnNldCA9IDE5MjtcbiAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPD0gNjU1MzUpIHtcbiAgICBjb3VudCA9IDI7XG4gICAgb2Zmc2V0ID0gMjI0O1xuICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8PSAxMTE0MTExKSB7XG4gICAgY291bnQgPSAzO1xuICAgIG9mZnNldCA9IDI0MDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIik7XG4gIH1cbiAgYnl0ZXNbMF0gPSAoY29kZVBvaW50ID4+IDYgKiBjb3VudCkgKyBvZmZzZXQ7XG4gIGxldCBpID0gMTtcbiAgZm9yICg7IGNvdW50ID4gMDsgY291bnQtLSkge1xuICAgIGNvbnN0IHRlbXAgPSBjb2RlUG9pbnQgPj4gNiAqIChjb3VudCAtIDEpO1xuICAgIGJ5dGVzW2krK10gPSAxMjggfCB0ZW1wICYgNjM7XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ3JlYXRlclRoYW4oYSwgYikge1xuICByZXR1cm4gY29tcGFyZVVURjgoYSwgYikgPiAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdyZWF0ZXJUaGFuRXEoYSwgYikge1xuICByZXR1cm4gY29tcGFyZVVURjgoYSwgYikgPj0gMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsZXNzVGhhbihhLCBiKSB7XG4gIHJldHVybiBjb21wYXJlVVRGOChhLCBiKSA8IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gbGVzc1RoYW5FcShhLCBiKSB7XG4gIHJldHVybiBjb21wYXJlVVRGOChhLCBiKSA8PSAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcGFyZV91dGY4LmpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbXBhcmVVVEY4IiwiYSIsImIiLCJhTGVuZ3RoIiwibGVuZ3RoIiwiYkxlbmd0aCIsIk1hdGgiLCJtaW4iLCJpIiwiYUNvZGVQb2ludCIsImNvZGVQb2ludEF0IiwiYkNvZGVQb2ludCIsImFMZW5ndGgyIiwidXRmOEJ5dGVzIiwiYUJ5dGVzIiwiYkxlbmd0aDIiLCJiQnl0ZXMiLCJjb21wYXJlQXJyYXlzIiwidXRmMTZMZW5ndGhGb3JDb2RlUG9pbnQiLCJhVmFsdWUiLCJiVmFsdWUiLCJhcnIiLCJBcnJheSIsImZyb20iLCJjb2RlUG9pbnQiLCJieXRlcyIsImNvdW50Iiwib2Zmc2V0IiwiRXJyb3IiLCJ0ZW1wIiwiZ3JlYXRlclRoYW4iLCJncmVhdGVyVGhhbkVxIiwibGVzc1RoYW4iLCJsZXNzVGhhbkVxIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/compare_utf8.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/errors.js":
/*!*******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/errors.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConvexError: () => (/* binding */ ConvexError)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a, _b;\n\nconst IDENTIFYING_FIELD = Symbol.for(\"ConvexError\");\nclass ConvexError extends (_b = Error, _a = IDENTIFYING_FIELD, _b) {\n    constructor(data){\n        super(typeof data === \"string\" ? data : (0,_value_js__WEBPACK_IMPORTED_MODULE_0__.stringifyValueForError)(data));\n        __publicField(this, \"name\", \"ConvexError\");\n        __publicField(this, \"data\");\n        __publicField(this, _a, true);\n        this.data = data;\n    }\n} //# sourceMappingURL=errors.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9lcnJvcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDeEcsSUFBSUssSUFBSUM7QUFDNEM7QUFDcEQsTUFBTUUsb0JBQW9CQyxPQUFPQyxHQUFHLENBQUM7QUFDOUIsTUFBTUMsb0JBQXFCTCxDQUFBQSxLQUFLTSxPQUFPUCxLQUFLRyxtQkFBbUJGLEVBQUM7SUFDckVPLFlBQVlDLElBQUksQ0FBRTtRQUNoQixLQUFLLENBQUMsT0FBT0EsU0FBUyxXQUFXQSxPQUFPUCxpRUFBc0JBLENBQUNPO1FBQy9EVixjQUFjLElBQUksRUFBRSxRQUFRO1FBQzVCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUVDLElBQUk7UUFDeEIsSUFBSSxDQUFDUyxJQUFJLEdBQUdBO0lBQ2Q7QUFDRixFQUNBLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS92YWx1ZXMvZXJyb3JzLmpzPzU5ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xudmFyIF9hLCBfYjtcbmltcG9ydCB7IHN0cmluZ2lmeVZhbHVlRm9yRXJyb3IgfSBmcm9tIFwiLi92YWx1ZS5qc1wiO1xuY29uc3QgSURFTlRJRllJTkdfRklFTEQgPSBTeW1ib2wuZm9yKFwiQ29udmV4RXJyb3JcIik7XG5leHBvcnQgY2xhc3MgQ29udmV4RXJyb3IgZXh0ZW5kcyAoX2IgPSBFcnJvciwgX2EgPSBJREVOVElGWUlOR19GSUVMRCwgX2IpIHtcbiAgY29uc3RydWN0b3IoZGF0YSkge1xuICAgIHN1cGVyKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiID8gZGF0YSA6IHN0cmluZ2lmeVZhbHVlRm9yRXJyb3IoZGF0YSkpO1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJuYW1lXCIsIFwiQ29udmV4RXJyb3JcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImRhdGFcIik7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBfYSwgdHJ1ZSk7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiX2EiLCJfYiIsInN0cmluZ2lmeVZhbHVlRm9yRXJyb3IiLCJJREVOVElGWUlOR19GSUVMRCIsIlN5bWJvbCIsImZvciIsIkNvbnZleEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/errors.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/index.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Base64: () => (/* reexport module object */ _base64_js__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   ConvexError: () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_3__.ConvexError),\n/* harmony export */   asObjectValidator: () => (/* reexport safe */ _validator_js__WEBPACK_IMPORTED_MODULE_1__.asObjectValidator),\n/* harmony export */   compareValues: () => (/* reexport safe */ _compare_js__WEBPACK_IMPORTED_MODULE_4__.compareValues),\n/* harmony export */   convexToJson: () => (/* reexport safe */ _value_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson),\n/* harmony export */   jsonToConvex: () => (/* reexport safe */ _value_js__WEBPACK_IMPORTED_MODULE_0__.jsonToConvex),\n/* harmony export */   v: () => (/* reexport safe */ _validator_js__WEBPACK_IMPORTED_MODULE_1__.v)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n/* harmony import */ var _validator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validator.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validator.js\");\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/convex/dist/esm/values/base64.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors.js */ \"(ssr)/./node_modules/convex/dist/esm/values/errors.js\");\n/* harmony import */ var _compare_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./compare.js */ \"(ssr)/./node_modules/convex/dist/esm/values/compare.js\");\n\n\n\n\n\n\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBYTtBQUMyQztBQUNGO0FBQ2hCO0FBQ3BCO0FBQ1U7QUFDaUIsQ0FDN0MsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy9pbmRleC5qcz80MDUyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IHsgY29udmV4VG9Kc29uLCBqc29uVG9Db252ZXggfSBmcm9tIFwiLi92YWx1ZS5qc1wiO1xuZXhwb3J0IHsgdiwgYXNPYmplY3RWYWxpZGF0b3IgfSBmcm9tIFwiLi92YWxpZGF0b3IuanNcIjtcbmltcG9ydCAqIGFzIEJhc2U2NCBmcm9tIFwiLi9iYXNlNjQuanNcIjtcbmV4cG9ydCB7IEJhc2U2NCB9O1xuZXhwb3J0ICogZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgeyBjb21wYXJlVmFsdWVzIH0gZnJvbSBcIi4vY29tcGFyZS5qc1wiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiY29udmV4VG9Kc29uIiwianNvblRvQ29udmV4IiwidiIsImFzT2JqZWN0VmFsaWRhdG9yIiwiQmFzZTY0IiwiY29tcGFyZVZhbHVlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/validator.js":
/*!**********************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/validator.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asObjectValidator: () => (/* binding */ asObjectValidator),\n/* harmony export */   isValidator: () => (/* binding */ isValidator),\n/* harmony export */   v: () => (/* binding */ v)\n/* harmony export */ });\n/* harmony import */ var _validators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validators.js */ \"(ssr)/./node_modules/convex/dist/esm/values/validators.js\");\n\n\nfunction isValidator(v2) {\n    return !!v2.isConvexValidator;\n}\nfunction asObjectValidator(obj) {\n    if (isValidator(obj)) {\n        return obj;\n    } else {\n        return v.object(obj);\n    }\n}\nconst v = {\n    /**\n   * Validates that the value corresponds to an ID of a document in given table.\n   * @param tableName The name of the table.\n   */ id: (tableName)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VId({\n            isOptional: \"required\",\n            tableName\n        });\n    },\n    /**\n   * Validates that the value is of type Null.\n   */ null: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VNull({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Float64 (Number in JS).\n   *\n   * Alias for `v.float64()`\n   */ number: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VFloat64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Float64 (Number in JS).\n   */ float64: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VFloat64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * @deprecated Use `v.int64()` instead\n   */ bigint: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VInt64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Int64 (BigInt in JS).\n   */ int64: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VInt64({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of type Boolean.\n   */ boolean: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VBoolean({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of type String.\n   */ string: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VString({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is of Convex type Bytes (constructed in JS via `ArrayBuffer`).\n   */ bytes: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VBytes({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Validates that the value is equal to the given literal value.\n   * @param literal The literal value to compare against.\n   */ literal: (literal)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VLiteral({\n            isOptional: \"required\",\n            value: literal\n        });\n    },\n    /**\n   * Validates that the value is an Array of the given element type.\n   * @param element The validator for the elements of the array.\n   */ array: (element)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VArray({\n            isOptional: \"required\",\n            element\n        });\n    },\n    /**\n   * Validates that the value is an Object with the given properties.\n   * @param fields An object specifying the validator for each property.\n   */ object: (fields)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VObject({\n            isOptional: \"required\",\n            fields\n        });\n    },\n    /**\n   * Validates that the value is a Record with keys and values that match the given types.\n   * @param keys The validator for the keys of the record. This cannot contain string literals.\n   * @param values The validator for the values of the record.\n   */ record: (keys, values)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VRecord({\n            isOptional: \"required\",\n            key: keys,\n            value: values\n        });\n    },\n    /**\n   * Validates that the value matches one of the given validators.\n   * @param members The validators to match against.\n   */ union: (...members)=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VUnion({\n            isOptional: \"required\",\n            members\n        });\n    },\n    /**\n   * Does not validate the value.\n   */ any: ()=>{\n        return new _validators_js__WEBPACK_IMPORTED_MODULE_0__.VAny({\n            isOptional: \"required\"\n        });\n    },\n    /**\n   * Allows not specifying a value for a property in an Object.\n   * @param value The property value validator to make optional.\n   *\n   * ```typescript\n   * const objectWithOptionalFields = v.object({\n   *   requiredField: v.string(),\n   *   optionalField: v.optional(v.string()),\n   * });\n   * ```\n   */ optional: (value)=>{\n        return value.asOptional();\n    },\n    /**\n   * Allows specifying a value or null.\n   */ nullable: (value)=>{\n        return v.union(value, v.null());\n    }\n}; //# sourceMappingURL=validator.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWxpZGF0b3IuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFhO0FBZVk7QUFDbEIsU0FBU2EsWUFBWUMsRUFBRTtJQUM1QixPQUFPLENBQUMsQ0FBQ0EsR0FBR0MsaUJBQWlCO0FBQy9CO0FBQ08sU0FBU0Msa0JBQWtCQyxHQUFHO0lBQ25DLElBQUlKLFlBQVlJLE1BQU07UUFDcEIsT0FBT0E7SUFDVCxPQUFPO1FBQ0wsT0FBT0MsRUFBRUMsTUFBTSxDQUFDRjtJQUNsQjtBQUNGO0FBQ08sTUFBTUMsSUFBSTtJQUNmOzs7R0FHQyxHQUNERSxJQUFJLENBQUNDO1FBQ0gsT0FBTyxJQUFJaEIsK0NBQUdBLENBQUM7WUFDYmlCLFlBQVk7WUFDWkQ7UUFDRjtJQUNGO0lBQ0E7O0dBRUMsR0FDREUsTUFBTTtRQUNKLE9BQU8sSUFBSWYsaURBQUtBLENBQUM7WUFBRWMsWUFBWTtRQUFXO0lBQzVDO0lBQ0E7Ozs7R0FJQyxHQUNERSxRQUFRO1FBQ04sT0FBTyxJQUFJcEIsb0RBQVFBLENBQUM7WUFBRWtCLFlBQVk7UUFBVztJQUMvQztJQUNBOztHQUVDLEdBQ0RHLFNBQVM7UUFDUCxPQUFPLElBQUlyQixvREFBUUEsQ0FBQztZQUFFa0IsWUFBWTtRQUFXO0lBQy9DO0lBQ0E7O0dBRUMsR0FDREksUUFBUTtRQUNOLE9BQU8sSUFBSXBCLGtEQUFNQSxDQUFDO1lBQUVnQixZQUFZO1FBQVc7SUFDN0M7SUFDQTs7R0FFQyxHQUNESyxPQUFPO1FBQ0wsT0FBTyxJQUFJckIsa0RBQU1BLENBQUM7WUFBRWdCLFlBQVk7UUFBVztJQUM3QztJQUNBOztHQUVDLEdBQ0RNLFNBQVM7UUFDUCxPQUFPLElBQUkxQixvREFBUUEsQ0FBQztZQUFFb0IsWUFBWTtRQUFXO0lBQy9DO0lBQ0E7O0dBRUMsR0FDRE8sUUFBUTtRQUNOLE9BQU8sSUFBSWxCLG1EQUFPQSxDQUFDO1lBQUVXLFlBQVk7UUFBVztJQUM5QztJQUNBOztHQUVDLEdBQ0RRLE9BQU87UUFDTCxPQUFPLElBQUkzQixrREFBTUEsQ0FBQztZQUFFbUIsWUFBWTtRQUFXO0lBQzdDO0lBQ0E7OztHQUdDLEdBQ0RTLFNBQVMsQ0FBQ0E7UUFDUixPQUFPLElBQUl4QixvREFBUUEsQ0FBQztZQUFFZSxZQUFZO1lBQVlVLE9BQU9EO1FBQVE7SUFDL0Q7SUFDQTs7O0dBR0MsR0FDREUsT0FBTyxDQUFDQztRQUNOLE9BQU8sSUFBSWpDLGtEQUFNQSxDQUFDO1lBQUVxQixZQUFZO1lBQVlZO1FBQVE7SUFDdEQ7SUFDQTs7O0dBR0MsR0FDRGYsUUFBUSxDQUFDZ0I7UUFDUCxPQUFPLElBQUkxQixtREFBT0EsQ0FBQztZQUFFYSxZQUFZO1lBQVlhO1FBQU87SUFDdEQ7SUFDQTs7OztHQUlDLEdBQ0RDLFFBQVEsQ0FBQ0MsTUFBTUM7UUFDYixPQUFPLElBQUk1QixtREFBT0EsQ0FBQztZQUNqQlksWUFBWTtZQUNaaUIsS0FBS0Y7WUFDTEwsT0FBT007UUFDVDtJQUNGO0lBQ0E7OztHQUdDLEdBQ0RFLE9BQU8sQ0FBQyxHQUFHQztRQUNULE9BQU8sSUFBSTdCLGtEQUFNQSxDQUFDO1lBQ2hCVSxZQUFZO1lBQ1ptQjtRQUNGO0lBQ0Y7SUFDQTs7R0FFQyxHQUNEQyxLQUFLO1FBQ0gsT0FBTyxJQUFJMUMsZ0RBQUlBLENBQUM7WUFBRXNCLFlBQVk7UUFBVztJQUMzQztJQUNBOzs7Ozs7Ozs7O0dBVUMsR0FDRHFCLFVBQVUsQ0FBQ1g7UUFDVCxPQUFPQSxNQUFNWSxVQUFVO0lBQ3pCO0lBQ0E7O0dBRUMsR0FDREMsVUFBVSxDQUFDYjtRQUNULE9BQU9kLEVBQUVzQixLQUFLLENBQUNSLE9BQU9kLEVBQUVLLElBQUk7SUFDOUI7QUFDRixFQUFFLENBQ0YscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWxpZGF0b3IuanM/ZDU5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmltcG9ydCB7XG4gIFZBbnksXG4gIFZBcnJheSxcbiAgVkJvb2xlYW4sXG4gIFZCeXRlcyxcbiAgVkZsb2F0NjQsXG4gIFZJZCxcbiAgVkludDY0LFxuICBWTGl0ZXJhbCxcbiAgVk51bGwsXG4gIFZPYmplY3QsXG4gIFZSZWNvcmQsXG4gIFZTdHJpbmcsXG4gIFZVbmlvblxufSBmcm9tIFwiLi92YWxpZGF0b3JzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZGF0b3IodjIpIHtcbiAgcmV0dXJuICEhdjIuaXNDb252ZXhWYWxpZGF0b3I7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNPYmplY3RWYWxpZGF0b3Iob2JqKSB7XG4gIGlmIChpc1ZhbGlkYXRvcihvYmopKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdi5vYmplY3Qob2JqKTtcbiAgfVxufVxuZXhwb3J0IGNvbnN0IHYgPSB7XG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgY29ycmVzcG9uZHMgdG8gYW4gSUQgb2YgYSBkb2N1bWVudCBpbiBnaXZlbiB0YWJsZS5cbiAgICogQHBhcmFtIHRhYmxlTmFtZSBUaGUgbmFtZSBvZiB0aGUgdGFibGUuXG4gICAqL1xuICBpZDogKHRhYmxlTmFtZSkgPT4ge1xuICAgIHJldHVybiBuZXcgVklkKHtcbiAgICAgIGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIixcbiAgICAgIHRhYmxlTmFtZVxuICAgIH0pO1xuICB9LFxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIG9mIHR5cGUgTnVsbC5cbiAgICovXG4gIG51bGw6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZOdWxsKHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiIH0pO1xuICB9LFxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIG9mIENvbnZleCB0eXBlIEZsb2F0NjQgKE51bWJlciBpbiBKUykuXG4gICAqXG4gICAqIEFsaWFzIGZvciBgdi5mbG9hdDY0KClgXG4gICAqL1xuICBudW1iZXI6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZGbG9hdDY0KHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiIH0pO1xuICB9LFxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIG9mIENvbnZleCB0eXBlIEZsb2F0NjQgKE51bWJlciBpbiBKUykuXG4gICAqL1xuICBmbG9hdDY0OiAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWRmxvYXQ2NCh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgdi5pbnQ2NCgpYCBpbnN0ZWFkXG4gICAqL1xuICBiaWdpbnQ6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZJbnQ2NCh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBpcyBvZiBDb252ZXggdHlwZSBJbnQ2NCAoQmlnSW50IGluIEpTKS5cbiAgICovXG4gIGludDY0OiAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWSW50NjQoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgb2YgdHlwZSBCb29sZWFuLlxuICAgKi9cbiAgYm9vbGVhbjogKCkgPT4ge1xuICAgIHJldHVybiBuZXcgVkJvb2xlYW4oeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgb2YgdHlwZSBTdHJpbmcuXG4gICAqL1xuICBzdHJpbmc6ICgpID0+IHtcbiAgICByZXR1cm4gbmV3IFZTdHJpbmcoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgb2YgQ29udmV4IHR5cGUgQnl0ZXMgKGNvbnN0cnVjdGVkIGluIEpTIHZpYSBgQXJyYXlCdWZmZXJgKS5cbiAgICovXG4gIGJ5dGVzOiAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWQnl0ZXMoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgZXF1YWwgdG8gdGhlIGdpdmVuIGxpdGVyYWwgdmFsdWUuXG4gICAqIEBwYXJhbSBsaXRlcmFsIFRoZSBsaXRlcmFsIHZhbHVlIHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAgICovXG4gIGxpdGVyYWw6IChsaXRlcmFsKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWTGl0ZXJhbCh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiwgdmFsdWU6IGxpdGVyYWwgfSk7XG4gIH0sXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgdGhhdCB0aGUgdmFsdWUgaXMgYW4gQXJyYXkgb2YgdGhlIGdpdmVuIGVsZW1lbnQgdHlwZS5cbiAgICogQHBhcmFtIGVsZW1lbnQgVGhlIHZhbGlkYXRvciBmb3IgdGhlIGVsZW1lbnRzIG9mIHRoZSBhcnJheS5cbiAgICovXG4gIGFycmF5OiAoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBuZXcgVkFycmF5KHsgaXNPcHRpb25hbDogXCJyZXF1aXJlZFwiLCBlbGVtZW50IH0pO1xuICB9LFxuICAvKipcbiAgICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIGlzIGFuIE9iamVjdCB3aXRoIHRoZSBnaXZlbiBwcm9wZXJ0aWVzLlxuICAgKiBAcGFyYW0gZmllbGRzIEFuIG9iamVjdCBzcGVjaWZ5aW5nIHRoZSB2YWxpZGF0b3IgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAqL1xuICBvYmplY3Q6IChmaWVsZHMpID0+IHtcbiAgICByZXR1cm4gbmV3IFZPYmplY3QoeyBpc09wdGlvbmFsOiBcInJlcXVpcmVkXCIsIGZpZWxkcyB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBpcyBhIFJlY29yZCB3aXRoIGtleXMgYW5kIHZhbHVlcyB0aGF0IG1hdGNoIHRoZSBnaXZlbiB0eXBlcy5cbiAgICogQHBhcmFtIGtleXMgVGhlIHZhbGlkYXRvciBmb3IgdGhlIGtleXMgb2YgdGhlIHJlY29yZC4gVGhpcyBjYW5ub3QgY29udGFpbiBzdHJpbmcgbGl0ZXJhbHMuXG4gICAqIEBwYXJhbSB2YWx1ZXMgVGhlIHZhbGlkYXRvciBmb3IgdGhlIHZhbHVlcyBvZiB0aGUgcmVjb3JkLlxuICAgKi9cbiAgcmVjb3JkOiAoa2V5cywgdmFsdWVzKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBWUmVjb3JkKHtcbiAgICAgIGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIixcbiAgICAgIGtleToga2V5cyxcbiAgICAgIHZhbHVlOiB2YWx1ZXNcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBtYXRjaGVzIG9uZSBvZiB0aGUgZ2l2ZW4gdmFsaWRhdG9ycy5cbiAgICogQHBhcmFtIG1lbWJlcnMgVGhlIHZhbGlkYXRvcnMgdG8gbWF0Y2ggYWdhaW5zdC5cbiAgICovXG4gIHVuaW9uOiAoLi4ubWVtYmVycykgPT4ge1xuICAgIHJldHVybiBuZXcgVlVuaW9uKHtcbiAgICAgIGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIixcbiAgICAgIG1lbWJlcnNcbiAgICB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIERvZXMgbm90IHZhbGlkYXRlIHRoZSB2YWx1ZS5cbiAgICovXG4gIGFueTogKCkgPT4ge1xuICAgIHJldHVybiBuZXcgVkFueSh7IGlzT3B0aW9uYWw6IFwicmVxdWlyZWRcIiB9KTtcbiAgfSxcbiAgLyoqXG4gICAqIEFsbG93cyBub3Qgc3BlY2lmeWluZyBhIHZhbHVlIGZvciBhIHByb3BlcnR5IGluIGFuIE9iamVjdC5cbiAgICogQHBhcmFtIHZhbHVlIFRoZSBwcm9wZXJ0eSB2YWx1ZSB2YWxpZGF0b3IgdG8gbWFrZSBvcHRpb25hbC5cbiAgICpcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiBjb25zdCBvYmplY3RXaXRoT3B0aW9uYWxGaWVsZHMgPSB2Lm9iamVjdCh7XG4gICAqICAgcmVxdWlyZWRGaWVsZDogdi5zdHJpbmcoKSxcbiAgICogICBvcHRpb25hbEZpZWxkOiB2Lm9wdGlvbmFsKHYuc3RyaW5nKCkpLFxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuICBvcHRpb25hbDogKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIHZhbHVlLmFzT3B0aW9uYWwoKTtcbiAgfSxcbiAgLyoqXG4gICAqIEFsbG93cyBzcGVjaWZ5aW5nIGEgdmFsdWUgb3IgbnVsbC5cbiAgICovXG4gIG51bGxhYmxlOiAodmFsdWUpID0+IHtcbiAgICByZXR1cm4gdi51bmlvbih2YWx1ZSwgdi5udWxsKCkpO1xuICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdG9yLmpzLm1hcFxuIl0sIm5hbWVzIjpbIlZBbnkiLCJWQXJyYXkiLCJWQm9vbGVhbiIsIlZCeXRlcyIsIlZGbG9hdDY0IiwiVklkIiwiVkludDY0IiwiVkxpdGVyYWwiLCJWTnVsbCIsIlZPYmplY3QiLCJWUmVjb3JkIiwiVlN0cmluZyIsIlZVbmlvbiIsImlzVmFsaWRhdG9yIiwidjIiLCJpc0NvbnZleFZhbGlkYXRvciIsImFzT2JqZWN0VmFsaWRhdG9yIiwib2JqIiwidiIsIm9iamVjdCIsImlkIiwidGFibGVOYW1lIiwiaXNPcHRpb25hbCIsIm51bGwiLCJudW1iZXIiLCJmbG9hdDY0IiwiYmlnaW50IiwiaW50NjQiLCJib29sZWFuIiwic3RyaW5nIiwiYnl0ZXMiLCJsaXRlcmFsIiwidmFsdWUiLCJhcnJheSIsImVsZW1lbnQiLCJmaWVsZHMiLCJyZWNvcmQiLCJrZXlzIiwidmFsdWVzIiwia2V5IiwidW5pb24iLCJtZW1iZXJzIiwiYW55Iiwib3B0aW9uYWwiLCJhc09wdGlvbmFsIiwibnVsbGFibGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/validator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/validators.js":
/*!***********************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/validators.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VAny: () => (/* binding */ VAny),\n/* harmony export */   VArray: () => (/* binding */ VArray),\n/* harmony export */   VBoolean: () => (/* binding */ VBoolean),\n/* harmony export */   VBytes: () => (/* binding */ VBytes),\n/* harmony export */   VFloat64: () => (/* binding */ VFloat64),\n/* harmony export */   VId: () => (/* binding */ VId),\n/* harmony export */   VInt64: () => (/* binding */ VInt64),\n/* harmony export */   VLiteral: () => (/* binding */ VLiteral),\n/* harmony export */   VNull: () => (/* binding */ VNull),\n/* harmony export */   VObject: () => (/* binding */ VObject),\n/* harmony export */   VRecord: () => (/* binding */ VRecord),\n/* harmony export */   VString: () => (/* binding */ VString),\n/* harmony export */   VUnion: () => (/* binding */ VUnion)\n/* harmony export */ });\n/* harmony import */ var _value_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./value.js */ \"(ssr)/./node_modules/convex/dist/esm/values/value.js\");\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\nclass BaseValidator {\n    constructor({ isOptional }){\n        /**\n     * Only for TypeScript, the TS type of the JS values validated\n     * by this validator.\n     */ __publicField(this, \"type\");\n        /**\n     * Only for TypeScript, if this an Object validator, then\n     * this is the TS type of its property names.\n     */ __publicField(this, \"fieldPaths\");\n        /**\n     * Whether this is an optional Object property value validator.\n     */ __publicField(this, \"isOptional\");\n        /**\n     * Always `\"true\"`.\n     */ __publicField(this, \"isConvexValidator\");\n        this.isOptional = isOptional;\n        this.isConvexValidator = true;\n    }\n}\nclass VId extends BaseValidator {\n    /**\n   * Usually you'd use `v.id(tableName)` instead.\n   */ constructor({ isOptional, tableName }){\n        super({\n            isOptional\n        });\n        /**\n     * The name of the table that the validated IDs must belong to.\n     */ __publicField(this, \"tableName\");\n        /**\n     * The kind of validator, `\"id\"`.\n     */ __publicField(this, \"kind\", \"id\");\n        if (typeof tableName !== \"string\") {\n            throw new Error(\"v.id(tableName) requires a string\");\n        }\n        this.tableName = tableName;\n    }\n    /** @internal */ get json() {\n        return {\n            type: \"id\",\n            tableName: this.tableName\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VId({\n            isOptional: \"optional\",\n            tableName: this.tableName\n        });\n    }\n}\nclass VFloat64 extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"float64\"`.\n     */ __publicField(this, \"kind\", \"float64\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: \"number\"\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VFloat64({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VInt64 extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"int64\"`.\n     */ __publicField(this, \"kind\", \"int64\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: \"bigint\"\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VInt64({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VBoolean extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"boolean\"`.\n     */ __publicField(this, \"kind\", \"boolean\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VBoolean({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VBytes extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"bytes\"`.\n     */ __publicField(this, \"kind\", \"bytes\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VBytes({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VString extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"string\"`.\n     */ __publicField(this, \"kind\", \"string\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VString({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VNull extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"null\"`.\n     */ __publicField(this, \"kind\", \"null\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VNull({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VAny extends BaseValidator {\n    constructor(){\n        super(...arguments);\n        /**\n     * The kind of validator, `\"any\"`.\n     */ __publicField(this, \"kind\", \"any\");\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VAny({\n            isOptional: \"optional\"\n        });\n    }\n}\nclass VObject extends BaseValidator {\n    /**\n   * Usually you'd use `v.object({ ... })` instead.\n   */ constructor({ isOptional, fields }){\n        super({\n            isOptional\n        });\n        /**\n     * An object with the validator for each property.\n     */ __publicField(this, \"fields\");\n        /**\n     * The kind of validator, `\"object\"`.\n     */ __publicField(this, \"kind\", \"object\");\n        globalThis.Object.values(fields).forEach((v)=>{\n            if (!v.isConvexValidator) {\n                throw new Error(\"v.object() entries must be validators\");\n            }\n        });\n        this.fields = fields;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map(([k, v])=>[\n                    k,\n                    {\n                        fieldType: v.json,\n                        optional: v.isOptional === \"optional\" ? true : false\n                    }\n                ]))\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VObject({\n            isOptional: \"optional\",\n            fields: this.fields\n        });\n    }\n    /**\n   * Create a new VObject with the specified fields omitted.\n   * @param fields The field names to omit from this VObject.\n   */ omit(...fields) {\n        const newFields = {\n            ...this.fields\n        };\n        for (const field of fields){\n            delete newFields[field];\n        }\n        return new VObject({\n            isOptional: this.isOptional,\n            fields: newFields\n        });\n    }\n    /**\n   * Create a new VObject with only the specified fields.\n   * @param fields The field names to pick from this VObject.\n   */ pick(...fields) {\n        const newFields = {};\n        for (const field of fields){\n            newFields[field] = this.fields[field];\n        }\n        return new VObject({\n            isOptional: this.isOptional,\n            fields: newFields\n        });\n    }\n    /**\n   * Create a new VObject with all fields marked as optional.\n   */ partial() {\n        const newFields = {};\n        for (const [key, validator] of globalThis.Object.entries(this.fields)){\n            newFields[key] = validator.asOptional();\n        }\n        return new VObject({\n            isOptional: this.isOptional,\n            fields: newFields\n        });\n    }\n    /**\n   * Create a new VObject with additional fields merged in.\n   * @param fields An object with additional validators to merge into this VObject.\n   */ extend(fields) {\n        return new VObject({\n            isOptional: this.isOptional,\n            fields: {\n                ...this.fields,\n                ...fields\n            }\n        });\n    }\n}\nclass VLiteral extends BaseValidator {\n    /**\n   * Usually you'd use `v.literal(value)` instead.\n   */ constructor({ isOptional, value }){\n        super({\n            isOptional\n        });\n        /**\n     * The value that the validated values must be equal to.\n     */ __publicField(this, \"value\");\n        /**\n     * The kind of validator, `\"literal\"`.\n     */ __publicField(this, \"kind\", \"literal\");\n        if (typeof value !== \"string\" && typeof value !== \"boolean\" && typeof value !== \"number\" && typeof value !== \"bigint\") {\n            throw new Error(\"v.literal(value) must be a string, number, or boolean\");\n        }\n        this.value = value;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: (0,_value_js__WEBPACK_IMPORTED_MODULE_0__.convexToJson)(this.value)\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VLiteral({\n            isOptional: \"optional\",\n            value: this.value\n        });\n    }\n}\nclass VArray extends BaseValidator {\n    /**\n   * Usually you'd use `v.array(element)` instead.\n   */ constructor({ isOptional, element }){\n        super({\n            isOptional\n        });\n        /**\n     * The validator for the elements of the array.\n     */ __publicField(this, \"element\");\n        /**\n     * The kind of validator, `\"array\"`.\n     */ __publicField(this, \"kind\", \"array\");\n        this.element = element;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: this.element.json\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VArray({\n            isOptional: \"optional\",\n            element: this.element\n        });\n    }\n}\nclass VRecord extends BaseValidator {\n    /**\n   * Usually you'd use `v.record(key, value)` instead.\n   */ constructor({ isOptional, key, value }){\n        super({\n            isOptional\n        });\n        /**\n     * The validator for the keys of the record.\n     */ __publicField(this, \"key\");\n        /**\n     * The validator for the values of the record.\n     */ __publicField(this, \"value\");\n        /**\n     * The kind of validator, `\"record\"`.\n     */ __publicField(this, \"kind\", \"record\");\n        if (key.isOptional === \"optional\") {\n            throw new Error(\"Record validator cannot have optional keys\");\n        }\n        if (value.isOptional === \"optional\") {\n            throw new Error(\"Record validator cannot have optional values\");\n        }\n        if (!key.isConvexValidator || !value.isConvexValidator) {\n            throw new Error(\"Key and value of v.record() but be validators\");\n        }\n        this.key = key;\n        this.value = value;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            // This cast is needed because TypeScript thinks the key type is too wide\n            keys: this.key.json,\n            values: {\n                fieldType: this.value.json,\n                optional: false\n            }\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VRecord({\n            isOptional: \"optional\",\n            key: this.key,\n            value: this.value\n        });\n    }\n}\nclass VUnion extends BaseValidator {\n    /**\n   * Usually you'd use `v.union(...members)` instead.\n   */ constructor({ isOptional, members }){\n        super({\n            isOptional\n        });\n        /**\n     * The array of validators, one of which must match the value.\n     */ __publicField(this, \"members\");\n        /**\n     * The kind of validator, `\"union\"`.\n     */ __publicField(this, \"kind\", \"union\");\n        members.forEach((member)=>{\n            if (!member.isConvexValidator) {\n                throw new Error(\"All members of v.union() must be validators\");\n            }\n        });\n        this.members = members;\n    }\n    /** @internal */ get json() {\n        return {\n            type: this.kind,\n            value: this.members.map((v)=>v.json)\n        };\n    }\n    /** @internal */ asOptional() {\n        return new VUnion({\n            isOptional: \"optional\",\n            members: this.members\n        });\n    }\n} //# sourceMappingURL=validators.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWxpZGF0b3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWE7QUFDYixJQUFJQSxZQUFZQyxPQUFPQyxjQUFjO0FBQ3JDLElBQUlDLGtCQUFrQixDQUFDQyxLQUFLQyxLQUFLQyxRQUFVRCxPQUFPRCxNQUFNSixVQUFVSSxLQUFLQyxLQUFLO1FBQUVFLFlBQVk7UUFBTUMsY0FBYztRQUFNQyxVQUFVO1FBQU1IO0lBQU0sS0FBS0YsR0FBRyxDQUFDQyxJQUFJLEdBQUdDO0FBQzFKLElBQUlJLGdCQUFnQixDQUFDTixLQUFLQyxLQUFLQyxRQUFVSCxnQkFBZ0JDLEtBQUssT0FBT0MsUUFBUSxXQUFXQSxNQUFNLEtBQUtBLEtBQUtDO0FBQzlEO0FBQzFDLE1BQU1NO0lBQ0pDLFlBQVksRUFBRUMsVUFBVSxFQUFFLENBQUU7UUFDMUI7OztLQUdDLEdBQ0RKLGNBQWMsSUFBSSxFQUFFO1FBQ3BCOzs7S0FHQyxHQUNEQSxjQUFjLElBQUksRUFBRTtRQUNwQjs7S0FFQyxHQUNEQSxjQUFjLElBQUksRUFBRTtRQUNwQjs7S0FFQyxHQUNEQSxjQUFjLElBQUksRUFBRTtRQUNwQixJQUFJLENBQUNJLFVBQVUsR0FBR0E7UUFDbEIsSUFBSSxDQUFDQyxpQkFBaUIsR0FBRztJQUMzQjtBQUNGO0FBQ08sTUFBTUMsWUFBWUo7SUFDdkI7O0dBRUMsR0FDREMsWUFBWSxFQUNWQyxVQUFVLEVBQ1ZHLFNBQVMsRUFDVixDQUFFO1FBQ0QsS0FBSyxDQUFDO1lBQUVIO1FBQVc7UUFDbkI7O0tBRUMsR0FDREosY0FBYyxJQUFJLEVBQUU7UUFDcEI7O0tBRUMsR0FDREEsY0FBYyxJQUFJLEVBQUUsUUFBUTtRQUM1QixJQUFJLE9BQU9PLGNBQWMsVUFBVTtZQUNqQyxNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFDQSxJQUFJLENBQUNELFNBQVMsR0FBR0E7SUFDbkI7SUFDQSxjQUFjLEdBQ2Qs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c0MsT0FBTyxHQUFHQTtJQUNqQjtJQUNBLGNBQWMsR0FDZCxJQUFJckMsT0FBTztRQUNULE9BQU87WUFDTEMsTUFBTSxJQUFJLENBQUNNLElBQUk7WUFDZnBCLE9BQU8sSUFBSSxDQUFDa0QsT0FBTyxDQUFDakIsR0FBRyxDQUFDLENBQUNILElBQU1BLEVBQUVqQixJQUFJO1FBQ3ZDO0lBQ0Y7SUFDQSxjQUFjLEdBQ2RFLGFBQWE7UUFDWCxPQUFPLElBQUlrQyxPQUFPO1lBQ2hCekMsWUFBWTtZQUNaMEMsU0FBUyxJQUFJLENBQUNBLE9BQU87UUFDdkI7SUFDRjtBQUNGLEVBQ0Esc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFieS1uYW1lLWRlYXRobWF0Y2gvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWxpZGF0b3JzLmpzPzlkYTAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fcHVibGljRmllbGQgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBfX2RlZk5vcm1hbFByb3Aob2JqLCB0eXBlb2Yga2V5ICE9PSBcInN5bWJvbFwiID8ga2V5ICsgXCJcIiA6IGtleSwgdmFsdWUpO1xuaW1wb3J0IHsgY29udmV4VG9Kc29uIH0gZnJvbSBcIi4vdmFsdWUuanNcIjtcbmNsYXNzIEJhc2VWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcih7IGlzT3B0aW9uYWwgfSkge1xuICAgIC8qKlxuICAgICAqIE9ubHkgZm9yIFR5cGVTY3JpcHQsIHRoZSBUUyB0eXBlIG9mIHRoZSBKUyB2YWx1ZXMgdmFsaWRhdGVkXG4gICAgICogYnkgdGhpcyB2YWxpZGF0b3IuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInR5cGVcIik7XG4gICAgLyoqXG4gICAgICogT25seSBmb3IgVHlwZVNjcmlwdCwgaWYgdGhpcyBhbiBPYmplY3QgdmFsaWRhdG9yLCB0aGVuXG4gICAgICogdGhpcyBpcyB0aGUgVFMgdHlwZSBvZiBpdHMgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImZpZWxkUGF0aHNcIik7XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGlzIGFuIG9wdGlvbmFsIE9iamVjdCBwcm9wZXJ0eSB2YWx1ZSB2YWxpZGF0b3IuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImlzT3B0aW9uYWxcIik7XG4gICAgLyoqXG4gICAgICogQWx3YXlzIGBcInRydWVcImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImlzQ29udmV4VmFsaWRhdG9yXCIpO1xuICAgIHRoaXMuaXNPcHRpb25hbCA9IGlzT3B0aW9uYWw7XG4gICAgdGhpcy5pc0NvbnZleFZhbGlkYXRvciA9IHRydWU7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWSWQgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgLyoqXG4gICAqIFVzdWFsbHkgeW91J2QgdXNlIGB2LmlkKHRhYmxlTmFtZSlgIGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaXNPcHRpb25hbCxcbiAgICB0YWJsZU5hbWVcbiAgfSkge1xuICAgIHN1cGVyKHsgaXNPcHRpb25hbCB9KTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdGFibGUgdGhhdCB0aGUgdmFsaWRhdGVkIElEcyBtdXN0IGJlbG9uZyB0by5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwidGFibGVOYW1lXCIpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwiaWRcImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJpZFwiKTtcbiAgICBpZiAodHlwZW9mIHRhYmxlTmFtZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidi5pZCh0YWJsZU5hbWUpIHJlcXVpcmVzIGEgc3RyaW5nXCIpO1xuICAgIH1cbiAgICB0aGlzLnRhYmxlTmFtZSA9IHRhYmxlTmFtZTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldCBqc29uKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFwiaWRcIiwgdGFibGVOYW1lOiB0aGlzLnRhYmxlTmFtZSB9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXNPcHRpb25hbCgpIHtcbiAgICByZXR1cm4gbmV3IFZJZCh7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICB0YWJsZU5hbWU6IHRoaXMudGFibGVOYW1lXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWRmxvYXQ2NCBleHRlbmRzIEJhc2VWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwiZmxvYXQ2NFwiYC5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwia2luZFwiLCBcImZsb2F0NjRcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcIm51bWJlclwiIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkZsb2F0NjQoe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWSW50NjQgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImludDY0XCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwiaW50NjRcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImJpZ2ludFwiIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkludDY0KHsgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiIH0pO1xuICB9XG59XG5leHBvcnQgY2xhc3MgVkJvb2xlYW4gZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImJvb2xlYW5cImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJib29sZWFuXCIpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogdGhpcy5raW5kIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkJvb2xlYW4oe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiXG4gICAgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWQnl0ZXMgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImJ5dGVzXCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwiYnl0ZXNcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiB0aGlzLmtpbmQgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWQnl0ZXMoeyBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWU3RyaW5nIGV4dGVuZHMgQmFzZVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgLyoqXG4gICAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJzdHJpbmdcImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJzdHJpbmdcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4geyB0eXBlOiB0aGlzLmtpbmQgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWU3RyaW5nKHtcbiAgICAgIGlzT3B0aW9uYWw6IFwib3B0aW9uYWxcIlxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgY2xhc3MgVk51bGwgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcIm51bGxcImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJudWxsXCIpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogdGhpcy5raW5kIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVk51bGwoeyBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIgfSk7XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBWQW55IGV4dGVuZHMgQmFzZVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgLyoqXG4gICAgICogVGhlIGtpbmQgb2YgdmFsaWRhdG9yLCBgXCJhbnlcImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJhbnlcIik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy5raW5kXG4gICAgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWQW55KHtcbiAgICAgIGlzT3B0aW9uYWw6IFwib3B0aW9uYWxcIlxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgY2xhc3MgVk9iamVjdCBleHRlbmRzIEJhc2VWYWxpZGF0b3Ige1xuICAvKipcbiAgICogVXN1YWxseSB5b3UnZCB1c2UgYHYub2JqZWN0KHsgLi4uIH0pYCBpbnN0ZWFkLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIGlzT3B0aW9uYWwsXG4gICAgZmllbGRzXG4gIH0pIHtcbiAgICBzdXBlcih7IGlzT3B0aW9uYWwgfSk7XG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHdpdGggdGhlIHZhbGlkYXRvciBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZmllbGRzXCIpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwib2JqZWN0XCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwib2JqZWN0XCIpO1xuICAgIGdsb2JhbFRoaXMuT2JqZWN0LnZhbHVlcyhmaWVsZHMpLmZvckVhY2goKHYpID0+IHtcbiAgICAgIGlmICghdi5pc0NvbnZleFZhbGlkYXRvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ2Lm9iamVjdCgpIGVudHJpZXMgbXVzdCBiZSB2YWxpZGF0b3JzXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZmllbGRzID0gZmllbGRzO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMua2luZCxcbiAgICAgIHZhbHVlOiBnbG9iYWxUaGlzLk9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgZ2xvYmFsVGhpcy5PYmplY3QuZW50cmllcyh0aGlzLmZpZWxkcykubWFwKChbaywgdl0pID0+IFtcbiAgICAgICAgICBrLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogdi5qc29uLFxuICAgICAgICAgICAgb3B0aW9uYWw6IHYuaXNPcHRpb25hbCA9PT0gXCJvcHRpb25hbFwiID8gdHJ1ZSA6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICBdKVxuICAgICAgKVxuICAgIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVk9iamVjdCh7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICBmaWVsZHM6IHRoaXMuZmllbGRzXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBWT2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCBmaWVsZHMgb21pdHRlZC5cbiAgICogQHBhcmFtIGZpZWxkcyBUaGUgZmllbGQgbmFtZXMgdG8gb21pdCBmcm9tIHRoaXMgVk9iamVjdC5cbiAgICovXG4gIG9taXQoLi4uZmllbGRzKSB7XG4gICAgY29uc3QgbmV3RmllbGRzID0geyAuLi50aGlzLmZpZWxkcyB9O1xuICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzKSB7XG4gICAgICBkZWxldGUgbmV3RmllbGRzW2ZpZWxkXTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBWT2JqZWN0KHtcbiAgICAgIGlzT3B0aW9uYWw6IHRoaXMuaXNPcHRpb25hbCxcbiAgICAgIGZpZWxkczogbmV3RmllbGRzXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBWT2JqZWN0IHdpdGggb25seSB0aGUgc3BlY2lmaWVkIGZpZWxkcy5cbiAgICogQHBhcmFtIGZpZWxkcyBUaGUgZmllbGQgbmFtZXMgdG8gcGljayBmcm9tIHRoaXMgVk9iamVjdC5cbiAgICovXG4gIHBpY2soLi4uZmllbGRzKSB7XG4gICAgY29uc3QgbmV3RmllbGRzID0ge307XG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcbiAgICAgIG5ld0ZpZWxkc1tmaWVsZF0gPSB0aGlzLmZpZWxkc1tmaWVsZF07XG4gICAgfVxuICAgIHJldHVybiBuZXcgVk9iamVjdCh7XG4gICAgICBpc09wdGlvbmFsOiB0aGlzLmlzT3B0aW9uYWwsXG4gICAgICBmaWVsZHM6IG5ld0ZpZWxkc1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgVk9iamVjdCB3aXRoIGFsbCBmaWVsZHMgbWFya2VkIGFzIG9wdGlvbmFsLlxuICAgKi9cbiAgcGFydGlhbCgpIHtcbiAgICBjb25zdCBuZXdGaWVsZHMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbGlkYXRvcl0gb2YgZ2xvYmFsVGhpcy5PYmplY3QuZW50cmllcyh0aGlzLmZpZWxkcykpIHtcbiAgICAgIG5ld0ZpZWxkc1trZXldID0gdmFsaWRhdG9yLmFzT3B0aW9uYWwoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBWT2JqZWN0KHtcbiAgICAgIGlzT3B0aW9uYWw6IHRoaXMuaXNPcHRpb25hbCxcbiAgICAgIGZpZWxkczogbmV3RmllbGRzXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBWT2JqZWN0IHdpdGggYWRkaXRpb25hbCBmaWVsZHMgbWVyZ2VkIGluLlxuICAgKiBAcGFyYW0gZmllbGRzIEFuIG9iamVjdCB3aXRoIGFkZGl0aW9uYWwgdmFsaWRhdG9ycyB0byBtZXJnZSBpbnRvIHRoaXMgVk9iamVjdC5cbiAgICovXG4gIGV4dGVuZChmaWVsZHMpIHtcbiAgICByZXR1cm4gbmV3IFZPYmplY3Qoe1xuICAgICAgaXNPcHRpb25hbDogdGhpcy5pc09wdGlvbmFsLFxuICAgICAgZmllbGRzOiB7IC4uLnRoaXMuZmllbGRzLCAuLi5maWVsZHMgfVxuICAgIH0pO1xuICB9XG59XG5leHBvcnQgY2xhc3MgVkxpdGVyYWwgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgLyoqXG4gICAqIFVzdWFsbHkgeW91J2QgdXNlIGB2LmxpdGVyYWwodmFsdWUpYCBpbnN0ZWFkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBpc09wdGlvbmFsLCB2YWx1ZSB9KSB7XG4gICAgc3VwZXIoeyBpc09wdGlvbmFsIH0pO1xuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSB0aGF0IHRoZSB2YWxpZGF0ZWQgdmFsdWVzIG11c3QgYmUgZXF1YWwgdG8uXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInZhbHVlXCIpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwibGl0ZXJhbFwiYC5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwia2luZFwiLCBcImxpdGVyYWxcIik7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiYm9vbGVhblwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiYmlnaW50XCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInYubGl0ZXJhbCh2YWx1ZSkgbXVzdCBiZSBhIHN0cmluZywgbnVtYmVyLCBvciBib29sZWFuXCIpO1xuICAgIH1cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBnZXQganNvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogdGhpcy5raW5kLFxuICAgICAgdmFsdWU6IGNvbnZleFRvSnNvbih0aGlzLnZhbHVlKVxuICAgIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVkxpdGVyYWwoe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiLFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFZBcnJheSBleHRlbmRzIEJhc2VWYWxpZGF0b3Ige1xuICAvKipcbiAgICogVXN1YWxseSB5b3UnZCB1c2UgYHYuYXJyYXkoZWxlbWVudClgIGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgaXNPcHRpb25hbCxcbiAgICBlbGVtZW50XG4gIH0pIHtcbiAgICBzdXBlcih7IGlzT3B0aW9uYWwgfSk7XG4gICAgLyoqXG4gICAgICogVGhlIHZhbGlkYXRvciBmb3IgdGhlIGVsZW1lbnRzIG9mIHRoZSBhcnJheS5cbiAgICAgKi9cbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiZWxlbWVudFwiKTtcbiAgICAvKipcbiAgICAgKiBUaGUga2luZCBvZiB2YWxpZGF0b3IsIGBcImFycmF5XCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwiYXJyYXlcIik7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGdldCBqc29uKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiB0aGlzLmtpbmQsXG4gICAgICB2YWx1ZTogdGhpcy5lbGVtZW50Lmpzb25cbiAgICB9O1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgYXNPcHRpb25hbCgpIHtcbiAgICByZXR1cm4gbmV3IFZBcnJheSh7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnRcbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFZSZWNvcmQgZXh0ZW5kcyBCYXNlVmFsaWRhdG9yIHtcbiAgLyoqXG4gICAqIFVzdWFsbHkgeW91J2QgdXNlIGB2LnJlY29yZChrZXksIHZhbHVlKWAgaW5zdGVhZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBpc09wdGlvbmFsLFxuICAgIGtleSxcbiAgICB2YWx1ZVxuICB9KSB7XG4gICAgc3VwZXIoeyBpc09wdGlvbmFsIH0pO1xuICAgIC8qKlxuICAgICAqIFRoZSB2YWxpZGF0b3IgZm9yIHRoZSBrZXlzIG9mIHRoZSByZWNvcmQuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtleVwiKTtcbiAgICAvKipcbiAgICAgKiBUaGUgdmFsaWRhdG9yIGZvciB0aGUgdmFsdWVzIG9mIHRoZSByZWNvcmQuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcInZhbHVlXCIpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwicmVjb3JkXCJgLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJraW5kXCIsIFwicmVjb3JkXCIpO1xuICAgIGlmIChrZXkuaXNPcHRpb25hbCA9PT0gXCJvcHRpb25hbFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWNvcmQgdmFsaWRhdG9yIGNhbm5vdCBoYXZlIG9wdGlvbmFsIGtleXNcIik7XG4gICAgfVxuICAgIGlmICh2YWx1ZS5pc09wdGlvbmFsID09PSBcIm9wdGlvbmFsXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlY29yZCB2YWxpZGF0b3IgY2Fubm90IGhhdmUgb3B0aW9uYWwgdmFsdWVzXCIpO1xuICAgIH1cbiAgICBpZiAoIWtleS5pc0NvbnZleFZhbGlkYXRvciB8fCAhdmFsdWUuaXNDb252ZXhWYWxpZGF0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIktleSBhbmQgdmFsdWUgb2Ygdi5yZWNvcmQoKSBidXQgYmUgdmFsaWRhdG9yc1wiKTtcbiAgICB9XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMua2luZCxcbiAgICAgIC8vIFRoaXMgY2FzdCBpcyBuZWVkZWQgYmVjYXVzZSBUeXBlU2NyaXB0IHRoaW5rcyB0aGUga2V5IHR5cGUgaXMgdG9vIHdpZGVcbiAgICAgIGtleXM6IHRoaXMua2V5Lmpzb24sXG4gICAgICB2YWx1ZXM6IHtcbiAgICAgICAgZmllbGRUeXBlOiB0aGlzLnZhbHVlLmpzb24sXG4gICAgICAgIG9wdGlvbmFsOiBmYWxzZVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBhc09wdGlvbmFsKCkge1xuICAgIHJldHVybiBuZXcgVlJlY29yZCh7XG4gICAgICBpc09wdGlvbmFsOiBcIm9wdGlvbmFsXCIsXG4gICAgICBrZXk6IHRoaXMua2V5LFxuICAgICAgdmFsdWU6IHRoaXMudmFsdWVcbiAgICB9KTtcbiAgfVxufVxuZXhwb3J0IGNsYXNzIFZVbmlvbiBleHRlbmRzIEJhc2VWYWxpZGF0b3Ige1xuICAvKipcbiAgICogVXN1YWxseSB5b3UnZCB1c2UgYHYudW5pb24oLi4ubWVtYmVycylgIGluc3RlYWQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7IGlzT3B0aW9uYWwsIG1lbWJlcnMgfSkge1xuICAgIHN1cGVyKHsgaXNPcHRpb25hbCB9KTtcbiAgICAvKipcbiAgICAgKiBUaGUgYXJyYXkgb2YgdmFsaWRhdG9ycywgb25lIG9mIHdoaWNoIG11c3QgbWF0Y2ggdGhlIHZhbHVlLlxuICAgICAqL1xuICAgIF9fcHVibGljRmllbGQodGhpcywgXCJtZW1iZXJzXCIpO1xuICAgIC8qKlxuICAgICAqIFRoZSBraW5kIG9mIHZhbGlkYXRvciwgYFwidW5pb25cImAuXG4gICAgICovXG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImtpbmRcIiwgXCJ1bmlvblwiKTtcbiAgICBtZW1iZXJzLmZvckVhY2goKG1lbWJlcikgPT4ge1xuICAgICAgaWYgKCFtZW1iZXIuaXNDb252ZXhWYWxpZGF0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWxsIG1lbWJlcnMgb2Ygdi51bmlvbigpIG11c3QgYmUgdmFsaWRhdG9yc1wiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLm1lbWJlcnMgPSBtZW1iZXJzO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZ2V0IGpzb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMua2luZCxcbiAgICAgIHZhbHVlOiB0aGlzLm1lbWJlcnMubWFwKCh2KSA9PiB2Lmpzb24pXG4gICAgfTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGFzT3B0aW9uYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBWVW5pb24oe1xuICAgICAgaXNPcHRpb25hbDogXCJvcHRpb25hbFwiLFxuICAgICAgbWVtYmVyczogdGhpcy5tZW1iZXJzXG4gICAgfSk7XG4gIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkYXRvcnMuanMubWFwXG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2RlZk5vcm1hbFByb3AiLCJvYmoiLCJrZXkiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIl9fcHVibGljRmllbGQiLCJjb252ZXhUb0pzb24iLCJCYXNlVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJpc09wdGlvbmFsIiwiaXNDb252ZXhWYWxpZGF0b3IiLCJWSWQiLCJ0YWJsZU5hbWUiLCJFcnJvciIsImpzb24iLCJ0eXBlIiwiYXNPcHRpb25hbCIsIlZGbG9hdDY0IiwiYXJndW1lbnRzIiwiVkludDY0IiwiVkJvb2xlYW4iLCJraW5kIiwiVkJ5dGVzIiwiVlN0cmluZyIsIlZOdWxsIiwiVkFueSIsIlZPYmplY3QiLCJmaWVsZHMiLCJnbG9iYWxUaGlzIiwidmFsdWVzIiwiZm9yRWFjaCIsInYiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJtYXAiLCJrIiwiZmllbGRUeXBlIiwib3B0aW9uYWwiLCJvbWl0IiwibmV3RmllbGRzIiwiZmllbGQiLCJwaWNrIiwicGFydGlhbCIsInZhbGlkYXRvciIsImV4dGVuZCIsIlZMaXRlcmFsIiwiVkFycmF5IiwiZWxlbWVudCIsIlZSZWNvcmQiLCJrZXlzIiwiVlVuaW9uIiwibWVtYmVycyIsIm1lbWJlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/validators.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/values/value.js":
/*!******************************************************!*\
  !*** ./node_modules/convex/dist/esm/values/value.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64ToBigInt: () => (/* binding */ base64ToBigInt),\n/* harmony export */   bigIntToBase64: () => (/* binding */ bigIntToBase64),\n/* harmony export */   convexOrUndefinedToJson: () => (/* binding */ convexOrUndefinedToJson),\n/* harmony export */   convexToJson: () => (/* binding */ convexToJson),\n/* harmony export */   jsonToConvex: () => (/* binding */ jsonToConvex),\n/* harmony export */   modernBase64ToBigInt: () => (/* binding */ modernBase64ToBigInt),\n/* harmony export */   modernBigIntToBase64: () => (/* binding */ modernBigIntToBase64),\n/* harmony export */   patchValueToJson: () => (/* binding */ patchValueToJson),\n/* harmony export */   slowBase64ToBigInt: () => (/* binding */ slowBase64ToBigInt),\n/* harmony export */   slowBigIntToBase64: () => (/* binding */ slowBigIntToBase64),\n/* harmony export */   stringifyValueForError: () => (/* binding */ stringifyValueForError)\n/* harmony export */ });\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/convex/dist/esm/values/base64.js\");\n/* harmony import */ var _common_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/index.js */ \"(ssr)/./node_modules/convex/dist/esm/common/index.js\");\n\n\n\nconst LITTLE_ENDIAN = true;\nconst MIN_INT64 = BigInt(\"-9223372036854775808\");\nconst MAX_INT64 = BigInt(\"9223372036854775807\");\nconst ZERO = BigInt(\"0\");\nconst EIGHT = BigInt(\"8\");\nconst TWOFIFTYSIX = BigInt(\"256\");\nfunction isSpecial(n) {\n    return Number.isNaN(n) || !Number.isFinite(n) || Object.is(n, -0);\n}\nfunction slowBigIntToBase64(value) {\n    if (value < ZERO) {\n        value -= MIN_INT64 + MIN_INT64;\n    }\n    let hex = value.toString(16);\n    if (hex.length % 2 === 1) hex = \"0\" + hex;\n    const bytes = new Uint8Array(new ArrayBuffer(8));\n    let i = 0;\n    for (const hexByte of hex.match(/.{2}/g).reverse()){\n        bytes.set([\n            parseInt(hexByte, 16)\n        ], i++);\n        value >>= EIGHT;\n    }\n    return _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(bytes);\n}\nfunction slowBase64ToBigInt(encoded) {\n    const integerBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(encoded);\n    if (integerBytes.byteLength !== 8) {\n        throw new Error(`Received ${integerBytes.byteLength} bytes, expected 8 for $integer`);\n    }\n    let value = ZERO;\n    let power = ZERO;\n    for (const byte of integerBytes){\n        value += BigInt(byte) * TWOFIFTYSIX ** power;\n        power++;\n    }\n    if (value > MAX_INT64) {\n        value += MIN_INT64 + MIN_INT64;\n    }\n    return value;\n}\nfunction modernBigIntToBase64(value) {\n    if (value < MIN_INT64 || MAX_INT64 < value) {\n        throw new Error(`BigInt ${value} does not fit into a 64-bit signed integer.`);\n    }\n    const buffer = new ArrayBuffer(8);\n    new DataView(buffer).setBigInt64(0, value, true);\n    return _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(buffer));\n}\nfunction modernBase64ToBigInt(encoded) {\n    const integerBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(encoded);\n    if (integerBytes.byteLength !== 8) {\n        throw new Error(`Received ${integerBytes.byteLength} bytes, expected 8 for $integer`);\n    }\n    const intBytesView = new DataView(integerBytes.buffer);\n    return intBytesView.getBigInt64(0, true);\n}\nconst bigIntToBase64 = DataView.prototype.setBigInt64 ? modernBigIntToBase64 : slowBigIntToBase64;\nconst base64ToBigInt = DataView.prototype.getBigInt64 ? modernBase64ToBigInt : slowBase64ToBigInt;\nconst MAX_IDENTIFIER_LEN = 1024;\nfunction validateObjectField(k) {\n    if (k.length > MAX_IDENTIFIER_LEN) {\n        throw new Error(`Field name ${k} exceeds maximum field name length ${MAX_IDENTIFIER_LEN}.`);\n    }\n    if (k.startsWith(\"$\")) {\n        throw new Error(`Field name ${k} starts with a '$', which is reserved.`);\n    }\n    for(let i = 0; i < k.length; i += 1){\n        const charCode = k.charCodeAt(i);\n        if (charCode < 32 || charCode >= 127) {\n            throw new Error(`Field name ${k} has invalid character '${k[i]}': Field names can only contain non-control ASCII characters`);\n        }\n    }\n}\nfunction jsonToConvex(value) {\n    if (value === null) {\n        return value;\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (Array.isArray(value)) {\n        return value.map((value2)=>jsonToConvex(value2));\n    }\n    if (typeof value !== \"object\") {\n        throw new Error(`Unexpected type of ${value}`);\n    }\n    const entries = Object.entries(value);\n    if (entries.length === 1) {\n        const key = entries[0][0];\n        if (key === \"$bytes\") {\n            if (typeof value.$bytes !== \"string\") {\n                throw new Error(`Malformed $bytes field on ${value}`);\n            }\n            return _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(value.$bytes).buffer;\n        }\n        if (key === \"$integer\") {\n            if (typeof value.$integer !== \"string\") {\n                throw new Error(`Malformed $integer field on ${value}`);\n            }\n            return base64ToBigInt(value.$integer);\n        }\n        if (key === \"$float\") {\n            if (typeof value.$float !== \"string\") {\n                throw new Error(`Malformed $float field on ${value}`);\n            }\n            const floatBytes = _base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray(value.$float);\n            if (floatBytes.byteLength !== 8) {\n                throw new Error(`Received ${floatBytes.byteLength} bytes, expected 8 for $float`);\n            }\n            const floatBytesView = new DataView(floatBytes.buffer);\n            const float = floatBytesView.getFloat64(0, LITTLE_ENDIAN);\n            if (!isSpecial(float)) {\n                throw new Error(`Float ${float} should be encoded as a number`);\n            }\n            return float;\n        }\n        if (key === \"$set\") {\n            throw new Error(`Received a Set which is no longer supported as a Convex type.`);\n        }\n        if (key === \"$map\") {\n            throw new Error(`Received a Map which is no longer supported as a Convex type.`);\n        }\n    }\n    const out = {};\n    for (const [k, v] of Object.entries(value)){\n        validateObjectField(k);\n        out[k] = jsonToConvex(v);\n    }\n    return out;\n}\nconst MAX_VALUE_FOR_ERROR_LEN = 16384;\nfunction stringifyValueForError(value) {\n    const str = JSON.stringify(value, (_key, value2)=>{\n        if (value2 === void 0) {\n            return \"undefined\";\n        }\n        if (typeof value2 === \"bigint\") {\n            return `${value2.toString()}n`;\n        }\n        return value2;\n    });\n    if (str.length > MAX_VALUE_FOR_ERROR_LEN) {\n        const rest = \"[...truncated]\";\n        let truncateAt = MAX_VALUE_FOR_ERROR_LEN - rest.length;\n        const codePoint = str.codePointAt(truncateAt - 1);\n        if (codePoint !== void 0 && codePoint > 65535) {\n            truncateAt -= 1;\n        }\n        return str.substring(0, truncateAt) + rest;\n    }\n    return str;\n}\nfunction convexToJsonInternal(value, originalValue, context, includeTopLevelUndefined) {\n    if (value === void 0) {\n        const contextText = context && ` (present at path ${context} in original object ${stringifyValueForError(originalValue)})`;\n        throw new Error(`undefined is not a valid Convex value${contextText}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);\n    }\n    if (value === null) {\n        return value;\n    }\n    if (typeof value === \"bigint\") {\n        if (value < MIN_INT64 || MAX_INT64 < value) {\n            throw new Error(`BigInt ${value} does not fit into a 64-bit signed integer.`);\n        }\n        return {\n            $integer: bigIntToBase64(value)\n        };\n    }\n    if (typeof value === \"number\") {\n        if (isSpecial(value)) {\n            const buffer = new ArrayBuffer(8);\n            new DataView(buffer).setFloat64(0, value, LITTLE_ENDIAN);\n            return {\n                $float: _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(buffer))\n            };\n        } else {\n            return value;\n        }\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if (value instanceof ArrayBuffer) {\n        return {\n            $bytes: _base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray(new Uint8Array(value))\n        };\n    }\n    if (Array.isArray(value)) {\n        return value.map((value2, i)=>convexToJsonInternal(value2, originalValue, context + `[${i}]`, false));\n    }\n    if (value instanceof Set) {\n        throw new Error(errorMessageForUnsupportedType(context, \"Set\", [\n            ...value\n        ], originalValue));\n    }\n    if (value instanceof Map) {\n        throw new Error(errorMessageForUnsupportedType(context, \"Map\", [\n            ...value\n        ], originalValue));\n    }\n    if (!(0,_common_index_js__WEBPACK_IMPORTED_MODULE_1__.isSimpleObject)(value)) {\n        const theType = value?.constructor?.name;\n        const typeName = theType ? `${theType} ` : \"\";\n        throw new Error(errorMessageForUnsupportedType(context, typeName, value, originalValue));\n    }\n    const out = {};\n    const entries = Object.entries(value);\n    entries.sort(([k1, _v1], [k2, _v2])=>k1 === k2 ? 0 : k1 < k2 ? -1 : 1);\n    for (const [k, v] of entries){\n        if (v !== void 0) {\n            validateObjectField(k);\n            out[k] = convexToJsonInternal(v, originalValue, context + `.${k}`, false);\n        } else if (includeTopLevelUndefined) {\n            validateObjectField(k);\n            out[k] = convexOrUndefinedToJsonInternal(v, originalValue, context + `.${k}`);\n        }\n    }\n    return out;\n}\nfunction errorMessageForUnsupportedType(context, typeName, value, originalValue) {\n    if (context) {\n        return `${typeName}${stringifyValueForError(value)} is not a supported Convex type (present at path ${context} in original object ${stringifyValueForError(originalValue)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`;\n    } else {\n        return `${typeName}${stringifyValueForError(value)} is not a supported Convex type.`;\n    }\n}\nfunction convexOrUndefinedToJsonInternal(value, originalValue, context) {\n    if (value === void 0) {\n        return {\n            $undefined: null\n        };\n    } else {\n        if (originalValue === void 0) {\n            throw new Error(`Programming error. Current value is ${stringifyValueForError(value)} but original value is undefined`);\n        }\n        return convexToJsonInternal(value, originalValue, context, false);\n    }\n}\nfunction convexToJson(value) {\n    return convexToJsonInternal(value, value, \"\", false);\n}\nfunction convexOrUndefinedToJson(value) {\n    return convexOrUndefinedToJsonInternal(value, value, \"\");\n}\nfunction patchValueToJson(value) {\n    return convexToJsonInternal(value, value, \"\", true);\n} //# sourceMappingURL=value.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZhbHVlcy92YWx1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWE7QUFDeUI7QUFDYztBQUNwRCxNQUFNRSxnQkFBZ0I7QUFDdEIsTUFBTUMsWUFBWUMsT0FBTztBQUN6QixNQUFNQyxZQUFZRCxPQUFPO0FBQ3pCLE1BQU1FLE9BQU9GLE9BQU87QUFDcEIsTUFBTUcsUUFBUUgsT0FBTztBQUNyQixNQUFNSSxjQUFjSixPQUFPO0FBQzNCLFNBQVNLLFVBQVVDLENBQUM7SUFDbEIsT0FBT0MsT0FBT0MsS0FBSyxDQUFDRixNQUFNLENBQUNDLE9BQU9FLFFBQVEsQ0FBQ0gsTUFBTUksT0FBT0MsRUFBRSxDQUFDTCxHQUFHLENBQUM7QUFDakU7QUFDTyxTQUFTTSxtQkFBbUJDLEtBQUs7SUFDdEMsSUFBSUEsUUFBUVgsTUFBTTtRQUNoQlcsU0FBU2QsWUFBWUE7SUFDdkI7SUFDQSxJQUFJZSxNQUFNRCxNQUFNRSxRQUFRLENBQUM7SUFDekIsSUFBSUQsSUFBSUUsTUFBTSxHQUFHLE1BQU0sR0FBR0YsTUFBTSxNQUFNQTtJQUN0QyxNQUFNRyxRQUFRLElBQUlDLFdBQVcsSUFBSUMsWUFBWTtJQUM3QyxJQUFJQyxJQUFJO0lBQ1IsS0FBSyxNQUFNQyxXQUFXUCxJQUFJUSxLQUFLLENBQUMsU0FBU0MsT0FBTyxHQUFJO1FBQ2xETixNQUFNTyxHQUFHLENBQUM7WUFBQ0MsU0FBU0osU0FBUztTQUFJLEVBQUVEO1FBQ25DUCxVQUFVVjtJQUNaO0lBQ0EsT0FBT1AscURBQW9CLENBQUNxQjtBQUM5QjtBQUNPLFNBQVNVLG1CQUFtQkMsT0FBTztJQUN4QyxNQUFNQyxlQUFlakMsbURBQWtCLENBQUNnQztJQUN4QyxJQUFJQyxhQUFhRSxVQUFVLEtBQUssR0FBRztRQUNqQyxNQUFNLElBQUlDLE1BQ1IsQ0FBQyxTQUFTLEVBQUVILGFBQWFFLFVBQVUsQ0FBQywrQkFBK0IsQ0FBQztJQUV4RTtJ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QUN6RixPQUFPO1FBQ0wsT0FBTyxDQUFDLEVBQUVXLFNBQVMsRUFBRXRCLHVCQUNuQnZELE9BQ0EsZ0NBQWdDLENBQUM7SUFDckM7QUFDRjtBQUNBLFNBQVNtRixnQ0FBZ0NuRixLQUFLLEVBQUVrRSxhQUFhLEVBQUVDLE9BQU87SUFDcEUsSUFBSW5FLFVBQVUsS0FBSyxHQUFHO1FBQ3BCLE9BQU87WUFBRW9GLFlBQVk7UUFBSztJQUM1QixPQUFPO1FBQ0wsSUFBSWxCLGtCQUFrQixLQUFLLEdBQUc7WUFDNUIsTUFBTSxJQUFJL0MsTUFDUixDQUFDLG9DQUFvQyxFQUFFb0MsdUJBQ3JDdkQsT0FDQSxnQ0FBZ0MsQ0FBQztRQUV2QztRQUNBLE9BQU9pRSxxQkFBcUJqRSxPQUFPa0UsZUFBZUMsU0FBUztJQUM3RDtBQUNGO0FBQ08sU0FBU2tCLGFBQWFyRixLQUFLO0lBQ2hDLE9BQU9pRSxxQkFBcUJqRSxPQUFPQSxPQUFPLElBQUk7QUFDaEQ7QUFDTyxTQUFTc0Ysd0JBQXdCdEYsS0FBSztJQUMzQyxPQUFPbUYsZ0NBQWdDbkYsT0FBT0EsT0FBTztBQUN2RDtBQUNPLFNBQVN1RixpQkFBaUJ2RixLQUFLO0lBQ3BDLE9BQU9pRSxxQkFBcUJqRSxPQUFPQSxPQUFPLElBQUk7QUFDaEQsRUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmFsdWVzL3ZhbHVlLmpzPzE1YjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5pbXBvcnQgKiBhcyBCYXNlNjQgZnJvbSBcIi4vYmFzZTY0LmpzXCI7XG5pbXBvcnQgeyBpc1NpbXBsZU9iamVjdCB9IGZyb20gXCIuLi9jb21tb24vaW5kZXguanNcIjtcbmNvbnN0IExJVFRMRV9FTkRJQU4gPSB0cnVlO1xuY29uc3QgTUlOX0lOVDY0ID0gQmlnSW50KFwiLTkyMjMzNzIwMzY4NTQ3NzU4MDhcIik7XG5jb25zdCBNQVhfSU5UNjQgPSBCaWdJbnQoXCI5MjIzMzcyMDM2ODU0Nzc1ODA3XCIpO1xuY29uc3QgWkVSTyA9IEJpZ0ludChcIjBcIik7XG5jb25zdCBFSUdIVCA9IEJpZ0ludChcIjhcIik7XG5jb25zdCBUV09GSUZUWVNJWCA9IEJpZ0ludChcIjI1NlwiKTtcbmZ1bmN0aW9uIGlzU3BlY2lhbChuKSB7XG4gIHJldHVybiBOdW1iZXIuaXNOYU4obikgfHwgIU51bWJlci5pc0Zpbml0ZShuKSB8fCBPYmplY3QuaXMobiwgLTApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNsb3dCaWdJbnRUb0Jhc2U2NCh2YWx1ZSkge1xuICBpZiAodmFsdWUgPCBaRVJPKSB7XG4gICAgdmFsdWUgLT0gTUlOX0lOVDY0ICsgTUlOX0lOVDY0O1xuICB9XG4gIGxldCBoZXggPSB2YWx1ZS50b1N0cmluZygxNik7XG4gIGlmIChoZXgubGVuZ3RoICUgMiA9PT0gMSkgaGV4ID0gXCIwXCIgKyBoZXg7XG4gIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobmV3IEFycmF5QnVmZmVyKDgpKTtcbiAgbGV0IGkgPSAwO1xuICBmb3IgKGNvbnN0IGhleEJ5dGUgb2YgaGV4Lm1hdGNoKC8uezJ9L2cpLnJldmVyc2UoKSkge1xuICAgIGJ5dGVzLnNldChbcGFyc2VJbnQoaGV4Qnl0ZSwgMTYpXSwgaSsrKTtcbiAgICB2YWx1ZSA+Pj0gRUlHSFQ7XG4gIH1cbiAgcmV0dXJuIEJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ5dGVzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzbG93QmFzZTY0VG9CaWdJbnQoZW5jb2RlZCkge1xuICBjb25zdCBpbnRlZ2VyQnl0ZXMgPSBCYXNlNjQudG9CeXRlQXJyYXkoZW5jb2RlZCk7XG4gIGlmIChpbnRlZ2VyQnl0ZXMuYnl0ZUxlbmd0aCAhPT0gOCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBSZWNlaXZlZCAke2ludGVnZXJCeXRlcy5ieXRlTGVuZ3RofSBieXRlcywgZXhwZWN0ZWQgOCBmb3IgJGludGVnZXJgXG4gICAgKTtcbiAgfVxuICBsZXQgdmFsdWUgPSBaRVJPO1xuICBsZXQgcG93ZXIgPSBaRVJPO1xuICBmb3IgKGNvbnN0IGJ5dGUgb2YgaW50ZWdlckJ5dGVzKSB7XG4gICAgdmFsdWUgKz0gQmlnSW50KGJ5dGUpICogVFdPRklGVFlTSVggKiogcG93ZXI7XG4gICAgcG93ZXIrKztcbiAgfVxuICBpZiAodmFsdWUgPiBNQVhfSU5UNjQpIHtcbiAgICB2YWx1ZSArPSBNSU5fSU5UNjQgKyBNSU5fSU5UNjQ7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1vZGVybkJpZ0ludFRvQmFzZTY0KHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA8IE1JTl9JTlQ2NCB8fCBNQVhfSU5UNjQgPCB2YWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBCaWdJbnQgJHt2YWx1ZX0gZG9lcyBub3QgZml0IGludG8gYSA2NC1iaXQgc2lnbmVkIGludGVnZXIuYFxuICAgICk7XG4gIH1cbiAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDgpO1xuICBuZXcgRGF0YVZpZXcoYnVmZmVyKS5zZXRCaWdJbnQ2NCgwLCB2YWx1ZSwgdHJ1ZSk7XG4gIHJldHVybiBCYXNlNjQuZnJvbUJ5dGVBcnJheShuZXcgVWludDhBcnJheShidWZmZXIpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtb2Rlcm5CYXNlNjRUb0JpZ0ludChlbmNvZGVkKSB7XG4gIGNvbnN0IGludGVnZXJCeXRlcyA9IEJhc2U2NC50b0J5dGVBcnJheShlbmNvZGVkKTtcbiAgaWYgKGludGVnZXJCeXRlcy5ieXRlTGVuZ3RoICE9PSA4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFJlY2VpdmVkICR7aW50ZWdlckJ5dGVzLmJ5dGVMZW5ndGh9IGJ5dGVzLCBleHBlY3RlZCA4IGZvciAkaW50ZWdlcmBcbiAgICApO1xuICB9XG4gIGNvbnN0IGludEJ5dGVzVmlldyA9IG5ldyBEYXRhVmlldyhpbnRlZ2VyQnl0ZXMuYnVmZmVyKTtcbiAgcmV0dXJuIGludEJ5dGVzVmlldy5nZXRCaWdJbnQ2NCgwLCB0cnVlKTtcbn1cbmV4cG9ydCBjb25zdCBiaWdJbnRUb0Jhc2U2NCA9IERhdGFWaWV3LnByb3RvdHlwZS5zZXRCaWdJbnQ2NCA/IG1vZGVybkJpZ0ludFRvQmFzZTY0IDogc2xvd0JpZ0ludFRvQmFzZTY0O1xuZXhwb3J0IGNvbnN0IGJhc2U2NFRvQmlnSW50ID0gRGF0YVZpZXcucHJvdG90eXBlLmdldEJpZ0ludDY0ID8gbW9kZXJuQmFzZTY0VG9CaWdJbnQgOiBzbG93QmFzZTY0VG9CaWdJbnQ7XG5jb25zdCBNQVhfSURFTlRJRklFUl9MRU4gPSAxMDI0O1xuZnVuY3Rpb24gdmFsaWRhdGVPYmplY3RGaWVsZChrKSB7XG4gIGlmIChrLmxlbmd0aCA+IE1BWF9JREVOVElGSUVSX0xFTikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBGaWVsZCBuYW1lICR7a30gZXhjZWVkcyBtYXhpbXVtIGZpZWxkIG5hbWUgbGVuZ3RoICR7TUFYX0lERU5USUZJRVJfTEVOfS5gXG4gICAgKTtcbiAgfVxuICBpZiAoay5zdGFydHNXaXRoKFwiJFwiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmllbGQgbmFtZSAke2t9IHN0YXJ0cyB3aXRoIGEgJyQnLCB3aGljaCBpcyByZXNlcnZlZC5gKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBjaGFyQ29kZSA9IGsuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoY2hhckNvZGUgPCAzMiB8fCBjaGFyQ29kZSA+PSAxMjcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYEZpZWxkIG5hbWUgJHtrfSBoYXMgaW52YWxpZCBjaGFyYWN0ZXIgJyR7a1tpXX0nOiBGaWVsZCBuYW1lcyBjYW4gb25seSBjb250YWluIG5vbi1jb250cm9sIEFTQ0lJIGNoYXJhY3RlcnNgXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGpzb25Ub0NvbnZleCh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoKHZhbHVlMikgPT4ganNvblRvQ29udmV4KHZhbHVlMikpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdHlwZSBvZiAke3ZhbHVlfWApO1xuICB9XG4gIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh2YWx1ZSk7XG4gIGlmIChlbnRyaWVzLmxlbmd0aCA9PT0gMSkge1xuICAgIGNvbnN0IGtleSA9IGVudHJpZXNbMF1bMF07XG4gICAgaWYgKGtleSA9PT0gXCIkYnl0ZXNcIikge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZS4kYnl0ZXMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYWxmb3JtZWQgJGJ5dGVzIGZpZWxkIG9uICR7dmFsdWV9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gQmFzZTY0LnRvQnl0ZUFycmF5KHZhbHVlLiRieXRlcykuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcIiRpbnRlZ2VyXCIpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUuJGludGVnZXIgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYWxmb3JtZWQgJGludGVnZXIgZmllbGQgb24gJHt2YWx1ZX1gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlNjRUb0JpZ0ludCh2YWx1ZS4kaW50ZWdlcik7XG4gICAgfVxuICAgIGlmIChrZXkgPT09IFwiJGZsb2F0XCIpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUuJGZsb2F0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWFsZm9ybWVkICRmbG9hdCBmaWVsZCBvbiAke3ZhbHVlfWApO1xuICAgICAgfVxuICAgICAgY29uc3QgZmxvYXRCeXRlcyA9IEJhc2U2NC50b0J5dGVBcnJheSh2YWx1ZS4kZmxvYXQpO1xuICAgICAgaWYgKGZsb2F0Qnl0ZXMuYnl0ZUxlbmd0aCAhPT0gOCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFJlY2VpdmVkICR7ZmxvYXRCeXRlcy5ieXRlTGVuZ3RofSBieXRlcywgZXhwZWN0ZWQgOCBmb3IgJGZsb2F0YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgZmxvYXRCeXRlc1ZpZXcgPSBuZXcgRGF0YVZpZXcoZmxvYXRCeXRlcy5idWZmZXIpO1xuICAgICAgY29uc3QgZmxvYXQgPSBmbG9hdEJ5dGVzVmlldy5nZXRGbG9hdDY0KDAsIExJVFRMRV9FTkRJQU4pO1xuICAgICAgaWYgKCFpc1NwZWNpYWwoZmxvYXQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmxvYXQgJHtmbG9hdH0gc2hvdWxkIGJlIGVuY29kZWQgYXMgYSBudW1iZXJgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmbG9hdDtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCIkc2V0XCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFJlY2VpdmVkIGEgU2V0IHdoaWNoIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYXMgYSBDb252ZXggdHlwZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcIiRtYXBcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUmVjZWl2ZWQgYSBNYXAgd2hpY2ggaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBhcyBhIENvbnZleCB0eXBlLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGNvbnN0IG91dCA9IHt9O1xuICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICB2YWxpZGF0ZU9iamVjdEZpZWxkKGspO1xuICAgIG91dFtrXSA9IGpzb25Ub0NvbnZleCh2KTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuY29uc3QgTUFYX1ZBTFVFX0ZPUl9FUlJPUl9MRU4gPSAxNjM4NDtcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlWYWx1ZUZvckVycm9yKHZhbHVlKSB7XG4gIGNvbnN0IHN0ciA9IEpTT04uc3RyaW5naWZ5KHZhbHVlLCAoX2tleSwgdmFsdWUyKSA9PiB7XG4gICAgaWYgKHZhbHVlMiA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZTIgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgIHJldHVybiBgJHt2YWx1ZTIudG9TdHJpbmcoKX1uYDtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlMjtcbiAgfSk7XG4gIGlmIChzdHIubGVuZ3RoID4gTUFYX1ZBTFVFX0ZPUl9FUlJPUl9MRU4pIHtcbiAgICBjb25zdCByZXN0ID0gXCJbLi4udHJ1bmNhdGVkXVwiO1xuICAgIGxldCB0cnVuY2F0ZUF0ID0gTUFYX1ZBTFVFX0ZPUl9FUlJPUl9MRU4gLSByZXN0Lmxlbmd0aDtcbiAgICBjb25zdCBjb2RlUG9pbnQgPSBzdHIuY29kZVBvaW50QXQodHJ1bmNhdGVBdCAtIDEpO1xuICAgIGlmIChjb2RlUG9pbnQgIT09IHZvaWQgMCAmJiBjb2RlUG9pbnQgPiA2NTUzNSkge1xuICAgICAgdHJ1bmNhdGVBdCAtPSAxO1xuICAgIH1cbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCB0cnVuY2F0ZUF0KSArIHJlc3Q7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn1cbmZ1bmN0aW9uIGNvbnZleFRvSnNvbkludGVybmFsKHZhbHVlLCBvcmlnaW5hbFZhbHVlLCBjb250ZXh0LCBpbmNsdWRlVG9wTGV2ZWxVbmRlZmluZWQpIHtcbiAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICBjb25zdCBjb250ZXh0VGV4dCA9IGNvbnRleHQgJiYgYCAocHJlc2VudCBhdCBwYXRoICR7Y29udGV4dH0gaW4gb3JpZ2luYWwgb2JqZWN0ICR7c3RyaW5naWZ5VmFsdWVGb3JFcnJvcihcbiAgICAgIG9yaWdpbmFsVmFsdWVcbiAgICApfSlgO1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGB1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgQ29udmV4IHZhbHVlJHtjb250ZXh0VGV4dH0uIFRvIGxlYXJuIGFib3V0IENvbnZleCdzIHN1cHBvcnRlZCB0eXBlcywgc2VlIGh0dHBzOi8vZG9jcy5jb252ZXguZGV2L3VzaW5nL3R5cGVzLmBcbiAgICApO1xuICB9XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgaWYgKHZhbHVlIDwgTUlOX0lOVDY0IHx8IE1BWF9JTlQ2NCA8IHZhbHVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBCaWdJbnQgJHt2YWx1ZX0gZG9lcyBub3QgZml0IGludG8gYSA2NC1iaXQgc2lnbmVkIGludGVnZXIuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgJGludGVnZXI6IGJpZ0ludFRvQmFzZTY0KHZhbHVlKSB9O1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoaXNTcGVjaWFsKHZhbHVlKSkge1xuICAgICAgY29uc3QgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKDgpO1xuICAgICAgbmV3IERhdGFWaWV3KGJ1ZmZlcikuc2V0RmxvYXQ2NCgwLCB2YWx1ZSwgTElUVExFX0VORElBTik7XG4gICAgICByZXR1cm4geyAkZmxvYXQ6IEJhc2U2NC5mcm9tQnl0ZUFycmF5KG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiB7ICRieXRlczogQmFzZTY0LmZyb21CeXRlQXJyYXkobmV3IFVpbnQ4QXJyYXkodmFsdWUpKSB9O1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS5tYXAoXG4gICAgICAodmFsdWUyLCBpKSA9PiBjb252ZXhUb0pzb25JbnRlcm5hbCh2YWx1ZTIsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQgKyBgWyR7aX1dYCwgZmFsc2UpXG4gICAgKTtcbiAgfVxuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBlcnJvck1lc3NhZ2VGb3JVbnN1cHBvcnRlZFR5cGUoY29udGV4dCwgXCJTZXRcIiwgWy4uLnZhbHVlXSwgb3JpZ2luYWxWYWx1ZSlcbiAgICApO1xuICB9XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE1hcCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGVycm9yTWVzc2FnZUZvclVuc3VwcG9ydGVkVHlwZShjb250ZXh0LCBcIk1hcFwiLCBbLi4udmFsdWVdLCBvcmlnaW5hbFZhbHVlKVxuICAgICk7XG4gIH1cbiAgaWYgKCFpc1NpbXBsZU9iamVjdCh2YWx1ZSkpIHtcbiAgICBjb25zdCB0aGVUeXBlID0gdmFsdWU/LmNvbnN0cnVjdG9yPy5uYW1lO1xuICAgIGNvbnN0IHR5cGVOYW1lID0gdGhlVHlwZSA/IGAke3RoZVR5cGV9IGAgOiBcIlwiO1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGVycm9yTWVzc2FnZUZvclVuc3VwcG9ydGVkVHlwZShjb250ZXh0LCB0eXBlTmFtZSwgdmFsdWUsIG9yaWdpbmFsVmFsdWUpXG4gICAgKTtcbiAgfVxuICBjb25zdCBvdXQgPSB7fTtcbiAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHZhbHVlKTtcbiAgZW50cmllcy5zb3J0KChbazEsIF92MV0sIFtrMiwgX3YyXSkgPT4gazEgPT09IGsyID8gMCA6IGsxIDwgazIgPyAtMSA6IDEpO1xuICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKHYgIT09IHZvaWQgMCkge1xuICAgICAgdmFsaWRhdGVPYmplY3RGaWVsZChrKTtcbiAgICAgIG91dFtrXSA9IGNvbnZleFRvSnNvbkludGVybmFsKHYsIG9yaWdpbmFsVmFsdWUsIGNvbnRleHQgKyBgLiR7a31gLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChpbmNsdWRlVG9wTGV2ZWxVbmRlZmluZWQpIHtcbiAgICAgIHZhbGlkYXRlT2JqZWN0RmllbGQoayk7XG4gICAgICBvdXRba10gPSBjb252ZXhPclVuZGVmaW5lZFRvSnNvbkludGVybmFsKFxuICAgICAgICB2LFxuICAgICAgICBvcmlnaW5hbFZhbHVlLFxuICAgICAgICBjb250ZXh0ICsgYC4ke2t9YFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbmZ1bmN0aW9uIGVycm9yTWVzc2FnZUZvclVuc3VwcG9ydGVkVHlwZShjb250ZXh0LCB0eXBlTmFtZSwgdmFsdWUsIG9yaWdpbmFsVmFsdWUpIHtcbiAgaWYgKGNvbnRleHQpIHtcbiAgICByZXR1cm4gYCR7dHlwZU5hbWV9JHtzdHJpbmdpZnlWYWx1ZUZvckVycm9yKFxuICAgICAgdmFsdWVcbiAgICApfSBpcyBub3QgYSBzdXBwb3J0ZWQgQ29udmV4IHR5cGUgKHByZXNlbnQgYXQgcGF0aCAke2NvbnRleHR9IGluIG9yaWdpbmFsIG9iamVjdCAke3N0cmluZ2lmeVZhbHVlRm9yRXJyb3IoXG4gICAgICBvcmlnaW5hbFZhbHVlXG4gICAgKX0pLiBUbyBsZWFybiBhYm91dCBDb252ZXgncyBzdXBwb3J0ZWQgdHlwZXMsIHNlZSBodHRwczovL2RvY3MuY29udmV4LmRldi91c2luZy90eXBlcy5gO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBgJHt0eXBlTmFtZX0ke3N0cmluZ2lmeVZhbHVlRm9yRXJyb3IoXG4gICAgICB2YWx1ZVxuICAgICl9IGlzIG5vdCBhIHN1cHBvcnRlZCBDb252ZXggdHlwZS5gO1xuICB9XG59XG5mdW5jdGlvbiBjb252ZXhPclVuZGVmaW5lZFRvSnNvbkludGVybmFsKHZhbHVlLCBvcmlnaW5hbFZhbHVlLCBjb250ZXh0KSB7XG4gIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHsgJHVuZGVmaW5lZDogbnVsbCB9O1xuICB9IGVsc2Uge1xuICAgIGlmIChvcmlnaW5hbFZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFByb2dyYW1taW5nIGVycm9yLiBDdXJyZW50IHZhbHVlIGlzICR7c3RyaW5naWZ5VmFsdWVGb3JFcnJvcihcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICApfSBidXQgb3JpZ2luYWwgdmFsdWUgaXMgdW5kZWZpbmVkYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnZleFRvSnNvbkludGVybmFsKHZhbHVlLCBvcmlnaW5hbFZhbHVlLCBjb250ZXh0LCBmYWxzZSk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXhUb0pzb24odmFsdWUpIHtcbiAgcmV0dXJuIGNvbnZleFRvSnNvbkludGVybmFsKHZhbHVlLCB2YWx1ZSwgXCJcIiwgZmFsc2UpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZleE9yVW5kZWZpbmVkVG9Kc29uKHZhbHVlKSB7XG4gIHJldHVybiBjb252ZXhPclVuZGVmaW5lZFRvSnNvbkludGVybmFsKHZhbHVlLCB2YWx1ZSwgXCJcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gcGF0Y2hWYWx1ZVRvSnNvbih2YWx1ZSkge1xuICByZXR1cm4gY29udmV4VG9Kc29uSW50ZXJuYWwodmFsdWUsIHZhbHVlLCBcIlwiLCB0cnVlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbHVlLmpzLm1hcFxuIl0sIm5hbWVzIjpbIkJhc2U2NCIsImlzU2ltcGxlT2JqZWN0IiwiTElUVExFX0VORElBTiIsIk1JTl9JTlQ2NCIsIkJpZ0ludCIsIk1BWF9JTlQ2NCIsIlpFUk8iLCJFSUdIVCIsIlRXT0ZJRlRZU0lYIiwiaXNTcGVjaWFsIiwibiIsIk51bWJlciIsImlzTmFOIiwiaXNGaW5pdGUiLCJPYmplY3QiLCJpcyIsInNsb3dCaWdJbnRUb0Jhc2U2NCIsInZhbHVlIiwiaGV4IiwidG9TdHJpbmciLCJsZW5ndGgiLCJieXRlcyIsIlVpbnQ4QXJyYXkiLCJBcnJheUJ1ZmZlciIsImkiLCJoZXhCeXRlIiwibWF0Y2giLCJyZXZlcnNlIiwic2V0IiwicGFyc2VJbnQiLCJmcm9tQnl0ZUFycmF5Iiwic2xvd0Jhc2U2NFRvQmlnSW50IiwiZW5jb2RlZCIsImludGVnZXJCeXRlcyIsInRvQnl0ZUFycmF5IiwiYnl0ZUxlbmd0aCIsIkVycm9yIiwicG93ZXIiLCJieXRlIiwibW9kZXJuQmlnSW50VG9CYXNlNjQiLCJidWZmZXIiLCJEYXRhVmlldyIsInNldEJpZ0ludDY0IiwibW9kZXJuQmFzZTY0VG9CaWdJbnQiLCJpbnRCeXRlc1ZpZXciLCJnZXRCaWdJbnQ2NCIsImJpZ0ludFRvQmFzZTY0IiwicHJvdG90eXBlIiwiYmFzZTY0VG9CaWdJbnQiLCJNQVhfSURFTlRJRklFUl9MRU4iLCJ2YWxpZGF0ZU9iamVjdEZpZWxkIiwiayIsInN0YXJ0c1dpdGgiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJqc29uVG9Db252ZXgiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJ2YWx1ZTIiLCJlbnRyaWVzIiwia2V5IiwiJGJ5dGVzIiwiJGludGVnZXIiLCIkZmxvYXQiLCJmbG9hdEJ5dGVzIiwiZmxvYXRCeXRlc1ZpZXciLCJmbG9hdCIsImdldEZsb2F0NjQiLCJvdXQiLCJ2IiwiTUFYX1ZBTFVFX0ZPUl9FUlJPUl9MRU4iLCJzdHJpbmdpZnlWYWx1ZUZvckVycm9yIiwic3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsIl9rZXkiLCJyZXN0IiwidHJ1bmNhdGVBdCIsImNvZGVQb2ludCIsImNvZGVQb2ludEF0Iiwic3Vic3RyaW5nIiwiY29udmV4VG9Kc29uSW50ZXJuYWwiLCJvcmlnaW5hbFZhbHVlIiwiY29udGV4dCIsImluY2x1ZGVUb3BMZXZlbFVuZGVmaW5lZCIsImNvbnRleHRUZXh0Iiwic2V0RmxvYXQ2NCIsIlNldCIsImVycm9yTWVzc2FnZUZvclVuc3VwcG9ydGVkVHlwZSIsIk1hcCIsInRoZVR5cGUiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJ0eXBlTmFtZSIsInNvcnQiLCJrMSIsIl92MSIsImsyIiwiX3YyIiwiY29udmV4T3JVbmRlZmluZWRUb0pzb25JbnRlcm5hbCIsIiR1bmRlZmluZWQiLCJjb252ZXhUb0pzb24iLCJjb252ZXhPclVuZGVmaW5lZFRvSnNvbiIsInBhdGNoVmFsdWVUb0pzb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/values/value.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/vendor/jwt-decode/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/convex/dist/esm/vendor/jwt-decode/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidTokenError: () => (/* binding */ InvalidTokenError),\n/* harmony export */   jwtDecode: () => (/* binding */ jwtDecode)\n/* harmony export */ });\n\nclass InvalidTokenError extends Error {\n}\nInvalidTokenError.prototype.name = \"InvalidTokenError\";\nfunction b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).replace(/(.)/g, (_m, p)=>{\n        let code = p.charCodeAt(0).toString(16).toUpperCase();\n        if (code.length < 2) {\n            code = \"0\" + code;\n        }\n        return \"%\" + code;\n    }));\n}\nfunction base64UrlDecode(str) {\n    let output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch(output.length % 4){\n        case 0:\n            break;\n        case 2:\n            output += \"==\";\n            break;\n        case 3:\n            output += \"=\";\n            break;\n        default:\n            throw new Error(\"base64 string is not of the correct length\");\n    }\n    try {\n        return b64DecodeUnicode(output);\n    } catch  {\n        return atob(output);\n    }\n}\nfunction jwtDecode(token, options) {\n    if (typeof token !== \"string\") {\n        throw new InvalidTokenError(\"Invalid token specified: must be a string\");\n    }\n    options || (options = {});\n    const pos = options.header === true ? 0 : 1;\n    const part = token.split(\".\")[pos];\n    if (typeof part !== \"string\") {\n        throw new InvalidTokenError(`Invalid token specified: missing part #${pos + 1}`);\n    }\n    let decoded;\n    try {\n        decoded = base64UrlDecode(part);\n    } catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${pos + 1} (${e.message})`);\n    }\n    try {\n        return JSON.parse(decoded);\n    } catch (e) {\n        throw new InvalidTokenError(`Invalid token specified: invalid json for part #${pos + 1} (${e.message})`);\n    }\n} //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZlbmRvci9qd3QtZGVjb2RlL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWE7QUFDTixNQUFNQSwwQkFBMEJDO0FBQ3ZDO0FBQ0FELGtCQUFrQkUsU0FBUyxDQUFDQyxJQUFJLEdBQUc7QUFDbkMsU0FBU0MsaUJBQWlCQyxHQUFHO0lBQzNCLE9BQU9DLG1CQUNMQyxLQUFLRixLQUFLRyxPQUFPLENBQUMsUUFBUSxDQUFDQyxJQUFJQztRQUM3QixJQUFJQyxPQUFPRCxFQUFFRSxVQUFVLENBQUMsR0FBR0MsUUFBUSxDQUFDLElBQUlDLFdBQVc7UUFDbkQsSUFBSUgsS0FBS0ksTUFBTSxHQUFHLEdBQUc7WUFDbkJKLE9BQU8sTUFBTUE7UUFDZjtRQUNBLE9BQU8sTUFBTUE7SUFDZjtBQUVKO0FBQ0EsU0FBU0ssZ0JBQWdCWCxHQUFHO0lBQzFCLElBQUlZLFNBQVNaLElBQUlHLE9BQU8sQ0FBQyxNQUFNLEtBQUtBLE9BQU8sQ0FBQyxNQUFNO0lBQ2xELE9BQVFTLE9BQU9GLE1BQU0sR0FBRztRQUN0QixLQUFLO1lBQ0g7UUFDRixLQUFLO1lBQ0hFLFVBQVU7WUFDVjtRQUNGLEtBQUs7WUFDSEEsVUFBVTtZQUNWO1FBQ0Y7WUFDRSxNQUFNLElBQUloQixNQUFNO0lBQ3BCO0lBQ0EsSUFBSTtRQUNGLE9BQU9HLGlCQUFpQmE7SUFDMUIsRUFBRSxPQUFNO1FBQ04sT0FBT1YsS0FBS1U7SUFDZDtBQUNGO0FBQ08sU0FBU0MsVUFBVUMsS0FBSyxFQUFFQyxPQUFPO0lBQ3RDLElBQUksT0FBT0QsVUFBVSxVQUFVO1FBQzdCLE1BQU0sSUFBSW5CLGtCQUFrQjtJQUM5QjtJQUNBb0IsV0FBWUEsQ0FBQUEsVUFBVSxDQUFDO0lBQ3ZCLE1BQU1DLE1BQU1ELFFBQVFFLE1BQU0sS0FBSyxPQUFPLElBQUk7SUFDMUMsTUFBTUMsT0FBT0osTUFBTUssS0FBSyxDQUFDLElBQUksQ0FBQ0gsSUFBSTtJQUNsQyxJQUFJLE9BQU9FLFNBQVMsVUFBVTtRQUM1QixNQUFNLElBQUl2QixrQkFDUixDQUFDLHVDQUF1QyxFQUFFcUIsTUFBTSxFQUFFLENBQUM7SUFFdkQ7SUFDQSxJQUFJSTtJQUNKLElBQUk7UUFDRkEsVUFBVVQsZ0JBQWdCTztJQUM1QixFQUFFLE9BQU9HLEdBQUc7UUFDVixNQUFNLElBQUkxQixrQkFDUixDQUFDLGtEQUFrRCxFQUFFcUIsTUFBTSxFQUFFLEVBQUUsRUFBRUssRUFBRUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUVqRjtJQUNBLElBQUk7UUFDRixPQUFPQyxLQUFLQyxLQUFLLENBQUNKO0lBQ3BCLEVBQUUsT0FBT0MsR0FBRztRQUNWLE1BQU0sSUFBSTFCLGtCQUNSLENBQUMsZ0RBQWdELEVBQUVxQixNQUFNLEVBQUUsRUFBRSxFQUFFSyxFQUFFQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBRS9FO0FBQ0YsRUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWJ5LW5hbWUtZGVhdGhtYXRjaC8uL25vZGVfbW9kdWxlcy9jb252ZXgvZGlzdC9lc20vdmVuZG9yL2p3dC1kZWNvZGUvaW5kZXguanM/ODhlOSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydCBjbGFzcyBJbnZhbGlkVG9rZW5FcnJvciBleHRlbmRzIEVycm9yIHtcbn1cbkludmFsaWRUb2tlbkVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJJbnZhbGlkVG9rZW5FcnJvclwiO1xuZnVuY3Rpb24gYjY0RGVjb2RlVW5pY29kZShzdHIpIHtcbiAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChcbiAgICBhdG9iKHN0cikucmVwbGFjZSgvKC4pL2csIChfbSwgcCkgPT4ge1xuICAgICAgbGV0IGNvZGUgPSBwLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgICBpZiAoY29kZS5sZW5ndGggPCAyKSB7XG4gICAgICAgIGNvZGUgPSBcIjBcIiArIGNvZGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gXCIlXCIgKyBjb2RlO1xuICAgIH0pXG4gICk7XG59XG5mdW5jdGlvbiBiYXNlNjRVcmxEZWNvZGUoc3RyKSB7XG4gIGxldCBvdXRwdXQgPSBzdHIucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIik7XG4gIHN3aXRjaCAob3V0cHV0Lmxlbmd0aCAlIDQpIHtcbiAgICBjYXNlIDA6XG4gICAgICBicmVhaztcbiAgICBjYXNlIDI6XG4gICAgICBvdXRwdXQgKz0gXCI9PVwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAzOlxuICAgICAgb3V0cHV0ICs9IFwiPVwiO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImJhc2U2NCBzdHJpbmcgaXMgbm90IG9mIHRoZSBjb3JyZWN0IGxlbmd0aFwiKTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBiNjREZWNvZGVVbmljb2RlKG91dHB1dCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBhdG9iKG91dHB1dCk7XG4gIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBqd3REZWNvZGUodG9rZW4sIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiB0b2tlbiAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBJbnZhbGlkVG9rZW5FcnJvcihcIkludmFsaWQgdG9rZW4gc3BlY2lmaWVkOiBtdXN0IGJlIGEgc3RyaW5nXCIpO1xuICB9XG4gIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gIGNvbnN0IHBvcyA9IG9wdGlvbnMuaGVhZGVyID09PSB0cnVlID8gMCA6IDE7XG4gIGNvbnN0IHBhcnQgPSB0b2tlbi5zcGxpdChcIi5cIilbcG9zXTtcbiAgaWYgKHR5cGVvZiBwYXJ0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRUb2tlbkVycm9yKFxuICAgICAgYEludmFsaWQgdG9rZW4gc3BlY2lmaWVkOiBtaXNzaW5nIHBhcnQgIyR7cG9zICsgMX1gXG4gICAgKTtcbiAgfVxuICBsZXQgZGVjb2RlZDtcbiAgdHJ5IHtcbiAgICBkZWNvZGVkID0gYmFzZTY0VXJsRGVjb2RlKHBhcnQpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRUb2tlbkVycm9yKFxuICAgICAgYEludmFsaWQgdG9rZW4gc3BlY2lmaWVkOiBpbnZhbGlkIGJhc2U2NCBmb3IgcGFydCAjJHtwb3MgKyAxfSAoJHtlLm1lc3NhZ2V9KWBcbiAgICApO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlZCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFRva2VuRXJyb3IoXG4gICAgICBgSW52YWxpZCB0b2tlbiBzcGVjaWZpZWQ6IGludmFsaWQganNvbiBmb3IgcGFydCAjJHtwb3MgKyAxfSAoJHtlLm1lc3NhZ2V9KWBcbiAgICApO1xuICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJJbnZhbGlkVG9rZW5FcnJvciIsIkVycm9yIiwicHJvdG90eXBlIiwibmFtZSIsImI2NERlY29kZVVuaWNvZGUiLCJzdHIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJhdG9iIiwicmVwbGFjZSIsIl9tIiwicCIsImNvZGUiLCJjaGFyQ29kZUF0IiwidG9TdHJpbmciLCJ0b1VwcGVyQ2FzZSIsImxlbmd0aCIsImJhc2U2NFVybERlY29kZSIsIm91dHB1dCIsImp3dERlY29kZSIsInRva2VuIiwib3B0aW9ucyIsInBvcyIsImhlYWRlciIsInBhcnQiLCJzcGxpdCIsImRlY29kZWQiLCJlIiwibWVzc2FnZSIsIkpTT04iLCJwYXJzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/vendor/jwt-decode/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/convex/dist/esm/vendor/long.js":
/*!*****************************************************!*\
  !*** ./node_modules/convex/dist/esm/vendor/long.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Long: () => (/* binding */ Long)\n/* harmony export */ });\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value)=>key in obj ? __defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value\n    }) : obj[key] = value;\nvar __publicField = (obj, key, value)=>__defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nclass Long {\n    constructor(low, high){\n        __publicField(this, \"low\");\n        __publicField(this, \"high\");\n        __publicField(this, \"__isUnsignedLong__\");\n        this.low = low | 0;\n        this.high = high | 0;\n        this.__isUnsignedLong__ = true;\n    }\n    static isLong(obj) {\n        return (obj && obj.__isUnsignedLong__) === true;\n    }\n    // prettier-ignore\n    static fromBytesLE(bytes) {\n        return new Long(bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24, bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24);\n    }\n    // prettier-ignore\n    toBytesLE() {\n        const hi = this.high;\n        const lo = this.low;\n        return [\n            lo & 255,\n            lo >>> 8 & 255,\n            lo >>> 16 & 255,\n            lo >>> 24,\n            hi & 255,\n            hi >>> 8 & 255,\n            hi >>> 16 & 255,\n            hi >>> 24\n        ];\n    }\n    static fromNumber(value) {\n        if (isNaN(value)) return UZERO;\n        if (value < 0) return UZERO;\n        if (value >= TWO_PWR_64_DBL) return MAX_UNSIGNED_VALUE;\n        return new Long(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0);\n    }\n    toString() {\n        return (BigInt(this.high) * BigInt(TWO_PWR_32_DBL) + BigInt(this.low)).toString();\n    }\n    equals(other) {\n        if (!Long.isLong(other)) other = Long.fromValue(other);\n        if (this.high >>> 31 === 1 && other.high >>> 31 === 1) return false;\n        return this.high === other.high && this.low === other.low;\n    }\n    notEquals(other) {\n        return !this.equals(other);\n    }\n    comp(other) {\n        if (!Long.isLong(other)) other = Long.fromValue(other);\n        if (this.equals(other)) return 0;\n        return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;\n    }\n    lessThanOrEqual(other) {\n        return this.comp(/* validates */ other) <= 0;\n    }\n    static fromValue(val) {\n        if (typeof val === \"number\") return Long.fromNumber(val);\n        return new Long(val.low, val.high);\n    }\n}\nconst UZERO = new Long(0, 0);\nconst TWO_PWR_16_DBL = 1 << 16;\nconst TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\nconst TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\nconst MAX_UNSIGNED_VALUE = new Long(4294967295 | 0, 4294967295 | 0); //# sourceMappingURL=long.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvY29udmV4L2Rpc3QvZXNtL3ZlbmRvci9sb25nLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBYTtBQUNiLElBQUlBLFlBQVlDLE9BQU9DLGNBQWM7QUFDckMsSUFBSUMsa0JBQWtCLENBQUNDLEtBQUtDLEtBQUtDLFFBQVVELE9BQU9ELE1BQU1KLFVBQVVJLEtBQUtDLEtBQUs7UUFBRUUsWUFBWTtRQUFNQyxjQUFjO1FBQU1DLFVBQVU7UUFBTUg7SUFBTSxLQUFLRixHQUFHLENBQUNDLElBQUksR0FBR0M7QUFDMUosSUFBSUksZ0JBQWdCLENBQUNOLEtBQUtDLEtBQUtDLFFBQVVILGdCQUFnQkMsS0FBSyxPQUFPQyxRQUFRLFdBQVdBLE1BQU0sS0FBS0EsS0FBS0M7QUFDakcsTUFBTUs7SUFDWEMsWUFBWUMsR0FBRyxFQUFFQyxJQUFJLENBQUU7UUFDckJKLGNBQWMsSUFBSSxFQUFFO1FBQ3BCQSxjQUFjLElBQUksRUFBRTtRQUNwQkEsY0FBYyxJQUFJLEVBQUU7UUFDcEIsSUFBSSxDQUFDRyxHQUFHLEdBQUdBLE1BQU07UUFDakIsSUFBSSxDQUFDQyxJQUFJLEdBQUdBLE9BQU87UUFDbkIsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRztJQUM1QjtJQUNBLE9BQU9DLE9BQU9aLEdBQUcsRUFBRTtRQUNqQixPQUFPLENBQUNBLE9BQU9BLElBQUlXLGtCQUFrQixNQUFNO0lBQzdDO0lBQ0Esa0JBQWtCO0lBQ2xCLE9BQU9FLFlBQVlDLEtBQUssRUFBRTtRQUN4QixPQUFPLElBQUlQLEtBQ1RPLEtBQUssQ0FBQyxFQUFFLEdBQUdBLEtBQUssQ0FBQyxFQUFFLElBQUksSUFBSUEsS0FBSyxDQUFDLEVBQUUsSUFBSSxLQUFLQSxLQUFLLENBQUMsRUFBRSxJQUFJLElBQ3hEQSxLQUFLLENBQUMsRUFBRSxHQUFHQSxLQUFLLENBQUMsRUFBRSxJQUFJLElBQUlBLEtBQUssQ0FBQyxFQUFFLElBQUksS0FBS0EsS0FBSyxDQUFDLEVBQUUsSUFBSTtJQUU1RDtJQUNBLGtCQUFrQjtJQUNsQkMsWUFBWTtRQUNWLE1BQU1DLEtBQUssSUFBSSxDQUFDTixJQUFJO1FBQ3BCLE1BQU1PLEtBQUssSUFBSSxDQUFDUixHQUFHO1FBQ25CLE9BQU87WUFDTFEsS0FBSztZQUNMQSxPQUFPLElBQUk7WUFDWEEsT0FBTyxLQUFLO1lBQ1pBLE9BQU87WUFDUEQsS0FBSztZQUNMQSxPQUFPLElBQUk7WUFDWEEsT0FBTyxLQUFLO1lBQ1pBLE9BQU87U0FDUjtJQUNIO0lBQ0EsT0FBT0UsV0FBV2hCLEtBQUssRUFBRTtRQUN2QixJQUFJaUIsTUFBTWpCLFFBQVEsT0FBT2tCO1FBQ3pCLElBQUlsQixRQUFRLEdBQUcsT0FBT2tCO1FBQ3RCLElBQUlsQixTQUFTbUIsZ0JBQWdCLE9BQU9DO1FBQ3BDLE9BQU8sSUFBSWYsS0FBS0wsUUFBUXFCLGlCQUFpQixHQUFHckIsUUFBUXFCLGlCQUFpQjtJQUN2RTtJQUNBQyxXQUFXO1FBQ1QsT0FBTyxDQUFDQyxPQUFPLElBQUksQ0FBQ2YsSUFBSSxJQUFJZSxPQUFPRixrQkFBa0JFLE9BQU8sSUFBSSxDQUFDaEIsR0FBRyxHQUFHZSxRQUFRO0lBQ2pGO0lBQ0FFLE9BQU9DLEtBQUssRUFBRTtRQUNaLElBQUksQ0FBQ3BCLEtBQUtLLE1BQU0sQ0FBQ2UsUUFBUUEsUUFBUXBCLEtBQUtxQixTQUFTLENBQUNEO1FBQ2hELElBQUksSUFBSSxDQUFDakIsSUFBSSxLQUFLLE9BQU8sS0FBS2lCLE1BQU1qQixJQUFJLEtBQUssT0FBTyxHQUFHLE9BQU87UUFDOUQsT0FBTyxJQUFJLENBQUNBLElBQUksS0FBS2lCLE1BQU1qQixJQUFJLElBQUksSUFBSSxDQUFDRCxHQUFHLEtBQUtrQixNQUFNbEIsR0FBRztJQUMzRDtJQUNBb0IsVUFBVUYsS0FBSyxFQUFFO1FBQ2YsT0FBTyxDQUFDLElBQUksQ0FBQ0QsTUFBTSxDQUFDQztJQUN0QjtJQUNBRyxLQUFLSCxLQUFLLEVBQUU7UUFDVixJQUFJLENBQUNwQixLQUFLSyxNQUFNLENBQUNlLFFBQVFBLFFBQVFwQixLQUFLcUIsU0FBUyxDQUFDRDtRQUNoRCxJQUFJLElBQUksQ0FBQ0QsTUFBTSxDQUFDQyxRQUFRLE9BQU87UUFDL0IsT0FBT0EsTUFBTWpCLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQ0EsSUFBSSxLQUFLLEtBQUtpQixNQUFNakIsSUFBSSxLQUFLLElBQUksQ0FBQ0EsSUFBSSxJQUFJaUIsTUFBTWxCLEdBQUcsS0FBSyxJQUFJLElBQUksQ0FBQ0EsR0FBRyxLQUFLLElBQUksQ0FBQyxJQUFJO0lBQ25IO0lBQ0FzQixnQkFBZ0JKLEtBQUssRUFBRTtRQUNyQixPQUFPLElBQUksQ0FBQ0csSUFBSSxDQUNkLGFBQWEsR0FDYkgsVUFDRztJQUNQO0lBQ0EsT0FBT0MsVUFBVUksR0FBRyxFQUFFO1FBQ3BCLElBQUksT0FBT0EsUUFBUSxVQUFVLE9BQU96QixLQUFLVyxVQUFVLENBQUNjO1FBQ3BELE9BQU8sSUFBSXpCLEtBQUt5QixJQUFJdkIsR0FBRyxFQUFFdUIsSUFBSXRCLElBQUk7SUFDbkM7QUFDRjtBQUNBLE1BQU1VLFFBQVEsSUFBSWIsS0FBSyxHQUFHO0FBQzFCLE1BQU0wQixpQkFBaUIsS0FBSztBQUM1QixNQUFNVixpQkFBaUJVLGlCQUFpQkE7QUFDeEMsTUFBTVosaUJBQWlCRSxpQkFBaUJBO0FBQ3hDLE1BQU1ELHFCQUFxQixJQUFJZixLQUFLLGFBQWEsR0FBRyxhQUFhLElBQ2pFLGdDQUFnQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhYnktbmFtZS1kZWF0aG1hdGNoLy4vbm9kZV9tb2R1bGVzL2NvbnZleC9kaXN0L2VzbS92ZW5kb3IvbG9uZy5qcz81ZDQyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3B1YmxpY0ZpZWxkID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbmV4cG9ydCBjbGFzcyBMb25nIHtcbiAgY29uc3RydWN0b3IobG93LCBoaWdoKSB7XG4gICAgX19wdWJsaWNGaWVsZCh0aGlzLCBcImxvd1wiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiaGlnaFwiKTtcbiAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsIFwiX19pc1Vuc2lnbmVkTG9uZ19fXCIpO1xuICAgIHRoaXMubG93ID0gbG93IHwgMDtcbiAgICB0aGlzLmhpZ2ggPSBoaWdoIHwgMDtcbiAgICB0aGlzLl9faXNVbnNpZ25lZExvbmdfXyA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzTG9uZyhvYmopIHtcbiAgICByZXR1cm4gKG9iaiAmJiBvYmouX19pc1Vuc2lnbmVkTG9uZ19fKSA9PT0gdHJ1ZTtcbiAgfVxuICAvLyBwcmV0dGllci1pZ25vcmVcbiAgc3RhdGljIGZyb21CeXRlc0xFKGJ5dGVzKSB7XG4gICAgcmV0dXJuIG5ldyBMb25nKFxuICAgICAgYnl0ZXNbMF0gfCBieXRlc1sxXSA8PCA4IHwgYnl0ZXNbMl0gPDwgMTYgfCBieXRlc1szXSA8PCAyNCxcbiAgICAgIGJ5dGVzWzRdIHwgYnl0ZXNbNV0gPDwgOCB8IGJ5dGVzWzZdIDw8IDE2IHwgYnl0ZXNbN10gPDwgMjRcbiAgICApO1xuICB9XG4gIC8vIHByZXR0aWVyLWlnbm9yZVxuICB0b0J5dGVzTEUoKSB7XG4gICAgY29uc3QgaGkgPSB0aGlzLmhpZ2g7XG4gICAgY29uc3QgbG8gPSB0aGlzLmxvdztcbiAgICByZXR1cm4gW1xuICAgICAgbG8gJiAyNTUsXG4gICAgICBsbyA+Pj4gOCAmIDI1NSxcbiAgICAgIGxvID4+PiAxNiAmIDI1NSxcbiAgICAgIGxvID4+PiAyNCxcbiAgICAgIGhpICYgMjU1LFxuICAgICAgaGkgPj4+IDggJiAyNTUsXG4gICAgICBoaSA+Pj4gMTYgJiAyNTUsXG4gICAgICBoaSA+Pj4gMjRcbiAgICBdO1xuICB9XG4gIHN0YXRpYyBmcm9tTnVtYmVyKHZhbHVlKSB7XG4gICAgaWYgKGlzTmFOKHZhbHVlKSkgcmV0dXJuIFVaRVJPO1xuICAgIGlmICh2YWx1ZSA8IDApIHJldHVybiBVWkVSTztcbiAgICBpZiAodmFsdWUgPj0gVFdPX1BXUl82NF9EQkwpIHJldHVybiBNQVhfVU5TSUdORURfVkFMVUU7XG4gICAgcmV0dXJuIG5ldyBMb25nKHZhbHVlICUgVFdPX1BXUl8zMl9EQkwgfCAwLCB2YWx1ZSAvIFRXT19QV1JfMzJfREJMIHwgMCk7XG4gIH1cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIChCaWdJbnQodGhpcy5oaWdoKSAqIEJpZ0ludChUV09fUFdSXzMyX0RCTCkgKyBCaWdJbnQodGhpcy5sb3cpKS50b1N0cmluZygpO1xuICB9XG4gIGVxdWFscyhvdGhlcikge1xuICAgIGlmICghTG9uZy5pc0xvbmcob3RoZXIpKSBvdGhlciA9IExvbmcuZnJvbVZhbHVlKG90aGVyKTtcbiAgICBpZiAodGhpcy5oaWdoID4+PiAzMSA9PT0gMSAmJiBvdGhlci5oaWdoID4+PiAzMSA9PT0gMSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0aGlzLmhpZ2ggPT09IG90aGVyLmhpZ2ggJiYgdGhpcy5sb3cgPT09IG90aGVyLmxvdztcbiAgfVxuICBub3RFcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gIXRoaXMuZXF1YWxzKG90aGVyKTtcbiAgfVxuICBjb21wKG90aGVyKSB7XG4gICAgaWYgKCFMb25nLmlzTG9uZyhvdGhlcikpIG90aGVyID0gTG9uZy5mcm9tVmFsdWUob3RoZXIpO1xuICAgIGlmICh0aGlzLmVxdWFscyhvdGhlcikpIHJldHVybiAwO1xuICAgIHJldHVybiBvdGhlci5oaWdoID4+PiAwID4gdGhpcy5oaWdoID4+PiAwIHx8IG90aGVyLmhpZ2ggPT09IHRoaXMuaGlnaCAmJiBvdGhlci5sb3cgPj4+IDAgPiB0aGlzLmxvdyA+Pj4gMCA/IC0xIDogMTtcbiAgfVxuICBsZXNzVGhhbk9yRXF1YWwob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5jb21wKFxuICAgICAgLyogdmFsaWRhdGVzICovXG4gICAgICBvdGhlclxuICAgICkgPD0gMDtcbiAgfVxuICBzdGF0aWMgZnJvbVZhbHVlKHZhbCkge1xuICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSByZXR1cm4gTG9uZy5mcm9tTnVtYmVyKHZhbCk7XG4gICAgcmV0dXJuIG5ldyBMb25nKHZhbC5sb3csIHZhbC5oaWdoKTtcbiAgfVxufVxuY29uc3QgVVpFUk8gPSBuZXcgTG9uZygwLCAwKTtcbmNvbnN0IFRXT19QV1JfMTZfREJMID0gMSA8PCAxNjtcbmNvbnN0IFRXT19QV1JfMzJfREJMID0gVFdPX1BXUl8xNl9EQkwgKiBUV09fUFdSXzE2X0RCTDtcbmNvbnN0IFRXT19QV1JfNjRfREJMID0gVFdPX1BXUl8zMl9EQkwgKiBUV09fUFdSXzMyX0RCTDtcbmNvbnN0IE1BWF9VTlNJR05FRF9WQUxVRSA9IG5ldyBMb25nKDQyOTQ5NjcyOTUgfCAwLCA0Mjk0OTY3Mjk1IHwgMCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb25nLmpzLm1hcFxuIl0sIm5hbWVzIjpbIl9fZGVmUHJvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiX19kZWZOb3JtYWxQcm9wIiwib2JqIiwia2V5IiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX3B1YmxpY0ZpZWxkIiwiTG9uZyIsImNvbnN0cnVjdG9yIiwibG93IiwiaGlnaCIsIl9faXNVbnNpZ25lZExvbmdfXyIsImlzTG9uZyIsImZyb21CeXRlc0xFIiwiYnl0ZXMiLCJ0b0J5dGVzTEUiLCJoaSIsImxvIiwiZnJvbU51bWJlciIsImlzTmFOIiwiVVpFUk8iLCJUV09fUFdSXzY0X0RCTCIsIk1BWF9VTlNJR05FRF9WQUxVRSIsIlRXT19QV1JfMzJfREJMIiwidG9TdHJpbmciLCJCaWdJbnQiLCJlcXVhbHMiLCJvdGhlciIsImZyb21WYWx1ZSIsIm5vdEVxdWFscyIsImNvbXAiLCJsZXNzVGhhbk9yRXF1YWwiLCJ2YWwiLCJUV09fUFdSXzE2X0RCTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/convex/dist/esm/vendor/long.js\n");

/***/ })

};
;