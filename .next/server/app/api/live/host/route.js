"use strict";(()=>{var e={};e.id=1,e.ids=[1],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7678:(e,t,n)=>{n.r(t),n.d(t,{headerHooks:()=>g,originalPathname:()=>v,patchFetch:()=>A,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>p,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>f});var r={};n.r(r),n.d(r,{POST:()=>h});var a=n(5419),l=n(9108),o=n(9678),i=n(8070),u=n(8093),s=n(7828);async function h(e){try{let{names:t}=await e.json();if(!t||!Array.isArray(t)||t.length<2)return i.Z.json({error:"Invalid input. At least 2 names are required."},{status:400});let n=Math.random().toString(36).substring(2,6).toUpperCase(),r=(0,s.C)(t),a=await u._.room.create({data:{code:n,status:"LOBBY",bracketState:JSON.stringify(r)}});return i.Z.json(a)}catch(e){return console.error("Failed to create room:",e),i.Z.json({error:"Failed to create room"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:l.x.APP_ROUTE,page:"/api/live/host/route",pathname:"/api/live/host",filename:"route",bundlePath:"app/api/live/host/route"},resolvedPagePath:"/Users/qaneahmed/PregLife/preglife/baby-name-deathmatch/app/api/live/host/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:c,serverHooks:p,headerHooks:g,staticGenerationBailout:f}=d,v="/api/live/host/route";function A(){return(0,o.patchFetch)({serverHooks:p,staticGenerationAsyncStorage:c})}},8093:(e,t,n)=>{n.d(t,{_:()=>a});let r=require("@prisma/client"),a=global.prisma||new r.PrismaClient({log:["query"]})},7828:(e,t,n)=>{function r(e){var t;let n=e.map(e=>e.trim()).filter(Boolean).slice(0,16);if(n.length<2)throw Error("At least two names are required.");return(t=n.length)>0&&(t&t-1)==0?function(e){let t=e.length,n=(2===t?[1,2]:4===t?[1,4,2,3]:8===t?[1,8,4,5,2,7,3,6]:16===t?[1,16,8,9,4,13,5,12,2,15,7,10,3,14,6,11]:Array.from({length:t},(e,t)=>t+1)).map(t=>e[t-1]),r=[],a=l(0,Math.log2(t)),o=[];for(let e=0;e<n.length;e+=2)o.push({id:`r0-m${o.length}`,round:0,roundLabel:a,matchIndex:o.length,nameA:n[e],nameB:n[e+1],votesA:0,votesB:0,winner:null});return r.push({round:0,roundLabel:a,matches:o}),{rounds:r,finalWinner:null}}(n):function(e){let t=e.length,n=Math.pow(2,Math.ceil(Math.log2(t))),r=n-t,a=t-r,o=e.slice(0,a),i=e.slice(a),u=[],s=[],h=l(0,Math.log2(n));for(let e=0;e<o.length;e+=2)s.push({id:`r0-m${s.length}`,round:0,roundLabel:h,matchIndex:s.length,nameA:o[e],nameB:o[e+1],votesA:0,votesB:0,winner:null});for(let e of i)s.push({id:`r0-m${s.length}`,round:0,roundLabel:h,matchIndex:s.length,nameA:e,nameB:null,votesA:1,votesB:0,winner:e});return u.push({round:0,roundLabel:h,matches:s}),{rounds:u,finalWinner:null}}(n)}function a(e){let{rounds:t}=e,n=t[t.length-1];if(!n.matches.every(e=>null!==e.winner))return e;let r=n.matches.map(e=>e.winner).filter(e=>null!==e);if(1===r.length)return{...e,finalWinner:r[0]};let a=n.round+1,o=l(a,Math.ceil(Math.log2(r.length))+n.round),i=[];for(let e=0;e<r.length;e+=2){let t=r[e],n=r[e+1]||null;n?i.push({id:`r${a}-m${i.length}`,round:a,roundLabel:o,matchIndex:i.length,nameA:t,nameB:n,votesA:0,votesB:0,winner:null}):i.push({id:`r${a}-m${i.length}`,round:a,roundLabel:o,matchIndex:i.length,nameA:t,nameB:null,votesA:1,votesB:0,winner:t})}return{rounds:[...t,{round:a,roundLabel:o,matches:i}],finalWinner:null}}function l(e,t){let n=t-e;return 0===n?"Final":1===n?"Semi-Finals":2===n?"Quarter-Finals":3===n?"Round of 16":`Round ${e+1}`}n.d(t,{C:()=>r,L:()=>a})}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[638,206],()=>n(7678));module.exports=r})();