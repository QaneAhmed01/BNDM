"use strict";(()=>{var e={};e.id=465,e.ids=[465],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8188:e=>{e.exports=require("module")},1017:e=>{e.exports=require("path")},9864:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>g,patchFetch:()=>f,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>v,staticGenerationBailout:()=>x});var o={};r.r(o),r.d(o,{POST:()=>d});var a=r(5419),i=r(9108),n=r(9678),s=r(8070),l=r(3144),u=r(587);async function d(e,{params:t}){try{let{candidateId:r}=await e.json();if(!r)return s.Z.json({error:"Candidate ID is required"},{status:400});let o=(0,l.x)();return await o.mutation(u.hi.polls.vote,{pollId:t.id,candidateId:r}),s.Z.json({success:!0})}catch(t){console.error("Failed to vote:",t);let e=t?.message??"Failed to vote";return s.Z.json({error:e},{status:"Poll is closed"===e?403:500})}}let p=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/poll/[id]/vote/route",pathname:"/api/poll/[id]/vote",filename:"route",bundlePath:"app/api/poll/[id]/vote/route"},resolvedPagePath:"/Users/qaneahmed/PregLife/preglife/baby-name-deathmatch/app/api/poll/[id]/vote/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:v,serverHooks:h,headerHooks:m,staticGenerationBailout:x}=p,g="/api/poll/[id]/vote/route";function f(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:v})}},587:(e,t,r)=>{r.d(t,{hi:()=>a});var o=r(9651);let a=o.qL;(0,o.Xg)()},3144:(e,t,r)=>{r.d(t,{x:()=>i});var o=r(4208);let a=null;function i(){if(!a){let e="https://charming-basilisk-797.convex.cloud";if(!e)throw Error("Missing Convex deployment URL. Set NEXT_PUBLIC_CONVEX_URL.");a=new o.nZ(e,{skipConvexDeploymentUrlCheck:!0})}return a}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,206,842],()=>r(9864));module.exports=o})();