(()=>{var e={};e.id=268,e.ids=[268],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8758:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=n(482),r=n(9108),i=n(2563),a=n.n(i),l=n(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);n.d(t,o);let c=["",{children:["live",{children:["play",{children:["[code]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,7710)),"/Users/qaneahmed/PregLife/preglife/baby-name-deathmatch/app/live/play/[code]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,6246)),"/Users/qaneahmed/PregLife/preglife/baby-name-deathmatch/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,9361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/qaneahmed/PregLife/preglife/baby-name-deathmatch/app/live/play/[code]/page.tsx"],p="/live/play/[code]/page",u={require:n,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/live/play/[code]/page",pathname:"/live/play/[code]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9051:(e,t,n)=>{Promise.resolve().then(n.bind(n,9366))},4063:(e,t,n)=>{Promise.resolve().then(n.bind(n,1837))},5323:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,2583,23)),Promise.resolve().then(n.t.bind(n,6840,23)),Promise.resolve().then(n.t.bind(n,8771,23)),Promise.resolve().then(n.t.bind(n,3225,23)),Promise.resolve().then(n.t.bind(n,9295,23)),Promise.resolve().then(n.t.bind(n,3982,23))},1837:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var s=n(5344),r=n(3729),i=n(8428),a=n(9119),l=n(7292),o=n(6881),c=n(948);function d(){let e=(0,i.useParams)(),t=(0,i.useSearchParams)(),n=e.code,d=t.get("playerId")??"unknown",u=(0,o.aM)(c.hi.getRoomState.get,{code:n}),m=(0,o.Db)(c.hi.castVote.cast),[h,x]=(0,r.useState)(null),[f,g]=(0,r.useState)("");if(u&&"VOTING"===u.status){let e=JSON.parse(u.bracketState).rounds[u.currentRound].matches[u.currentMatch];e.id!==f&&(g(e.id),x(null))}async function b(e){if(!u)return;let t=JSON.parse(u.bracketState).rounds[u.currentRound].matches[u.currentMatch];x(e),await m({gameId:u._id,matchId:t.id,playerId:d,choice:e})}if(!u)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsx("div",{className:"animate-pulse text-preg-ink/50 font-bold",children:"Connecting..."})});let y=JSON.parse(u.bracketState),v=y.rounds[u.currentRound]?.matches[u.currentMatch];return(0,s.jsxs)("main",{className:"min-h-screen flex flex-col bg-gray-50 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 bg-white shadow-sm z-10",children:[(0,s.jsxs)("div",{className:"text-xs font-black text-preg-ink/40 tracking-widest uppercase",children:["ROOM ",n]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold text-preg-ink/60",children:"LIVE"}),s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse"})]})]}),s.jsx("div",{className:"flex-1 relative",children:(0,s.jsxs)(a.M,{mode:"wait",children:["LOBBY"===u.status&&(0,s.jsxs)(l.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},className:"absolute inset-0 flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"h-24 w-24 rounded-full bg-white shadow-soft flex items-center justify-center mb-6 animate-bounce-slow",children:(0,s.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-12 w-12 text-preg-pink",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[s.jsx("path",{d:"M7 13c0-2 1-3 3-3s3 1 3 3M14 13c0-2 1-3 3-3s3 1 3 3",strokeLinecap:"round"}),s.jsx("circle",{cx:"12",cy:"12",r:"10"})]})}),s.jsx("h2",{className:"text-3xl font-black text-preg-ink mb-2",children:"You're in!"}),s.jsx("p",{className:"text-preg-ink/60",children:"Waiting for host to start..."})]},"lobby"),"VOTING"===u.status&&v&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col p-4 gap-4",children:[s.jsx("div",{className:"text-center py-2",children:s.jsx("h2",{className:"text-xl font-black text-preg-ink",children:"Vote now!"})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col gap-4",children:[s.jsx(p,{name:v.nameA,color:"pink",isSelected:h===v.nameA,isDimmed:null!==h&&h!==v.nameA,onClick:()=>b(v.nameA)}),s.jsx(p,{name:v.nameB??"Bye",color:"mint",isSelected:h===(v.nameB??"Bye"),isDimmed:null!==h&&h!==(v.nameB??"Bye"),onClick:()=>v.nameB&&b(v.nameB),disabled:!v.nameB})]}),h&&s.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-2 text-sm font-bold text-preg-ink/40 uppercase tracking-widest",children:"Vote cast!"})]},"voting"),"REVEAL"===u.status&&v&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"mb-2 text-sm font-bold text-preg-ink/40 uppercase tracking-widest",children:"Winner"}),s.jsx(l.E.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",bounce:.5},className:`text-5xl font-black mb-6 ${v.winner===v.nameA?"text-preg-pink":"text-preg-mint"}`,children:v.winner}),s.jsx("div",{className:"text-preg-ink/50 text-sm",children:"Look at the big screen!"})]},"reveal"),"FINISHED"===u.status&&(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex flex-col items-center justify-center p-8 text-center",children:[s.jsx("div",{className:"h-24 w-24 rounded-full bg-gradient-to-br from-preg-pink to-preg-peach flex items-center justify-center mb-6 shadow-lg",children:s.jsx("svg",{viewBox:"0 0 24 24",className:"h-12 w-12 text-white",fill:"currentColor",children:s.jsx("path",{d:"M12 2l3 7 7-3-3 7 3 7-7-3-3 7-3-7-7 3 3-7-3-7 7 3z"})})}),s.jsx("h2",{className:"text-3xl font-black text-preg-ink mb-2",children:"Tournament Over!"}),s.jsx("p",{className:"text-preg-ink/60",children:"Thanks for playing."})]},"finished")]})})]})}function p({name:e,color:t,isSelected:n,isDimmed:r,onClick:i,disabled:a}){let o="pink"===t?n?"bg-preg-pink text-white":"bg-white text-preg-ink border-preg-pink/20":n?"bg-preg-mint text-white":"bg-white text-preg-ink border-preg-mint/20";return(0,s.jsxs)(l.E.button,{whileTap:{scale:.95},onClick:i,disabled:a,className:`
                flex-1 rounded-3xl border-4 shadow-soft flex items-center justify-center relative overflow-hidden
                ${o}
                ${r?"opacity-30 grayscale":"opacity-100"}
                ${a?"opacity-20 cursor-not-allowed":""}
                transition-all duration-300
            `,children:[s.jsx("span",{className:"text-3xl font-black z-10",children:e}),n&&s.jsx(l.E.div,{layoutId:"check",className:"absolute top-4 right-4 h-8 w-8 rounded-full bg-white text-preg-ink flex items-center justify-center shadow-sm",children:"âœ“"})]})}},9366:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var s=n(5344),r=n(6881);let i=new r.Zj("https://charming-basilisk-797.convex.cloud");function a({children:e}){return s.jsx(r.P9,{client:i,children:e})}},948:(e,t,n)=>{"use strict";n.d(t,{hi:()=>r});var s=n(1609);let r=s.qL;(0,s.Xg)()},6246:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,metadata:()=>o});var s=n(5036);n(7272);let r=(0,n(6843).createProxy)(String.raw`/Users/qaneahmed/PregLife/preglife/baby-name-deathmatch/components/ConvexClientProvider.tsx`),{__esModule:i,$$typeof:a}=r,l=r.default,o={title:"Preglife \xb7 Baby Name Tournament",description:"Let friends and family cheer on your favourite baby names in a playful tournament-style reveal."};function c({children:e}){return s.jsx("html",{lang:"en",className:"h-full",children:s.jsx("body",{className:"min-h-full font-display bg-gradient-to-b from-preg-peach/60 via-white to-preg-peach/80",children:s.jsx(l,{children:e})})})}},7710:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>a});let s=(0,n(6843).createProxy)(String.raw`/Users/qaneahmed/PregLife/preglife/baby-name-deathmatch/app/live/play/[code]/page.tsx`),{__esModule:r,$$typeof:i}=s,a=s.default},7272:()=>{},9119:(e,t,n)=>{"use strict";n.d(t,{M:()=>g});var s=n(5344),r=n(3729),i=n(6828),a=n(207),l=n(5986),o=n(8651);class c extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let n=(0,r.useId)(),i=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0}),{nonce:l}=(0,r.useContext)(o._);return(0,r.useInsertionEffect)(()=>{let{width:e,height:s,top:r,left:o}=a.current;if(t||!i.current||!e||!s)return;i.current.dataset.motionPopId=n;let c=document.createElement("style");return l&&(c.nonce=l),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${r}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),(0,s.jsx)(c,{isPresent:t,childRef:i,sizeRef:a,children:r.cloneElement(e,{ref:i})})}let p=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:p})=>{let m=(0,a.h)(u),h=(0,r.useId)(),x=(0,r.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;i&&i()},[m,i]),f=(0,r.useMemo)(()=>({id:h,initial:t,isPresent:n,custom:o,onExitComplete:x,register:e=>(m.set(e,!1),()=>m.delete(e))}),c?[Math.random(),x]:[n,x]);return(0,r.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[n]),r.useEffect(()=>{n||m.size||!i||i()},[n]),"popLayout"===p&&(e=(0,s.jsx)(d,{isPresent:n,children:e})),(0,s.jsx)(l.O.Provider,{value:f,children:e})};function u(){return new Map}var m=n(4146);let h=e=>e.key||"";function x(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}var f=n(9038);let g=({children:e,custom:t,initial:n=!0,onExitComplete:l,presenceAffectsLayout:o=!0,mode:c="sync",propagate:d=!1})=>{let[u,g]=(0,m.oO)(d),b=(0,r.useMemo)(()=>x(e),[e]),y=d&&!u?[]:b.map(h),v=(0,r.useRef)(!0),j=(0,r.useRef)(b),k=(0,a.h)(()=>new Map),[w,N]=(0,r.useState)(b),[P,E]=(0,r.useState)(b);(0,f.L)(()=>{v.current=!1,j.current=b;for(let e=0;e<P.length;e++){let t=h(P[e]);y.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[P,y.length,y.join("-")]);let M=[];if(b!==w){let e=[...b];for(let t=0;t<P.length;t++){let n=P[t],s=h(n);y.includes(s)||(e.splice(t,0,n),M.push(n))}"wait"===c&&M.length&&(e=M),E(x(e)),N(b);return}let{forceRender:C}=(0,r.useContext)(i.p);return(0,s.jsx)(s.Fragment,{children:P.map(e=>{let r=h(e),i=(!d||!!u)&&(b===P||y.includes(r));return(0,s.jsx)(p,{isPresent:i,initial:(!v.current||!!n)&&void 0,custom:i?void 0:t,presenceAffectsLayout:o,mode:c,onExitComplete:i?void 0:()=>{if(!k.has(r))return;k.set(r,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==C||C(),E(j.current),d&&(null==g||g()),l&&l())},children:e},r)})})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[638,759,292,355],()=>n(8758));module.exports=s})();