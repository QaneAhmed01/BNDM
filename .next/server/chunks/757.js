exports.id=757,exports.ids=[757],exports.modules={9051:(e,t,s)=>{Promise.resolve().then(s.bind(s,9366))},5323:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},9366:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var i=s(5344),n=s(6881);let r=new n.Zj("https://charming-basilisk-797.convex.cloud");function a({children:e}){return i.jsx(n.P9,{client:r,children:e})}},279:(e,t,s)=>{"use strict";s.d(t,{a:()=>x});var i=s(5344),n=s(3729),r=s(9119),a=s(7292);function l({match:e,commentary:t,loadingCommentary:s,hideWinner:n=!1}){let r=Math.max(1,e.votesA+e.votesB),a=Math.round(e.votesA/r*100),l=Math.round(e.votesB/r*100),d=(e.votesA>=e.votesB?e.nameA:e.nameB??e.nameA)===e.nameA,x=!n;return(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,i.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/80 px-3 py-1 text-[10px] uppercase tracking-wide text-preg-ink/60",children:[i.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:i.jsx("path",{d:"M5 7h14M5 12h14M5 17h14",strokeLinecap:"round"})}),e.roundLabel]}),(0,i.jsxs)("span",{className:"text-[10px] text-preg-ink/40",children:[r," votes"]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsx(o,{name:e.nameA,percent:a,isWinner:x&&d,align:"left"}),i.jsx(o,{name:e.nameB??"Bye",percent:l,isWinner:x&&!d,align:"right"})]}),(0,i.jsxs)("div",{className:"mt-1 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[i.jsx(c,{label:`${a}% preferred ${e.nameA}`,percent:a,align:"left"}),i.jsx(c,{label:`${l}% preferred ${e.nameB??"Bye"}`,percent:l,align:"right"})]}),(0,i.jsxs)("div",{className:"mt-2 rounded-2xl bg-white/85 border border-preg-peach/80 px-3 py-3 text-[11px] text-preg-ink/85 shadow-soft",children:[s&&i.jsx("p",{className:"text-preg-ink/50",children:"Preglife announcer is thinking…"}),!s&&t&&(0,i.jsxs)("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[11px] font-semibold text-preg-ink",children:t.headline}),i.jsx("p",{className:"text-[11px] text-preg-ink/80",children:t.summary}),i.jsx("p",{className:"text-[11px] text-preg-ink/60",children:t.statsLine})]}),!s&&!t&&i.jsx("p",{className:"text-preg-ink/60",children:"Both names are clearly loved. One simply had a few more votes this time."})]})]})}function o({name:e,percent:t,isWinner:s,align:n}){return(0,i.jsxs)(a.E.div,{layout:!0,initial:{opacity:0,y:12,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.25},className:"relative rounded-3xl px-4 py-3 md:px-5 md:py-4 border flex flex-col gap-1 bg-white/90 "+(s?"border-preg-pink shadow-soft":"border-preg-peach/70 shadow-sm"),children:[i.jsx("div",{className:"absolute -top-3 right-3 h-6 w-6 rounded-full bg-gradient-to-br from-preg-pink to-preg-mint text-[10px] font-semibold text-white flex items-center justify-center shadow-soft",children:e.charAt(0)}),s&&i.jsx("div",{className:"absolute -top-2 left-3 rounded-full bg-preg-pink/80 px-2 py-0.5 text-[9px] font-semibold text-preg-ink uppercase tracking-wide",children:"Winner"}),i.jsx("p",{className:"text-[11px] text-preg-ink/55",children:"left"===n?"Name A":"Name B"}),i.jsx("p",{className:"text-base md:text-lg font-semibold text-preg-ink",children:e}),(0,i.jsxs)("p",{className:"text-[11px] text-preg-ink/70",children:[t,"% of this round"]})]})}function c({label:e,percent:t,align:s}){return(0,i.jsxs)("div",{className:"flex flex-col gap-1 text-[11px]",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-preg-ink/70",children:e}),(0,i.jsxs)("span",{className:"text-preg-ink/50",children:[t,"%"]})]}),i.jsx("div",{className:"h-2.5 rounded-full bg-white/80 overflow-hidden",children:i.jsx(a.E.div,{className:"h-full bg-gradient-to-r from-preg-pink via-preg-peach to-preg-mint",initial:{width:0},animate:{width:`${t}%`},transition:{duration:1.2,ease:"easeOut"},style:{transformOrigin:"left"===s?"left center":"right center"}})})]})}function d({active:e}){let[t,s]=(0,n.useState)([]);return((0,n.useEffect)(()=>{if(e){let e=["#FF6B9D","#FFA07A","#A8E6CF","#FFD4B8","#B3E5D1","#FFC0CB"];s(Array.from({length:50},(t,s)=>({id:s,left:`${100*Math.random()}%`,delay:.5*Math.random(),color:e[Math.floor(Math.random()*e.length)],rotation:360*Math.random()})))}},[e]),e)?i.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",children:i.jsx(r.M,{children:t.map(e=>i.jsx(a.E.div,{initial:{y:-20,opacity:0,rotate:0},animate:{y:window.innerHeight+20,opacity:[0,1,1,0],rotate:e.rotation+720},transition:{duration:3+2*Math.random(),delay:e.delay,ease:"easeIn"},className:"absolute w-3 h-3 rounded-sm",style:{left:e.left,backgroundColor:e.color}},e.id))})}):null}function x({matches:e,rounds:t,winnerName:s,onRestart:o}){let[c,x]=(0,n.useState)(0),[h,k]=(0,n.useState)(0),[w,$]=(0,n.useState)(!1),[C,M]=(0,n.useState)(null),[F,B]=(0,n.useState)(!1),[E,L]=(0,n.useState)(!1),[A,P]=(0,n.useState)(!1),[W,S]=(0,n.useState)(!1),[z,Y]=(0,n.useState)(3),[H,R]=(0,n.useState)(!1),[T,D]=(0,n.useState)(1),I=(0,n.useRef)(null),O=e[c]??null;(0,n.useEffect)(()=>{x(0),k(0),P(!1),L(!1),e.length>0&&$(!0)},[e]),(0,n.useEffect)(()=>{O&&e();async function e(){B(!0);try{let e=await fetch("/api/commentary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roundLabel:O.roundLabel,nameA:O.nameA,nameB:O.nameB,votesA:O.votesA,votesB:O.votesB})}),t=await e.json();t.error?M(null):M({headline:t.headline,summary:t.summary,statsLine:t.statsLine})}catch{M(null)}finally{B(!1)}}},[O?.id]),(0,n.useEffect)(()=>{if(!w||!O)return;let t=setTimeout(()=>{x(t=>{let s=t+1<e.length?t+1:t;return s!==t&&k(e=>Math.max(e,s)),s})},4200/T);return()=>clearTimeout(t)},[w,O,e.length,T]);let G=c===e.length-1&&s;return(0,n.useEffect)(()=>{if(A){L(!0),I.current&&(clearTimeout(I.current),I.current=null);return}if(G&&!A){L(!1),S(!1),Y(3),R(!1),I.current&&clearTimeout(I.current);let e=setTimeout(()=>{S(!0)},2e3);return I.current=e,()=>{clearTimeout(e)}}L(!1),I.current&&(clearTimeout(I.current),I.current=null)},[G,A]),(0,n.useEffect)(()=>{if(!W||z<=0)return;let e=setTimeout(()=>{1===z&&(R(!0),setTimeout(()=>{L(!0),P(!0)},1e3)),Y(z-1)},1e3);return()=>clearTimeout(e)},[W,z]),(0,n.useEffect)(()=>{E&&e.length>0&&k(e.length-1)},[E,e.length]),(0,i.jsxs)("div",{className:"flex flex-col h-[calc(100vh-100px)] max-h-[900px]",children:[(0,i.jsxs)("header",{className:"flex-none flex flex-wrap items-center justify-between gap-3 mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 text-preg-ink/50 text-[11px] uppercase tracking-wide",children:[i.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-2xl bg-white shadow-soft",children:"2"}),i.jsx("span",{children:"Playback"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(m,{label:"Restart",onClick:o,children:i.jsx(f,{})}),(0,i.jsxs)("button",{type:"button",onClick:()=>{D(e=>.5===e?1:1===e?2:.5)},className:"h-10 px-3 rounded-full flex items-center justify-center gap-1 bg-white/80 text-preg-ink shadow-sm hover:brightness-105 text-xs font-semibold","aria-label":"Playback speed",children:[(0,i.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[i.jsx("circle",{cx:"12",cy:"12",r:"10"}),i.jsx("path",{d:"M12 6v6l4 2",strokeLinecap:"round"})]}),T,"x"]}),i.jsx(m,{label:w?"Pause":"Play",onClick:function(){O&&$(e=>!e)},disabled:!O,highlight:!0,children:w?i.jsx(j,{}):i.jsx(g,{})})]})]}),(0,i.jsxs)("div",{className:"flex-1 min-h-0 relative flex flex-col",children:[e.length>0&&t.length>0&&i.jsx("div",{className:"flex-1 min-h-0 overflow-hidden relative rounded-3xl bg-white/50 border border-preg-peach/30 mb-4",children:i.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:i.jsx(N,{matches:e,rounds:t,activeMatchId:O?.id,revealedIndex:h,finalRevealReady:E,championName:s,onSelect:t=>{let s=e.findIndex(e=>e.id===t);s>=0&&($(!1),k(e=>Math.max(e,s)),x(s))}})})}),(0,i.jsxs)("div",{className:"flex-none rounded-3xl bg-preg-peach/40 border border-preg-peach/80 px-4 py-3 md:px-6 md:py-4 flex flex-col gap-3",children:[i.jsx(r.M,{mode:"wait",children:O?i.jsx(a.E.div,{initial:{opacity:0,y:12,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.97},transition:{duration:.35,ease:"easeOut"},children:i.jsx(l,{match:O,commentary:C,loadingCommentary:F,hideWinner:!!(G&&!E)})},O.id):i.jsx(a.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-[12px] text-preg-ink/70",children:"Add some names and start the tournament to see the rounds play out."},"empty")}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 text-[11px]",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(m,{label:"Previous",onClick:function(){$(!1),x(e=>e-1>=0?e-1:e)},disabled:c<=0,children:i.jsx(v,{})}),i.jsx(m,{label:"Next",onClick:function(){$(!1),x(t=>{let s=t+1<e.length?t+1:t;return k(e=>Math.max(e,s)),s})},disabled:c>=e.length-1,children:i.jsx(b,{})})]}),i.jsx("div",{className:"flex-1 flex items-center gap-2 sm:justify-end",children:i.jsx("div",{className:"h-1.5 w-32 rounded-full bg-white/80 overflow-hidden",children:i.jsx(a.E.div,{className:"h-full bg-gradient-to-r from-preg-pink via-preg-peach to-preg-mint",initial:!1,animate:{width:e.length>0?`${(c+1)/e.length*100}%`:"0%"},transition:{type:"spring",stiffness:120,damping:18}})})})]})]})]}),G&&(0,i.jsxs)(i.Fragment,{children:[i.jsx(d,{active:E}),!E&&i.jsx(u,{}),W&&z>0&&i.jsx(a.E.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"fixed inset-0 z-40 flex items-center justify-center pointer-events-none",children:i.jsx(a.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:2,opacity:0},transition:{duration:.5},className:"text-9xl font-black text-preg-pink drop-shadow-2xl",children:z},z)}),(W||E)&&!E&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-8 bg-black/20 backdrop-blur-sm",children:i.jsx(p,{finalists:function(e){if(0===e.length)return["",""];let t=e[e.length-1];if(0===t.matches.length)return["",""];let s=t.matches[0];return[s.nameA,s.nameB||""]}(t),winner:s,flipped:H})}),E?(0,i.jsxs)(a.E.div,{initial:{opacity:0,scale:.94},animate:{opacity:1,scale:1},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 w-full max-w-2xl rounded-3xl bg-white/95 border border-preg-peach/80 px-4 py-5 md:px-8 md:py-6 overflow-hidden shadow-[0_25px_60px_rgba(249,183,194,0.5)]",children:[(0,i.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"confetti-piece absolute left-5 top-0 h-3 w-1 rounded bg-preg-pink"}),i.jsx("div",{className:"confetti-piece absolute left-10 top-0 h-3 w-1 rounded bg-preg-mint"}),i.jsx("div",{className:"confetti-piece absolute left-1/2 top-0 h-3 w-1 rounded bg-preg-rose"}),i.jsx("div",{className:"confetti-piece absolute right-10 top-0 h-3 w-1 rounded bg-preg-mint"}),i.jsx("div",{className:"confetti-piece absolute right-1/3 top-0 h-3 w-1 rounded bg-preg-pink"})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 relative",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-preg-ink/60 mb-2",children:"Final reveal"}),(0,i.jsxs)("div",{className:"flex items-center gap-2 text-preg-ink",children:[i.jsx(y,{}),(0,i.jsxs)("h3",{className:"text-xl font-semibold tracking-tight",children:[s," takes the crown"]})]}),(0,i.jsxs)("p",{className:"text-[12px] text-preg-ink/70 mt-2 max-w-md",children:["Your friends and family gave ",s," the most love in this little tournament. Keep the moment and choose whatever still feels right for you."]})]}),(0,i.jsxs)("div",{className:"rounded-3xl bg-gradient-to-br from-preg-pink/90 via-preg-peach to-preg-mint px-5 py-4 text-[12px] text-preg-ink font-semibold shadow-soft",children:[i.jsx("p",{className:"text-[10px] uppercase tracking-[0.2em] text-preg-ink/70",children:"Share the moment"}),i.jsx("p",{className:"mt-2",children:"Capture the bracket, send it to your circle, and let them celebrate the favourite."})]})]})]}):(0,i.jsxs)(a.E.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 rounded-3xl border border-preg-peach/70 bg-white/90 px-4 py-5 md:px-8 md:py-6 text-center shadow-soft",initial:{opacity:0},animate:{opacity:1},children:[i.jsx("p",{className:"text-[11px] uppercase tracking-[0.3em] text-preg-ink/60",children:"Final reveal incoming"}),i.jsx("p",{className:"mt-3 text-lg font-semibold text-preg-ink",children:"Hold for the crowd favourite…"}),i.jsx("p",{className:"text-[12px] text-preg-ink/60 mt-2",children:"Spotlight is buzzing around the bracket."})]})]})]})}function p({finalists:e,winner:t,flipped:s}){let[n,r]=e;return(0,i.jsxs)("div",{className:"relative z-30 grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[i.jsx(h,{name:n,isWinner:n===t,flipped:s,delay:0}),i.jsx(h,{name:r,isWinner:r===t,flipped:s,delay:.1})]})}function h({name:e,isWinner:t,flipped:s,delay:n}){return i.jsx(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n},className:"perspective-1000",children:(0,i.jsxs)(a.E.div,{animate:{rotateY:s?180:0},transition:{duration:.8,ease:"easeInOut"},className:"relative preserve-3d w-full h-64",children:[i.jsx("div",{className:"absolute inset-0 backface-hidden rounded-3xl bg-gradient-to-br from-preg-pink via-preg-peach to-preg-mint p-1 shadow-xl",children:i.jsx("div",{className:"h-full w-full rounded-3xl bg-white flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center space-y-4",children:[i.jsx("div",{className:"text-6xl",children:"❓"}),i.jsx("p",{className:"text-sm font-bold text-preg-ink/40 uppercase tracking-widest",children:"Finalist"})]})})}),i.jsx("div",{className:`absolute inset-0 backface-hidden rotateY-180 rounded-3xl p-1 shadow-2xl transition-all duration-500 ${t?"bg-gradient-to-br from-preg-pink via-preg-peach to-preg-mint scale-105":"bg-gray-300 opacity-60"}`,children:(0,i.jsxs)("div",{className:"h-full w-full rounded-3xl bg-white flex flex-col items-center justify-center gap-4 relative overflow-hidden",children:[t&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-preg-pink/20 via-preg-peach/20 to-preg-mint/20 animate-pulse"}),i.jsx(a.E.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.5},className:"absolute -top-8",children:i.jsx("svg",{viewBox:"0 0 24 24",className:"h-16 w-16 text-preg-pink",fill:"currentColor",children:i.jsx("path",{d:"M12 2l3 7 7-3-3 7 3 7-7-3-3 7-3-7-7 3 3-7-3-7 7 3z"})})})]}),(0,i.jsxs)("div",{className:"relative z-10 text-center",children:[i.jsx("p",{className:`text-4xl md:text-5xl font-black ${t?"text-preg-ink":"text-gray-400"}`,children:e}),t&&i.jsx(a.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-3 text-sm font-bold text-preg-pink uppercase tracking-widest",children:"Winner!"})]})]})})]})})}function m({children:e,onClick:t,disabled:s,highlight:n,label:r}){return i.jsx("button",{type:"button",onClick:t,disabled:s,"aria-label":r,className:`touch-target h-10 w-10 rounded-full flex items-center justify-center ${n?"bg-gradient-to-r from-preg-pink via-preg-peach to-preg-mint text-preg-ink shadow-soft":"bg-white/80 text-preg-ink shadow-sm"} ${s?"opacity-40":"hover:brightness-105"}`,children:e})}function u(){return i.jsx(r.M,{children:(0,i.jsxs)(a.E.div,{className:"pointer-events-none fixed inset-0 z-20",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},children:[i.jsx("div",{className:"absolute inset-0 bg-slate-900/35 backdrop-blur-[1px]"}),i.jsx("div",{className:"spotlight-circle"})]},"spotlight")})}let f=()=>(0,i.jsxs)("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[i.jsx("path",{d:"M4 4v6h6",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M20 20v-6h-6",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M5.7 14.5A7 7 0 0 0 12 19a7 7 0 0 0 6.3-4.5",strokeLinecap:"round"}),i.jsx("path",{d:"M18.3 9.5A7 7 0 0 0 12 5a7 7 0 0 0-6.3 4.5",strokeLinecap:"round"})]}),g=()=>i.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:i.jsx("path",{d:"M9 5v14l10-7z"})}),j=()=>i.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"currentColor",children:i.jsx("path",{d:"M7 5h4v14H7zM13 5h4v14h-4z"})}),v=()=>i.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:i.jsx("path",{d:"M15 6L9 12l6 6",strokeLinecap:"round",strokeLinejoin:"round"})}),b=()=>i.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:i.jsx("path",{d:"M9 6l6 6-6 6",strokeLinecap:"round",strokeLinejoin:"round"})}),y=()=>(0,i.jsxs)("svg",{viewBox:"0 0 32 20",className:"h-6 w-6 text-preg-rose",children:[i.jsx("path",{d:"M4 16.5h24L28 6l-6 4-6-8-6 8-6-4z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round"}),i.jsx("path",{d:"M6 16.5v1.5h20v-1.5",stroke:"currentColor",strokeWidth:"1.2",strokeLinecap:"round"})]});function k({x:e,y:t,boxWidth:s,boxHeight:n,gap:r,topName:a,bottomName:l,active:o,revealed:c,onClick:d}){return l?(0,i.jsxs)("g",{onClick:c?d:void 0,className:c?"cursor-pointer hover:opacity-90 transition-opacity":"pointer-events-none opacity-40",children:[i.jsx("rect",{x:e-6,y:t-6,width:s+12,height:2*n+r+12,rx:16,fill:o?"#FFF5F7":"transparent",className:"transition-colors duration-300"}),i.jsx("path",{d:`M${e+s/2} ${t+n} V${t+n+r}`,stroke:o?"#FF6B9D":"#f4b8c4",strokeWidth:o?2:1.2,className:`transition-all duration-500 ${c?"opacity-100":"opacity-0"}`}),i.jsx(w,{x:e,y:t,width:s,height:n,label:a,active:o,revealed:c,onClick:d}),i.jsx(w,{x:e,y:t+n+r,width:s,height:n,label:l,active:o,revealed:c,onClick:d})]}):i.jsx("g",{onClick:c?d:void 0,className:c?"cursor-pointer hover:opacity-90 transition-opacity":"pointer-events-none opacity-40",children:i.jsx(w,{x:e,y:t+r/2,width:s,height:n,label:a,active:o,revealed:c,onClick:d})})}function w({x:e,y:t,width:s,height:n,label:r,active:a,revealed:l,isChampion:o=!1,onClick:c}){return(0,i.jsxs)("g",{onClick:l?c:void 0,className:l?"cursor-pointer hover:opacity-90 transition-opacity":"pointer-events-none opacity-40",children:[o&&l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("rect",{x:e-4,y:t-4,width:s+8,height:n+8,rx:16,fill:"none",stroke:"url(#championGlow)",strokeWidth:3,opacity:.8,children:[i.jsx("animate",{attributeName:"opacity",values:"0.5;1;0.5",dur:"1.5s",repeatCount:"indefinite"}),i.jsx("animate",{attributeName:"stroke-width",values:"2;4;2",dur:"1.5s",repeatCount:"indefinite"})]}),i.jsx("defs",{children:(0,i.jsxs)("linearGradient",{id:"championGlow",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#FF6B9D"}),i.jsx("stop",{offset:"50%",stopColor:"#FFA07A"}),i.jsx("stop",{offset:"100%",stopColor:"#A8E6CF"})]})})]}),i.jsx("rect",{x:e,y:t,width:s,height:n,rx:12,fill:o&&l?"url(#championBg)":a?"#FDD5DA":l?"#ffffff":"#fdf0f3",stroke:o&&l?"#FF6B9D":a?"#FF6B9D":"#f4b8c4",strokeWidth:o&&l?2.5:a?2:1.2,children:l&&i.jsx("animate",{attributeName:"opacity",from:"0",to:"1",dur:"0.6s",fill:"freeze"})}),o&&l&&i.jsx("defs",{children:(0,i.jsxs)("linearGradient",{id:"championBg",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[i.jsx("stop",{offset:"0%",stopColor:"#FFF5F7"}),i.jsx("stop",{offset:"50%",stopColor:"#FFFFFF"}),i.jsx("stop",{offset:"100%",stopColor:"#F0FFF4"})]})}),o&&l&&(0,i.jsxs)(i.Fragment,{children:[i.jsx("defs",{children:(0,i.jsxs)("linearGradient",{id:"crownGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[i.jsx("stop",{offset:"0%",stopColor:"#fcd34d"}),i.jsx("stop",{offset:"50%",stopColor:"#f973a9"}),i.jsx("stop",{offset:"100%",stopColor:"#fcd34d"})]})}),i.jsx("path",{d:`M${e+s/2-26} ${t-6} L${e+s/2-18} ${t-18} L${e+s/2-6} ${t-8} L${e+s/2} ${t-20} L${e+s/2+6} ${t-8} L${e+s/2+18} ${t-18} L${e+s/2+26} ${t-6} Z`,fill:"url(#crownGradient)",stroke:"#fbb6ce",strokeWidth:1}),i.jsx("path",{d:`M${e+s/2-28} ${t-6} H${e+s/2+28}`,stroke:"#fcd34d",strokeWidth:1.5,strokeLinecap:"round"}),i.jsx("circle",{cx:e+s/2-18,cy:t-18,r:2.5,fill:"#fcd34d"}),i.jsx("circle",{cx:e+s/2+18,cy:t-18,r:2.5,fill:"#fcd34d"}),i.jsx("circle",{cx:e+s/2,cy:t-22,r:3,fill:"#fde68a"}),i.jsx("circle",{cx:e+s/2-30,cy:t-12,r:2,fill:"#fbb6ce"}),i.jsx("circle",{cx:e+s/2+30,cy:t-12,r:2,fill:"#fbb6ce"})]}),i.jsx("text",{x:e+12,y:t+n/2+4,fontSize:n<32?"10":"11",fill:"#111827",className:`transition-all duration-500 ${l?"opacity-100 translate-y-0":"opacity-0 translate-y-1"}`,children:r})]})}function N({matches:e,rounds:t,activeMatchId:s,revealedIndex:r,finalRevealReady:a,championName:l,onSelect:o}){let c=t[0]?.matches.length>4,d=c?28:34,x=c?16:26,p=(0,n.useMemo)(()=>new Map(e.map((e,t)=>[e.id,t])),[e]),h=e=>{let t=p.get(e.id);return"number"==typeof t&&t<=r},m=[];t.forEach((e,t)=>{if(0===t){let t=e.matches.map((e,t)=>{let s=30+t*(2*d+x+x);return{match:e,x:40,topY:s,bottomY:s+d+x,center:s+d+x/2}});m.push(t)}else{let s=m[t-1],i=e.matches.map((e,i)=>{let n=s[2*i],r=s[2*i+1],a=n&&r?(n.center+r.center)/2:n?.center??r?.center??30,l=a-(d+x/2);return{match:e,x:40+190*t,topY:l,bottomY:l+d+x,center:a}});m.push(i)}});let u=(m[m.length-1]??[])[0],f=(u?.center??30)-d/2,g=a&&l?l:"Awaiting reveal",j=a&&!!l,v=40+190*(m.length+1)+150+60,b=m[0]?.[m[0].length-1],y=b?.bottomY!=null?b.bottomY+d+80:420;return i.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden",children:(0,i.jsxs)("svg",{viewBox:`0 0 ${v} ${y}`,className:"max-w-full max-h-full w-auto h-auto text-preg-ink",preserveAspectRatio:"xMidYMid meet",children:[m.map((e,t)=>e.map((e,n)=>i.jsx(k,{x:e.x,y:e.topY,boxWidth:150,boxHeight:d,gap:x,topName:e.match.nameA,bottomName:e.match.nameB,active:e.match.id===s,revealed:h(e.match),onClick:()=>o(e.match.id)},`${t}-${n}`))),m.map((e,t)=>{if(t===m.length-1)return null;let s=m[t+1];return e.map((e,n)=>{let r=s[Math.floor(n/2)];if(!r)return null;let a=e.x+150,l=a+18,o=r.x,c=e.topY+d/2,p=e.topY+d+x+d/2,m=n%2==0?r.topY+d/2:r.topY+d+x+d/2,u=h(r.match);return(0,i.jsxs)("g",{stroke:"#f4b8c4",strokeWidth:1.4,fill:"none",className:u?"":"opacity-40",children:[i.jsx("path",{d:`M${a} ${c} H ${l}`}),i.jsx("path",{d:`M${a} ${p} H ${l}`}),i.jsx("path",{d:`M${l} ${c} V ${p}`}),i.jsx("path",{d:`M${l} ${(c+p)/2} H ${l+24} V ${m} H ${o}`})]},`conn-${t}-${n}`)})}),u&&(0,i.jsxs)(i.Fragment,{children:[i.jsx(w,{x:u.x+190,y:f,width:150,height:d,label:g,active:!1,revealed:a&&j,isChampion:!0,onClick:()=>{}}),(0,i.jsxs)("g",{stroke:"#f4b8c4",strokeWidth:1.4,fill:"none",strokeLinecap:"round",children:[i.jsx("path",{d:`M${u.x+150} ${u.topY+d/2} H ${u.x+150+16} V ${u.center}`}),i.jsx("path",{d:`M${u.x+150} ${u.bottomY+d/2} H ${u.x+150+16} V ${u.center}`}),i.jsx("path",{d:`M${u.x+150+16} ${u.center} H ${u.x+150+32} V ${f+d/2} H ${u.x+190}`})]})]})]})})}},6246:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>o});var i=s(5036);s(7272);let n=(0,s(6843).createProxy)(String.raw`/Users/qaneahmed/PregLife/preglife/baby-name-deathmatch/components/ConvexClientProvider.tsx`),{__esModule:r,$$typeof:a}=n,l=n.default,o={title:"Preglife \xb7 Baby Name Tournament",description:"Let friends and family cheer on your favourite baby names in a playful tournament-style reveal."};function c({children:e}){return i.jsx("html",{lang:"en",className:"h-full",children:i.jsx("body",{className:"min-h-full font-display bg-gradient-to-b from-preg-peach/60 via-white to-preg-peach/80",children:i.jsx(l,{children:e})})})}},7272:()=>{},9119:(e,t,s)=>{"use strict";s.d(t,{M:()=>g});var i=s(5344),n=s(3729),r=s(6828),a=s(207),l=s(5986),o=s(8651);class c extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let s=(0,n.useId)(),r=(0,n.useRef)(null),a=(0,n.useRef)({width:0,height:0,top:0,left:0}),{nonce:l}=(0,n.useContext)(o._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:i,top:n,left:o}=a.current;if(t||!r.current||!e||!i)return;r.current.dataset.motionPopId=s;let c=document.createElement("style");return l&&(c.nonce=l),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${i}px !important;
            top: ${n}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),(0,i.jsx)(c,{isPresent:t,childRef:r,sizeRef:a,children:n.cloneElement(e,{ref:r})})}let x=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:x})=>{let h=(0,a.h)(p),m=(0,n.useId)(),u=(0,n.useCallback)(e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;r&&r()},[h,r]),f=(0,n.useMemo)(()=>({id:m,initial:t,isPresent:s,custom:o,onExitComplete:u,register:e=>(h.set(e,!1),()=>h.delete(e))}),c?[Math.random(),u]:[s,u]);return(0,n.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[s]),n.useEffect(()=>{s||h.size||!r||r()},[s]),"popLayout"===x&&(e=(0,i.jsx)(d,{isPresent:s,children:e})),(0,i.jsx)(l.O.Provider,{value:f,children:e})};function p(){return new Map}var h=s(4146);let m=e=>e.key||"";function u(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}var f=s(9038);let g=({children:e,custom:t,initial:s=!0,onExitComplete:l,presenceAffectsLayout:o=!0,mode:c="sync",propagate:d=!1})=>{let[p,g]=(0,h.oO)(d),j=(0,n.useMemo)(()=>u(e),[e]),v=d&&!p?[]:j.map(m),b=(0,n.useRef)(!0),y=(0,n.useRef)(j),k=(0,a.h)(()=>new Map),[w,N]=(0,n.useState)(j),[$,C]=(0,n.useState)(j);(0,f.L)(()=>{b.current=!1,y.current=j;for(let e=0;e<$.length;e++){let t=m($[e]);v.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[$,v.length,v.join("-")]);let M=[];if(j!==w){let e=[...j];for(let t=0;t<$.length;t++){let s=$[t],i=m(s);v.includes(i)||(e.splice(t,0,s),M.push(s))}"wait"===c&&M.length&&(e=M),C(u(e)),N(j);return}let{forceRender:F}=(0,n.useContext)(r.p);return(0,i.jsx)(i.Fragment,{children:$.map(e=>{let n=m(e),r=(!d||!!p)&&(j===$||v.includes(n));return(0,i.jsx)(x,{isPresent:r,initial:(!b.current||!!s)&&void 0,custom:r?void 0:t,presenceAffectsLayout:o,mode:c,onExitComplete:r?void 0:()=>{if(!k.has(n))return;k.set(n,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==F||F(),C(y.current),d&&(null==g||g()),l&&l())},children:e},n)})})}}};